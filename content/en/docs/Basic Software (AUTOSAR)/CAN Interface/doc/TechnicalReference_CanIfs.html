---
title: TechnicalReference_CanIfs
linkTitle: TechnicalReference_CanIfs
weight: 6
---

<!DOCTYPE html><html>
<head>
<title></title>
<style type="text/css">
<!--
.xflip {
    -moz-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    -o-transform: scaleX(-1);
    transform: scaleX(-1);
    filter: fliph;
}
.yflip {
    -moz-transform: scaleY(-1);
    -webkit-transform: scaleY(-1);
    -o-transform: scaleY(-1);
    transform: scaleY(-1);
    filter: flipv;
}
.xyflip {
    -moz-transform: scaleX(-1) scaleY(-1);
    -webkit-transform: scaleX(-1) scaleY(-1);
    -o-transform: scaleX(-1) scaleY(-1);
    transform: scaleX(-1) scaleY(-1);
    filter: fliph + flipv;
}
-->
</style>
</head>
<body>
<a name=1></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-1_1.png"/><br/>
&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/><b>CAN&#160;Interface&#160;<br/></b>Technical Reference&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>Version&#160;6.09.00&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>&#160;<br/>
&#160;<br/>
<b>Authors&#160;</b><br/>
<b>Rüdiger&#160;Naas,&#160;Eugen&#160;Stripling&#160;</b><br/>
<b>Versions:&#160;</b><br/>
6.09.00&#160;<br/>
<b>Status:&#160;</b><br/>
<b>Released&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<hr/>
<a name=2></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-2_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>1&#160;&#160;Document&#160;Information&#160;</b><br/>
<b>1.1&#160;</b><br/>
<b>History&#160;</b><br/>
<b>Author&#160;</b><br/>
<b>Date&#160;</b><br/>
<b>Version&#160;&#160;Remarks&#160;</b><br/>
Eugen&#160;Stripling&#160;<br/>
2012-07-17&#160;<br/>
5.00&#160;<br/>
ASR&#160;R4.0&#160;Rev&#160;3&#160;<br/>
Rüdiger&#160;Naas&#160;<br/>Eugen&#160;Stripling&#160;<br/>
2013-04-03&#160;<br/>
5.01.00&#160;&#160;ESCAN00065368&#160;<br/>
ESCAN00066338&#160;<br/>ESCAN00066340&#160;<br/>Adapted&#160;according&#160;to&#160;<br/>ESCAN00066285&#160;<br/>Adapted&#160;according&#160;to&#160;<br/>ESCAN00065289&#160;<br/>ESCAN00066396&#160;<br/>Adapted&#160;according&#160;to&#160;<br/>ESCAN00064304&#160;<br/>
Rüdiger&#160;Naas&#160;<br/>
2013-07-24&#160;<br/>
5.01.01&#160;&#160;ESCAN00066794&#160;<br/>
Eugen&#160;Stripling&#160;<br/>
2013-09-27&#160;<br/>
6.00.00&#160;&#160;Adapted&#160;due&#160;to:&#160;<br/>
AR4-307:&#160;J1939&#160;support&#160;<br/>AR4-438:&#160;Dynamic&#160;address&#160;lookup&#160;<br/>table&#160;<br/>AR4-397:&#160;CAN&#160;FD&#160;support&#160;<br/>
Eugen&#160;Stripling&#160;<br/>
2014-05-19&#160;<br/>
6.01.00&#160;&#160;CAN&#160;FD&#160;support&#160;extended:&#160;Rx-FD&#160;<br/>
and&#160;Rx-&#160;and&#160;Tx-PDUs&#160;with&#160;up&#160;to&#160;<br/>64&#160;bytes&#160;payload&#160;<br/>
Rüdiger&#160;Naas&#160;<br/>
2014-07-10&#160;<br/>
6.02.00&#160;&#160;Multiple&#160;CAN&#160;driver&#160;support&#160;<br/>
Eugen&#160;Stripling&#160;<br/>
2014-08-25&#160;<br/>
6.02.00&#160;&#160;ESCAN00077304,&#160;Restriction&#160;<br/>
concerning&#160;the&#160;handling&#160;of&#160;<br/>FD/Not-FD&#160;FullCAN-Rx-PDUs&#160;<br/>added&#160;<br/>
Eugen&#160;Stripling&#160;<br/>
2014-09-22&#160;<br/>
6.02.00&#160;&#160;ESCAN00078524,&#160;CanTSyn&#160;added,&#160;<br/>
Post-build&#160;selectable&#160;<br/>
Eugen&#160;Stripling&#160;<br/>
2014-11-25&#160;<br/>
6.03.00&#160;&#160;Channel&#160;specific&#160;J1939&#160;dynamic&#160;<br/>
address&#160;&#160;<br/>
Eugen&#160;Stripling&#160;<br/>
2015-01-26&#160;<br/>
6.04.00&#160;&#160;Chapter<a href="TechnicalReference_CanIfs.html#24">&#160;3.8&#160;</a>adapted&#160;to&#160;changed&#160;<br/>
implementation&#160;<br/>
Eugen&#160;Stripling&#160;<br/>
2015-05-18&#160;<br/>
6.05.00&#160;&#160;Adapted&#160;due&#160;to&#160;FEAT-366&#160;<br/>
Eugen&#160;Stripling&#160;<br/>
2015-11-20&#160;<br/>
6.06.00&#160;&#160;Adapted&#160;due&#160;to&#160;FEAT-1429&#160;<br/>
Eugen&#160;Stripling&#160;<br/>
2016-01-09&#160;<br/>
6.06.00&#160;&#160;ESCAN00087340&#160;<br/>
Eugen&#160;Stripling&#160;<br/>
2016-02-22&#160;<br/>
6.07.00&#160;&#160;Feature&#160;Extended&#160;RAM-check&#160;<br/>
added,&#160;ESCAN00087587&#160;<br/>
Eugen&#160;Stripling&#160;<br/>
2016-06-24&#160;<br/>
6.08.00&#160;&#160;Feature:&#160;Data&#160;checksum&#160;added&#160;<br/>
Eugen&#160;Stripling&#160;<br/>
2016-09-14&#160;<br/>
6.09.00&#160;&#160;Adapted&#160;due&#160;to&#160;FEAT-2076:&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
2&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=3></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-3_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-3_2.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
Behavior&#160;of&#160;Tx-PDU&#160;filter&#160;extended&#160;<br/>
Eugen&#160;Stripling&#160;<br/>
2016-09-26&#160;<br/>
6.09.00&#160;&#160;Adapted&#160;due&#160;to&#160;FEAT-2024:&#160;Set&#160;<br/>
reception&#160;mode&#160;<br/>
Table&#160;1-1&#160;&#160;&#160;History&#160;of&#160;the&#160;Document&#160;<br/>
<b>1.2&#160;</b><br/>
<b>Reference&#160;Documents&#160;</b><br/>
<b>No.&#160;</b><br/>
<b>Title&#160;</b><br/>
<b>Version&#160;<br/></b>5.0.0&#160;<br/>
[1]&#160;&#160;&#160;AUTOSAR_SWS_CANInterface.pdf&#160;<br/>
6.0.0&#160;<br/>
[2]&#160;&#160;&#160;AUTOSAR_SWS_DevelopmentErrorTracer.pdf&#160;<br/>
3.2.0&#160;<br/>
[3]&#160;&#160;&#160;AUTOSAR_SRS_BSWGeneral.pdf&#160;<br/>
3.2.0&#160;<br/>
Table&#160;1-2&#160;&#160;&#160;References&#160;Documents&#160;<br/>
&#160;<br/>
<b>Please&#160;note&#160;<br/></b>We&#160;have&#160;configured&#160;the&#160;programs&#160;in&#160;accordance&#160;with&#160;your&#160;specifications&#160;in&#160;the&#160;<br/>
&#160;<br/>
questionnaire.&#160;Whereas&#160;the&#160;programs&#160;do&#160;support&#160;other&#160;configurations&#160;than&#160;the&#160;one&#160;<br/>specified&#160;in&#160;your&#160;questionnaire,&#160;Vector’s&#160;release&#160;of&#160;the&#160;programs&#160;delivered&#160;to&#160;your&#160;<br/>company&#160;is&#160;expressly&#160;restricted&#160;to&#160;the&#160;configuration&#160;you&#160;have&#160;specified&#160;in&#160;the&#160;<br/>questionnaire.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
3&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=4></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-4_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>Contents&#160;</b><br/>
<a href="TechnicalReference_CanIfs.html#2"><b>1</b>&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#2"><b>Document&#160;Information&#160;......................................................................................................2</b>&#160;<br/>1.1&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#2">History&#160;....................................................................................................................2&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#3">1.2&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#3">Reference&#160;Documents&#160;...........................................................................................3&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#10"><b>2</b>&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#10"><b>Introduction&#160;......................................................................................................................10</b>&#160;<br/>2.1&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#10">Architecture&#160;Overview&#160;..........................................................................................10&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#12"><b>3</b>&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#12"><b>Functional&#160;Description&#160;...................................................................................................12</b>&#160;<br/>3.1&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#12">Deviations&#160;regarding&#160;AUTOSAR&#160;standard&#160;..........................................................12&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#12">3.2&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#12">Feature&#160;List...........................................................................................................12&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#13">3.3&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#13">Initialization&#160;...........................................................................................................13&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#14">3.4&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#14">Transmission&#160;........................................................................................................14&#160;<br/></a><a href="TechnicalReference_CanIfs.html#15">3.4.1&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#15">Dynamic&#160;transmission&#160;.........................................................................15&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#15">3.4.2&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#15">Transmit-buffer&#160;.....................................................................................15&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#16">3.4.3&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#16">Multiple&#160;Transmit-buffers&#160;.....................................................................16&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#17">3.4.4&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#17">Tx&#160;confirmation&#160;polling&#160;support&#160;...........................................................17&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#18">3.4.5&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#18">Data&#160;checksum&#160;Tx&#160;...............................................................................18&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#18">3.5&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#18">Reception&#160;.............................................................................................................18&#160;<br/></a><a href="TechnicalReference_CanIfs.html#19">3.5.1&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#19">Ranges&#160;.................................................................................................19&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#20">3.5.2&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#20">DLC&#160;check&#160;...........................................................................................20&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#20">3.5.3&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#20">Data&#160;checksum&#160;Rx...............................................................................20&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#21">3.5.4&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#21">Control&#160;of&#160;reception&#160;mode&#160;of&#160;a&#160;Rx-PDU..............................................21&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#22">3.6&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#22">Communication&#160;Modes&#160;........................................................................................22&#160;<br/>3.6.1&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#22">Controller&#160;Mode&#160;...................................................................................22&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#22">3.6.2&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#22">PDU&#160;Mode&#160;...........................................................................................22&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#23">3.7&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#23">Polling&#160;...................................................................................................................23&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#24">3.8&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#24">CAN&#160;FD&#160;................................................................................................................24&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#24">3.9&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#24">Meta&#160;data&#160;Rx-&#160;/&#160;Tx-support&#160;..................................................................................24&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#24">3.10&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#24">J1939&#160;dynamic&#160;address&#160;support&#160;..........................................................................24&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#25">3.11&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#25">Error&#160;Notification...................................................................................................25&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#30">3.12&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#30">Transceiver&#160;handling&#160;............................................................................................30&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#31">3.13&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#31">Sleep&#160;/&#160;WakeUp....................................................................................................31&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#33">3.14&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#33">Bus&#160;Off&#160;..................................................................................................................33&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#34">3.15&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#34">Version&#160;Info...........................................................................................................34&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#34">3.16&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#34">Partial&#160;Networking&#160;................................................................................................34&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#36">3.17&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#36">Services&#160;used&#160;by&#160;the&#160;CAN&#160;Interface&#160;....................................................................36&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#36">3.18&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#36">Multiple&#160;CAN&#160;drivers&#160;............................................................................................36&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#37">3.19&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#37">Extended&#160;RAM-check&#160;..........................................................................................37&#160;</a><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
4&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=5></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-5_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<a href="TechnicalReference_CanIfs.html#38">3.20&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#38">Critical&#160;Sections&#160;....................................................................................................38&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#40"><b>4</b>&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#40"><b>Integration&#160;........................................................................................................................40</b>&#160;<br/>4.1&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#40">Files&#160;and&#160;include&#160;structure&#160;...................................................................................40&#160;<br/>4.1.1&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#40">Static&#160;Files&#160;...........................................................................................40&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#40">4.1.2&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#40">Dynamic&#160;Files&#160;......................................................................................40&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#41">4.2&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#41">Include&#160;Structure&#160;..................................................................................................41&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#42">4.3&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#42">Compiler&#160;Abstraction&#160;and&#160;Memory&#160;Mapping&#160;........................................................42&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#43"><b>5</b>&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#43"><b>Configuration&#160;...................................................................................................................43</b>&#160;<br/>5.1&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#43">Configuration&#160;of&#160;Post-Build&#160;..................................................................................43&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#44"><b>6</b>&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#44"><b>API&#160;Description&#160;................................................................................................................44</b>&#160;<br/>6.1&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#44">Services&#160;provided&#160;by&#160;the&#160;CAN&#160;Interface&#160;..............................................................44&#160;<br/>6.1.1&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#44">CanIf_GetVersionInfo&#160;..........................................................................44&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#44">6.1.2&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#44">CanIf_Init&#160;..............................................................................................44&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#45">6.1.3&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#45">CanIf_SetControllerMode&#160;....................................................................45&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#45">6.1.4&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#45">CanIf_GetControllerMode....................................................................45&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#46">6.1.5&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#46">CanIf_Transmit&#160;....................................................................................46&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#46">6.1.6&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#46">CanIf_TxConfirmation&#160;..........................................................................46&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#47">6.1.7&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#47">CanIf_RxIndication&#160;..............................................................................47&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#47">6.1.8&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#47">CanIf_ControllerBusOff&#160;.......................................................................47&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#48">6.1.9&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#48">CanIf_SetPduMode&#160;.............................................................................48&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#48">6.1.10&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#48">CanIf_GetPduMode&#160;.............................................................................48&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#49">6.1.11&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#49">CanIf_InitMemory&#160;................................................................................49&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#49">6.1.12&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#49">CanIf_CancelTxConfirmation&#160;..............................................................49&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#50">6.1.13&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#50">CanIf_SetTrcvMode&#160;.............................................................................50&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#50">6.1.14&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#50">CanIf_GetTrcvMode&#160;............................................................................50&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#51">6.1.15&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#51">CanIf_GetTrcvWakeupReason&#160;............................................................51&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#51">6.1.16&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#51">CanIf_SetTrcvWakeupMode................................................................51&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#52">6.1.17&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#52">CanIf_CheckWakeup&#160;...........................................................................52&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#52">6.1.18&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#52">CanIf_CheckValidation&#160;........................................................................52&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#53">6.1.19&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#53">CanIf_ResetBusOffStart&#160;......................................................................53&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#53">6.1.20&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#53">CanIf_ResetBusOffEnd&#160;.......................................................................53&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#54">6.1.21&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#54">CanIf_CancelTransmit&#160;.........................................................................54&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#54">6.1.22&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#54">CanIf_CancelTxNotification&#160;.................................................................54&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#55">6.1.23&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#55">CanIf_SetDynamicTxId&#160;........................................................................55&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#55">6.1.24&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#55">CanIf_ControllerModeIndication&#160;..........................................................55&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#56">6.1.25&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#56">CanIf_TrcvModeIndication&#160;...................................................................56&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#56">6.1.26&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#56">CanIf_ConfirmPnAvailability&#160;................................................................56&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#57">6.1.27&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#57">CanIf_ClearTrcvWufFlagIndication&#160;.....................................................57&#160;</a><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
5&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=6></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-6_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<a href="TechnicalReference_CanIfs.html#57">6.1.28&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#57">CanIf_CheckTrcvWakeFlagIndication&#160;.................................................57&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#58">6.1.29&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#58">CanIf_SetBaudrate&#160;..............................................................................58&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#58">6.1.30&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#58">CanIf_ChangeBaudrate&#160;.......................................................................58&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#59">6.1.31&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#59">CanIf_ChangeBaudrate&#160;.......................................................................59&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#59">6.1.32&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#59">CanIf_GetTxConfirmationState&#160;...........................................................59&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#60">6.1.33&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#60">CanIf_SetAddressTableEntry&#160;..............................................................60&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#60">6.1.34&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#60">CanIf_ResetAddressTableEntry&#160;..........................................................60&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#61">6.1.35&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#61">CanIf_RamCheckExecute&#160;...................................................................61&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#61">6.1.36&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#61">CanIf_RamCheckEnableMailbox&#160;........................................................61&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#62">6.1.37&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#62">CanIf_RamCheckEnableController&#160;.....................................................62&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#62">6.1.38&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#62">CanIf_RamCheckCorruptMailbox........................................................62&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#63">6.1.39&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#63">CanIf_RamCheckCorruptController&#160;....................................................63&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#63">6.1.40&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#63">CanIf_SetPduReceptionMode&#160;.............................................................63&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#64">6.2&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#64">Callout&#160;Functions..................................................................................................64&#160;<br/>6.2.1&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#64">EcuM_BswErrorHook&#160;..........................................................................64&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#64">6.2.2&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#64">CanIf_RxIndicationSubDataChecksumRxVerify&#160;.................................64&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#65">6.2.3&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#65">CanIf_TransmitSubDataChecksumTxAppend&#160;....................................65&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#66"><b>7</b>&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#66"><b>AUTOSAR&#160;Standard&#160;Compliance&#160;..................................................................................66</b>&#160;<br/>7.1&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#66">Not&#160;supported&#160;AUTOSAR&#160;features&#160;......................................................................66&#160;<br/>7.1.1&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#66">Tx&#160;notification&#160;status&#160;............................................................................66&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#66">7.1.2&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#66">Rx&#160;notification&#160;status............................................................................66&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#66">7.1.3&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#66">Rx&#160;buffer...............................................................................................66&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#66">7.2&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#66">Deviations&#160;.............................................................................................................66&#160;<br/>7.2.1&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#66">Tx&#160;buffer&#160;...............................................................................................66&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#66">7.2.2&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#66">Partial&#160;networking&#160;................................................................................66&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#66">7.2.3&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#66">AUTOSAR&#160;version&#160;check&#160;....................................................................66&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#66">7.3&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#66">Limitations&#160;............................................................................................................66&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#67"><b>8</b>&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#67"><b>Glossary&#160;and&#160;Abbreviations&#160;...........................................................................................67</b>&#160;<br/>8.1&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#67">Glossary&#160;...............................................................................................................67&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#67">8.2&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#67">Abbreviations&#160;........................................................................................................67&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#69"><b>9</b>&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#69"><b>Contact&#160;.............................................................................................................................69</b>&#160;</a><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
6&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=7></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-7_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>Illustrations&#160;<br/></b><a href="TechnicalReference_CanIfs.html#10">Figure&#160;2-1&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#10">AUTOSAR&#160;layer&#160;model&#160;.................................................................................10&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#11">Figure&#160;2-2&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#11">Interfaces&#160;to&#160;adjacent&#160;modules&#160;of&#160;the&#160;CAN&#160;Interface&#160;(*&#160;optional)&#160;...............&#160;11&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#17">Figure&#160;3&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#17">Configuration&#160;of&#160;multiple&#160;Transmit-buffers&#160;...................................................17&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#31">Figure&#160;3-4&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#31">Wake&#160;up&#160;sequence&#160;(No&#160;validation)&#160;..............................................................31&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#33">Figure&#160;3-5&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#33">Wake&#160;up&#160;sequence&#160;(Wakeup&#160;validation)&#160;......................................................33&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#41">Figure&#160;4-1&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#41">Include&#160;structure&#160;...........................................................................................41&#160;</a><br/>
&#160;<br/>
<b>Tables&#160;</b><br/>
<a href="TechnicalReference_CanIfs.html#3">Table&#160;1-1&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#3">History&#160;of&#160;the&#160;Document&#160;.................................................................................3&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#3">Table&#160;1-2&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#3">References&#160;Documents&#160;..................................................................................3&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#13">Table&#160;3-1&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#13">List&#160;of&#160;supported&#160;features&#160;.............................................................................13&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#26">Table&#160;3-2&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#26">Mapping&#160;of&#160;service&#160;IDs&#160;to&#160;services&#160;..............................................................26&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#29">Table&#160;3-3&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#29">Errors&#160;reported&#160;to&#160;DET&#160;.................................................................................29&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#35">Table&#160;3-4&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#35">Sub-features&#160;of&#160;feature&#160;Partial&#160;Networking&#160;..................................................35&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#36">Table&#160;3-5&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#36">API&#160;functions&#160;used&#160;by&#160;the&#160;CAN&#160;Interface&#160;.....................................................36&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#37">Table&#160;3-6&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#37">Adapted&#160;CAN&#160;driver&#160;APIs&#160;(*&#160;optional)&#160;..........................................................37&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#37">Table&#160;3-7&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#37">APIs&#160;of&#160;CAN&#160;Interface&#160;which&#160;have&#160;to&#160;be&#160;used&#160;in&#160;multiple&#160;CAN&#160;driver&#160;<br/>configurations................................................................................................37&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#39">Table&#160;3-8&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#39">Critical&#160;Section&#160;Codes&#160;..................................................................................39&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#39">Table&#160;3-9&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#39">Restrictions&#160;for&#160;the&#160;different&#160;lock&#160;areas&#160;........................................................39&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#40">Table&#160;4-1&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#40">Static&#160;files&#160;......................................................................................................40&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#40">Table&#160;4-2&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#40">Generated&#160;files&#160;.............................................................................................40&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#42">Table&#160;4-3&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#42">Compiler&#160;abstraction&#160;and&#160;memory&#160;mapping&#160;................................................42&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#44">Table&#160;6-1&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#44">API&#160;CanIf_GetVersionInfo&#160;............................................................................44&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#44">Table&#160;6-2&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#44">API&#160;CanIf_Init&#160;................................................................................................44&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#45">Table&#160;6-3&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#45">API&#160;CanIf_SetControllerMode&#160;......................................................................45&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#45">Table&#160;6-4&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#45">API&#160;CanIf_GetControllerMode&#160;......................................................................45&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#46">Table&#160;6-5&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#46">API&#160;CanIf_Transmit&#160;......................................................................................46&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#46">Table&#160;6-6&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#46">API&#160;CanIf_TxConfirmation&#160;............................................................................46&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#47">Table&#160;6-7&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#47">API&#160;CanIf_RxIndication&#160;................................................................................47&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#47">Table&#160;6-8&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#47">API&#160;CanIf_ControllerBusOff..........................................................................47&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#48">Table&#160;6-9&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#48">API&#160;CanIf_SetPduMode&#160;...............................................................................48&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#48">Table&#160;6-10&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#48">API&#160;CanIf_GetPduMode&#160;...............................................................................48&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#49">Table&#160;6-11&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#49">API&#160;CanIf_InitMemory&#160;..................................................................................49&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#49">Table&#160;6-12&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#49">API&#160;CanIf_CancelTxConfirmation&#160;................................................................49&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#50">Table&#160;6-13&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#50">API&#160;CanIf_SetTrcvMode&#160;...............................................................................50&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#50">Table&#160;6-14&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#50">API&#160;CanIf_GetTrcvMode...............................................................................50&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#51">Table&#160;6-15&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#51">API&#160;CanIf_GetTrcvWakeupReason&#160;..............................................................51&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#51">Table&#160;6-16&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#51">API&#160;CanIf_SetTrcvWakeupMode&#160;..................................................................51&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#52">Table&#160;6-17&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#52">API&#160;CanIf_CheckWakeup&#160;.............................................................................52&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#52">Table&#160;6-18&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#52">API&#160;CanIf_CheckValidation&#160;..........................................................................52&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#53">Table&#160;6-19&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#53">API&#160;CanIf_ResetBusOffStart&#160;........................................................................53&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#53">Table&#160;6-20&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#53">API&#160;CanIf_ResetBusOffEnd&#160;.........................................................................53&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#54">Table&#160;6-21&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#54">API&#160;CanIf_CancelTransmit&#160;...........................................................................54&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#54">Table&#160;6-22&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#54">API&#160;CanIf_CancelTxNotification&#160;...................................................................54&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#55">Table&#160;6-23&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#55">API&#160;CanIf_SetDynamicTxId&#160;..........................................................................55&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#55">Table&#160;6-24&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#55">API&#160;CanIf_ControllerModeIndication&#160;............................................................55&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#56">Table&#160;6-25&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#56">API&#160;CanIf_TrcvModeIndication&#160;.....................................................................56&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#56">Table&#160;6-26&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#56">API&#160;CanIf_ConfirmPnAvailability&#160;..................................................................56&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#57">Table&#160;6-27&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#57">API&#160;CanIf_ClearTrcvWufFlagIndication&#160;........................................................57&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#57">Table&#160;6-28&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#57">API&#160;CanIf_CheckTrcvWakeFlagIndication&#160;...................................................57&#160;</a><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
7&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=8></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-8_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<a href="TechnicalReference_CanIfs.html#58">Table&#160;6-29&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#58">API&#160;CanIf_SetBaudrate&#160;................................................................................58&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#58">Table&#160;6-30&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#58">API&#160;CanIf_ChangeBaudrate&#160;.........................................................................58&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#59">Table&#160;6-31&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#59">API&#160;CanIf_ChangeBaudrate&#160;.........................................................................59&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#59">Table&#160;6-32&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#59">API&#160;CanIf_GetTxConfirmationState&#160;.............................................................59&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#60">Table&#160;6-33&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#60">API&#160;CanIf_SetAddressTableEntry&#160;................................................................60&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#60">Table&#160;6-34&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#60">API&#160;CanIf_ResetAddressTableEntry&#160;............................................................60&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#61">Table&#160;6-35&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#61">API&#160;CanIf_RamCheckExecute&#160;.....................................................................61&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#61">Table&#160;6-36&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#61">API&#160;CanIf_RamCheckEnableMailbox&#160;..........................................................61&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#62">Table&#160;6-37&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#62">API&#160;CanIf_RamCheckEnableController&#160;.......................................................62&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#62">Table&#160;6-38&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#62">API&#160;CanIf_RamCheckCorruptMailbox&#160;..........................................................62&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#63">Table&#160;6-39&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#63">API&#160;CanIf_RamCheckCorruptController&#160;......................................................63&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#63">Table&#160;6-40&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#63">API&#160;CanIf_SetPduReceptionMode&#160;...............................................................63&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#64">Table&#160;6-41&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#64">EcuM_BswErrorHook&#160;...................................................................................64&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#67">Table&#160;8-1&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#67">Glossary&#160;........................................................................................................67&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#68">Table&#160;8-2&#160;&#160;</a><br/>
<a href="TechnicalReference_CanIfs.html#68">Abbreviations&#160;................................................................................................68&#160;</a><br/>
&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
8&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=9></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-9_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
9&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=10></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-10_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-10_2.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>2&#160;&#160;Introduction&#160;</b><br/>
This&#160;document&#160;describes&#160;the&#160;functionality,&#160;API&#160;and&#160;configuration&#160;of&#160;the&#160;AUTOSAR&#160;CAN&#160;<br/>Interface&#160;as&#160;specified&#160;in&#160;[1].&#160;It&#160;is&#160;based&#160;on&#160;the&#160;AUTOSAR&#160;specification&#160;release&#160;4.0.3.&#160;The&#160;<br/>CAN&#160;Interface&#160;is&#160;a&#160;hardware&#160;independent&#160;layer&#160;with&#160;a&#160;standardized&#160;interface&#160;to&#160;the&#160;CAN&#160;<br/>Driver&#160;and&#160;CAN&#160;Transceiver&#160;Driver&#160;layer&#160;and&#160;upper&#160;layers&#160;like&#160;PDU&#160;Router,&#160;<br/>Communication&#160;Manager&#160;and&#160;the&#160;Network&#160;Management.&#160;<br/>&#160;<br/>
<b>Supported&#160;AUTOSAR&#160;Release:&#160;</b><br/>
4.0.3&#160;<br/>
<b>Supported&#160;Configuration&#160;Variants:&#160;</b><br/>
Pre-compile,&#160;Link-time,&#160;Post-build-loadable&#160;<br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>Vendor&#160;ID:&#160;</b><br/>
CANIF_VENDOR_ID&#160;<br/>
30&#160;decimal&#160;<br/>(=&#160;Vector-Informatik,&#160;<br/>according&#160;to&#160;HIS)&#160;<br/>
<b>Module&#160;ID:&#160;</b><br/>
CANIF_MODULE_ID &#160;&#160;<br/>
60&#160;<br/>(according&#160;to&#160;re<a href="TechnicalReference_CanIfs.html#3">f.[3])</a>&#160;<br/>
&#160;<br/>
<b>2.1&#160;</b><br/>
<b>Architecture&#160;Overview&#160;</b><br/>
The&#160;following&#160;figure&#160;shows&#160;where&#160;the&#160;CAN&#160;Interface&#160;is&#160;located&#160;in&#160;the&#160;AUTOSAR&#160;<br/>architecture.&#160;<br/>&#160;<br/>
&#160;<br/>
Figure&#160;2-1&#160;&#160;AUTOSAR&#160;layer&#160;model&#160;<br/>
&#160;<br/>The&#160;CAN&#160;Interface&#160;provides&#160;a&#160;standardized&#160;interface&#160;for&#160;all&#160;upper&#160;layers&#160;which&#160;require&#160;<br/>CAN&#160;communication.&#160;Therefore&#160;these&#160;upper&#160;layers&#160;have&#160;to&#160;communicate&#160;with&#160;the&#160;CAN&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
10&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=11></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-11_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-11_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-11_3.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
Interface&#160;which&#160;is&#160;responsible&#160;for&#160;the&#160;CAN&#160;communication.&#160;This&#160;includes&#160;the&#160;transmission&#160;<br/>and&#160;the&#160;reception&#160;of&#160;messages&#160;and&#160;the&#160;state&#160;handling&#160;of&#160;the&#160;CAN&#160;controllers&#160;as&#160;well.&#160;<br/>&#160;<br/>&#160;<br/>The&#160;&#160;next&#160;&#160;figure&#160;&#160;shows&#160;&#160;the&#160;&#160;interfaces&#160;&#160;to&#160;&#160;adjacent&#160;&#160;modules&#160;&#160;of&#160;&#160;the&#160;&#160;CAN&#160;&#160;Interface.&#160;&#160;These&#160;<br/>interfaces&#160;are&#160;described&#160;in&#160;chapte<a href="TechnicalReference_CanIfs.html#44">r&#160;6.</a>&#160;<br/>
&#160;<br/>
P&#160;CO<br/>
duR&#160;M<br/>
DCM<br/>
CanNM<br/>
DCM<br/>
CanSM<br/>
DCM<br/>
CanTP<br/>
DCM<br/>
EcuM<br/>
CAN&#160;Interface<br/>
CAN&#160;DRV&#160;0<br/>
CAN&#160;DRV&#160;1*<br/>
TR&#160;F<br/>
C&#160;R&#160;<br/>
V&#160;DRV&#160;0<br/>
TRC&#160;F<br/>
VR&#160;<br/>
&#160;DRV&#160;1*<br/>
&#160;<br/>
Figure&#160;2-2&#160;&#160;Interfaces&#160;to&#160;adjacent&#160;modules&#160;of&#160;the&#160;CAN&#160;Interface&#160;(*&#160;optional1)&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160;&#160;<br/>
1&#160;NOTE:&#160;Multiple&#160;CAN driver&#160;and&#160;TRCV&#160;driver&#160;are&#160;supported&#160;optional&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
11&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=12></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-12_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>3&#160;&#160;Functional&#160;Description&#160;</b><br/>
<b>3.1&#160;</b><br/>
<b>Deviations&#160;regarding&#160;AUTOSAR&#160;standard&#160;</b><br/>
Please&#160;note&#160;that&#160;the&#160;CAN&#160;Interface&#160;is&#160;tailored&#160;by&#160;Vector&#160;Informatik&#160;according&#160;to&#160;customer&#160;<br/>requirements&#160;before&#160;delivery.&#160;As&#160;a&#160;result&#160;not&#160;all&#160;features&#160;listed&#160;below&#160;might&#160;be&#160;supported&#160;<br/>by&#160;a&#160;delivered&#160;module.&#160;&#160;<br/>For&#160;deviations&#160;and&#160;extensions&#160;regarding&#160;the&#160;AUTOSAR&#160;standard&#160;[1],&#160;please&#160;see&#160;chapter&#160;<br/>7.&#160;<br/>
<b>3.2&#160;</b><br/>
<b>Feature&#160;List&#160;</b><br/>
<b>Available&#160;Features&#160;For&#160;This&#160;BSW&#160;Module:&#160;</b><br/>
<b>Feature&#160;Naming&#160;</b><br/>
<b>Supported&#160;</b><br/>
<b>Short&#160;Description&#160;</b><br/>
<b>Initialization&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
Generic Initialization&#160;<br/>
&#160;<br/>
General&#160;initialization&#160;of&#160;the&#160;CAN Interface&#160;(CanIf_Init())&#160;<br/>
<b>Communication&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
Transmission&#160;<br/>
&#160;<br/>
Transmission&#160;of&#160;PDUs&#160;<br/>
Dynamic transmission&#160;<br/>
&#160;<br/>
Transmission&#160;of&#160;PDUs with&#160;changeable&#160;CAN IDs&#160;<br/>Buffering&#160;(send&#160;request&#160;and&#160;data)&#160;of&#160;Tx-PDUs&#160;mapped&#160;to&#160;<br/>a&#160;Tx<br/>
Transmit<br/>
-buffer&#160;in&#160;the&#160;CAN Interface.&#160;Two&#160;handling&#160;types of&#160;<br/>
-buffer&#160;<br/>
&#160;<br/>
Tx-buffer&#160;are&#160;supported:&#160;FIFO&#160;and&#160;prioritized&#160;by CAN&#160;<br/>identifier.&#160;<br/>Per&#160;CAN channel&#160;multiple&#160;Tx<br/>
Multiple&#160;Tx<br/>
-BasicCAN hardware&#160;<br/>
-BasicCAN hardware&#160;<br/>
<br/>
objects&#160;may be&#160;configured.&#160;This feature&#160;can&#160;only be&#160;used&#160;<br/>
objects<br/>
&#160;<br/>
&#160;<br/>
if&#160;the&#160;underlying&#160;CAN driver&#160;supports&#160;this feature&#160;as well.&#160;<br/>Per&#160;CAN channel&#160;multiple&#160;independent&#160;transmit-buffers&#160;<br/>may be&#160;configured&#160;with&#160;different&#160;handling&#160;types:&#160;FIFO&#160;or&#160;<br/>
Multiple&#160;transmit-buffers&#160;per&#160;CAN&#160;<br/>
<br/>
prioritization&#160;by CAN identifier.&#160;This feature&#160;can&#160;only be&#160;<br/>
channel<br/>
&#160;<br/>
&#160;<br/>
used&#160;in&#160;combination&#160;with&#160;above&#160;mentioned&#160;feature&#160;<br/>“Multiple&#160;Tx-BasicCAN hardware&#160;objects”.&#160;<br/>Cancellation&#160;of&#160;PDUs and&#160;requeueing.&#160;(Feature&#160;to&#160;avoid&#160;<br/>
Cancellation&#160;of&#160;Tx-PDUs&#160;<br/>
&#160;<br/>
inner&#160;priority&#160;inversion)&#160;<br/>
Transmit&#160;confirmation&#160;<br/>
&#160;<br/>
Call&#160;back&#160;for&#160;successful&#160;transmission&#160;<br/>
Reception&#160;<br/>
&#160;<br/>
Reception&#160;of&#160;&#160;PDUs&#160;<br/>
Receive&#160;indication&#160;<br/>
&#160;<br/>
Call&#160;back&#160;for&#160;reception&#160;of&#160;PDUs&#160;&#160;<br/>
Control&#160;of&#160;reception&#160;mode&#160;of&#160;a&#160;<br/>
This&#160;feature&#160;provides the&#160;ability&#160;to&#160;control the&#160;reception&#160;<br/>
<br/>
Rx<br/>
&#160;<br/>
-PDU&#160;<br/>
mode&#160;of&#160;a&#160;Rx-PDU&#160;individually at&#160;runtime.&#160;<br/>
DLC check&#160;<br/>
&#160;<br/>
Check DLC of&#160;received&#160;PDUs against&#160;predefined&#160;values&#160;<br/>
CAN FD&#160;support&#160;<br/>
&#160;<br/>
CAN&#160;with&#160;flexible&#160;data-rate&#160;<br/>Support&#160;for&#160;dynamic CAN identifier&#160;handling&#160;by using&#160;of&#160;<br/>
Meta&#160;data&#160;Rx-&#160;/&#160;Tx-support&#160;<br/>
&#160;<br/>
SDU&#160;meta&#160;data&#160;<br/>Translating&#160;of&#160;addresses&#160;according&#160;to&#160;J1939&#160;by&#160;using&#160;of&#160;<br/>
J1939&#160;Dynamic&#160;Address Support&#160;<br/>
&#160;<br/>
dynamic address&#160;lookup&#160;tables&#160;which&#160;are&#160;maintained&#160;by&#160;<br/>J1939Nm.&#160;<br/>
Data&#160;checksum&#160;Rx&#160;&#160;<br/>
&#160;<br/>
Verification&#160;of&#160;checksum&#160;of&#160;Rx-PDUs&#160;<br/>
Data&#160;checksum&#160;Tx&#160;&#160;<br/>
&#160;<br/>
Appending&#160;of&#160;checksum&#160;to&#160;Tx-PDUs&#160;<br/>
<b>Controller&#160;Modes&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
Sleep&#160;mode&#160;<br/>
&#160;<br/>
Support&#160;sleep&#160;mode&#160;<br/>
External&#160;wake&#160;up&#160;(CAN)&#160;<br/>
&#160;<br/>
Support&#160;external&#160;wake&#160;up&#160;by CAN Driver&#160;<br/>
External&#160;wake&#160;up&#160;(Transceiver)&#160;<br/>
&#160;<br/>
Support&#160;external&#160;wake&#160;up&#160;by&#160;Transceiver&#160;Driver&#160;<br/>
Wake&#160;up&#160;validation&#160;<br/>
&#160;<br/>
Support&#160;wake&#160;up&#160;validation&#160;for&#160;external&#160;wake&#160;up&#160;events&#160;<br/>
Internal&#160;wake&#160;up&#160;<br/>
&#160;<br/>
Internal&#160;wake&#160;up&#160;by&#160;calling&#160;CanIf_SetControllerMode()&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
12&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=13></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-13_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
Stop&#160;mode&#160;<br/>
&#160;<br/>
Support&#160;stop&#160;mode&#160;<br/>
BusOff&#160;detection&#160;<br/>
&#160;<br/>
Handling&#160;of&#160;bus off&#160;notifications&#160;<br/>
<b>Error&#160;Reporting</b>&#160;<br/>
&#160;<br/>
&#160;<br/>
DET&#160;<br/>
&#160;<br/>
Support&#160;Development&#160;Error&#160;Detection&#160;(error&#160;notification)&#160;<br/>
<b>Mailbox&#160;objects&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>Standard&#160;mailbox&#160;to&#160;send&#160;CAN frames (Used&#160;by CAN&#160;<br/>
Tx&#160;BasicCAN&#160;<br/>
&#160;<br/>
Interface&#160;data&#160;queue)&#160;<br/>
Tx&#160;FullCAN&#160;<br/>
&#160;<br/>
Separate&#160;mailbox&#160;for&#160;special&#160;Tx&#160;message&#160;used&#160;<br/>Standard&#160;mailbox&#160;to&#160;receive&#160;CAN frames (depending&#160;on&#160;<br/>
Rx&#160;BasicCAN&#160;<br/>
&#160;<br/>
hardware,&#160;FIFO&#160;or&#160;shadow&#160;buffer&#160;supported)&#160;<br/>
Rx&#160;FullCAN&#160;<br/>
&#160;<br/>
Separate&#160;mailbox&#160;for&#160;special&#160;Rx&#160;message&#160;used&#160;<br/>
<b>Miscellaneous</b>&#160;<br/>
&#160;<br/>
&#160;<br/>API&#160;for&#160;upper&#160;layers to&#160;set&#160;and&#160;read&#160;transceiver&#160;states;&#160;<br/>
Transceiver&#160;handling<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Interface&#160;to&#160;the&#160;Transceiver&#160;Driver&#160;<br/>
Version&#160;API&#160;<br/>
&#160;<br/>
API&#160;to&#160;read&#160;out&#160;component&#160;version&#160;<br/>
Supported&#160;ID&#160;types&#160;<br/>
&#160;<br/>
&#160;<br/>
-&#160;<br/>
Standard&#160;Identifiers&#160;<br/>
&#160;<br/>
Support&#160;of&#160;CAN Standard&#160;(11&#160;bits)&#160;identifiers&#160;<br/>
-&#160;<br/>
Extended&#160;Identifiers&#160;<br/>
&#160;<br/>
Support&#160;of&#160;CAN Extended&#160;(29&#160;bits)&#160;identifiers&#160;<br/>
-&#160;<br/>
Mixed&#160;Identifiers&#160;<br/>
&#160;<br/>
Support&#160;standard&#160;as well&#160;as extended&#160;identifiers&#160;<br/>Each&#160;CAN network has to&#160;be&#160;connected&#160;to&#160;exactly one&#160;<br/>
Multiple&#160;CAN networks&#160;<br/>
&#160;<br/>
controller&#160;<br/>
Multiple&#160;CAN driver&#160;<br/>
&#160;<br/>
Supports&#160;multiple&#160;CAN driver&#160;<br/>Handling&#160;of&#160;partial&#160;networking&#160;transceiver<br/>
Partial&#160;Networking<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Tx-PDU&#160;filter&#160;during&#160;wake-up&#160;<br/>This service&#160;provides&#160;the&#160;information&#160;on&#160;whether&#160;any&#160;Tx&#160;<br/>
Tx&#160;Confirmation&#160;Polling&#160;Support&#160;<br/>
&#160;<br/>
confirmation&#160;has occurred&#160;for&#160;a&#160;CAN channel&#160;since&#160;the&#160;<br/>last&#160;start&#160;of&#160;that&#160;CAN channel&#160;at&#160;all.&#160;<br/>
Post-build&#160;loadable&#160;allows the&#160;re-configuration&#160;of&#160;an&#160;ECU&#160;<br/>
Post-build&#160;loadable&#160;<br/>
&#160;<br/>
at&#160;Post-build&#160;time&#160;<br/>
Post-build&#160;selectable&#160;<br/>
&#160;<br/>
MICROSAR identity&#160;manager&#160;using&#160;Post-build&#160;selectable&#160;<br/>
This service&#160;provides&#160;the&#160;ability&#160;in&#160;order&#160;to&#160;request&#160;an&#160;<br/>underlying&#160;CAN-channel&#160;to&#160;execute&#160;a&#160;check&#160;of&#160;<br/>
Extended&#160;RAM-check&#160;<br/>
&#160;<br/>
CAN-controller-HW-registers.&#160;The&#160;usage&#160;of&#160;this feature&#160;<br/>requires&#160;a&#160;corresponding&#160;license.&#160;<br/>
Table&#160;3-1&#160;&#160;&#160;List&#160;of&#160;supported&#160;features&#160;<br/>
&#160;<br/>
<b>3.3&#160;</b><br/>
<b>Initialization&#160;</b><br/>
Several&#160;functions&#160;are&#160;available&#160;to&#160;initialize&#160;the&#160;CAN&#160;Interface.&#160;The&#160;following&#160;code&#160;example&#160;<br/>shows&#160;&#160;which&#160;&#160;functions&#160;&#160;have&#160;&#160;to&#160;&#160;be&#160;&#160;called&#160;&#160;to&#160;&#160;initialize&#160;&#160;the&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;and&#160;&#160;to&#160;&#160;allow&#160;<br/>transmission&#160;and&#160;reception.&#160;<br/>
&#160;<br/>
CanIf_InitMemory();&#160;<br/>
&#160;&#160;&#160;<br/>
/*&#160;Mandatory&#160;call which reinitializes global variables to&#160;<br/>
set the CAN Interface back to uninitialized&#160;<br/>state. */&#160;<br/>
CanTrcv_xxx_InitMemory() and CanTrcv_xxx_Init()&#160;<br/>
&#160;&#160;/* have to be called&#160;to initialize the CAN Transceiver Driver&#160;<br/>
and set the CAN Transceiver to the preconfigured&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
13&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=14></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-14_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
state. For some CAN Controllers it is necessary&#160;<br/>to have a recessive signal on the Rx Pin to be&#160;<br/>able to initialize the CAN Controller. This&#160;<br/>means the transceiver has to be set to “normal&#160;<br/>mode” before CanIf_Init() is called. */&#160;<br/>
Can_InitMemory() and&#160;Can_Init();&#160;&#160;<br/>
&#160;&#160;/* have to be called before CanIf_Init is called. */&#160;<br/>
CanIf_Init(&lt;PtrToCanIfConfiguration&gt;);&#160;&#160;<br/>
&#160;&#160;/* Global initialization of the CAN Interface:&#160;all available&#160;CAN&#160;<br/>
Interface channels are&#160;initialized within this&#160;<br/>call. If&#160;postbuild-selectable&#160;configuration is&#160;<br/>active a valid configuration&#160;has to be passed to&#160;<br/>CanIf_Init. In other cases the parameter is&#160;<br/>ignored and a NULL pointer can be used */&#160;<br/>
CanIf_SetControllerMode(0, CANIF_CS_STARTED);&#160;<br/>
&#160;&#160;/* The controller mode of CAN-channel&#160;0 is set to started mode.&#160;<br/>
This means the CAN controller is initialized and&#160;<br/>ready to communicate (acknowledge of the CAN&#160;<br/>controller is activated). Communication is not&#160;<br/>yet possible because the CAN Interface will&#160;<br/>neither pass Tx PDUs from higher layers to the&#160;<br/>CAN Driver nor accept Rx PDUs from the CAN&#160;<br/>Driver. */&#160;<br/>
CanIf_SetPduMode(0, CANIF_SET_ONLINE);&#160;<br/>
&#160;&#160;/* The PDU mode in the CAN Interface&#160;of the CAN-channel 0&#160;is&#160;<br/>
switched to online mode. After initialization&#160;<br/>this mode remains in the state CANIF_GET_OFFLINE&#160;<br/>until the CanIf_SetPduMode function is called.&#160;<br/>Now transmission requests will be passed from&#160;<br/>the upper layer to the CAN Driver and Rx PDUs&#160;<br/>are forwarded from the CAN Driver to the&#160;<br/>corresponding higher layer. */&#160;<br/>
&#160;<br/>
<b>3.4&#160;</b><br/>
<b>Transmission&#160;</b><br/>
The&#160;&#160;transmission&#160;&#160;of&#160;&#160;PDUs&#160;&#160;is&#160;&#160;only&#160;&#160;possible&#160;&#160;after&#160;&#160;the&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;and&#160;&#160;CAN&#160;&#160;Driver&#160;&#160;are&#160;<br/>initialized&#160;&#160;and&#160;&#160;the&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;resides&#160;&#160;in&#160;&#160;the&#160;&#160;CANIF_CS_STARTED&#160;&#160;/&#160;<br/>CANIF_GET_ONLINE&#160;or&#160;CANIF_CS_STARTED&#160;/&#160;CANIF_GET_TX_ONLINE&#160;mode.&#160;&#160;In&#160;all&#160;<br/>other&#160;states&#160;the&#160;Tx&#160;requests&#160;are&#160;rejected&#160;by&#160;the&#160;CAN&#160;Interface.&#160;<br/>The&#160;Tx&#160;request&#160;has&#160;to&#160;be&#160;initiated&#160;by&#160;a&#160;call&#160;to&#160;the&#160;function:&#160;<br/>CanIf_Transmit(&lt;TxPduId&gt;, &lt;PduInfoPtr&gt;);&#160;<br/>
The&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;uses&#160;&#160;the&#160;&#160;PDU&#160;&#160;ID&#160;&#160;(&lt;TxPduId&gt;)&#160;&#160;to&#160;&#160;acquire&#160;&#160;more&#160;&#160;information&#160;&#160;from&#160;&#160;the&#160;<br/>generated&#160;data&#160;to&#160;be&#160;able&#160;to&#160;transmit&#160;the&#160;message.&#160;This&#160;data&#160;is&#160;used&#160;to&#160;call&#160;the&#160;function&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
14&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=15></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-15_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
Can_Write&#160;&#160;of&#160;&#160;the&#160;&#160;CAN&#160;&#160;Driver&#160;&#160;which&#160;&#160;needs&#160;&#160;information&#160;&#160;about&#160;&#160;the&#160;&#160;PDU&#160;&#160;like&#160;&#160;the&#160;<br/>CAN&#160;identifier,&#160;&#160;length&#160;&#160;of&#160;&#160;data,&#160;&#160;data&#160;&#160;by&#160;&#160;itself&#160;&#160;and&#160;&#160;the&#160;&#160;hardware&#160;&#160;transmit&#160;&#160;handle&#160;&#160;which&#160;<br/>represents&#160;the&#160;mailbox&#160;used&#160;for&#160;transmission&#160;of&#160;the&#160;PDU.&#160;<br/>
&#160;<br/>
After&#160;a&#160;successful&#160;transmission&#160;of&#160;the&#160;message&#160;on&#160;the&#160;bus&#160;a&#160;confirmation&#160;function&#160;is&#160;called&#160;<br/>by&#160;the&#160;CAN&#160;Driver&#160;either&#160;from&#160;interrupt&#160;context&#160;or&#160;in&#160;case&#160;of&#160;Tx&#160;polling&#160;from&#160;task&#160;context.&#160;<br/>This&#160;&#160;confirmation&#160;&#160;is&#160;&#160;dispatched&#160;&#160;in&#160;&#160;the&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;to&#160;&#160;notify&#160;&#160;the&#160;&#160;corresponding&#160;&#160;higher&#160;<br/>layer&#160;&#160;about&#160;&#160;the&#160;&#160;transmission&#160;&#160;of&#160;&#160;the&#160;&#160;PDU.&#160;&#160;For&#160;&#160;this&#160;&#160;purpose&#160;&#160;for&#160;&#160;each&#160;&#160;PDU&#160;&#160;a&#160;&#160;call&#160;&#160;back&#160;<br/>function&#160;has&#160;to&#160;be&#160;specified&#160;at&#160;configuration&#160;time.&#160;<br/>The&#160;transmission&#160;request&#160;is&#160;rejected&#160;by&#160;returning&#160;E_NOT_OK&#160;in&#160;the&#160;following&#160;cases:&#160;<br/>
-&#160;&#160;The&#160;CAN&#160;Interface&#160;is&#160;not&#160;in&#160;the&#160;controller&#160;state&#160;CANIF_CS_STARTED&#160;<br/>
-&#160;&#160;The&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;is&#160;&#160;not&#160;&#160;in&#160;&#160;the&#160;&#160;PDU&#160;&#160;mode&#160;&#160;CANIF_GET_ONLINE&#160;&#160;or&#160;<br/>
CANIF_GET_TX_ONLINE&#160;<br/>
-&#160;&#160;The&#160;&#160;transmit&#160;&#160;buffer&#160;&#160;is&#160;&#160;not&#160;&#160;active&#160;&#160;and&#160;&#160;the&#160;&#160;corresponding&#160;&#160;mailbox&#160;&#160;used&#160;&#160;for&#160;<br/>
transmission&#160;is&#160;occupied&#160;(BasicCAN&#160;Tx&#160;messages&#160;only).&#160;<br/>
-&#160;&#160;An&#160;error&#160;occurred&#160;during&#160;transmission&#160;(DET&#160;will&#160;be&#160;informed)&#160;<br/>
<b>3.4.1&#160;</b><br/>
<b>Dynamic&#160;transmission&#160;</b><br/>
The&#160;feature&#160;is&#160;activated&#160;by&#160;the&#160;parameter&#160;“Dynamic&#160;Tx&#160;Objects”.&#160;<br/>The&#160;adjustments&#160;for&#160;the&#160;dynamic&#160;objects&#160;are&#160;the&#160;same&#160;as&#160;for&#160;the&#160;static&#160;with&#160;the&#160;exception&#160;<br/>that&#160;the&#160;CAN&#160;ID&#160;and&#160;the&#160;attribute&#160;whether&#160;extended&#160;or&#160;standard&#160;CAN&#160;ID&#160;can&#160;be&#160;selected&#160;<br/>manually.&#160;&#160;<br/>By&#160;&#160;default&#160;&#160;the&#160;&#160;dynamic&#160;&#160;object&#160;&#160;has&#160;&#160;the&#160;&#160;CAN&#160;&#160;ID&#160;&#160;parameterized&#160;&#160;during&#160;&#160;configuration&#160;&#160;time&#160;<br/>until&#160;it&#160;is&#160;changed&#160;by&#160;the&#160;call&#160;of&#160;the&#160;API&#160;CanIf_SetDynamicTxId().&#160;In&#160;order&#160;to&#160;set&#160;&#160;an&#160;<br/>extended&#160;CAN&#160;ID&#160;the&#160;most&#160;significant&#160;bit&#160;of&#160;its&#160;value&#160;passed&#160;to&#160;the&#160;API&#160;shall&#160;be&#160;set.&#160;&#160;<br/>
The&#160;&#160;PDU&#160;&#160;IDs&#160;&#160;of&#160;&#160;the&#160;&#160;dynamic&#160;&#160;objects&#160;&#160;are&#160;&#160;represented&#160;&#160;as&#160;&#160;symbolic&#160;&#160;handles&#160;&#160;in&#160;&#160;the&#160;&#160;file&#160;<br/>CanIf_Cfg.h.&#160;&#160;<br/>
<b>3.4.2&#160;</b><br/>
<b>Transmit-buffer&#160;</b><br/>
The&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;provides&#160;&#160;a&#160;&#160;mechanism&#160;&#160;to&#160;&#160;buffer&#160;&#160;Tx-PDUs&#160;&#160;(including&#160;&#160;data)&#160;&#160;which&#160;&#160;are&#160;<br/>mapped&#160;to&#160;a&#160;Tx-buffer.&#160;This&#160;means&#160;if&#160;the&#160;Tx-hardware-object&#160;of&#160;such&#160;Tx-PDU&#160;is&#160;occupied&#160;<br/>the&#160;&#160;Tx-PDU-instance&#160;&#160;is&#160;&#160;stored&#160;&#160;within&#160;&#160;the&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;until&#160;&#160;the&#160;&#160;Tx-hardware-object&#160;<br/>becomes&#160;free.&#160;Two&#160;handling&#160;types&#160;of&#160;a&#160;transmit-buffer&#160;are&#160;supported:&#160;<br/>
1.&#160;&#160;FIFO&#160;<br/>
2.&#160;&#160;Prioritization&#160;by&#160;CAN-identifier&#160;<br/>
The&#160;&#160;handling&#160;&#160;type&#160;&#160;defines&#160;&#160;in&#160;&#160;which&#160;&#160;manner&#160;&#160;the&#160;&#160;Tx-PDUs&#160;&#160;stored&#160;&#160;within&#160;&#160;the&#160;Tx-buffer&#160;&#160;are&#160;<br/>transmitted&#160;in&#160;case&#160;of&#160;the&#160;underlying&#160;Tx-hardware-object&#160;becomes&#160;free.&#160;&#160;<br/><b>FIFO:</b>&#160;&#160;The&#160;&#160;stored&#160;&#160;Tx-PDUs&#160;&#160;are&#160;&#160;transmitted&#160;&#160;in&#160;&#160;manner&#160;&#160;First-In-First-Out.&#160;&#160;Each&#160;<br/>Tx-PDU-instance&#160;is&#160;stored.&#160;If&#160;the&#160;FIFO&#160;is&#160;full&#160;then&#160;NO&#160;Tx-PDUs&#160;are&#160;stored&#160;until&#160;the&#160;FIFO&#160;<br/>becomes&#160;free.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
15&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=16></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-16_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-16_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-16_3.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>In&#160;case&#160;of&#160;transmit-buffer&#160;of&#160;handling&#160;type&#160;FIFO&#160;only&#160;one&#160;instance&#160;of&#160;a&#160;Tx-PDU&#160;(the&#160;last&#160;<br/>
<b>&#160;&#160;</b>one&#160;stored&#160;within&#160;the&#160;FIFO)&#160;can&#160;be&#160;and&#160;is&#160;cancelled&#160;from&#160;the&#160;FIFO&#160;via&#160;usage&#160;of&#160;API&#160;<br/>
CanIf_CancelTransmit!&#160;(Feature:&#160;“Cancellation&#160;of&#160;Tx-PDUs”,&#160;see&#160;chapter&#160;<br/><a href="TechnicalReference_CanIfs.html#54">6.1.21).</a>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>Prioritization&#160;by&#160;CAN-identifier:</b>&#160;The&#160;stored&#160;Tx-PDUs&#160;are&#160;transmitted&#160;in&#160;manner:&#160;Tx-PDU&#160;<br/>with&#160;&#160;high&#160;&#160;priority&#160;&#160;is&#160;&#160;sent&#160;&#160;before&#160;&#160;those&#160;&#160;one&#160;&#160;with&#160;&#160;lower&#160;&#160;priority.&#160;The&#160;&#160;priority&#160;&#160;is&#160;&#160;given&#160;&#160;by&#160;&#160;the&#160;<br/>CAN-identifier&#160;of&#160;the&#160;Tx-PDU.&#160;A&#160;Tx-PDU&#160;with&#160;a&#160;low&#160;CAN-identifier&#160;has&#160;higher&#160;priority&#160;than&#160;<br/>a&#160;one&#160;with&#160;greater&#160;CAN-identifier.&#160;The&#160;priority&#160;of&#160;a&#160;Tx-PDU&#160;is&#160;static&#160;and&#160;is&#160;determined&#160;from&#160;<br/>values&#160;of&#160;parameters&#160;CanIfTxPduCanId&#160;and&#160;CanIfTxPduCanIdType.&#160;Please&#160;consider&#160;<br/>this&#160;&#160;aspect&#160;&#160;in&#160;&#160;case&#160;&#160;of&#160;&#160;configuration&#160;&#160;of&#160;&#160;Tx-PDUs&#160;&#160;with&#160;&#160;dynamic&#160;&#160;CAN-identifier.&#160;&#160;Only&#160;&#160;one&#160;<br/>instance&#160;&#160;of&#160;each&#160;Tx-PDU&#160;is&#160;stored&#160;&#160;within&#160;such&#160;Tx-buffer:&#160;If&#160;a&#160;Tx-PDU&#160;is&#160;requested&#160;to&#160;be&#160;<br/>transmitted&#160;and&#160;the&#160;Tx-buffer&#160;of&#160;this&#160;Tx-PDU&#160;is&#160;already&#160;in&#160;use&#160;the&#160;already&#160;stored&#160;data&#160;of&#160;<br/>this&#160;Tx-PDU&#160;is&#160;overwritten&#160;in&#160;order&#160;to&#160;ensure&#160;the&#160;transmission&#160;of&#160;most&#160;newest&#160;data.&#160;<br/>This&#160;&#160;handling&#160;&#160;type&#160;&#160;can&#160;&#160;be&#160;&#160;used&#160;&#160;to&#160;&#160;avoid&#160;&#160;inner&#160;&#160;priority&#160;&#160;inversion.&#160;&#160;This&#160;&#160;means&#160;&#160;if&#160;&#160;the&#160;<br/>CAN&#160;Interface&#160;passes&#160;a&#160;transmit&#160;request&#160;to&#160;the&#160;CAN&#160;Driver&#160;while&#160;&#160;all&#160;Tx-hardware-objects&#160;<br/>are&#160;occupied&#160;and&#160;at&#160;least&#160;one&#160;hardware&#160;object&#160;is&#160;occupied&#160;by&#160;a&#160;CAN&#160;message&#160;with&#160;lower&#160;<br/>priority&#160;than&#160;the&#160;message&#160;used&#160;for&#160;the&#160;current&#160;transmit&#160;request&#160;the&#160;CAN&#160;Driver&#160;initiates&#160;the&#160;<br/>cancellation&#160;of&#160;the&#160;message&#160;with&#160;the&#160;lowest&#160;priority.&#160;The&#160;cancelled&#160;CAN-message&#160;is&#160;stored&#160;<br/>in&#160;the&#160;Tx-buffer&#160;of&#160;the&#160;CAN&#160;Interface&#160;if&#160;the&#160;corresponding&#160;Tx-buffer&#160;is&#160;free.&#160;Otherwise&#160;it&#160;is&#160;<br/>discarded&#160;&#160;to&#160;&#160;ensure&#160;&#160;the&#160;&#160;transmission&#160;&#160;of&#160;&#160;most&#160;&#160;newest&#160;&#160;data.&#160;&#160;By&#160;&#160;this&#160;&#160;way&#160;&#160;a&#160;&#160;Tx-hardware&#160;<br/>message&#160;&#160;object&#160;&#160;becomes&#160;&#160;free&#160;&#160;and&#160;&#160;allows&#160;&#160;the&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;to&#160;&#160;pass&#160;&#160;the&#160;&#160;CAN-message&#160;<br/>with&#160;the&#160;highest&#160;priority&#160;to&#160;the&#160;CAN&#160;Driver.&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>The&#160;described:&#160;“inner&#160;priority&#160;inversion”&#160;is&#160;only&#160;supported&#160;if&#160;at&#160;most&#160;only&#160;one&#160;Tx-buffer&#160;<br/>
<b>&#160;&#160;</b>of&#160;handling&#160;type:&#160;Prioritization&#160;by&#160;CAN-identifier&#160;is&#160;configured&#160;per&#160;CAN-channel!&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>&#160;<br/>
At&#160;&#160;all&#160;&#160;the&#160;&#160;Tx-PDUs&#160;&#160;stored&#160;&#160;within&#160;&#160;a&#160;&#160;Tx-buffer&#160;&#160;are&#160;&#160;processed&#160;&#160;either&#160;&#160;in&#160;&#160;context&#160;&#160;of&#160;&#160;the&#160;<br/>Tx-confirmation&#160;interrupt&#160;or&#160;in&#160;context&#160;of&#160;CAN&#160;Driver’s&#160;Tx-main-function&#160;in&#160;case&#160;of&#160;polling&#160;<br/>mode.&#160;&#160;<br/>The&#160;configuration&#160;of&#160;multiple&#160;transmit-buffers&#160;is&#160;described&#160;in&#160;chapter<a href="TechnicalReference_CanIfs.html#16">&#160;3.4.3.</a>&#160;<br/>
&#160;<br/>&#160;<br/>
<b>3.4.3&#160;</b><br/>
<b>Multiple&#160;Transmit-buffers&#160;</b><br/>
This&#160;feature&#160;can&#160;only&#160;be&#160;used&#160;if&#160;the&#160;underlying&#160;CAN&#160;driver&#160;supports&#160;the&#160;feature&#160;“Multiple&#160;<br/>Tx-BasicCAN&#160;hardware&#160;objects”.&#160;The<a href="TechnicalReference_CanIfs.html#17">&#160;Figure&#160;3&#160;</a>shows&#160;the&#160;objects&#160;which&#160;are&#160;needed&#160;to&#160;be&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
16&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=17></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-17_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
configured&#160;within&#160;the&#160;EcuC-configuration&#160;and&#160;the&#160;relationship&#160;among&#160;themselves.&#160;For&#160;each&#160;<br/>Transmit-buffer&#160;&#160;a&#160;&#160;triple&#160;&#160;of&#160;&#160;objects:&#160;&#160;CanHardwareObject,&#160;&#160;CanIfHthCfg&#160;&#160;and&#160;<br/>CanIfBufferCfg&#160;&#160;must&#160;&#160;be&#160;&#160;configured&#160;&#160;and&#160;&#160;linked&#160;&#160;with&#160;&#160;each&#160;&#160;other&#160;&#160;and&#160;&#160;to&#160;&#160;corresponding&#160;<br/>CAN-channel&#160;(objects:&#160;CanController&#160;and&#160;CanIfCtrlCfg).&#160;<br/>
<b>&#160;class&#160;Tx&#160;buffer&#160;configuration&#160;(EcuC)</b><br/>
CanDrv<br/>
CanIf<br/>
Container<br/>
Container<br/>
CanIfCtrlCfg<br/>
«point&#160;to»<br/>
CanController<br/>
Container<br/>
CanIfTxPduCfg<br/>
1:n<br/>
«point&#160;to»<br/>
Triple&#160;required&#160;for&#160;multiple&#160;Tx-BasicCANs&#160;/&#160;Tx-buffers<br/>
1:1<br/>
«point&#160;to»<br/>
«point&#160;to»<br/>
Container<br/>
CanIfBufferCfg<br/>
1:1<br/>
«point&#160;to»<br/>
Container<br/>
Container<br/>
1:1<br/>
CanHardwareObject<br/>
«point&#160;to»<br/>
CanIfHthCfg<br/>
&#160;<br/>
Figure&#160;3&#160;<br/>
Configuration&#160;of&#160;multiple&#160;Transmit-buffers&#160;<br/>
After&#160;<br/>
this&#160;<br/>
step&#160;<br/>
you&#160;<br/>
can&#160;<br/>
map&#160;<br/>
Tx-PDUs&#160;<br/>
to&#160;<br/>
configured&#160;<br/>
Transmit-buffer&#160;<br/>
(object:&#160;CanIfBufferCfg).&#160;&#160;The&#160;&#160;described&#160;&#160;handling&#160;&#160;type&#160;&#160;of&#160;&#160;a&#160;&#160;transmit-buffer&#160;&#160;(see&#160;<br/>chapter<a href="TechnicalReference_CanIfs.html#15">&#160;3.4.2)&#160;</a>can&#160;be&#160;configured&#160;via&#160;the&#160;parameter&#160;CanIfTxBufferHandlingType.&#160;For&#160;<br/>further&#160;information&#160;about&#160;configuration&#160;of&#160;a&#160;Transmit-buffer&#160;please&#160;refer&#160;to&#160;the&#160;help&#160;which&#160;<br/>can&#160;be&#160;found&#160;in&#160;the&#160;GUI&#160;of&#160;the&#160;DaVinci&#160;Configurator&#160;5&#160;and&#160;to&#160;the&#160;descriptions&#160;of&#160;attributes&#160;<br/>of&#160;container&#160;CanIfBufferCfg.&#160;<br/>
<b>3.4.4&#160;</b><br/>
<b>Tx&#160;confirmation&#160;polling&#160;support&#160;</b><br/>
The&#160;CAN&#160;Interface&#160;supports&#160;a&#160;service&#160;which&#160;provides&#160;the&#160;information&#160;on&#160;whether&#160;any&#160;Tx&#160;<br/>confirmation&#160;has&#160;occurred&#160;for&#160;a&#160;CAN&#160;&#160;channel&#160;since&#160;the&#160;last&#160;start&#160;of&#160;that&#160;CAN&#160;channel&#160;at&#160;<br/>all.&#160;This&#160;feature&#160;can&#160;be&#160;enabled&#160;via&#160;the&#160;parameter&#160;<br/>CanIfPublicTxConfirmPollingSupport.&#160;If&#160;enabled&#160;the&#160;API&#160;<br/>CanIf_GetTxConfirmation()&#160;is&#160;provided&#160;and&#160;can&#160;be&#160;used&#160;for&#160;this&#160;service.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
17&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=18></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-18_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>3.4.5&#160;</b><br/>
<b>Data&#160;checksum&#160;Tx&#160;&#160;</b><br/>
This&#160;feature&#160;can&#160;be&#160;used&#160;to&#160;append&#160;a&#160;checksum&#160;to&#160;data&#160;of&#160;a&#160;Tx-PDU.&#160;The&#160;configuration&#160;of&#160;<br/>such&#160;<br/>
Tx-PDU&#160;<br/>
can&#160;<br/>
be&#160;<br/>
done&#160;<br/>
individually&#160;<br/>
via&#160;<br/>
the&#160;<br/>
parameter&#160;<br/>
CanIfTxPduDataChecksumPdu.&#160;The&#160;appending&#160;of&#160;checksum&#160;is&#160;application&#160;specific&#160;and&#160;<br/>must&#160;be&#160;implemented&#160;within&#160;the&#160;API&#160;CanIf_TransmitSubDataChecksumTxAppend().&#160;<br/>For&#160;&#160;further&#160;&#160;information&#160;&#160;please&#160;&#160;see&#160;&#160;the&#160;&#160;description&#160;&#160;of&#160;&#160;the&#160;&#160;prototype&#160;&#160;of&#160;&#160;this&#160;API&#160;&#160;in&#160;&#160;chapter&#160;<br/><a href="TechnicalReference_CanIfs.html#65">6.2.3.</a>&#160;<br/>
For&#160;&#160;further&#160;&#160;information&#160;&#160;about&#160;&#160;configuration&#160;&#160;of&#160;&#160;this&#160;&#160;feature&#160;&#160;at&#160;&#160;all&#160;&#160;please&#160;&#160;refer&#160;&#160;to&#160;&#160;the&#160;&#160;help&#160;<br/>which&#160;&#160;can&#160;&#160;be&#160;&#160;found&#160;&#160;in&#160;&#160;the&#160;&#160;GUI&#160;&#160;of&#160;&#160;the&#160;&#160;DaVinci&#160;Configurator&#160;5&#160;&#160;and&#160;&#160;to&#160;&#160;the&#160;&#160;description&#160;&#160;of&#160;<br/>mentioned&#160;parameters.&#160;<br/>
&#160;<br/>
<b>3.5&#160;</b><br/>
<b>Reception&#160;</b><br/>
Reception&#160;of&#160;PDUs&#160;is&#160;only&#160;possible&#160;in&#160;the&#160;states&#160;&#160;<br/>
<b>&#160;&#160;</b>CANIF_CS_STARTED&#160;and&#160;CANIF_GET_ONLINE&#160;&#160;<br/>
or&#160;&#160;<br/>
<b>&#160;&#160;</b>CANIF_CS_STARTED&#160;and&#160;CANIF_GET_RX_ONLINE.&#160;&#160;<br/>
In&#160;all&#160;other&#160;states&#160;the&#160;PDUs&#160;received&#160;by&#160;the&#160;CAN&#160;Driver&#160;are&#160;discarded&#160;by&#160;the&#160;CAN&#160;<br/>Interface&#160;without&#160;notification&#160;to&#160;the&#160;upper&#160;layers.&#160;<br/>
The&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;supports&#160;&#160;reception&#160;&#160;of&#160;&#160;FullCAN-&#160;&#160;as&#160;&#160;well&#160;&#160;as&#160;&#160;BasicCAN-messages.&#160;The&#160;<br/>upper&#160;layers&#160;do&#160;not&#160;notice&#160;any&#160;differences&#160;between&#160;these&#160;two&#160;reception&#160;types&#160;as&#160;in&#160;both&#160;<br/>cases&#160;&#160;a&#160;&#160;call&#160;&#160;back&#160;&#160;function&#160;&#160;is&#160;&#160;called&#160;&#160;which&#160;&#160;was&#160;&#160;configured&#160;&#160;for&#160;&#160;the&#160;&#160;specified&#160;&#160;PDU&#160;&#160;in&#160;&#160;the&#160;<br/>generation&#160;tool.&#160;<br/>The&#160;&#160;upper&#160;&#160;layer&#160;&#160;is&#160;&#160;notified&#160;&#160;about&#160;&#160;the&#160;&#160;PDU&#160;&#160;ID&#160;&#160;given&#160;&#160;by&#160;&#160;the&#160;&#160;corresponding&#160;&#160;upper&#160;&#160;layer&#160;&#160;at&#160;<br/>configuration&#160;time,&#160;the&#160;received&#160;data&#160;and&#160;depending&#160;on&#160;the&#160;used&#160;indication&#160;function&#160;about&#160;<br/>the&#160;length&#160;of&#160;the&#160;received&#160;data.&#160;&#160;<br/>In&#160;case&#160;of&#160;BasicCAN&#160;reception&#160;the&#160;CAN&#160;Interface&#160;has&#160;to&#160;search&#160;through&#160;a&#160;list&#160;of&#160;all&#160;known&#160;<br/>Rx&#160;messages&#160;and&#160;compare&#160;the&#160;received&#160;CAN&#160;ID&#160;with&#160;the&#160;CAN&#160;ID&#160;in&#160;the&#160;Rx&#160;message&#160;list.&#160;&#160;<br/>The&#160;CAN&#160;Interface&#160;offers&#160;three&#160;different&#160;search&#160;algorithms:&#160;<br/><b>&#160;&#160;Linear&#160;search</b>:&#160;The&#160;list&#160;of&#160;all&#160;Rx&#160;PDUs&#160;is&#160;searched&#160;from&#160;high&#160;priority&#160;(Low&#160;CAN&#160;<br/>
Identifier)&#160;to&#160;low&#160;priority&#160;(High&#160;CAN&#160;Identifier).&#160;This&#160;algorithm&#160;is&#160;efficient&#160;for&#160;a&#160;small&#160;<br/>amount&#160;of&#160;Rx&#160;messages.&#160;<br/>
<b>&#160;&#160;Double&#160;Hash&#160;search</b>:&#160;The&#160;Rx&#160;PDU&#160;is&#160;calculated&#160;via&#160;two&#160;special&#160;hash&#160;functions.&#160;The&#160;<br/>
algorithm&#160;is&#160;very&#160;efficient&#160;for&#160;a&#160;high&#160;amount&#160;of&#160;Rx&#160;messages&#160;and&#160;always&#160;takes&#160;the&#160;<br/>same&#160;time.&#160;&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
18&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=19></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-19_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-19_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-19_3.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/></b><b>&#160;&#160;Note&#160;</b><br/>
The&#160;Double&#160;Hash&#160;search&#160;algorithm&#160;uses&#160;the&#160;mathematical&#160;operation&#160;<br/>
&#160;<br/>
modulo.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/><b>&#160;&#160;Binary&#160;search</b>:&#160;The&#160;list&#160;of&#160;Rx&#160;PDUs&#160;is&#160;split&#160;in&#160;two&#160;equal&#160;sized&#160;parts&#160;and&#160;the&#160;search&#160;is&#160;<br/>
continued&#160;recursively&#160;on&#160;a&#160;list&#160;of&#160;PDUs&#160;which&#160;contains&#160;half&#160;the&#160;messages.&#160;This&#160;search&#160;<br/>algorithm&#160;terminates&#160;faster&#160;for&#160;big&#160;amounts&#160;of&#160;Rx&#160;messages&#160;than&#160;the&#160;linear&#160;search.&#160;<br/>
<b>Caution&#160;<br/></b>The&#160;binary&#160;search&#160;algorithm&#160;cannot&#160;be&#160;used&#160;for&#160;mixed&#160;ID&#160;systems.&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>3.5.1&#160;</b><br/>
<b>Ranges&#160;</b><br/>
The&#160;&#160;BasicCAN&#160;&#160;message&#160;&#160;object&#160;&#160;can&#160;&#160;be&#160;&#160;used&#160;&#160;to&#160;&#160;receive&#160;&#160;groups&#160;&#160;of&#160;&#160;CAN&#160;&#160;messages&#160;&#160;called&#160;<br/>ranges.&#160;A&#160;range&#160;can&#160;be&#160;defined&#160;either&#160;by&#160;an&#160;upper&#160;and&#160;a&#160;lower&#160;CAN&#160;identifier&#160;or&#160;by&#160;a&#160;mask&#160;<br/>and&#160;a&#160;code.&#160;&#160;<br/>The&#160;&#160;definition&#160;&#160;of&#160;&#160;a&#160;&#160;range&#160;&#160;by&#160;&#160;an&#160;&#160;upper&#160;&#160;and&#160;&#160;a&#160;&#160;lower&#160;&#160;CAN&#160;&#160;identifier&#160;&#160;is&#160;&#160;performed&#160;&#160;by&#160;&#160;the&#160;<br/>following&#160;parameters:&#160;<br/>
<b>&#160;&#160;</b>CanIfRxPduCanIdRangeLowerCanId&#160;and&#160;&#160;<br/>
<b>&#160;&#160;</b>CanIfRxPduCanIdRangeUpperCanId.&#160;&#160;<br/>
A&#160;mask-code-range&#160;is&#160;defined&#160;by&#160;parameters:&#160;<br/><b>&#160;&#160;</b>CanIfRxPduCanId&#160;(code)&#160;and&#160;&#160;<br/>
<b>&#160;&#160;</b>CanIfRxPduCanIdMask&#160;(mask).&#160;&#160;<br/>
In&#160;case&#160;of&#160;a&#160;mask-code-range&#160;each&#160;CAN&#160;identifier&#160;which&#160;fulfills&#160;the&#160;following&#160;equation&#160;pass&#160;<br/>the&#160;range&#160;and&#160;the&#160;reception&#160;of&#160;the&#160;corresponding&#160;Rx&#160;PDU&#160;is&#160;reported&#160;to&#160;the&#160;upper&#160;layer.&#160;<br/><b>&#160;&#160;</b>&lt;CAN&#160;identifier&gt; &amp; &lt;mask&gt; == &lt;code&gt;&#160;&amp; &lt;mask&gt;&#160;<br/>
One&#160;&#160;PDU&#160;&#160;ID&#160;&#160;is&#160;&#160;assigned&#160;&#160;to&#160;&#160;all&#160;&#160;messages&#160;&#160;which&#160;&#160;pass&#160;&#160;the&#160;&#160;configured&#160;&#160;range.&#160;&#160;Hence&#160;&#160;the&#160;<br/>upper&#160;&#160;layer&#160;&#160;is&#160;&#160;not&#160;&#160;able&#160;&#160;to&#160;&#160;get&#160;&#160;additional&#160;&#160;message&#160;&#160;properties&#160;&#160;like&#160;&#160;the&#160;&#160;CAN&#160;&#160;identifier.&#160;&#160;For&#160;<br/>each&#160;range&#160;an&#160;indication&#160;function&#160;can&#160;be&#160;assigned&#160;in&#160;the&#160;generation&#160;tool&#160;in&#160;order&#160;to&#160;notify&#160;<br/>the&#160;higher&#160;layer&#160;about&#160;the&#160;reception&#160;of&#160;a&#160;message.&#160;&#160;<br/>A&#160;&#160;range&#160;&#160;defined&#160;&#160;by&#160;&#160;an&#160;&#160;upper&#160;&#160;and&#160;&#160;a&#160;&#160;lower&#160;&#160;CAN&#160;&#160;identifier&#160;&#160;can&#160;&#160;be&#160;&#160;converted&#160;&#160;into&#160;&#160;a&#160;<br/>mask-code-range.&#160;Therefor&#160;please&#160;see&#160;the&#160;following&#160;example.&#160;<br/>
<b>&#160;</b><br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
19&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=20></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-20_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-20_2.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>&#160;<br/>&#160;</b><br/>
<b>Example:&#160;How&#160;to&#160;convert&#160;a&#160;lower&#160;CAN&#160;ID&#160;and&#160;an&#160;upper&#160;CAN&#160;ID&#160;into&#160;mask&#160;and&#160;<br/>code?&#160;</b>&#160;<br/>
&#160;&#160;Lower&#160;CAN&#160;ID:&#160;0x400&#160;<br/>
Upper&#160;CAN&#160;ID:&#160;0x43F&#160;<br/>The&#160;code&#160;is&#160;same&#160;as&#160;the&#160;lower&#160;CAN&#160;ID:&#160;<br/>code&#160;=&#160;0x400&#160;<br/>&#160;<br/>You&#160;need&#160;the&#160;count&#160;which&#160;is&#160;upper&#160;CAN&#160;ID&#160;–&#160;lower&#160;CAN&#160;ID&#160;&#160;0x43F&#160;–&#160;0x400&#160;=&#160;0x3F&#160;<br/>The&#160;count&#160;0x3F&#160;is&#160;000&#160;0011&#160;1111b&#160;in&#160;11-bit&#160;binary&#160;format.&#160;For&#160;a&#160;range&#160;with&#160;extended&#160;<br/>CAN&#160;IDs&#160;the&#160;count&#160;needs&#160;to&#160;be&#160;29-bit&#160;wide.&#160;&#160;<br/>&#160;&#160;<br/>The&#160;mask&#160;is&#160;calculated&#160;out&#160;of&#160;negated&#160;count&#160;and&#160;a&#160;11-bit&#160;mask:&#160;<br/>mask&#160;=&#160;~0x3F&#160;&amp;&#160;0x7FF&#160;=&#160;0x7C0&#160;<br/>For&#160;extended&#160;IDs&#160;you&#160;need&#160;a&#160;29-bit&#160;mask:&#160;<br/>mask&#160;=&#160;~0x3F&#160;&amp;&#160;0x1FFF&#160;FFFF&#160;=&#160;0x1FFF&#160;FFC0&#160;<br/>&#160;<br/><b>Note:&#160;<br/></b>If&#160;for&#160;count&#160;the&#160;first&#160;set&#160;bit&#160;is&#160;followed&#160;by&#160;unset&#160;bits&#160;on&#160;lower&#160;significant&#160;positions&#160;for&#160;the&#160;<br/>calculation&#160;of&#160;the&#160;mask&#160;these&#160;bits&#160;need&#160;to&#160;be&#160;set.&#160;For&#160;example&#160;a&#160;count&#160;of&#160;0xA3&#160;(1010&#160;<br/>0011b)&#160;you&#160;need&#160;to&#160;calculate&#160;with&#160;the&#160;count&#160;0xFF&#160;(1111&#160;1111b).&#160;The&#160;consequence&#160;is&#160;<br/>that&#160;more&#160;CAN&#160;IDs&#160;are&#160;received&#160;as&#160;intended.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>3.5.2&#160;</b><br/>
<b>DLC&#160;check&#160;</b><br/>
The&#160;DLC&#160;check&#160;is&#160;executed&#160;for&#160;all&#160;received&#160;messages&#160;after&#160;they&#160;pass&#160;the&#160;search&#160;algorithm&#160;<br/>(PDU&#160;is&#160;in&#160;Rx&#160;list)&#160;or&#160;if&#160;they&#160;are&#160;defined&#160;to&#160;be&#160;received&#160;in&#160;FullCAN&#160;message&#160;objects.&#160;The&#160;<br/>feature&#160;DLC&#160;check&#160;can&#160;be&#160;&#160;activated&#160;only&#160;at&#160;Pre-compile&#160;time&#160;at&#160;all.&#160;If&#160;activated&#160;the&#160;DLC&#160;<br/>check&#160;&#160;can&#160;&#160;be&#160;&#160;configured&#160;&#160;for&#160;&#160;each&#160;&#160;Rx-PDU&#160;&#160;individually&#160;&#160;and&#160;&#160;can&#160;&#160;be&#160;&#160;reconfigured&#160;&#160;in&#160;&#160;the&#160;<br/>Post-build-loadable&#160;configuration&#160;phase.&#160;&#160;<br/>The&#160;DLC&#160;check&#160;verifies&#160;if&#160;the&#160;received&#160;DLC&#160;is&#160;greater&#160;or&#160;equal&#160;to&#160;the&#160;DLC&#160;specified&#160;during&#160;<br/>configuration&#160;time.&#160;If&#160;the&#160;DLC&#160;is&#160;less&#160;than&#160;the&#160;configured&#160;one&#160;a&#160;DET&#160;error&#160;is&#160;raised&#160;and&#160;the&#160;<br/>reception&#160;of&#160;the&#160;PDU&#160;is&#160;abandoned.&#160;<br/>
<b>3.5.3&#160;</b><br/>
<b>Data&#160;checksum&#160;Rx&#160;</b><br/>
This&#160;feature&#160;can&#160;&#160;be&#160;used&#160;to&#160;verify&#160;the&#160;validity&#160;of&#160;a&#160;Rx-PDU&#160;after&#160;reception.&#160;The&#160;Rx-PDU&#160;<br/>which&#160;&#160;shall&#160;&#160;be&#160;&#160;verified&#160;&#160;can&#160;&#160;be&#160;&#160;configured&#160;&#160;individually&#160;&#160;via&#160;&#160;the&#160;&#160;parameter&#160;<br/>CanIfRxPduDataChecksumPdu.&#160;&#160;The&#160;&#160;verification&#160;&#160;is&#160;&#160;application&#160;&#160;specific&#160;&#160;and&#160;&#160;must&#160;&#160;be&#160;<br/>implemented&#160;&#160;within&#160;&#160;the&#160;&#160;API&#160;&#160;CanIf_RxIndicationSubDataChecksumRxVerify().&#160;<br/>For&#160;&#160;further&#160;&#160;information&#160;&#160;please&#160;&#160;see&#160;&#160;the&#160;&#160;description&#160;&#160;of&#160;&#160;the&#160;&#160;prototype&#160;&#160;of&#160;&#160;this&#160;API&#160;&#160;in&#160;&#160;chapter&#160;<br/><a href="TechnicalReference_CanIfs.html#64">6.2.2.&#160;</a>&#160;<br/>In&#160;&#160;addition&#160;&#160;an&#160;&#160;indication&#160;&#160;function&#160;&#160;may&#160;&#160;be&#160;&#160;configured&#160;&#160;which&#160;&#160;signals&#160;&#160;about&#160;&#160;invalidity&#160;&#160;of&#160;&#160;a&#160;<br/>Rx-PDU.&#160;&#160;This&#160;&#160;indication&#160;&#160;function&#160;&#160;can&#160;&#160;be&#160;&#160;configured&#160;&#160;via&#160;&#160;the&#160;&#160;parameter&#160;<br/>CanIfDispatchDataChecksumRxErrorIndicationName.&#160;&#160;The&#160;&#160;call&#160;&#160;of&#160;&#160;this&#160;&#160;indication&#160;<br/>function&#160;&#160;is&#160;&#160;application&#160;&#160;specific&#160;&#160;too&#160;&#160;and&#160;&#160;if&#160;&#160;required&#160;&#160;must&#160;&#160;be&#160;&#160;invoked&#160;&#160;within&#160;&#160;the&#160;<br/>implementation&#160;of&#160;CanIf_RxIndicationSubDataChecksumRxVerify().&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
20&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=21></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-21_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-21_2.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
The&#160;prototype&#160;of&#160;the&#160;indication&#160;function&#160;must&#160;match&#160;following&#160;signature:&#160;<br/><b>&#160;&#160;</b>void My_DataChecksumRxErrFct (PduIdType CanIfRxPduId)&#160;<br/>
and&#160;can&#160;be&#160;accessed&#160;via&#160;the&#160;macro:&#160;CanIf_GetDataChecksumRxErrFctPtr()&#160;(see&#160;<br/>file&#160;CanIf_Cfg.h)&#160;<br/>
It&#160;&#160;is&#160;&#160;recommended&#160;&#160;to&#160;&#160;call&#160;&#160;this&#160;&#160;indication&#160;&#160;function&#160;&#160;with&#160;&#160;the&#160;&#160;identifier&#160;&#160;of&#160;&#160;affected&#160;&#160;Rx-PDU.&#160;<br/>Therefor&#160;the&#160;value&#160;of&#160;parameter&#160;&#160;CanIfRxPduId&#160;should&#160;be&#160;used&#160;which&#160;is&#160;passed&#160;by&#160;call&#160;<br/>of&#160;CanIf_RxIndicationSubDataChecksumRxVerify().&#160;The&#160;value&#160;of&#160;this&#160;parameter&#160;<br/>is&#160;a&#160;CAN&#160;interface&#160;internal&#160;identifier&#160;which&#160;corresponds&#160;to&#160;value&#160;of&#160;configuration&#160;parameter&#160;<br/>CanIfRxPduId.&#160;&#160;Corresponding&#160;&#160;macros&#160;&#160;are&#160;&#160;generated&#160;&#160;per&#160;&#160;Rx-PDU&#160;&#160;into&#160;&#160;file&#160;<br/>CanIf_Cfg.h.&#160;These&#160;ones&#160;can&#160;be&#160;used&#160;by&#160;application&#160;(s.&#160;example&#160;below).&#160;&#160;<br/>
&#160;<br/>
/*******************************************************************************&#160;<br/>&#160;&#160;\def&#160;&#160;AUTOSAR&#160;Rx&#160;PDU handles&#160;<br/>*******************************************************************************/&#160;<br/>&#160;<br/><b>#define</b>&#160;CanIfConf_CanIfRxPduCfg_RxRange2_0 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;0U&#160;<br/><b>#define</b>&#160;CanIfConf_CanIfRxPduCfg_RxRange1_0 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;1U&#160;<br/><b>#define</b>&#160;CanIfConf_CanIfRxPduCfg_RxMSG00000711_0 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 2U&#160;<br/><b>#define</b>&#160;CanIfConf_CanIfRxPduCfg_RxMSG95555311_0 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 3U&#160;<br/><b>#define</b>&#160;CanIfConf_CanIfRxPduCfg_RxMSG00000511_0 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 4U&#160;<br/><b>#define&#160;</b>CanIfConf_CanIfRxPduCfg_RxMSG91111151_0 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 5U&#160;<br/>
&#160;<br/>
<b>Caution&#160;<br/></b>Please&#160;use&#160;these&#160;macros&#160;wisely.&#160;They&#160;can&#160;change&#160;in&#160;case&#160;of&#160;configuration&#160;variant&#160;<br/>
&#160;<br/>
Post-build-loadable.&#160;<br/>
&#160;<br/>
For&#160;&#160;further&#160;&#160;information&#160;&#160;about&#160;&#160;configuration&#160;&#160;of&#160;&#160;this&#160;&#160;feature&#160;&#160;at&#160;&#160;all&#160;&#160;please&#160;&#160;refer&#160;&#160;to&#160;&#160;the&#160;&#160;help&#160;<br/>which&#160;&#160;can&#160;&#160;be&#160;&#160;found&#160;&#160;in&#160;&#160;the&#160;&#160;GUI&#160;&#160;of&#160;&#160;the&#160;&#160;DaVinci&#160;Configurator&#160;5&#160;&#160;and&#160;&#160;to&#160;&#160;the&#160;&#160;description&#160;&#160;of&#160;<br/>mentioned&#160;parameters.&#160;<br/>
&#160;<br/>
<b>3.5.4&#160;</b><br/>
<b>Control&#160;of&#160;reception&#160;mode&#160;of&#160;a&#160;Rx-PDU&#160;</b><br/>
This&#160;feature&#160;provides&#160;the&#160;ability&#160;to&#160;control&#160;the&#160;reception&#160;mode&#160;of&#160;a&#160;Rx-PDU&#160;at&#160;runtime.&#160;The&#160;<br/>reception&#160;&#160;mode&#160;&#160;can&#160;&#160;be&#160;&#160;set&#160;&#160;per&#160;&#160;Rx-PDU&#160;&#160;individually&#160;&#160;at&#160;&#160;runtime&#160;&#160;via&#160;&#160;the&#160;&#160;API:&#160;<br/>CanIf_SetPduReceptionMode().&#160;&#160;In&#160;&#160;order&#160;&#160;to&#160;&#160;address&#160;&#160;a&#160;&#160;Rx-PDU&#160;&#160;you&#160;&#160;can&#160;&#160;use&#160;&#160;the&#160;<br/>corresponding&#160;symbolic&#160;name&#160;value&#160;which&#160;can&#160;be&#160;found&#160;in&#160;file&#160;CanIf_Cfg.h&#160;(s.&#160;example&#160;<br/>below).&#160;<br/>/*******************************************************************************&#160;<br/>&#160;&#160;\def&#160;&#160;AUTOSAR&#160;Rx&#160;PDU handles&#160;<br/>*******************************************************************************/&#160;<br/>&#160;<br/><b>#define</b>&#160;CanIfConf_CanIfRxPduCfg_RxRange2_0 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;0U&#160;<br/><b>#define</b>&#160;CanIfConf_CanIfRxPduCfg_RxRange1_0 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;1U&#160;<br/><b>#define</b>&#160;CanIfConf_CanIfRxPduCfg_RxMSG00000711_0 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 2U&#160;<br/><b>#define</b>&#160;CanIfConf_CanIfRxPduCfg_RxMSG95555311_0 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 3U&#160;<br/><b>#define</b>&#160;CanIfConf_CanIfRxPduCfg_RxMSG00000511_0 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 4U&#160;<br/><b>#define&#160;</b>CanIfConf_CanIfRxPduCfg_RxMSG91111151_0 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 5U&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
21&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=22></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-22_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
For&#160;further&#160;information&#160;about&#160;this&#160;API&#160;please&#160;see&#160;chapter<a href="TechnicalReference_CanIfs.html#63">&#160;6.1.40.</a>&#160;This&#160;feature&#160;can&#160;be&#160;used&#160;<br/>for&#160;e.g.&#160;either&#160;to&#160;receive&#160;a&#160;CAN-message&#160;as&#160;a&#160;Rx-PDU&#160;with&#160;an&#160;explicit&#160;CAN-identifier&#160;or&#160;as&#160;<br/>a&#160;&#160;Rx-range-PDU.&#160;&#160;In&#160;&#160;case&#160;&#160;of&#160;&#160;the&#160;&#160;configured&#160;&#160;CAN-identifier&#160;&#160;of&#160;&#160;a&#160;&#160;Rx-PDU&#160;&#160;fits&#160;&#160;the&#160;&#160;range&#160;&#160;of&#160;<br/>CAN-identifiers&#160;&#160;of&#160;&#160;a&#160;&#160;Rx-range-PDU&#160;&#160;on&#160;&#160;the&#160;&#160;same&#160;&#160;CAN-channel&#160;&#160;as&#160;&#160;well.&#160;&#160;In&#160;&#160;case&#160;&#160;of&#160;&#160;a&#160;<br/>FullCAN-Rx-PDU&#160;the&#160;reception&#160;can&#160;be&#160;controlled&#160;at&#160;runtime&#160;at&#160;all.&#160;<br/>
This&#160;feature&#160;can&#160;be&#160;enabled&#160;via&#160;the&#160;parameter&#160;CanIfSetPduReceptionModeSupport.&#160;<br/>In&#160;addition&#160;Rx-PDUs&#160;whose&#160;reception&#160;mode&#160;is&#160;&#160;intended&#160;to&#160;be&#160;controlled&#160;&#160;at&#160;runtime&#160;&#160;must&#160;<br/>be&#160;configured&#160;accordingly&#160;via&#160;the&#160;parameter&#160;CanIfRxPduSetReceptionModePdu.&#160;<br/>
For&#160;&#160;further&#160;&#160;information&#160;&#160;about&#160;&#160;configuration&#160;&#160;of&#160;&#160;this&#160;&#160;feature&#160;&#160;at&#160;&#160;all&#160;&#160;please&#160;&#160;refer&#160;&#160;to&#160;&#160;the&#160;&#160;help&#160;<br/>which&#160;&#160;can&#160;&#160;be&#160;&#160;found&#160;&#160;in&#160;&#160;the&#160;&#160;GUI&#160;&#160;of&#160;&#160;the&#160;&#160;DaVinci&#160;Configurator&#160;5&#160;&#160;and&#160;&#160;to&#160;&#160;the&#160;&#160;description&#160;&#160;of&#160;<br/>mentioned&#160;parameters.&#160;<br/>
&#160;<br/>
<b>3.6&#160;</b><br/>
<b>Communication&#160;Modes&#160;</b><br/>
The&#160;CAN&#160;Interface&#160;knows&#160;two&#160;main&#160;types&#160;of&#160;communication&#160;modes.&#160;&#160;<br/>
<b>3.6.1&#160;</b><br/>
<b>Controller&#160;Mode&#160;</b><br/>
The&#160;&#160;controller&#160;&#160;mode&#160;&#160;represents&#160;&#160;the&#160;&#160;physical&#160;&#160;state&#160;&#160;of&#160;&#160;the&#160;&#160;CAN&#160;&#160;controller.&#160;&#160;The&#160;&#160;following&#160;<br/>modes&#160;are&#160;available:&#160;<br/><b>&#160;&#160;</b>CANIF_CS_STOPPED&#160;<br/>
<b>&#160;&#160;</b>CANIF_CS_STARTED&#160;<br/>
<b>&#160;&#160;</b>CANIF_CS_SLEEP&#160;<br/>
<b>&#160;&#160;</b>CANIF_CS_UNINIT&#160;<br/>
There&#160;&#160;is&#160;&#160;no&#160;&#160;state&#160;&#160;called&#160;&#160;bus&#160;&#160;off.&#160;&#160;Bus&#160;&#160;off&#160;&#160;is&#160;&#160;treated&#160;&#160;as&#160;&#160;a&#160;&#160;transition&#160;&#160;from&#160;&#160;STARTED&#160;&#160;to&#160;<br/>STOPPED&#160;&#160;mode.&#160;&#160;All&#160;&#160;transitions&#160;&#160;have&#160;&#160;to&#160;&#160;be&#160;&#160;initiated&#160;&#160;using&#160;&#160;the&#160;&#160;API&#160;&#160;function&#160;<br/>CanIf_SetControllerMode().&#160;&#160;The&#160;&#160;controller&#160;&#160;mode&#160;&#160;can&#160;&#160;be&#160;&#160;switched&#160;&#160;for&#160;&#160;each&#160;<br/>controller&#160;independent&#160;of&#160;the&#160;state&#160;of&#160;other&#160;controllers&#160;in&#160;the&#160;system.&#160;<br/>
The&#160;state&#160;CANIF_CS_UNINIT&#160;is&#160;left&#160;after&#160;CanIf_InitController()&#160;is&#160;called&#160;and&#160;can&#160;<br/>only&#160;be&#160;entered&#160;by&#160;a&#160;reset&#160;of&#160;the&#160;ECU.&#160;<br/>
The&#160;&#160;modes&#160;&#160;CANIF_CS_SLEEP&#160;&#160;and&#160;&#160;CANIF_CS_STARTED&#160;&#160;can&#160;&#160;only&#160;&#160;be&#160;&#160;entered&#160;&#160;from&#160;<br/>CANIF_CS_STOPPED.&#160;This&#160;means&#160;a&#160;transition&#160;from&#160;STARTED&#160;to&#160;SLEEP&#160;and&#160;vice&#160;versa&#160;is&#160;<br/>not&#160;possible&#160;without&#160;requesting&#160;the&#160;STOPPED&#160;mode&#160;first.&#160;<br/>It&#160;&#160;is&#160;&#160;always&#160;&#160;possible&#160;&#160;to&#160;&#160;request&#160;&#160;the&#160;&#160;current&#160;&#160;active&#160;&#160;controller&#160;&#160;mode&#160;&#160;by&#160;&#160;calling&#160;&#160;the&#160;&#160;API&#160;<br/>CanIf_GetControllerMode().&#160;<br/>
&#160;<br/>
<b>3.6.2&#160;</b><br/>
<b>PDU&#160;Mode&#160;</b><br/>
The&#160;other&#160;type&#160;of&#160;communication&#160;mode&#160;is&#160;completely&#160;processed&#160;by&#160;software&#160;(it&#160;does&#160;not&#160;<br/>represent&#160;any&#160;state&#160;of&#160;the&#160;hardware).&#160;Transitions&#160;of&#160;the&#160;PDU&#160;mode&#160;are&#160;only&#160;possible&#160;if&#160;the&#160;<br/>controller&#160;mode&#160;is&#160;set&#160;to&#160;CANIF_CS_STARTED.&#160;&#160;<br/>
The&#160;following&#160;PDU&#160;modes&#160;are&#160;available:&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
22&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=23></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-23_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-23_2.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>&#160;&#160;</b>CANIF_GET_OFFLINE&#160;<br/>
&#160;<br/>
&#160;<br/>
Rx&#160;and&#160;Tx&#160;path&#160;are&#160;switched&#160;offline&#160;<br/>
<b>&#160;&#160;</b>CANIF_GET_RX_ONLINE&#160;<br/>
&#160;<br/>
&#160;<br/>
Rx&#160;path&#160;online,&#160;Tx&#160;path&#160;offline&#160;<br/>
<b>&#160;&#160;</b>CANIF_GET_TX_ONLINE&#160;<br/>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Rx&#160;path&#160;offline,&#160;Tx&#160;path&#160;online&#160;<br/>
<b>&#160;&#160;</b>CANIF_GET_ONLINE&#160;<br/>
&#160;<br/>
Rx&#160;and&#160;Tx&#160;path&#160;are&#160;switched&#160;online&#160;<br/>
<b>&#160;&#160;</b>CANIF_GET_OFFLINE_ACTIVE&#160;<br/>
&#160;<br/>
Rx&#160;and&#160;Tx&#160;path&#160;offline,&#160;confirmation&#160;is&#160;emulated&#160;by&#160;the&#160;CAN&#160;Interface&#160;<br/>
<b>&#160;&#160;</b>CANIF_GET_OFFLINE_ACTIVE_RX_ONLINE&#160;<br/>
&#160;<br/>
Rx&#160;path&#160;online,&#160;Tx&#160;path&#160;offline,&#160;confirmation&#160;is&#160;emulated&#160;by&#160;the&#160;CAN&#160;Interface&#160;<br/>
If&#160;&#160;parameter&#160;&#160;CanIfPnWakeupTxPduFilterSupport&#160;&#160;(s.&#160;&#160;chapte<a href="TechnicalReference_CanIfs.html#34">r&#160;&#160;3.16)&#160;&#160;</a>is&#160;&#160;enabled&#160;&#160;then&#160;<br/>the&#160;following&#160;two&#160;further&#160;modes&#160;are&#160;available:&#160;<br/>
-&#160;&#160;CANIF_GET_TX_ONLINE_WAKF&#160;<br/>
&#160;&#160;Rx&#160;path&#160;offline,&#160;tx&#160;path&#160;online&#160;<br/>
-&#160;&#160;CANIF_GET_ONLINE_WAKF&#160;<br/>
&#160;&#160;Rx&#160;and&#160;Tx&#160;path&#160;are&#160;switched&#160;online&#160;<br/>
The&#160;&#160;difference&#160;&#160;to&#160;&#160;the&#160;&#160;modes&#160;&#160;CANIF_GET_ONLINE&#160;&#160;and&#160;&#160;CANIF_GET_TX_ONLINE&#160;&#160;is&#160;&#160;that&#160;<br/>the&#160;&#160;Tx-PDU&#160;&#160;filter&#160;&#160;is&#160;&#160;activated&#160;&#160;if&#160;&#160;the&#160;&#160;PDU&#160;&#160;mode&#160;&#160;is&#160;&#160;changed&#160;&#160;to&#160;&#160;one&#160;&#160;of&#160;&#160;these&#160;&#160;two&#160;&#160;modes.&#160;<br/>(s.&#160;chapter<a href="TechnicalReference_CanIfs.html#34">&#160;3.16).</a>&#160;<br/>
&#160;<br/>
<b>Caution&#160;<br/></b>If&#160;one&#160;of&#160;the&#160;modes&#160;CANIF_GET_TX_ONLINE_WAKF&#160;&#160;or&#160;CANIF_GET_ONLINE_WAKF&#160;is&#160;<br/>
&#160;<br/>
left&#160;by&#160;calling&#160;of&#160;CanIf_SetPduMode()with&#160;parameter&#160;PduModeRequest&#160;which&#160;<br/>equals&#160;CANIF_SET_OFFLINE&#160;or&#160;CANIF_SET_TX_OFFLINE&#160;or&#160;<br/>CANIF_SET_TX_OFFLINE_ACTIVE&#160;or&#160;CANIF_SET_ONLINE&#160;or&#160;<br/>CANIF_SET_TX_ONLINE&#160;then&#160;the&#160;Tx-PDU&#160;Filter<i>&#160;</i>is<i>&#160;</i><b>deactivated</b><i>!</i>&#160;<br/>
&#160;<br/>
The&#160;PDU&#160;modes&#160;can&#160;be&#160;set&#160;via&#160;the&#160;function&#160;CanIf_SetPduMode()&#160;and&#160;can&#160;be&#160;retrieved&#160;<br/>via&#160;the&#160;function&#160;CanIf_GetPduMode().&#160;<br/>
<b>3.7&#160;</b><br/>
<b>Polling&#160;</b><br/>
The&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;can&#160;&#160;process&#160;&#160;events&#160;&#160;in&#160;&#160;polling&#160;&#160;and&#160;&#160;interrupt&#160;&#160;mode.&#160;&#160;As&#160;&#160;the&#160;&#160;polling&#160;&#160;of&#160;<br/>events&#160;is&#160;executed&#160;by&#160;other&#160;layers&#160;(e.g.&#160;CAN&#160;Driver,&#160;Transceiver&#160;Driver)&#160;the&#160;CAN&#160;Interface&#160;<br/>is&#160;notified&#160;by&#160;call&#160;back&#160;functions&#160;which&#160;are&#160;called&#160;in&#160;the&#160;corresponding&#160;context.&#160;&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
23&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=24></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-24_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-24_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-24_3.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-24_4.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
&#160;<br/>
<b>Info</b>&#160;<br/>There&#160;&#160;is&#160;&#160;no&#160;&#160;need&#160;&#160;for&#160;&#160;changes&#160;&#160;in&#160;&#160;the&#160;&#160;configuration&#160;&#160;to&#160;&#160;run&#160;&#160;the&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;in&#160;<br/>
&#160;<br/>
polling&#160;mode.&#160;<br/>
&#160;<br/>
<b>3.8&#160;</b><br/>
<b>CAN&#160;FD&#160;</b><br/>
The&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;supports&#160;&#160;CAN&#160;&#160;FD.&#160;&#160;The&#160;&#160;configuration&#160;&#160;can&#160;&#160;be&#160;&#160;performed&#160;&#160;both&#160;&#160;for&#160;<br/>Rx-&#160;&#160;and&#160;&#160;Tx-PDUs.&#160;&#160;Therefor&#160;&#160;please&#160;&#160;configure&#160;&#160;the&#160;&#160;attribute&#160;&#160;CanIfRxPduCanIdType&#160;<br/>(Rx-PDU)&#160;&#160;and&#160;&#160;CanIfTxPduCanIdType&#160;&#160;(Tx-PDU)&#160;&#160;accordingly&#160;&#160;as&#160;&#160;required&#160;&#160;by&#160;&#160;your&#160;<br/>application.&#160;In&#160;case&#160;of&#160;Rx-PDUs&#160;the&#160;message&#160;type&#160;(e.g.&#160;FD&#160;or&#160;not-FD)&#160;is&#160;evaluated&#160;during&#160;<br/>the&#160;Rx-search&#160;algorithm.&#160;Hence&#160;it&#160;is&#160;possible&#160;to&#160;handle&#160;two&#160;messages&#160;with&#160;the&#160;same&#160;CAN&#160;<br/>identifier,&#160;at&#160;which&#160;one&#160;is&#160;configured&#160;as&#160;FD&#160;and&#160;one&#160;as&#160;not-FD&#160;and&#160;to&#160;map&#160;them&#160;to&#160;different&#160;<br/>Rx-PDUs.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Expert&#160;Knowledge&#160;<br/></b>If&#160;you&#160;intend&#160;to&#160;switch&#160;the&#160;baudrate&#160;of&#160;the&#160;CAN&#160;hardware&#160;at&#160;runtime&#160;it&#160;is&#160;suggested&#160;to&#160;<br/>
&#160;&#160;use&#160;the&#160;API&#160;CanIf_SetBaudrate&#160;instead&#160;of&#160;CanIf_ChangeBaudrate.&#160;&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
Rx-&#160;and&#160;Tx-FD-PDUs&#160;with&#160;up&#160;to&#160;64&#160;bytes&#160;payload&#160;are&#160;supported.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Basic&#160;Knowledge&#160;<br/></b>If&#160;you&#160;intend&#160;to&#160;configure&#160;BasicCAN-FD-Tx-PDUs&#160;&#160;and&#160;the&#160;Tx-buffer&#160;is&#160;enabled&#160;in&#160;your&#160;<br/>
&#160;&#160;configuration&#160;please&#160;ensure&#160;that&#160;attribute&#160;CanIfStaticFdTxBufferSupport&#160;is&#160;<br/>
enabled.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>3.9&#160;</b><br/>
<b>Meta&#160;data&#160;Rx-&#160;/ Tx-support&#160;</b><br/>
If&#160;&#160;this&#160;&#160;feature&#160;&#160;is&#160;&#160;enabled&#160;&#160;the&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;supports&#160;&#160;the&#160;&#160;handling&#160;&#160;of&#160;&#160;dynamic&#160;<br/>CAN-identifiers&#160;&#160;by&#160;&#160;using&#160;&#160;of&#160;&#160;SDU&#160;&#160;meta&#160;&#160;data.&#160;&#160;Such&#160;&#160;dynamic&#160;&#160;PDU&#160;&#160;can&#160;&#160;be&#160;&#160;configured&#160;&#160;by&#160;<br/>parameter&#160;&#160;MetaDataLength.&#160;&#160;This&#160;&#160;parameter&#160;&#160;can&#160;&#160;be&#160;&#160;found&#160;&#160;in&#160;&#160;the&#160;&#160;container&#160;&#160;of&#160;<br/>corresponding&#160;global&#160;PDU.&#160;<br/>In&#160;case&#160;of&#160;configuration&#160;variant&#160;Link-time&#160;or&#160;Post-build&#160;loadable&#160;please&#160;enable&#160;this&#160;feature&#160;<br/>by&#160;setting&#160;of&#160;parameter&#160;CanIfMetaDataSupport&#160;to&#160;true.&#160;In&#160;case&#160;of&#160;configuration&#160;variant&#160;<br/>Pre-compile&#160;the&#160;activation/deactivation&#160;of&#160;this&#160;feature&#160;is&#160;determined&#160;from&#160;the&#160;configuration&#160;<br/>of&#160;&#160;Rx-&#160;&#160;and&#160;&#160;Tx-PDUs.&#160;&#160;If&#160;&#160;there&#160;&#160;is&#160;&#160;any&#160;&#160;PDU&#160;&#160;which&#160;&#160;has&#160;&#160;configured&#160;&#160;the&#160;&#160;parameter&#160;<br/>MetaDataLength&#160;then&#160;this&#160;feature&#160;is&#160;enabled&#160;else&#160;disabled.&#160;&#160;<br/>
<b>3.10&#160;&#160;J1939&#160;dynamic&#160;address&#160;support&#160;</b><br/>
If&#160;&#160;this&#160;&#160;feature&#160;&#160;is&#160;&#160;enabled&#160;&#160;the&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;translates&#160;&#160;the&#160;&#160;addresses&#160;&#160;(CAN&#160;&#160;identifiers)&#160;&#160;of&#160;<br/>Rx-&#160;and&#160;Tx-PDUs&#160;according&#160;to&#160;J1939&#160;by&#160;&#160;using&#160;of&#160;dynamic&#160;&#160;address&#160;lookup&#160;tables.&#160;These&#160;<br/>tables&#160;are&#160;maintained&#160;by&#160;J1939Nm&#160;by&#160;using&#160;of&#160;following&#160;APIs:&#160;<br/>
<b>&gt;&#160;&#160;</b>CanIf_SetAddressTableEntry&#160;and&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
24&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=25></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-25_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-25_2.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>CanIf_ResetAddressTableEntry.&#160;&#160;<br/>
This&#160;&#160;feature&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;configured&#160;&#160;for&#160;&#160;each&#160;&#160;CAN&#160;&#160;channel&#160;&#160;individually&#160;&#160;by&#160;&#160;the&#160;&#160;parameter&#160;<br/>CanIfCtrlJ1939DynAddrSupport.&#160;&#160;Please&#160;&#160;consider&#160;&#160;that&#160;&#160;in&#160;&#160;case&#160;&#160;of&#160;&#160;configuration&#160;<br/>variant&#160;&#160;Post-build&#160;loadable&#160;&#160;and&#160;&#160;configuration&#160;&#160;phase&#160;&#160;Post-build&#160;&#160;the&#160;&#160;value&#160;&#160;which&#160;&#160;you&#160;&#160;can&#160;<br/>select&#160;<br/>
by&#160;<br/>
CanIfCtrlJ1939DynAddrSupport&#160;<br/>
is&#160;<br/>
limited&#160;<br/>
by&#160;<br/>
value&#160;<br/>
of&#160;<br/>
CanIfJ1939DynAddrSupport&#160;&#160;which&#160;&#160;was&#160;&#160;set&#160;&#160;at&#160;&#160;configuration&#160;&#160;phase&#160;&#160;Pre-compile.&#160;<br/>Therefore&#160;&#160;in&#160;&#160;case&#160;&#160;of&#160;&#160;configuration&#160;&#160;variant&#160;&#160;Post-build&#160;loadable&#160;&#160;please&#160;&#160;first&#160;&#160;enable&#160;&#160;this&#160;<br/>feature&#160;&#160;as&#160;&#160;far&#160;&#160;as&#160;&#160;you&#160;&#160;need&#160;&#160;at&#160;&#160;all&#160;&#160;by&#160;&#160;the&#160;&#160;parameter&#160;&#160;CanIfJ1939DynAddrSupport&#160;&#160;and&#160;<br/>then&#160;&#160;configure&#160;&#160;the&#160;&#160;channel&#160;&#160;specific&#160;&#160;parameter&#160;&#160;of&#160;&#160;this&#160;&#160;feature.&#160;&#160;In&#160;&#160;case&#160;&#160;of&#160;&#160;configuration&#160;<br/>variant&#160;Pre-compile&#160;it&#160;is&#160;only&#160;possible&#160;to&#160;configure&#160;the&#160;channel&#160;specific&#160;parameter.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>The&#160;feature&#160;J1939 dynamic address support&#160;works&#160;only&#160;if&#160;all&#160;Rx-PDUs&#160;of&#160;the&#160;<br/>
<b>&#160;&#160;</b>CAN&#160;channel&#160;at&#160;which&#160;this&#160;feature&#160;is&#160;enabled&#160;are&#160;configured&#160;as&#160;BasicCANs&#160;and&#160;if&#160;all&#160;<br/>
the&#160;corresponding&#160;hardware&#160;filters&#160;are&#160;opened&#160;completely!&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>3.11&#160;&#160;Error&#160;Notification&#160;</b><br/>
AUTOSAR&#160;&#160;specifies&#160;&#160;two&#160;&#160;mechanisms&#160;&#160;of&#160;&#160;error&#160;&#160;notification&#160;&#160;and&#160;&#160;reporting.&#160;&#160;Only&#160;&#160;DET&#160;<br/>reporting&#160;&#160;is&#160;&#160;supported&#160;&#160;by&#160;&#160;the&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;and&#160;&#160;can&#160;&#160;be&#160;&#160;activated&#160;&#160;at&#160;&#160;configuration&#160;&#160;time&#160;<br/>(Pre-compile&#160;configuration).&#160;<br/>
Development&#160;&#160;errors&#160;&#160;are&#160;&#160;reported&#160;&#160;to&#160;&#160;DET&#160;&#160;using&#160;&#160;the&#160;&#160;service&#160;&#160;Det_ReportError().This&#160;<br/>feature&#160;&#160;is&#160;&#160;normally&#160;&#160;activated&#160;&#160;during&#160;&#160;the&#160;&#160;development&#160;&#160;phase&#160;&#160;to&#160;&#160;detect&#160;&#160;fatal&#160;&#160;errors&#160;&#160;in&#160;<br/>configuration&#160;and&#160;integration&#160;of&#160;the&#160;CAN&#160;Interface&#160;with&#160;other&#160;layers.&#160;<br/>The&#160;reported&#160;CAN&#160;Interface&#160;ID&#160;is&#160;60.&#160;<br/>The&#160;&#160;reported&#160;&#160;service&#160;&#160;IDs&#160;&#160;identify&#160;&#160;the&#160;&#160;services&#160;&#160;which&#160;&#160;are&#160;&#160;described&#160;&#160;in&#160;&#160;chapter&#160;&#160;<a href="TechnicalReference_CanIfs.html#44">6.</a>&#160;&#160;The&#160;<br/>following&#160;table&#160;presents&#160;the&#160;service&#160;IDs&#160;and&#160;the&#160;related&#160;services:&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
<b>Service&#160;</b><br/>
1&#160;<br/>
CanIf_Init&#160;<br/>
2&#160;<br/>
CanIf_InitController&#160;<br/>
3&#160;<br/>
CanIf_SetControllerMode&#160;<br/>
4&#160;<br/>
CanIf_GetControllerMode&#160;<br/>
5&#160;<br/>
CanIf_Transmit&#160;<br/>
6&#160;<br/>
CanIf_ReadRxPduData&#160;<br/>
9&#160;<br/>
CanIf_SetPduMode&#160;<br/>
10&#160;<br/>
CanIf_GetPduMode&#160;<br/>
11&#160;<br/>
CanIf_GetVersionInfo&#160;<br/>
12&#160;<br/>
CanIf_SetDynamicTxId&#160;<br/>
13&#160;<br/>
CanIf_SetTrcvMode&#160;<br/>
14&#160;<br/>
CanIf_GetTrcvMode&#160;<br/>
15&#160;<br/>
CanIf_GetTrcvWakeupReason&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
25&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=26></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-26_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
<b>Service&#160;</b><br/>
16&#160;<br/>
CanIf_SetTrcvWakeupMode&#160;<br/>
17&#160;<br/>
CanIf_CheckWakeup&#160;<br/>
18&#160;<br/>
CanIf_CheckValidation&#160;<br/>
19&#160;<br/>
CanIf_TxConfirmation&#160;<br/>
20&#160;<br/>
CanIf_RxIndication&#160;<br/>
21&#160;<br/>
CanIf_CancelTxConfirmation&#160;<br/>
22&#160;<br/>
CanIf_ControllerBusoff&#160;<br/>
23&#160;<br/>
CanIf_ControllerModeIndication&#160;<br/>
24&#160;<br/>
CanIf_TrcvModeIndication&#160;<br/>
25&#160;<br/>
CanIf_GetTxConfirmationState&#160;<br/>
26&#160;<br/>
CanIf_ConfirmPnAvailability&#160;<br/>
27&#160;<br/>
CanIf_ChangeBaudrate&#160;<br/>
28&#160;<br/>
CanIf_CheckBaudrate&#160;<br/>
30&#160;<br/>
CanIf_ClearTrcvWufFlag&#160;<br/>
31&#160;<br/>
CanIf_CheckTrcvWakeFlag&#160;<br/>
32&#160;<br/>
CanIf_ClearTrcvWufFlagIndication&#160;<br/>
33&#160;<br/>
&#160;<br/>
CanIf_CheckTrcvWakeFlagIndication&#160;<br/>
39&#160;<br/>
CanIf_SetBaudrate&#160;<br/>
250&#160;<br/>
CanIf_CancelTransmit&#160;<br/>
251&#160;<br/>
CanIf_CancelTxNotification&#160;<br/>
Table&#160;3-2&#160;&#160;&#160;Mapping&#160;of&#160;service&#160;IDs&#160;to&#160;services&#160;<br/>
The&#160;errors&#160;reported&#160;to&#160;DET&#160;are&#160;described&#160;in&#160;the&#160;following&#160;table:&#160;<br/>
<b>Error&#160;Code&#160;</b><br/>
<b>Description&#160;</b><br/>
10&#160;<br/>
CANIF_E_PARAM_CANID&#160;<br/>
The&#160;error&#160;code&#160;is&#160;used&#160;if&#160;an&#160;invalid&#160;CAN&#160;identifier&#160;is&#160;<br/>passed&#160;to&#160;the&#160;CAN&#160;Interface&#160;from&#160;the&#160;CAN&#160;driver&#160;<br/>during&#160;the&#160;reception&#160;of&#160;a&#160;Rx-PDU.&#160;<br/>The&#160;error&#160;can&#160;be&#160;raised&#160;from:&#160;<br/>
-&#160;<br/>
CanIf_RxIndication&#160;<br/>
-&#160;<br/>
CanIf_SetDynamicTxId<b>&#160;</b><br/>
11&#160;<br/>
CANIF_E_PARAM_DLC&#160;<br/>
The&#160;error&#160;will&#160;be&#160;reported&#160;by&#160;<br/>
-&#160;<br/>
CanIf_RxIndication&#160;<br/>
if&#160;a&#160;DLC&#160;greater&#160;than&#160;8&#160;is&#160;passed&#160;to&#160;the&#160;CAN&#160;<br/>Interface&#160;during&#160;reception.&#160;<br/>
12&#160;<br/>
CANIF_E_PARAM_HRH&#160;<br/>
The&#160;error&#160;code&#160;is&#160;used&#160;in&#160;the&#160;function&#160;<br/>
-&#160;<br/>
CanIf_RxIndication&#160;<br/>
If&#160;an&#160;invalid&#160;hardware&#160;receive&#160;handle&#160;is&#160;passed&#160;to&#160;the&#160;<br/>CAN&#160;Interface.&#160;<br/>
13&#160;<br/>
CANIF_E_PARAM_LPDU&#160;<br/>
The&#160;error&#160;will&#160;be&#160;raised&#160;by&#160;the&#160;following&#160;functions&#160;if&#160;<br/>an&#160;unexpected&#160;PduId&#160;is&#160;passed&#160;to&#160;the&#160;function&#160;by&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
26&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=27></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-27_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>Error&#160;Code&#160;</b><br/>
<b>Description&#160;<br/></b>either&#160;the&#160;CAN&#160;Driver&#160;or&#160;the&#160;higher&#160;layer.&#160;<br/>
-&#160;<br/>
CanIf_TxConfirmation&#160;<br/>
-&#160;<br/>
CanIf_CancelTxConfirmation&#160;<br/>
-&#160;<br/>
CanIf_CancelTransmit&#160;<br/>
-&#160;<br/>
CanIf_CancelTxNotification<b>&#160;</b><br/>
14&#160;<br/>
CANIF_E_PARAM_CONTROLLER&#160;<br/>
Used&#160;by&#160;the&#160;following&#160;functions&#160;if&#160;an&#160;invalid&#160;controller&#160;<br/>index&#160;is&#160;passed:&#160;<br/>
-&#160;<br/>
CanIf_ControllerBusOff&#160;<br/>
-&#160;<br/>
CanIf_ResetBusOffStart&#160;<br/>
-&#160;<br/>
CanIf_ResetBusOffEnd&#160;<br/>
-&#160;<br/>
CanIf_ControllerModeIndication&#160;<br/>
-&#160;<br/>
CanIf_GetTxConfirmationState<b>&#160;</b><br/>
15&#160;<br/>
CANIF_E_PARAM_CONTROLLERID&#160;&#160;Used&#160;by&#160;the&#160;following&#160;functions&#160;if&#160;an&#160;invalid&#160;controller&#160;<br/>
index&#160;is&#160;passed:&#160;<br/>
-&#160;<br/>
CanIf_SetControllerMode&#160;<br/>
-&#160;<br/>
CanIf_GetControllerMode&#160;<br/>
-&#160;<br/>
CanIf_SetPduMode&#160;<br/>
-&#160;<br/>
CanIf_GetPduMode&#160;<br/>
-&#160;<br/>
CanIf_CheckBaudrate&#160;<br/>
-&#160;<br/>
CanIf_ChangeBaudrate<b>&#160;</b><br/>
-&#160;<br/>
CanIf_SetBaudrate<b>&#160;</b><br/>
16&#160;<br/>
CANIF_E_PARAM_WAKEUPSOURCE&#160;&#160;Used&#160;by&#160;the&#160;following&#160;functions&#160;if&#160;an&#160;invalid&#160;wakeup&#160;<br/>
source&#160;is&#160;passed:&#160;<br/>
-&#160;<br/>
CanIf_CheckValidation&#160;<br/>
-&#160;<br/>
CanIf_CheckWakeup<b>&#160;</b><br/>
17&#160;<br/>
CANIF_E_PARAM_TRCV&#160;<br/>
Used&#160;by&#160;the&#160;following&#160;functions&#160;if&#160;an&#160;invalid&#160;<br/>transceiver&#160;ID&#160;is&#160;passed:&#160;<br/>
-&#160;<br/>
CanIf_TrcvModeIndication&#160;<br/>
-&#160;<br/>
CanIf_GetTrcvWakeupReason&#160;<br/>
-&#160;<br/>
CanIf_GetTrcvMode&#160;<br/>
-&#160;<br/>
CanIf_SetTrcvMode&#160;<br/>
-&#160;<br/>
CanIf_SetTrcvWakeupMode&#160;<br/>
-&#160;<br/>
CanIf_ConfirmPnAvailability&#160;<br/>
-&#160;<br/>
CanIf_ClearTrcvWufFlagIndication&#160;<br/>
-&#160;<br/>
CanIf_CheckTrcvWakeFlagIndication&#160;<br/>
-&#160;<br/>
CanIf_ClearTrcvWufFlag&#160;<br/>
-&#160;<br/>
CanIf_CheckTrcvWakeFlag&#160;<br/>
18&#160;<br/>
CANIF_E_PARAM_TRCVMODE&#160;<br/>
Used&#160;by&#160;the&#160;following&#160;functions&#160;if&#160;an&#160;invalid&#160;<br/>transceiver&#160;mode&#160;is&#160;passed:&#160;<br/>
-&#160;<br/>
CanIf_SetTrcvMode&#160;<br/>
19&#160;<br/>
CANIF_E_PARAM_TRCVWAKEUPMO<br/>
Used&#160;by&#160;the&#160;following&#160;functions&#160;if&#160;an&#160;invalid&#160;<br/>
DE&#160;<br/>
transceiver&#160;wakeup&#160;mode&#160;is&#160;passed:&#160;<br/>
-&#160;<br/>
CanIf_SetTrcvWakeupMode&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
27&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=28></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-28_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>Error&#160;Code&#160;</b><br/>
<b>Description&#160;</b><br/>
20&#160;<br/>
CANIF_E_PARAM_POINTER&#160;<br/>
The&#160;error&#160;is&#160;raised&#160;if&#160;a&#160;NULL&#160;pointer&#160;is&#160;passed&#160;to&#160;one&#160;<br/>of&#160;the&#160;following&#160;functions:&#160;<br/>
-&#160;<br/>
CanIf_Init&#160;<br/>
-&#160;<br/>
CanIf_GetControllerMode&#160;<br/>
-&#160;<br/>
CanIf_Transmit&#160;<br/>
-&#160;<br/>
CanIf_RxIndication&#160;<br/>
-&#160;<br/>
CanIf_GetPduMode&#160;<br/>
-&#160;<br/>
CanIf_GetVersionInfo&#160;<br/>
-&#160;<br/>
CanIf_GetTrcvWakeupReason&#160;<br/>
-&#160;<br/>
CanIf_GetTrcvMode&#160;<br/>
-&#160;<br/>
CanIf_CancelTxConfirmation&#160;<br/>
21&#160;<br/>
CANIF_E_PARAM_CTRLMODE&#160;<br/>
The&#160;error&#160;is&#160;raised&#160;if&#160;an&#160;invalid&#160;parameter&#160;<br/>ControllerMode&#160;is&#160;passed&#160;to&#160;the&#160;function:&#160;<br/>
-&#160;<br/>
CanIf_SetControllerMode&#160;<br/>
30&#160;<br/>
CANIF_E_UNINIT&#160;<br/>
The&#160;error&#160;is&#160;raised&#160;if&#160;one&#160;of&#160;the&#160;following&#160;API&#160;<br/>functions&#160;is&#160;called&#160;before&#160;the&#160;CAN&#160;Interface&#160;is&#160;<br/>initialized:&#160;<br/>
-&#160;<br/>
CanIf_InitController&#160;<br/>
-&#160;<br/>
CanIf_Transmit&#160;<br/>
-&#160;<br/>
CanIf_TxConfirmation&#160;<br/>
-&#160;<br/>
CanIf_RxIndication&#160;<br/>
-&#160;<br/>
CanIf_ControllerBusOff&#160;<br/>
-&#160;<br/>
CanIf_SetPduMode&#160;<br/>
-&#160;<br/>
CanIf_GetPduMode&#160;<br/>
-&#160;<br/>
CanIf_CancelTxConfirmation&#160;<br/>
-&#160;<br/>
CanIf_CheckWakeup&#160;<br/>
-&#160;<br/>
CanIf_CheckValidation&#160;<br/>
-&#160;<br/>
CanIf_GetTrcvWakeupReason&#160;<br/>
-&#160;<br/>
CanIf_SetTrcvWakeupMode&#160;<br/>
-&#160;<br/>
CanIf_ControllerModeIndication&#160;<br/>
-&#160;<br/>
CanIf_SetDynamicTxId&#160;<br/>
-&#160;<br/>
CanIf_TrcvModeIndication&#160;<br/>
-&#160;<br/>
CanIf_SetControllerMode&#160;<br/>
-&#160;<br/>
CanIf_GetControllerMode&#160;<br/>
-&#160;<br/>
CanIf_CancelTxNotification&#160;<br/>
-&#160;<br/>
CanIf_SetTrcvMode&#160;<br/>
-&#160;<br/>
CanIf_GetTrcvMode&#160;<br/>
-&#160;<br/>
CanIf_CancelTransmit&#160;<br/>
-&#160;<br/>
CanIf_ConfirmPnAvailability&#160;<br/>
-&#160;<br/>
CanIf_ClearTrcvWufFlagIndication&#160;<br/>
-&#160;<br/>
CanIf_CheckTrcvWakeFlagIndication&#160;<br/>
-&#160;<br/>
CanIf_ClearTrcvWufFlag&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
28&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=29></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-29_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-29_2.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>Error&#160;Code&#160;</b><br/>
<b>Description&#160;</b><br/>
-&#160;<br/>
CanIf_CheckTrcvWakeFlag&#160;<br/>
-&#160;<br/>
CanIf_GetTxConfirmationState&#160;<br/>
-&#160;<br/>
CanIf_CheckBaudrate&#160;<br/>
-&#160;<br/>
CanIf_ChangeBaudrate<b>&#160;</b><br/>
-&#160;<br/>
CanIf_SetBaudrate<b>&#160;</b><br/>
40&#160;<br/>
CANIF_E_NOK_NOSUPPORT&#160;<br/>
Not&#160;used.&#160;<br/>
50&#160;<br/>
CANIF_E_INVALID_TXPDUID&#160;<br/>
Used&#160;by&#160;the&#160;following&#160;functions&#160;if&#160;an&#160;invalid&#160;Tx&#160;PDU&#160;<br/>ID&#160;is&#160;passed:&#160;<br/>
-&#160;<br/>
CanIf_CancelTransmit&#160;<br/>
-&#160;<br/>
CanIf_SetDynamicTxId&#160;<br/>
-&#160;<br/>
CanIf_Transmit&#160;<br/>
61&#160;<br/>
CANIF_E_INVALID_DLC&#160;<br/>
Used&#160;by&#160;the&#160;function&#160;CanIf_HlIndication&#160;if&#160;the&#160;<br/>received&#160;DLC&#160;is&#160;smaller&#160;than&#160;the&#160;configured&#160;one.&#160;<b>&#160;</b><br/>
70&#160;<br/>
CANIF_E_STOPPED&#160;<br/>
Used&#160;by&#160;the&#160;function&#160;CanIf_Transmit&#160;if&#160;the&#160;<br/>function&#160;is&#160;called&#160;while&#160;either&#160;the&#160;controller&#160;mode&#160;is&#160;<br/>STOPPED&#160;or&#160;the&#160;PDU&#160;mode&#160;is&#160;OFFLINE.&#160;<b>&#160;</b><br/>
71&#160;<br/>
CANIF_E_NOT_SLEEP&#160;<br/>
Used&#160;by&#160;the&#160;function&#160;CanIf_CheckWakeup&#160;if&#160;the&#160;<br/>function&#160;is&#160;called&#160;while&#160;the&#160;controller&#160;mode&#160;is&#160;not&#160;<br/>SLEEP&#160;or&#160;STOPPED.&#160;<b>&#160;</b><br/>
Additionally&#160;defined&#160;error&#160;codes&#160;(not&#160;AUTOSAR&#160;compliant)&#160;<br/>45&#160;<br/>
CANIF_E_CONFIG &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;<br/>
The&#160;error&#160;c&#160;&#160;<br/>
ode&#160;CANIF_E_CONFIG&#160;is&#160;used&#160;to&#160;detect&#160;<br/>
inconsistent&#160;&#160;data&#160;&#160;in&#160;&#160;the&#160;&#160;generated&#160;&#160;files&#160;&#160;due&#160;&#160;to&#160;<br/>misconfiguration.&#160;&#160;<br/>
The&#160;&#160;error&#160;&#160;can&#160;&#160;be&#160;&#160;raised&#160;&#160;in&#160;&#160;context&#160;&#160;of&#160;&#160;following&#160;<br/>functions:&#160;<br/>
-&#160;&#160;CanIf_RxIndication<b>&#160;</b><br/>
51&#160;<br/>
CANIF_E_FULL_TX_BUFFER_FIFO&#160;&#160;The&#160;&#160;error&#160;&#160;code&#160;&#160;informs&#160;&#160;that&#160;&#160;the&#160;&#160;transmit-buffer&#160;&#160;of&#160;<br/>
handling&#160;&#160;type&#160;&#160;FIFO&#160;&#160;is&#160;&#160;full&#160;&#160;and&#160;&#160;that&#160;&#160;no&#160;&#160;further&#160;<br/>Tx-PDUs&#160;can&#160;be&#160;buffered&#160;within.&#160;<br/>
The&#160;&#160;error&#160;&#160;can&#160;&#160;be&#160;&#160;raised&#160;&#160;in&#160;&#160;context&#160;&#160;of&#160;&#160;following&#160;<br/>functions:&#160;<br/>
-&#160;<br/>
CanIf_Transmit&#160;<br/>
&#160;<br/>Table&#160;3-3&#160;&#160;&#160;Errors&#160;reported&#160;to&#160;DET&#160;<br/>
<b>Caution&#160;<br/></b>If&#160;the&#160;development&#160;error&#160;detection&#160;is&#160;disabled&#160;not&#160;only&#160;the&#160;reporting&#160;of&#160;the&#160;errors&#160;is&#160;<br/>
&#160;<br/>
suppressed&#160;but&#160;also&#160;the&#160;detection&#160;i.e.&#160;the&#160;verification&#160;of&#160;valid&#160;function&#160;parameters.&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
29&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=30></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-30_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>3.12&#160;&#160;Transceiver&#160;handling&#160;</b><br/>
The&#160;CAN&#160;Interface&#160;provides&#160;APIs&#160;and&#160;call&#160;back&#160;functions&#160;to&#160;control&#160;as&#160;many&#160;transceivers&#160;<br/>as&#160;&#160;CAN&#160;&#160;controllers&#160;&#160;are&#160;&#160;available&#160;&#160;in&#160;&#160;the&#160;&#160;system.&#160;&#160;The&#160;&#160;transceiver&#160;&#160;handling&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;<br/>activated&#160;at&#160;pre-compile&#160;time.&#160;<br/>The&#160;CAN&#160;Interface&#160;provides&#160;the&#160;following&#160;functions&#160;for&#160;higher&#160;layers&#160;to&#160;control&#160;the&#160;behavior&#160;<br/>of&#160;the&#160;transceiver.&#160;&#160;<br/><b>&#160;&#160;</b>CanIf_SetTrcvMode()&#160;<br/>
<b>&#160;&#160;</b>CanIf_TrcvModeIndication()&#160;<br/>
<b>&#160;&#160;</b>CanIf_GetTrcvMode()&#160;<br/>
<b>&#160;&#160;</b>CanIf_GetTrcvWakeupReason()&#160;<br/>
<b>&#160;&#160;</b>CanIf_SetTrcvWakeupMode()&#160;<br/>
Additionally&#160;the&#160;following&#160;APIs&#160;are&#160;provided&#160;in&#160;order&#160;to&#160;control&#160;a&#160;partial&#160;networking&#160;CAN&#160;<br/>transceiver.&#160;<br/>
<b>&#160;&#160;</b>CanIf_CheckTrcvWakeFlag()&#160;<br/>
<b>&#160;&#160;</b>CanIf_CheckTrcvWakeFlagIndication()&#160;<br/>
<b>&#160;&#160;</b>CanIf_ClearTrcvWufFlag()&#160;<br/>
<b>&#160;&#160;</b>CanIf_ClearTrcvWufFlagIndication()&#160;<br/>
<b>&#160;&#160;</b>CanIf_ConfirmPnAvailability()&#160;<br/>
&#160;<br/>
The&#160;initialization&#160;of&#160;the&#160;transceiver&#160;driver&#160;itself&#160;is&#160;not&#160;executed&#160;by&#160;the&#160;CAN&#160;Interface.&#160;This&#160;<br/>means&#160;the&#160;calling&#160;layer&#160;has&#160;to&#160;make&#160;sure&#160;the&#160;transceiver&#160;driver&#160;is&#160;initialized&#160;before&#160;using&#160;<br/>the&#160;listed&#160;API&#160;functions.&#160;<br/>If&#160;&#160;more&#160;&#160;than&#160;&#160;one&#160;&#160;different&#160;&#160;transceiver&#160;&#160;driver&#160;&#160;is&#160;&#160;used&#160;&#160;in&#160;&#160;the&#160;&#160;system&#160;&#160;the&#160;&#160;CAN&#160;&#160;Interface&#160;<br/>provides&#160;a&#160;mapping&#160;to&#160;address&#160;the&#160;correct&#160;transceiver&#160;driver&#160;with&#160;the&#160;correct&#160;parameters.&#160;<br/>The&#160;&#160;parameter&#160;&#160;CanIfTransceiverMapping&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;activated&#160;&#160;to&#160;&#160;control&#160;&#160;more&#160;&#160;than&#160;<br/>one&#160;transceiver&#160;driver.&#160;&#160;<br/>
It&#160;&#160;is&#160;&#160;also&#160;&#160;allowed&#160;&#160;to&#160;&#160;activate&#160;&#160;the&#160;&#160;parameter&#160;&#160;CanIfTransceiverMapping&#160;&#160;if&#160;&#160;only&#160;&#160;one&#160;<br/>transceiver&#160;driver&#160;is&#160;used&#160;in&#160;the&#160;system.&#160;Because&#160;of&#160;additional&#160;runtime&#160;it&#160;is&#160;suggested&#160;to&#160;<br/>deactivate&#160;this&#160;feature&#160;in&#160;this&#160;use&#160;case.&#160;<br/>The&#160;CAN&#160;Interface&#160;supports&#160;the&#160;detection&#160;of&#160;wake&#160;up&#160;events&#160;raised&#160;by&#160;a&#160;transceiver.&#160;The&#160;<br/>feature&#160;“Wakeup&#160;Support”&#160;has&#160;to&#160;be&#160;activated&#160;and&#160;a&#160;wakeup&#160;source&#160;has&#160;to&#160;be&#160;configured&#160;<br/>for&#160;the&#160;corresponding&#160;transceiver&#160;channel.&#160;<br/>
Within&#160;the&#160;API&#160;CanIf_CheckWakeup()&#160;the&#160;CAN&#160;Interface&#160;analyses&#160;the&#160;passed&#160;wakeup&#160;<br/>source&#160;parameter&#160;and&#160;decides&#160;whether&#160;a&#160;CAN&#160;Controller&#160;or&#160;a&#160;CAN&#160;Transceiver&#160;has&#160;to&#160;be&#160;<br/>requested&#160;for&#160;a&#160;pending&#160;wake&#160;up&#160;event.&#160;<br/>For&#160;more&#160;details&#160;refer&#160;to&#160;the&#160;chapte<a href="TechnicalReference_CanIfs.html#31">r&#160;3.13&#160;Sleep&#160;/&#160;WakeUp.</a>&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
30&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=31></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-31_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-31_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-31_3.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-31_4.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-31_5.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-31_6.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-31_7.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-31_8.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-31_9.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-31_10.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>3.13&#160;&#160;Sleep&#160;/&#160;WakeUp&#160;</b><br/>
The&#160;CAN&#160;Interface&#160;controls&#160;the&#160;modes&#160;of&#160;the&#160;underlying&#160;CAN&#160;driver&#160;and&#160;transceiver&#160;driver.&#160;&#160;<br/>
The&#160;API&#160;CanIf_SetControllerMode()&#160;has&#160;to&#160;be&#160;used&#160;to&#160;change&#160;the&#160;mode&#160;of&#160;the&#160;CAN&#160;<br/>controller&#160;&#160;while&#160;&#160;the&#160;&#160;CAN&#160;&#160;transceiver&#160;&#160;can&#160;&#160;be&#160;&#160;controlled&#160;&#160;with&#160;&#160;the&#160;&#160;API&#160;<br/>CanIf_SetTrcvMode().&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>Caution&#160;<br/></b>The&#160;CAN&#160;Interface&#160;itself&#160;does&#160;not&#160;perform&#160;any&#160;checks&#160;whether&#160;the&#160;CAN&#160;controller&#160;and&#160;<br/>the&#160;CAN&#160;transceiver&#160;are&#160;set&#160;to&#160;sleep&#160;consistently&#160;and&#160;in&#160;the&#160;correct&#160;sequence.&#160;It&#160;is&#160;up&#160;to&#160;<br/>
&#160;<br/>
the&#160;higher&#160;layer&#160;to&#160;call&#160;CanIf_SetControllerMode()&#160;and&#160;CanIf_SetTrcvMode()&#160;<br/>in&#160;the&#160;correct&#160;sequence.&#160;&#160;<br/>
&#160;<br/>
Wake&#160;up&#160;events&#160;can&#160;be&#160;raised&#160;either&#160;by&#160;the&#160;CAN&#160;controller&#160;or&#160;by&#160;the&#160;CAN&#160;transceiver.&#160;In&#160;<br/>both&#160;cases&#160;the&#160;CAN&#160;Interface&#160;is&#160;not&#160;directly&#160;informed&#160;about&#160;state&#160;changes.&#160;This&#160;means&#160;the&#160;<br/>higher&#160;&#160;layers&#160;&#160;(normally&#160;&#160;the&#160;&#160;EcuM)&#160;&#160;has&#160;&#160;to&#160;&#160;call&#160;&#160;the&#160;&#160;API&#160;&#160;CanIf_CheckWakeup()with&#160;&#160;the&#160;<br/>wakeup&#160;sources&#160;configured&#160;for&#160;CAN&#160;transceiver&#160;or&#160;CAN&#160;controller&#160;(1).&#160;<br/>The&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;decides&#160;&#160;by&#160;&#160;analyzing&#160;&#160;the&#160;&#160;passed&#160;&#160;wakeup&#160;&#160;source&#160;&#160;whether&#160;&#160;the&#160;&#160;CAN&#160;<br/>controller&#160;or&#160;the&#160;CAN&#160;transceiver&#160;driver&#160;has&#160;to&#160;be&#160;checked&#160;for&#160;a&#160;pending&#160;wakeup&#160;(2&#160;or&#160;2’).&#160;&#160;<br/>The&#160;following&#160;figure&#160;illustrates&#160;the&#160;described&#160;wake&#160;up&#160;sequence:&#160;<br/>
EcuM&#160;<br/>
1.&#160;CanIf_CheckWakeup&#160;&#160;<br/>
3.&#160;Returns&#160;E_OK/E_NOT_OK&#160;&#160;<br/>
&#160; &#160; &#160;&#160;(wakeupsource)&#160;<br/>
&#160; &#160; &#160;&#160;<br/>
CanIf&#160;<br/>
2.&#160;Can_CheckWakeup&#160;<br/>
2’.&#160;CanTrcv_CheckWakeup&#160;<br/>
&#160; &#160; &#160; &#160;(controller)&#160;<br/>
&#160; &#160; &#160;&#160;(transceiver)&#160;<br/>&#160;<br/>
Can&#160;Driver&#160;<br/>
Can&#160;<br/>
Transceiver&#160;<br/>
&#160;<br/>
&#160;<br/>
Figure&#160;3-4&#160;&#160;Wake&#160;up&#160;sequence&#160;(No&#160;validation)&#160;<br/>
If&#160;&#160;the&#160;&#160;parameter&#160;&#160;“CanIfPublicWakeupCheckValidSupport”&#160;&#160;is&#160;&#160;enabled&#160;&#160;the&#160;&#160;following&#160;&#160;figure&#160;<br/>shows&#160;the&#160;sequence&#160;which&#160;has&#160;to&#160;be&#160;executed&#160;for&#160;a&#160;valid&#160;wake&#160;up.&#160;Steps&#160;1&#160;to&#160;3&#160;take&#160;place&#160;<br/>as&#160;described&#160;above.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
31&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=32></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-32_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
After&#160;the&#160;call&#160;of&#160;EcuM_SetWakeupEvent()&#160;the&#160;CAN&#160;Interface&#160;has&#160;to&#160;be&#160;set&#160;to&#160;the&#160;state&#160;<br/>CANIF_CS_STARTED&#160;to&#160;be&#160;able&#160;to&#160;receive&#160;messages.&#160;These&#160;messages&#160;won’t&#160;be&#160;passed&#160;<br/>to&#160;upper&#160;layers&#160;by&#160;the&#160;CAN&#160;Interface&#160;because&#160;the&#160;PDU-mode&#160;is&#160;still&#160;set&#160;to&#160;OFFLINE.&#160;The&#160;<br/>state&#160;change&#160;which&#160;sets&#160;the&#160;CAN&#160;Interface&#160;to&#160;the&#160;mode&#160;STARTED&#160;has&#160;to&#160;be&#160;realized&#160;by&#160;the&#160;<br/>call&#160;of&#160;the&#160;API&#160;CanIf_SetControllerMode()&#160;with&#160;mode&#160;CANIF_CS_STARTED&#160;(5)&#160;from&#160;<br/>the&#160;&#160;function&#160;&#160;EcuM_StartWakeupSources()&#160;&#160;(4).&#160;&#160;If&#160;&#160;the&#160;&#160;wake&#160;&#160;up&#160;&#160;was&#160;&#160;detected&#160;&#160;by&#160;&#160;the&#160;<br/>transceiver&#160;&#160;the&#160;&#160;CAN&#160;&#160;controller&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;woken&#160;&#160;up&#160;&#160;internally.&#160;&#160;This&#160;&#160;means&#160;&#160;the&#160;&#160;call&#160;<br/>CanIf_SetControllerMode()&#160;&#160;with&#160;&#160;mode&#160;&#160;CANIF_CS_STOPPED&#160;&#160;is&#160;&#160;necessary&#160;&#160;in&#160;&#160;(5)&#160;<br/>before&#160;the&#160;transition&#160;to&#160;mode&#160;STARTED&#160;is&#160;executed.&#160;<br/>
If&#160;the&#160;wake&#160;up&#160;is&#160;initiated&#160;by&#160;the&#160;CAN&#160;controller&#160;the&#160;corresponding&#160;transceiver&#160;channel&#160;has&#160;<br/>to&#160;be&#160;set&#160;to&#160;mode&#160;NORMAL&#160;and&#160;the&#160;CAN&#160;controller&#160;has&#160;to&#160;be&#160;set&#160;to&#160;mode&#160;STARTED.&#160;<br/>
If&#160;the&#160;wake&#160;up&#160;is&#160;initiated&#160;by&#160;a&#160;transceiver&#160;channel&#160;the&#160;CAN&#160;controller&#160;has&#160;to&#160;be&#160;woken&#160;up&#160;<br/>internally.&#160;&#160;This&#160;&#160;means&#160;&#160;an&#160;&#160;additional&#160;&#160;call&#160;&#160;of&#160;&#160;CanIf_SetControllerMode()&#160;&#160;with&#160;&#160;mode&#160;<br/>CANIF_CS_STOPPED&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;executed&#160;&#160;to&#160;&#160;wake&#160;&#160;up&#160;&#160;the&#160;&#160;CAN&#160;&#160;controller&#160;&#160;before&#160;&#160;the&#160;<br/>transition&#160;to&#160;mode&#160;STARTED&#160;is&#160;initiated.&#160;(Depending&#160;on&#160;the&#160;behavior&#160;of&#160;the&#160;transceiver&#160;the&#160;<br/>CAN&#160;controller&#160;and&#160;the&#160;configuration&#160;itself&#160;it&#160;is&#160;possible&#160;to&#160;wake&#160;up&#160;both&#160;the&#160;CAN&#160;controller&#160;<br/>and&#160;the&#160;transceiver&#160;channel&#160;externally.)&#160;<br/>Next&#160;&#160;the&#160;&#160;EcuM&#160;&#160;starts&#160;&#160;a&#160;&#160;time&#160;&#160;out&#160;&#160;for&#160;&#160;the&#160;&#160;wake&#160;&#160;up&#160;&#160;validation.&#160;This&#160;&#160;means&#160;&#160;if&#160;&#160;a&#160;&#160;message&#160;&#160;is&#160;<br/>received&#160;within&#160;this&#160;timeout&#160;(6)&#160;the&#160;call&#160;of&#160;CanIf_CheckValidation()&#160;executed&#160;by&#160;the&#160;<br/>EcuM&#160;(7)&#160;will&#160;result&#160;in&#160;a&#160;successful&#160;validation.&#160;The&#160;CAN&#160;Interface&#160;checks&#160;for&#160;a&#160;recent&#160;Rx&#160;<br/>event&#160;&#160;(6)&#160;&#160;which&#160;&#160;occurred&#160;&#160;after&#160;&#160;the&#160;&#160;wake&#160;&#160;up&#160;&#160;and&#160;&#160;notifies&#160;&#160;the&#160;&#160;EcuM&#160;&#160;by&#160;&#160;calling&#160;&#160;of&#160;<br/>EcuM_ValidationWakeupEvent().&#160;<br/>
If&#160;there&#160;is&#160;no&#160;message&#160;reception&#160;after&#160;(5)&#160;the&#160;function&#160;&#160;CanIf_CheckValidation()&#160;has&#160;<br/>been&#160;called&#160;no&#160;successful&#160;wake&#160;up&#160;validation&#160;won’t&#160;be&#160;notified&#160;&#160;and&#160;the&#160;EcuM&#160;will&#160;run&#160;into&#160;<br/>a&#160;timeout.&#160;In&#160;this&#160;case&#160;the&#160;EcuM&#160;calls&#160;&#160;EcuM_StopWakeupSources()&#160;(8’)&#160;and&#160;the&#160;&#160;CAN&#160;<br/>Driver&#160;and&#160;CAN&#160;transceiver&#160;have&#160;to&#160;be&#160;set&#160;to&#160;mode&#160;SLEEP&#160;again.&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
32&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=33></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-33_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-33_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-33_3.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-33_4.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-33_5.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-33_6.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-33_7.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-33_8.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-33_9.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-33_10.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
8’.&#160;EcuM_StopWakeupSources(wakeupsource)&#160;<br/>
&#160;CanIf_SetControllerMode(controller,&#160;<br/>
4.&#160;&#160;<br/>
EcuM&#160;<br/>
CANIF_CS_STOPPED)&#160;<br/>
EcuM_StartWakeupSources<br/>
CanIf_SetControllerMode(controller,&#160;<br/>
(wakeupsource)&#160;<br/>
CANIF_CS_SLEEP)&#160;<br/>&#160;CanIf_SetTrcvMode(transceiver,&#160;<br/>CANTRCV_TRCV_MODE_STANDBY)&#160;<br/>
7.&#160;<br/>
8.&#160;<br/>
CanIf_CheckValidation&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br/>
EcuM_ValidateWakeupEvent&#160;<br/>
(wakeupsource)&#160;<br/>
&#160; &#160; &#160;(wakeupsource)&#160;<br/>
5.&#160;&#160;&#160;<br/>&#160;CanIf_SetTrcvMode&#160;(transceiver,&#160;<br/>CANTRCV_TRCV_MODE_NORMAL)&#160;<br/>
CanIf&#160;<br/>
[ &#160;&#160;CanIf_SetControllerMode&#160;(controller,&#160;<br/>CANIF_CS_STOPPED)&#160;&#160;&#160;&#160;]&#160;<br/>&#160;CanIf_SetControllerMode&#160;(controller,&#160;<br/>CANIF_CS_STARTED)&#160;<br/>&#160;<br/>
6.&#160;Rx&#160;message&#160;received&#160;<br/>(not&#160;passed&#160;to&#160;upper&#160;layers&#160;yet)&#160;<br/>CanIf_RxIndication(…)&#160;<br/>
Can&#160;Driver&#160;<br/>
&#160;<br/>
Figure&#160;3-5&#160;&#160;Wake&#160;up&#160;sequence&#160;(Wakeup&#160;validation)&#160;<br/>
During&#160;the&#160;wake&#160;up&#160;sequence&#160;as&#160;well&#160;as&#160;during&#160;the&#160;transition&#160;to&#160;mode&#160;SLEEP,&#160;the&#160;higher&#160;<br/>layers&#160;&#160;have&#160;&#160;to&#160;&#160;take&#160;&#160;care&#160;&#160;about&#160;&#160;the&#160;&#160;sequence&#160;&#160;of&#160;&#160;the&#160;&#160;state&#160;&#160;transitions&#160;&#160;affecting&#160;&#160;the&#160;&#160;CAN&#160;<br/>controller&#160;(CAN&#160;driver)&#160;and&#160;the&#160;Transceiver&#160;driver.&#160;<br/>Since&#160;ASR4.0R3&#160;it&#160;is&#160;configurable&#160;on&#160;whether&#160;only&#160;a&#160;received&#160;CanNm-message&#160;is&#160;able&#160;to&#160;<br/>do&#160;the&#160;validation.&#160;<br/>
&#160;<br/>
<b>3.14&#160;&#160;Bus&#160;Off&#160;</b><br/>
The&#160;CAN&#160;Interface&#160;handles&#160;bus&#160;off&#160;events&#160;notified&#160;by&#160;the&#160;CAN&#160;Driver&#160;in&#160;interrupt&#160;driven&#160;or&#160;<br/>polling&#160;systems.&#160;If&#160;a&#160;bus&#160;off&#160;event&#160;is&#160;raised&#160;the&#160;CAN&#160;Driver&#160;forwards&#160;it&#160;to&#160;the&#160;CAN&#160;Interface&#160;<br/>by&#160;calling&#160;the&#160;function&#160;CanIf_ControllerBusOff().&#160;<br/>
The&#160;CAN&#160;Interface&#160;switches&#160;its&#160;internal&#160;controller&#160;state&#160;from&#160;STARTED&#160;to&#160;STOPPED&#160;and&#160;the&#160;<br/>PDU&#160;mode&#160;is&#160;set&#160;to&#160;OFFLINE.&#160;<br/>
In&#160;&#160;this&#160;&#160;state&#160;&#160;no&#160;&#160;reception&#160;&#160;and&#160;&#160;no&#160;&#160;transmission&#160;&#160;is&#160;&#160;possible&#160;&#160;until&#160;&#160;the&#160;&#160;CAN&#160;&#160;Interface’s&#160;<br/>controller&#160;state&#160;and&#160;as&#160;a&#160;result&#160;the&#160;CAN&#160;Controller’s&#160;bus&#160;off&#160;state&#160;is&#160;recovered&#160;by&#160;the&#160;call&#160;of&#160;<br/>the&#160;&#160;function&#160;&#160;CanIf_SetControllerMode()&#160;&#160;for&#160;&#160;the&#160;&#160;affected&#160;&#160;channel&#160;&#160;by&#160;&#160;the&#160;&#160;higher&#160;<br/>layer.&#160;<br/>After&#160;&#160;the&#160;&#160;controller&#160;&#160;state&#160;&#160;is&#160;&#160;switched&#160;&#160;the&#160;&#160;bus&#160;&#160;off&#160;&#160;state&#160;&#160;is&#160;&#160;recovered.&#160;&#160;For&#160;&#160;successful&#160;<br/>reception&#160;and&#160;transmission&#160;the&#160;PDU&#160;mode&#160;has&#160;to&#160;be&#160;switched&#160;to&#160;RX_ONLINE,&#160;TX_ONLINE&#160;<br/>or&#160;ONLINE&#160;by&#160;the&#160;higher&#160;layer.&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
33&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=34></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-34_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-34_2.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>3.15&#160;&#160;Version&#160;Info&#160;</b><br/>
The&#160;version&#160;of&#160;the&#160;CAN&#160;Interface&#160;module&#160;can&#160;be&#160;acquired&#160;in&#160;three&#160;different&#160;ways.&#160;The&#160;first&#160;<br/>possibility&#160;is&#160;by&#160;calling&#160;of&#160;the&#160;function&#160;CanIf_GetVersionInfo().&#160;This&#160;function&#160;returns&#160;<br/>the&#160;&#160;module’s&#160;&#160;version&#160;&#160;in&#160;&#160;the&#160;&#160;structure&#160;&#160;Std_VersionInfoType&#160;&#160;which&#160;&#160;includes&#160;&#160;the&#160;<br/>VendorID&#160;and&#160;the&#160;ModuleID&#160;additionally.&#160;&#160;<br/>The&#160;second&#160;possibility&#160;is&#160;the&#160;access&#160;of&#160;version&#160;defines&#160;which&#160;are&#160;specified&#160;in&#160;the&#160;header&#160;<br/>file&#160;CanIf.h.&#160;<br/>
The&#160;following&#160;defines&#160;can&#160;be&#160;evaluated&#160;to&#160;access&#160;different&#160;versions:&#160;<br/><b>&#160;&#160;AUTOSAR version:&#160;</b><br/>
<b>&#160;&#160;</b>CANIF_AR_RELEASE_MAJOR_VERSION&#160;<br/>
<b>&#160;&#160;</b>CANIF_AR_RELEASE_MINOR_VERSION&#160;<br/>
<b>&#160;&#160;</b>CANIF_AR_RELEASE_PATCH_VERSION&#160;<br/>
<b>&#160;&#160;Module version:&#160;</b><br/>
<b>&#160;&#160;</b>CANIF_SW_MAJOR_VERSION&#160;<br/>
<b>&#160;&#160;</b>CANIF_SW_MINOR_VERSION&#160;<br/>
<b>&#160;&#160;</b>CANIF_SW_PATCH_VERSION&#160;<br/>
<b>&#160;&#160;Module ID:&#160;</b><br/>
<b>&#160;&#160;</b>CANIF_MODULE_ID&#160;<br/>
<b>&#160;&#160;Vendor ID:&#160;</b><br/>
<b>&#160;&#160;</b>CANIF_VENDOR_ID&#160;<br/>
&#160;<br/>
There&#160;is&#160;a&#160;third&#160;possibility&#160;to&#160;at&#160;least&#160;acquire&#160;the&#160;SW&#160;version&#160;by&#160;accessing&#160;globally&#160;visible&#160;<br/>constants:&#160;<br/><b>&#160;&#160;</b>CanIf_MainVersion&#160;&#160;<br/>
<b>&#160;&#160;</b>CanIf_SubVersion&#160;<br/>
<b>&#160;&#160;</b>CanIf_ReleaseVersion&#160;<br/>
&#160;<br/>
<b>Info</b>&#160;<br/>The&#160;API&#160;CanIf_GetVersionInfo()&#160;is&#160;only&#160;available&#160;if&#160;enabled&#160;at&#160;Pre-compile&#160;<br/>
&#160;<br/>
time.&#160;The&#160;definitions&#160;can&#160;be&#160;accessed&#160;independent&#160;of&#160;the&#160;configuration.&#160;<br/>
&#160;<br/>
<b>3.16&#160;&#160;Partial&#160;Networking&#160;</b><br/>
This&#160;feature&#160;consists&#160;of&#160;two&#160;sub-features:&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
34&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=35></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-35_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-35_2.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>&#160;&#160;</b>Wakeup&#160;Tx-PDU&#160;filter&#160;(parameter:&#160;CanIfPnWakeupTxPduFilterSupport)&#160;<br/>
<b>&#160;&#160;</b>Handling&#160;of&#160;a&#160;partial&#160;networking&#160;transceiver&#160;(parameter:&#160;<br/>
CanIfPnTrcvHandlingSupport)&#160;<br/>
The&#160;&#160;mentioned&#160;&#160;sub-features&#160;&#160;can&#160;&#160;be&#160;&#160;used&#160;&#160;only&#160;&#160;if&#160;&#160;the&#160;&#160;attribute&#160;&#160;CanIfPublicPnSupport&#160;<br/>is&#160;enabled.&#160;See&#160;the&#160;following&#160;table&#160;for&#160;more&#160;information&#160;about&#160;mentioned&#160;sub-features.&#160;<br/>
<b>Feature&#160;</b><br/>
<b>Description&#160;</b><br/>
CanIfPnWakeupTxPduFilterSupport&#160;&#160;Tx-PDU&#160;&#160;filter&#160;&#160;which&#160;&#160;is&#160;&#160;activated&#160;&#160;if&#160;&#160;the&#160;&#160;PDU&#160;<br/>
mode&#160;<br/>
is&#160;<br/>
changed&#160;<br/>
either&#160;<br/>
to&#160;<br/>
CANIF_SET_ONLINE_WU_FILTER&#160;<br/>
or&#160;<br/>
to&#160;<br/>
CANIF_SET_TX_ONLINE_WU_FILTER.&#160;<br/>
This&#160;<br/>
filter&#160;&#160;is&#160;&#160;active&#160;&#160;until&#160;&#160;the&#160;&#160;first&#160;&#160;Tx-confirmation&#160;&#160;/&#160;<br/>Rx-indication&#160;&#160;of&#160;&#160;the&#160;&#160;corresponding&#160;&#160;CAN&#160;<br/>channel&#160;&#160;arrives.&#160;&#160;Only&#160;&#160;certain&#160;&#160;Tx-PDUs&#160;&#160;which&#160;<br/>are&#160;&#160;labeled&#160;&#160;as&#160;&#160;Tx&#160;&#160;wakeup&#160;&#160;filter&#160;&#160;PDUs&#160;&#160;(s.&#160;<br/>parameter&#160;&#160;CanIfTxPduPnFilterPdu)&#160;&#160;can&#160;<br/>pass&#160;the&#160;filter.&#160;All&#160;Tx-requests&#160;of&#160;other&#160;Tx-PDUs&#160;<br/>are&#160;&#160;refused&#160;&#160;by&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;until&#160;&#160;the&#160;&#160;filter&#160;&#160;is&#160;<br/>disabled.&#160;<br/>
CanIfPnTrcvHandlingSupport&#160;<br/>
Handling&#160;of&#160;a&#160;partial&#160;networking&#160;transceiver&#160;&#160;<br/>
Table&#160;3-4&#160;<br/>
Sub-features&#160;of&#160;feature&#160;Partial&#160;Networking&#160;<br/>
The&#160;parameter&#160;CanIfPnTrcvHandlingSupport&#160;is&#160;enabled&#160;automatically&#160;if&#160;at&#160;least&#160;one&#160;<br/>underlying&#160;&#160;transceiver&#160;&#160;driver&#160;&#160;supports&#160;&#160;partial&#160;&#160;networking.&#160;&#160;In&#160;&#160;case&#160;&#160;of&#160;&#160;using&#160;&#160;the&#160;&#160;feature&#160;<br/>CanIfPnWakeupTxPduFilterSupport&#160;the&#160;Tx-PDUs&#160;which&#160;are&#160;allowed&#160;to&#160;pass&#160;the&#160;filter&#160;<br/>have&#160;to&#160;be&#160;configured&#160;accordingly.&#160;This&#160;kind&#160;of&#160;configuration&#160;can&#160;be&#160;performed&#160;individually&#160;<br/>for&#160;every&#160;Tx-PDU&#160;via&#160;the&#160;parameter&#160;CanIfTxPduPnFilterPdu.&#160;&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>Please&#160;consider&#160;that&#160;the&#160;filter&#160;of<b>&#160;</b>a&#160;certain&#160;CAN&#160;channel&#160;is&#160;only&#160;active&#160;if&#160;at&#160;least&#160;<br/>
&#160;&#160;one&#160;<br/>
Tx-PDU<i>&#160;</i><br/>
of&#160;<br/>
this&#160;<br/>
CAN&#160;<br/>
channel&#160;<br/>
has&#160;<br/>
the&#160;<br/>
parameter&#160;<br/>
CanIfTxPduPnFilterPdu&#160;enabled.&#160;&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>The&#160;&#160;feature&#160;&#160;CanIfPnWakeupTxPduFilterSupport&#160;&#160;is&#160;&#160;configurable&#160;&#160;in&#160;&#160;all&#160;&#160;three&#160;<br/>configuration&#160;variants:&#160;<br/><b>&#160;&#160;</b>Pre-compile&#160;<br/>
<b>&#160;&#160;</b>Link-time&#160;&#160;<br/>
<b>&#160;&#160;</b>Post-build-loadable&#160;<br/>
Except&#160;the&#160;restriction&#160;that&#160;this&#160;feature&#160;has&#160;to&#160;be&#160;enabled&#160;&#160;at&#160;Pre-compile&#160;time&#160;&#160;at&#160;all&#160;there&#160;<br/>are&#160;no&#160;any&#160;further&#160;restrictions&#160;concerning&#160;the&#160;reconfiguration&#160;of&#160;this&#160;feature&#160;in&#160;accordance&#160;<br/>with&#160;the&#160;Tx-PDUs&#160;which&#160;may&#160;pass&#160;the&#160;filter&#160;in&#160;case&#160;of&#160;a&#160;Link-time&#160;or&#160;a&#160;Post-build-loadable&#160;<br/>configuration&#160;variant.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
35&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=36></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-36_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
&#160;<br/>
<b>3.17&#160;&#160;Services&#160;used&#160;by&#160;the&#160;CAN&#160;Interface&#160;</b><br/>
In&#160;the&#160;following&#160;table&#160;services&#160;provided&#160;by&#160;other&#160;components&#160;which&#160;are&#160;used&#160;by&#160;the&#160;CAN&#160;<br/>Interface&#160;are&#160;listed.&#160;For&#160;details&#160;about&#160;prototype&#160;and&#160;functionality&#160;refer&#160;to&#160;the&#160;documentation&#160;<br/>of&#160;the&#160;corresponding&#160;component.&#160;<br/>
<b>Component&#160;</b><br/>
<b>API&#160;</b><br/>
DET&#160;<br/>
Det_ReportError&#160;<br/>
CanDrv&#160;<br/>
Can_SetControllerMode&#160;<br/>
Can_Write&#160;<br/>
&#160;<br/>
PduR,&#160;CanNm,&#160;CanTp,&#160;CDD&#160;<br/>
User_TxConfirmation (*)&#160;<br/>
User_RxIndication (*)&#160;<br/>
CanNm,&#160;EcuM,&#160;CDD&#160;<br/>
User_ControllerBusOff (*)&#160;<br/>
User_ValidationWakeupEvent (*)&#160;<br/>
SchM&#160;<br/>
SchM_Enter_CanIf_##area&#160;<br/>
SchM_Exit_CanIf_##area&#160;<br/>
CanTrcv&#160;<br/>
CanTrcv_SetOpMode&#160;<br/>
CanTrcv_GetOpMode&#160;<br/>
CanTrcv_GetBusWuReason&#160;<br/>
CanTrcv_SetWakeupMode&#160;<br/>
CanTrcv_CheckWakeup&#160;<br/>
MICROSAR&#160;extension&#160;(optional)&#160;<br/>
EcuM_BswErrorHook&#160;<br/>
Table&#160;3-5&#160;&#160;&#160;API&#160;functions&#160;used&#160;by&#160;the&#160;CAN&#160;Interface&#160;<br/>
*&#160;Names&#160;of&#160;the&#160;call&#160;back&#160;functions&#160;can&#160;be&#160;configured&#160;freely.&#160;<br/>
<b>3.18&#160;&#160;Multiple&#160;CAN&#160;drivers&#160;</b><br/>
The&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;supports&#160;&#160;multiple&#160;&#160;CAN&#160;&#160;drivers&#160;&#160;which&#160;&#160;are&#160;&#160;implemented&#160;&#160;according&#160;&#160;to&#160;<br/>AUTOSAR&#160;specification&#160;4.1.1.&#160;<br/>Different&#160;&#160;CAN&#160;&#160;drivers&#160;&#160;are&#160;&#160;addressed&#160;&#160;by&#160;&#160;using&#160;&#160;the&#160;&#160;values&#160;&#160;of&#160;&#160;attributes&#160;&#160;&#34;VendorId&#34;&#160;&#160;and&#160;<br/>&#34;VendorApiInfix&#34;&#160;defined&#160;in&#160;BSWMD&#160;file&#160;of&#160;corresponding&#160;CAN&#160;driver.&#160;<br/>In&#160;order&#160;to&#160;ensure&#160;compatibility&#160;with&#160;this&#160;CAN&#160;Interface&#160;the&#160;following&#160;naming&#160;convention&#160;of&#160;<br/>APIs&#160;of&#160;CAN&#160;driver&#160;need&#160;to&#160;be&#160;provided.&#160;&#160;<br/>
&#160;<br/>
&#160;&#160;&#160;<br/>
&lt;Bsw&gt;_&lt;VendorId&gt;_&lt;VendorApiInfix&gt;_&lt;ApiName&gt;&#160;<br/>
&#160;<br/>
The&#160;APIs&#160;of&#160;used&#160;CAN&#160;driver&#160;has&#160;to&#160;be&#160;named&#160;as&#160;follows:&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
36&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=37></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-37_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>Basic&#160;CAN&#160;Driver&#160;APIs&#160;<br/></b>Can_&lt;VendorId&gt;_&lt;VendorApiInfix&gt;_SetControllerMode&#160;<br/>Can_&lt;VendorId&gt;_&lt;VendorApiInfix&gt;_Write&#160;<br/>Can_&lt;VendorId&gt;_&lt;VendorApiInfix&gt;_CancelTx(*)&#160;<br/>Can_&lt;VendorId&gt;_&lt;VendorApiInfix&gt;_CheckWakeup(*)&#160;<br/>Can_&lt;VendorId&gt;_&lt;VendorApiInfix&gt;_CheckBaudrate(*)&#160;<br/>Can_&lt;VendorId&gt;_&lt;VendorApiInfix&gt;_ChangeBaudrate(*)&#160;<br/>Can_&lt;VendorId&gt;_&lt;VendorApiInfix&gt;_SetBaudrate(*)&#160;<br/>
Table&#160;3-6&#160;&#160;&#160;Adapted&#160;CAN&#160;driver&#160;APIs&#160;(*&#160;optional)&#160;<br/>
The&#160;following&#160;table&#160;lists&#160;APIs&#160;of&#160;CAN&#160;Interface&#160;which&#160;have&#160;to&#160;be&#160;called&#160;by&#160;a&#160;CAN&#160;driver&#160;in&#160;<br/>case&#160;of&#160;multiple&#160;CAN&#160;drivers&#160;are&#160;configured.&#160;<br/>
&#160;<br/>
<b>Basic&#160;CAN&#160;Driver&#160;APIs&#160;<br/></b>CanIf_&lt;VendorId&gt;_&lt;VendorApiInfix&gt;_RxIndication&#160;<br/>CanIf_&lt;VendorId&gt;_&lt;VendorApiInfix&gt;_TxConfirmation&#160;<br/>CanIf_&lt;VendorId&gt;_&lt;VendorApiInfix&gt;_ControllerBusOff&#160;<br/>CanIf_&lt;VendorId&gt;_&lt;VendorApiInfix&gt;_ControllerModeIndication&#160;<br/>CanIf_&lt;VendorId&gt;_&lt;VendorApiInfix&gt;_CancelTxNotification&#160;<br/>CanIf_&lt;VendorId&gt;_&lt;VendorApiInfix&gt;_CancelTxConfirmation&#160;<br/>
Table&#160;3-7&#160;&#160;&#160;APIs&#160;of&#160;CAN&#160;Interface&#160;which&#160;have&#160;to&#160;be&#160;used&#160;in&#160;multiple&#160;CAN&#160;driver&#160;configurations&#160;<br/>
<b>3.19&#160;&#160;Extended&#160;RAM-check&#160;</b><br/>
This&#160;&#160;feature&#160;&#160;is&#160;&#160;configured&#160;&#160;via&#160;&#160;the&#160;&#160;parameter&#160;&#160;CanIfExtendedRamCheckSupport.&#160;&#160;For&#160;<br/>further&#160;information&#160;about&#160;configuration&#160;of&#160;this&#160;feature&#160;please&#160;refer&#160;to&#160;the&#160;help&#160;which&#160;can&#160;be&#160;<br/>found&#160;&#160;in&#160;&#160;the&#160;&#160;GUI&#160;&#160;of&#160;&#160;the&#160;&#160;DaVinci&#160;Configurator&#160;5&#160;&#160;and&#160;&#160;to&#160;&#160;the&#160;&#160;description&#160;&#160;of&#160;&#160;mentioned&#160;<br/>parameter.&#160;&#160;&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
37&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=38></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-38_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>3.20&#160;&#160;Critical&#160;Sections&#160;</b><br/>
The&#160;AUTOSAR&#160;standard&#160;provides&#160;with&#160;the&#160;BSW&#160;Scheduler&#160;a&#160;BSW&#160;module,&#160;which&#160;handles&#160;<br/>entering&#160;and&#160;leaving&#160;critical&#160;sections.&#160;&#160;<br/>For&#160;&#160;more&#160;&#160;information&#160;&#160;about&#160;&#160;the&#160;&#160;BSW&#160;&#160;Scheduler&#160;&#160;please&#160;&#160;refer&#160;&#160;to&#160;&#160;<a href="TechnicalReference_CanIfs.html#3">[3].</a>&#160;&#160;When&#160;&#160;the&#160;&#160;BSW&#160;<br/>Scheduler&#160;&#160;is&#160;&#160;used&#160;&#160;the&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;provides&#160;&#160;critical&#160;&#160;section&#160;&#160;codes&#160;&#160;that&#160;&#160;have&#160;&#160;to&#160;&#160;be&#160;<br/>mapped&#160;by&#160;the&#160;BSW&#160;Scheduler&#160;to&#160;following&#160;mechanism:&#160;<br/>
<b>Critical&#160;Section&#160;Define&#160;</b><br/>
<b>Description&#160;</b><br/>
CANIF_EXCLUSIVE_AREA_0&#160;&#160;Usage&#160;inside&#160;CanIf_SetControllerMode()&#160;<br/>
<b>&gt;&#160;&#160;</b>Duration&#160;is short&#160;(&lt;&#160;10&#160;instructions)&#160;<br/>
<b>&gt;&#160;&#160;</b>Call&#160;to&#160;Can_SetControllerMode()&#160;&#160;<br/>
CANIF_EXCLUSIVE_AREA_1&#160;&#160;Usage&#160;inside&#160;CanIf_CancelTxConfirmation(),&#160;<br/>
CanIf_CancelTransmit(), CanIf_ClearQueue()&#160;<br/>
<b>&gt;&#160;&#160;</b>Duration&#160;is short&#160;(&lt;&#160;10&#160;instructions).&#160;<br/>
<b>&gt;&#160;&#160;</b>No&#160;calls&#160;inside&#160;<br/>
CANIF_EXCLUSIVE_AREA_2&#160;&#160;Usage&#160;inside&#160;CanIf_TxConfirmation()&#160;and&#160;<br/>
CanIf_CancelTxConfirmation()&#160;<br/>
<b>&gt;&#160;&#160;</b>Duration&#160;is medium&#160;(&lt;&#160;50&#160;instructions).&#160;<br/>
<b>&gt;&#160;&#160;</b>Call&#160;to&#160;CanIf_TxQueueTreatment(),&#160;<br/>
CanIf_TxQueueTransmit(), Can_Write(),&#160;.&#160;<br/>
CANIF_EXCLUSIVE_AREA_3&#160;&#160;Usage&#160;inside&#160;CanIf_SetPduMode()&#160;<br/>
<b>&gt;&#160;&#160;</b>Duration&#160;is short&#160;(&lt;&#160;10&#160;instructions).&#160;<br/>
<b>&gt;&#160;&#160;</b>Call&#160;to&#160;CanIf_ClearQueue()&#160;<br/>
CANIF_EXCLUSIVE_AREA_4&#160;&#160;Usage&#160;inside&#160;CanIf_Transmit()&#160;<br/>
<b>&gt;&#160;&#160;</b>Duration&#160;is medium&#160;(&lt;&#160;50&#160;instructions).&#160;<br/>
<b>&gt;&#160;&#160;</b>Call&#160;to&#160;Can_Write()&#160;<br/>
CANIF_EXCLUSIVE_AREA_5&#160;&#160;Usage&#160;inside&#160;CanIf_SetDynamicTxId()&#160;<br/>
<b>&gt;&#160;&#160;</b>Duration&#160;is short&#160;(&lt;&#160;10&#160;instructions).&#160;<br/>
<b>&gt;&#160;&#160;</b>Setting&#160;of&#160;dynamic CAN identifier&#160;<br/>
CANIF_EXCLUSIVE_AREA_6&#160;&#160;Usage&#160;inside&#160;CanIf_SetAddressTableEntry()&#160;and&#160;<br/>
CanIf_ResetAddressTableEntry()&#160;<br/>
<b>&gt;&#160;&#160;</b>Duration&#160;is short&#160;(&lt;&#160;10&#160;instructions).&#160;<br/>
<b>&gt;&#160;&#160;</b>Setting&#160;of&#160;J1939&#160;Rx-&#160;and&#160;Tx-address&#160;<br/>
<b>&gt;&#160;&#160;</b>No&#160;calls&#160;inside&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
38&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=39></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-39_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
CANIF_EXCLUSIVE_AREA_7&#160;&#160;Usage&#160;inside&#160;CanIf_RxIndication()&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>Duration&#160;is short&#160;(&lt;&#160;10&#160;instructions).&#160;<br/>
<b>&gt;&#160;&#160;</b>Consistent&#160;reading&#160;from&#160;J1939&#160;Rx-address&#160;table&#160;<br/>
<b>&gt;&#160;&#160;</b>No&#160;calls&#160;inside&#160;<br/>
Table&#160;3-8&#160;&#160;&#160;Critical&#160;Section&#160;Codes&#160;<br/>
&#160;<br/>
If&#160;&#160;the&#160;&#160;exclusive&#160;&#160;areas&#160;&#160;are&#160;&#160;entered&#160;&#160;the&#160;&#160;upper&#160;&#160;layer&#160;&#160;needs&#160;&#160;to&#160;&#160;make&#160;&#160;sure&#160;&#160;that&#160;&#160;the&#160;&#160;CAN&#160;<br/>interrupts&#160;&#160;are&#160;&#160;disabled.&#160;&#160;Additionally&#160;&#160;the&#160;&#160;following&#160;&#160;table&#160;&#160;describes&#160;&#160;which&#160;&#160;API&#160;&#160;of&#160;&#160;the&#160;&#160;CAN&#160;<br/>Interface&#160;must&#160;not&#160;be&#160;called&#160;during&#160;the&#160;corresponding&#160;area&#160;is&#160;entered.&#160;The&#160;CAN&#160;Interface&#160;<br/>API&#160;&#160;CanIf_CancelTxNotification()&#160;&#160;/&#160;&#160;CanIf_CancelTxConfirmation()is&#160;<br/>entered&#160;&#160;mostly&#160;&#160;via&#160;&#160;the&#160;&#160;CAN&#160;&#160;interrupt.&#160;&#160;In&#160;&#160;case&#160;&#160;of&#160;&#160;a&#160;&#160;platform&#160;&#160;which&#160;&#160;confirmation&#160;&#160;for&#160;&#160;a&#160;<br/>transmit&#160;&#160;cancellation&#160;&#160;needs&#160;&#160;to&#160;&#160;be&#160;&#160;polled&#160;&#160;the&#160;&#160;corresponding&#160;&#160;API&#160;&#160;(for&#160;&#160;example&#160;<br/>Can_MainFunction_Write())&#160;&#160;must&#160;&#160;not&#160;&#160;be&#160;&#160;called&#160;&#160;if&#160;&#160;the&#160;&#160;corresponding&#160;&#160;lock&#160;&#160;area&#160;&#160;is&#160;<br/>entered.&#160;<br/>
&#160;<br/>
CANIF_EXCLUSI&#160;CANIF_EXCLUSIVCANIF_EXCLUSIVCANIF_EXCLUSI&#160;CANIF_EXCLUSI&#160;CANIF_EXCLUSI&#160;CANIF_EXCLUSI&#160;CANIF_EXCLUSI<br/>
VE_&#160;AREA_0&#160;<br/>
E_&#160;AREA_1&#160;<br/>
E_&#160;AREA_2&#160;<br/>
VE_&#160;AREA_3&#160;<br/>
VE_&#160;AREA_4&#160;<br/>
VE_&#160;AREA_5&#160;<br/>
VE_&#160;AREA_6&#160;<br/>
VE_&#160;AREA_7&#160;<br/>
CanIf_Init&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanIf_InitMemory&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanIf_Transmit&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanIf_CancelTransmit&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanIf_SetControllerMode&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanIf_CancelTxNotification/&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanIf_CancelTxConfirmation&#160;<br/>
CanIf_SetPduMode&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanIf_TxConfirmation&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanIf_ControllerBusOff&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanIf_RxIndication&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanIf_SetAddressTableEntry&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanIf_ResetAddressTableEntry&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Table&#160;3-9&#160;&#160;&#160;Restrictions&#160;for&#160;the&#160;different&#160;lock&#160;areas&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
39&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=40></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-40_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>4&#160;&#160;Integration&#160;</b><br/>
This&#160;&#160;chapter&#160;&#160;gives&#160;&#160;necessary&#160;&#160;information&#160;&#160;for&#160;&#160;the&#160;&#160;integration&#160;&#160;of&#160;&#160;the&#160;&#160;MICROSAR&#160;&#160;CAN&#160;<br/>Interface&#160;into&#160;an&#160;application&#160;environment&#160;of&#160;an&#160;ECU.&#160;<br/>
<b>4.1&#160;</b><br/>
<b>Files&#160;and&#160;include&#160;structure&#160;</b><br/>
The&#160;CAN&#160;Interface&#160;consists&#160;of&#160;the&#160;following&#160;files:&#160;<br/>The&#160;&#160;delivery&#160;&#160;of&#160;&#160;the&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;contains&#160;&#160;the&#160;&#160;files&#160;&#160;which&#160;&#160;are&#160;&#160;described&#160;&#160;in&#160;&#160;the&#160;&#160;chapters&#160;<br/><a href="TechnicalReference_CanIfs.html#40">4.1.1&#160;and&#160;4.1.2:</a>&#160;<br/>
<b>4.1.1&#160;</b><br/>
<b>Static&#160;Files&#160;</b><br/>
<b>File&#160;Name&#160;</b><br/>
<b>Description&#160;</b><br/>
CanIf.c&#160;<br/>
Implementation&#160;<br/>
CanIf.h&#160;<br/>
Header&#160;file,&#160;has&#160;to&#160;be&#160;included&#160;by&#160;higher&#160;layers&#160;to&#160;access&#160;the&#160;API&#160;<br/>
CanIf_Cbk.h&#160;<br/>
Header&#160;file,&#160;has&#160;to&#160;be&#160;included&#160;by&#160;underlying&#160;layers&#160;to&#160;access&#160;call&#160;<br/>back&#160;functions&#160;provided&#160;by&#160;the&#160;CAN&#160;Interface&#160;<br/>
CanIf_Types.h&#160;<br/>
Definition&#160;of&#160;types&#160;provided&#160;by&#160;the&#160;CAN&#160;Interface&#160;which&#160;have&#160;to&#160;be&#160;<br/>used&#160;by&#160;other&#160;layers.&#160;This&#160;file&#160;is&#160;included&#160;automatically&#160;if&#160;either&#160;<br/>CanIf.h&#160;or&#160;CanIf_Cbk.h&#160;is&#160;included.&#160;<br/>
CanIf_Hooks.h&#160;<br/>
This&#160;header&#160;file&#160;is&#160;included&#160;by&#160;CanIf.c&#160;and&#160;defines&#160;so&#160;called&#160;hook-<br/>macros.&#160;Every&#160;API&#160;of&#160;the&#160;CAN&#160;interface&#160;has&#160;an&#160;own&#160;pair&#160;of&#160;hook-<br/>macro.&#160;One&#160;of&#160;them&#160;is&#160;called&#160;at&#160;the&#160;beginning&#160;of&#160;each&#160;API&#160;and&#160;the&#160;<br/>other&#160;one&#160;at&#160;the&#160;end.&#160;The&#160;intention&#160;of&#160;these&#160;hook-macros&#160;is&#160;the&#160;<br/>ability&#160;to&#160;measure&#160;the&#160;execution&#160;time&#160;of&#160;an&#160;API.&#160;The&#160;hook-macros&#160;<br/>are&#160;defined&#160;to&#160;nothing&#160;by&#160;default.&#160;So&#160;they&#160;do&#160;not&#160;influence&#160;the&#160;<br/>execution&#160;of&#160;code&#160;by&#160;default.&#160;&#160;&#160;&#160;&#160;<br/>
CanIf_GeneralTypes.h&#160;&#160;This&#160;header&#160;file&#160;is&#160;included&#160;by&#160;Can_GeneralTypes.h&#160;and&#160;<br/>
contains&#160;the&#160;public&#160;types&#160;of&#160;the&#160;CAN&#160;Interface.&#160;<br/>
Table&#160;4-1&#160;&#160;&#160;Static&#160;files&#160;<br/>
<b>4.1.2&#160;</b><br/>
<b>Dynamic&#160;Files&#160;</b><br/>
The&#160;dynamic&#160;files&#160;are&#160;generated&#160;by&#160;the&#160;configuration&#160;tool.&#160;<br/>
<b>File&#160;Name&#160;</b><br/>
<b>Description&#160;</b><br/>
CanIf_Cfg.h&#160;<br/>
Generated&#160;header&#160;file&#160;(included&#160;automatically&#160;by&#160;CanIf.h&#160;and&#160;<br/>CanIf_Cbk.h)&#160;<br/>
&#160;<br/>
CanIf_Lcfg.c&#160;<br/>
Contains&#160;link&#160;time&#160;configuration&#160;data.&#160;Contains&#160;data&#160;in&#160;case&#160;of&#160;<br/>Pre-compile,&#160;Link-time&#160;and&#160;Post-build&#160;configuration&#160;variant.&#160;<br/>
CanIf_PBcfg.c&#160;<br/>
Contains&#160;post&#160;build&#160;configuration&#160;data.&#160;In&#160;case&#160;of&#160;Link-time&#160;variant&#160;is&#160;<br/>used,&#160;this&#160;file&#160;is&#160;empty.&#160;<br/>
CanIf_CanTrcv.h&#160;&#160;Generated&#160;header&#160;file&#160;which&#160;includes&#160;the&#160;necessary&#160;header&#160;files&#160;of&#160;the&#160;<br/>
transceiver&#160;drivers&#160;used&#160;in&#160;the&#160;system.&#160;<br/>
Table&#160;4-2&#160;&#160;&#160;Generated&#160;files&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
40&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=41></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-41_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>4.2&#160;</b><br/>
<b>Include&#160;Structure&#160;</b><br/>
<b>&#160;composite&#160;structure&#160;Include&#160;structure</b><br/>
CanIf.c<br/>
CanIf_DataChecksum.c<br/>
«include»<br/>
«include»<br/>
«include»<br/>
«include»<br/>
«include»<br/>
«include»<br/>
SchM_CanIf.h<br/>
CanIf_Cbk.h<br/>
Det.h<br/>
CanIf.h<br/>
CanIf_CanTrcv.h<br/>
«include»<br/>
«include»<br/>
«include»<br/>
Can_Cfg.h<br/>
«include»<br/>
MemMap.h<br/>
«include»<br/>
CanIf_Lcfg.c<br/>
«include»<br/>
«include»<br/>
«include»<br/>
«include»<br/>
CanIf_Cfg.h<br/>
«include»<br/>
Can.h<br/>
«include»<br/>
CanIf_Types.h<br/>
EcuM_Cbk.h<br/>
«include»<br/>
«include»<br/>
Can_GeneralTypes.h<br/>
«include»<br/>
«include»<br/>
ComStack_Types.h<br/>
«include»<br/>
CanSM_Cbk.h<br/>
«include»<br/>
«include»<br/>
«include»<br/>
«include»<br/>
PduR_Cfg.h<br/>
«include»<br/>
CanTp_Cfg.h<br/>
Std_Types.h<br/>
«include»<br/>
«include»<br/>
«include»<br/>
«include»<br/>
CanIf_PBcfg.c<br/>
«include»<br/>
CanNm_Cfg.h<br/>
Platform_Types.h<br/>
Compiler.h<br/>
«include»<br/>
«include»<br/>
CanXcp.h<br/>
«include»<br/>
«include»<br/>
«include»<br/>
J1939Tp_Cfg.h<br/>
«include»<br/>
Compiler_Cfg.h<br/>
J1939Tp_Cbk.h<br/>
«include»<br/>
«include»<br/>
«include»<br/>
J1939Nm_Cfg.h<br/>
«include»<br/>
«include»<br/>
J1939Nm_Cbk.h<br/>
«include»<br/>
CanTSyn_Cbk.h<br/>
«include»<br/>
«include»<br/>
&#160;<br/>
Figure&#160;4-1&#160;&#160;Include&#160;structure&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
41&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=42></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-42_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>4.3&#160;</b><br/>
<b>Compiler&#160;Abstraction&#160;and&#160;Memory&#160;Mapping&#160;&#160;</b><br/>
The&#160;&#160;objects&#160;&#160;(e.g.&#160;&#160;variables,&#160;&#160;functions,&#160;&#160;constants)&#160;&#160;are&#160;&#160;declared&#160;&#160;by&#160;&#160;compiler&#160;&#160;independent&#160;<br/>definitions&#160;&#160;–&#160;&#160;the&#160;&#160;compiler&#160;&#160;abstraction&#160;&#160;definitions.&#160;&#160;Each&#160;&#160;compiler&#160;&#160;abstraction&#160;&#160;definition&#160;&#160;is&#160;<br/>assigned&#160;to&#160;a&#160;memory&#160;section.&#160;<br/>The&#160;&#160;following&#160;&#160;table&#160;&#160;contains&#160;&#160;the&#160;&#160;memory&#160;&#160;section&#160;&#160;names&#160;&#160;and&#160;&#160;the&#160;&#160;compiler&#160;&#160;abstraction&#160;<br/>definitions&#160;&#160;defined&#160;&#160;for&#160;&#160;the&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;and&#160;&#160;illustrates&#160;&#160;their&#160;&#160;assignment&#160;&#160;among&#160;&#160;each&#160;<br/>other.&#160;<br/>
&#160;<br/>
<b>Compiler&#160;Abstraction&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
G<br/>
&#160;<br/>G<br/>
<b>Definitions</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
R<br/>
CF<br/>
ROINIT<br/>
&#160;<br/>
NIT<br/>
CF<br/>
&#160;<br/>
A<br/>
B<br/>
B<br/>
<b>&#160;</b><br/>
E<br/>
NIT<br/>
T&#160;<br/>
G<br/>
&#160;<br/>
CODE<br/>
V<br/>
P<br/>
_<br/>
_<br/>
_<br/>
L<br/>
L<br/>
L<br/>
&#160;<br/>
R_Z<br/>
R_I<br/>
R_NOI<br/>
CF<br/>
P<br/>
P<br/>
P<br/>
R_P<br/>
A<br/>
A<br/>
A<br/>
B<br/>
P<br/>
P<br/>
P<br/>
A<br/>
<b>Memory&#160;Mapping&#160;</b><br/>
V<br/>
V<br/>
V<br/>
CONS<br/>
P<br/>
CODE<br/>
A<br/>
A<br/>
A<br/>
V<br/>
_<br/>
_<br/>
_<br/>
_<br/>
_<br/>
_<br/>
_<br/>
_<br/>
_<br/>
_<br/>
<b>Sections&#160;</b><br/>
NIF<br/>
NIF<br/>
NIF<br/>
NIF<br/>
NIF<br/>
NIF<br/>
NIF<br/>
NIF<br/>
NIF<br/>
NIF<br/>
CA<br/>
CA<br/>
CA<br/>
CA<br/>
CA<br/>
CA<br/>
CA<br/>
CA<br/>
CA<br/>
CA<br/>
CANIF_START_SEC_CODE&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CANIF_STOP_SEC_CODE&#160;<br/>
CANIF_START_SEC_PBCFG&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CANIF_STOP_SEC_PBCFG&#160;<br/>
CANIF_START_SEC_CONST_8BIT&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CANIF_STOP_SEC_CONST_8BIT&#160;<br/>
CANIF_START_SEC_CONST_32BIT&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CANIF_STOP_SEC_CONST_32BIT&#160;<br/>
CANIF_START_SEC_CONST_UNSPECIFIED&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CANIF_STOP_SEC_CONST_UNSPECIFIED&#160;<br/>
CANIF_START_SEC_VAR_NOINIT_UNSPECIFIED&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CANIF_STOP_SEC_VAR_NOINIT_UNSPECIFIED&#160;<br/>
CANIF_START_SEC_VAR_ZERO_INIT_UNSPECIFIED&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CANIF_STOP_SEC_VAR_ZERO_INIT_UNSPECIFIED&#160;<br/>
CANIF_START_SEC_VAR_INIT_UNSPECIFIED&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CANIF_STOP_SEC_VAR_INIT_UNSPECIFIED&#160;<br/>
CANIF_START_SEC_VAR_PBCFG&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CANIF_STOP_SEC_VAR_PBCFG&#160;<br/>
Table&#160;4-3&#160;&#160;&#160;Compiler&#160;abstraction&#160;and&#160;memory&#160;mapping&#160;<br/>
The&#160;&#160;Compiler&#160;&#160;Abstraction&#160;&#160;Definitions&#160;&#160;CANIF_APPL_CODE,&#160;&#160;CANIF_APPL_VAR&#160;&#160;and&#160;<br/>CANIF_APPL_PBCFG&#160;&#160;are&#160;&#160;used&#160;&#160;to&#160;&#160;address&#160;&#160;code,&#160;&#160;variables&#160;&#160;and&#160;&#160;constants&#160;&#160;which&#160;&#160;are&#160;<br/>declared&#160;by&#160;other&#160;modules&#160;and&#160;used&#160;by&#160;the&#160;CAN&#160;Interface.&#160;<br/>These&#160;&#160;definitions&#160;&#160;are&#160;&#160;not&#160;&#160;mapped&#160;&#160;by&#160;&#160;the&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;but&#160;&#160;by&#160;&#160;the&#160;&#160;memory&#160;&#160;mapping&#160;<br/>realized&#160;in&#160;the&#160;CAN&#160;Driver,&#160;CAN&#160;Transceiver&#160;Driver,&#160;PDU&#160;Router,&#160;Network&#160;management,&#160;<br/>Transport&#160;Protocol&#160;Layer,&#160;ECU&#160;State&#160;Manager&#160;and&#160;the&#160;CAN&#160;State&#160;manager.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
42&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=43></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-43_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>5&#160;&#160;Configuration&#160;</b><br/>
The&#160;CAN&#160;Interface&#160;is&#160;configured&#160;with&#160;DaVinci&#160;Configurator&#160;5.&#160;Please&#160;refer&#160;to&#160;the&#160;help&#160;<br/>which&#160;can&#160;be&#160;found&#160;in&#160;the&#160;GUI&#160;of&#160;the&#160;configurator&#160;and&#160;to&#160;the&#160;descriptions&#160;of&#160;attributes&#160;in&#160;<br/>BSWMD&#160;file&#160;of&#160;CAN&#160;Interface.&#160;<br/>
<b>5.1&#160;</b><br/>
<b>Configuration&#160;of&#160;Post-Build&#160;</b><br/>
The&#160;configuration&#160;of&#160;post-build&#160;loadable&#160;is&#160;described&#160;in&#160;<br/>TechnicalReference_PostBuildLoadable.pdf.&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
43&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=44></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-44_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>6&#160;&#160;API&#160;Description&#160;</b><br/>
<b>6.1&#160;</b><br/>
<b>Services&#160;provided&#160;by&#160;the&#160;CAN&#160;Interface&#160;</b><br/>
<b>6.1.1&#160;</b><br/>
<b>CanIf_GetVersionInfo&#160;</b><br/>
<b>Prototype&#160;<br/></b>void CanIf_GetVersionInfo( Std_VersionInfoType *VersionInfo );&#160;<br/>
<b>Parameter&#160;<br/></b>VersionInfo&#160;&#160;<br/>
Pointer&#160;to&#160;the&#160;structure&#160;including&#160;the&#160;version&#160;information.&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
CanIf_GetVersionInfo()&#160;returns version&#160;information,&#160;vendor&#160;ID and&#160;AUTOSAR&#160;module&#160;ID of&#160;the&#160;component.&#160;&#160;<br/>The&#160;versions are&#160;BCD-coded.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
The&#160;function&#160;is only&#160;available&#160;if&#160;enabled&#160;at&#160;Pre-compile&#160;time&#160;(CANIF_VERSION_INFO_API = STD_ON)&#160;<br/>
Table&#160;6-1&#160;<br/>
API&#160;CanIf_GetVersionInfo&#160;<br/>
&#160;<br/>
<b>6.1.2&#160;</b><br/>
<b>CanIf_Init&#160;&#160;</b><br/>
<b>Prototype&#160;<br/></b>void CanIf_Init( const CanIf_ConfigType *ConfigPtr )&#160;<br/>
<b>Parameter&#160;<br/></b>ConfigPtr&#160;<br/>
Pointer&#160;to&#160;the&#160;structure&#160;including&#160;configuration&#160;data.&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This function&#160;initializes global CAN Interface&#160;variables during&#160;ECU&#160;start-up.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
This&#160;API&#160;has to&#160;be&#160;called&#160;during&#160;start-up&#160;before&#160;any&#160;CAN communication.&#160;Can_Init()&#160;has&#160;to&#160;be&#160;executed&#160;<br/>
successfully.&#160;<br/>
Table&#160;6-2&#160;&#160;&#160;API&#160;CanIf_Init&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
44&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=45></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-45_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>6.1.3&#160;</b><br/>
<b>CanIf_SetControllerMode&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;CanIf_SetControllerMode(uint8 ControllerId,&#160;<br/>CanIf_ControllerModeType ControllerMode)&#160;<br/>
<b>Parameter&#160;<br/></b>ControllerId&#160;&#160;<br/>
The&#160;Controller&#160;to&#160;change&#160;mode.&#160;<br/>
ControllerMode&#160;<br/>
Mode&#160;request.&#160;<br/>
<b>Return&#160;code&#160;<br/></b>Std_ReturnType&#160;<br/>
Returns whether&#160;the&#160;state&#160;transition&#160;was successful.&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Request&#160;the&#160;mode&#160;of&#160;the&#160;specified&#160;channel.&#160;Supported&#160;modes:&#160;CANIF_CS_SLEEP,&#160;CANIF_CS_STOPPED,&#160;<br/>
CANIF_CS_STARTED.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
CAN Interface&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>
Table&#160;6-3&#160;&#160;&#160;API&#160;CanIf_SetControllerMode&#160;<br/>
&#160;<br/>
<b>6.1.4&#160;</b><br/>
<b>CanIf_GetControllerMode&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType CanIf_GetControllerMode(uint8 ControllerId,&#160;<br/>CanIf_ControllerModeType &#160;*ControllerModePtr)&#160;<br/>
<b>Parameter&#160;<br/></b>ControllerId&#160;&#160;<br/>
Request&#160;mode&#160;of&#160;specified&#160;Controller.&#160;<br/>
ControllerModePtr&#160;&#160;<br/>
Pointer&#160;to&#160;data&#160;type&#160;the&#160;information&#160;is stored&#160;in.&#160;<br/>
<b>Return&#160;code&#160;<br/></b>Std_ReturnType&#160;<br/>
Returns whether&#160;the&#160;state&#160;request&#160;was successful&#160;or&#160;not.&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Acquire&#160;the&#160;current&#160;controller&#160;mode&#160;of&#160;the&#160;specified&#160;channel&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
CAN Interface&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>
Table&#160;6-4&#160;&#160;&#160;API&#160;CanIf_GetControllerMode&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
45&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=46></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-46_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>6.1.5&#160;</b><br/>
<b>CanIf_Transmit&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType CanIf_Transmit(PduIdType CanTxPduId,&#160;const&#160;PduInfoType&#160;<br/>*PduInfoPtr)&#160;<br/>
<b>Parameter&#160;<br/></b>CanTxPduId&#160;<br/>
Handle&#160;of&#160;the&#160;Tx&#160;PDU&#160;which&#160;will&#160;be&#160;transmitted.&#160;<br/>
PduIndoPtr&#160;<br/>
Pointer&#160;to&#160;a&#160;struct&#160;containing&#160;the&#160;properties of&#160;the&#160;Tx&#160;PDU.&#160;<br/>
<b>Return&#160;code&#160;<br/></b>Std_ReturnType&#160;<br/>
Returns&#160;if&#160;the&#160;transmit&#160;request&#160;was accepted.&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Requests&#160;the&#160;transmission&#160;of&#160;the&#160;specified&#160;Tx&#160;PDU.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
CAN Interface&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>
Table&#160;6-5&#160;&#160;&#160;API&#160;CanIf_Transmit&#160;<br/>
&#160;<br/>
<b>6.1.6&#160;</b><br/>
<b>CanIf_TxConfirmation&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;CanIf_TxConfirmation(PduIdType CanTxPduId)&#160;<br/>
<b>Parameter&#160;<br/></b>CanTxPduId&#160;<br/>
ID of&#160;the&#160;successfully transmitted&#160;PDU.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Confirms the&#160;successful&#160;transmission&#160;of&#160;a&#160;Tx&#160;PDU&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
CAN Interface&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>
Table&#160;6-6&#160;&#160;&#160;API&#160;CanIf_TxConfirmation&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
46&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=47></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-47_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>6.1.7&#160;</b><br/>
<b>CanIf_RxIndication&#160;</b><br/>
<b>Prototype&#160;<br/></b>void CanIf_RxIndication(CanIf_HwHandleType&#160;Hrh, Can_IdType CanId, uint8 CanDlc,&#160;<br/>const uint8 *CanSduPtr)&#160;<br/>
<b>Parameter&#160;<br/></b>Hrh&#160;<br/>
Hardware&#160;handle&#160;the&#160;PDU&#160;was received&#160;in.&#160;<br/>
CanId&#160;<br/>
CAN identifier&#160;of&#160;the&#160;received&#160;PDU.&#160;<br/>
CanDlc&#160;<br/>
Data&#160;length&#160;code&#160;of&#160;the&#160;received&#160;PDU.&#160;<br/>
CanSduPtr&#160;<br/>
Pointer&#160;to&#160;hardware&#160;or&#160;temporary buffer&#160;containing&#160;the&#160;data&#160;of&#160;the&#160;received&#160;<br/>PDU.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;CAN Driver&#160;notifies the&#160;CAN Interface&#160;about&#160;a&#160;received&#160;Rx&#160;PDU.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
CAN Interface&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>
Table&#160;6-7&#160;&#160;&#160;API&#160;CanIf_RxIndication&#160;<br/>
&#160;<br/>
<b>6.1.8&#160;</b><br/>
<b>CanIf_ControllerBusOff&#160;</b><br/>
<b>Prototype&#160;<br/></b>void CanIf_ControllerBusOff(uint8 Controller)&#160;<br/>
<b>Parameter&#160;<br/></b>Controller&#160;<br/>
Affected&#160;controller.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Indicates a&#160;BusOff&#160;for&#160;the&#160;specified&#160;controller&#160;to&#160;the&#160;CAN Interface.&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
CAN Interface&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>
Table&#160;6-8&#160;&#160;&#160;API&#160;CanIf_ControllerBusOff&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
47&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=48></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-48_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>6.1.9&#160;</b><br/>
<b>CanIf_SetPduMode&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType CanIf_SetPduMode(uint8 ControllerId, CanIf_PduSetModeType&#160;<br/>PduModeRequest)&#160;<br/>
<b>Parameter&#160;<br/></b>ControllerId&#160;&#160;<br/>
Controller&#160;which&#160;will&#160;be&#160;affected&#160;by the&#160;new&#160;Pdu&#160;mode.&#160;<br/>
PduModeRequest&#160;<br/>
Requested&#160;Pdu&#160;mode&#160;<br/>
<b>Return&#160;code&#160;<br/></b>Std_ReturnType&#160;<br/>
Returns whether&#160;the&#160;state&#160;request&#160;was successful.&#160;&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Change&#160;mode&#160;for&#160;specified&#160;controller.&#160;Possible&#160;states are:&#160;&#160;&#160;<br/>&#160;&#160;CANIF_SET_OFFLINE,&#160;<br/>&#160;&#160;CANIF_SET_RX_OFFLINE,&#160;<br/>&#160;&#160;CANIF_SET_RX_ONLINE,&#160;<br/>&#160;&#160;CANIF_SET_TX_OFFLINE,&#160;<br/>&#160;&#160;CANIF_SET_TX_ONLINE,&#160;<br/>&#160;&#160;CANIF_SET_ONLINE,&#160;<br/>&#160;&#160;CANIF_SET_TX_OFFLINE_ACTIVE&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
CAN Interface&#160;has&#160;to&#160;be&#160;initialized.&#160;Controller&#160;has to&#160;be&#160;in&#160;state&#160;CANIF_CS_STARTED.&#160;<br/>
Table&#160;6-9&#160;&#160;&#160;API&#160;CanIf_SetPduMode&#160;<br/>
&#160;<br/>
<b>6.1.10&#160;&#160;CanIf_GetPduMode&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType CanIf_GetPduMode(uint8 ControllerId, CanIf_PduGetModeType &#160;*&#160;<br/>PduModePtr)&#160;<br/>
<b>Parameter&#160;<br/></b>ControllerId&#160;&#160;<br/>
Request&#160;mode&#160;of&#160;the&#160;specified&#160;Controller.&#160;<br/>
PduModePtr&#160;<br/>
Pointer&#160;to&#160;a&#160;data&#160;buffer&#160;the&#160;current&#160;mode&#160;will&#160;be&#160;stored&#160;in.&#160;<br/>
<b>Return&#160;code&#160;<br/></b>Std_ReturnType&#160;<br/>
Returns whether&#160;the&#160;request&#160;of&#160;the&#160;current&#160;state&#160;was successful.&#160;&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Request&#160;the&#160;current&#160;mode&#160;of&#160;the&#160;specified&#160;controller.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
CAN Interface&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>
Table&#160;6-10&#160;&#160;&#160;API&#160;CanIf_GetPduMode&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
48&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=49></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-49_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>6.1.11&#160;&#160;CanIf_InitMemory&#160;</b><br/>
<b>Prototype&#160;<br/></b>void CanIf_InitMemory(void)&#160;<br/>
<b>Parameter&#160;<br/></b>-&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Initializes&#160;global&#160;RAM&#160;variables,&#160;which&#160;have&#160;to&#160;be&#160;available&#160;before&#160;any call&#160;to&#160;the&#160;CanIf&#160;API.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
May only be&#160;called&#160;once&#160;before&#160;CanIf_Init().&#160;<br/>
Table&#160;6-11&#160;&#160;&#160;API&#160;CanIf_InitMemory&#160;<br/>
&#160;<br/>
<b>6.1.12&#160;&#160;CanIf_CancelTxConfirmation&#160;</b><br/>
<b>Prototype&#160;<br/></b>void CanIf_CancelTxconfirmation(PduIdType CanTxPduId,&#160;const Can_PduType&#160;<br/>*PduInfoPtr)&#160;<br/>
<b>Parameter&#160;<br/></b>CanTxPduId&#160;<br/>
Handle&#160;of&#160;the&#160;Tx&#160;PDU&#160;which&#160;was cancelled.&#160;<br/>
PduInfoPtr&#160;<br/>
Contains&#160;information&#160;about&#160;cancelled&#160;PDU&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Called&#160;by the&#160;CAN Driver&#160;to&#160;notify&#160;the&#160;CAN Interface&#160;about&#160;a&#160;cancelled&#160;PDU&#160;which&#160;has&#160;to&#160;be&#160;re-queued.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Only available&#160;if&#160;CANIF_TRANSMIT_CANCELLATION = STD_ON&#160;is set.&#160;<br/>
Table&#160;6-12&#160;&#160;&#160;API&#160;CanIf_CancelTxConfirmation&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
49&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=50></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-50_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>6.1.13&#160;&#160;CanIf_SetTrcvMode&#160;</b><br/>
<b>Prototype&#160;<br/></b>StdReturnType CanIf_SetTrcvMode(uint8 TransceiverId, CanTrcv_TrcvModeType&#160;<br/>TransceiverMode)&#160;<br/>
<b>Parameter&#160;<br/></b>TransceiverId&#160;&#160;<br/>
Address the&#160;transceiver&#160;by a&#160;transceiver&#160;index.&#160;<br/>
TransceiverMode&#160;<br/>
Requested&#160;mode&#160;transition&#160;<br/>
<b>Return&#160;code&#160;<br/></b>Std_ReturnType&#160;<br/>
Returns whether&#160;the&#160;state&#160;transition&#160;was&#160;successful.&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Called&#160;by an&#160;upper&#160;layer&#160;to&#160;set&#160;the&#160;transceiver&#160;to&#160;another&#160;mode.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&#160;</b><br/>
Only available&#160;if&#160;transceiver&#160;handling&#160;is activated&#160;at&#160;configuration&#160;time.&#160;<br/>(CANIF_TRCV_HANDLING&#160;=&#160;STD_ON)&#160;<br/>
Table&#160;6-13&#160;&#160;&#160;API&#160;CanIf_SetTrcvMode&#160;<br/>
&#160;<br/>
<b>6.1.14&#160;&#160;CanIf_GetTrcvMode&#160;</b><br/>
<b>Prototype&#160;<br/></b>StdReturnType CanIf_GetTrcvMode(CanTrcv_TrcvModeType *TransceiverModePtr, uint8&#160;<br/>TransceiverId)&#160;<br/>
<b>Parameter&#160;<br/></b>TransceiverId&#160;&#160;<br/>
Address&#160;the&#160;transceiver&#160;by a&#160;transceiver&#160;index.&#160;<br/>
TransceiverModePtr&#160;<br/>
Pointer&#160;to&#160;a&#160;buffer&#160;where&#160;current&#160;transceiver&#160;mode&#160;can&#160;be&#160;stored&#160;in.&#160;<br/>
<b>Return&#160;code&#160;<br/></b>Std_ReturnType&#160;<br/>
Returns whether&#160;the&#160;request&#160;of&#160;the&#160;current&#160;transceiver&#160;mode&#160;was&#160;<br/>successful.&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Called&#160;by an&#160;upper&#160;layer&#160;to&#160;request&#160;the&#160;current&#160;mode&#160;of&#160;the&#160;transceiver.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Only&#160;<br/>
available&#160;<br/>
if&#160;<br/>
transceiver&#160;<br/>
handling&#160;<br/>
is&#160;<br/>
activated&#160;<br/>
at&#160;<br/>
configuration&#160;<br/>
time.&#160;<br/>
(CANIF_TRCV_HANDLING&#160;=&#160;STD_ON)&#160;<br/>
Table&#160;6-14&#160;&#160;&#160;API&#160;CanIf_GetTrcvMode&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
50&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=51></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-51_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>6.1.15&#160;&#160;CanIf_GetTrcvWakeupReason&#160;</b><br/>
<b>Prototype&#160;<br/></b>StdReturnType CanIf_GetTrcvWakeupReason(uint8 TransceiverId,&#160;<br/>CanIf_TrcvWakeupReasonType *TrcvWuReasonPtr)&#160;<br/>
<b>Parameter&#160;<br/></b>TransceiverId&#160;&#160;<br/>
Address the&#160;transceiver&#160;by a&#160;transceiver&#160;index.&#160;<br/>
TrcvWuReasonPtr&#160;<br/>
Pointer&#160;to&#160;a&#160;buffer&#160;where&#160;the&#160;transceiver’s wake&#160;up&#160;reason&#160;can&#160;be&#160;stored&#160;<br/>in.&#160;<br/>
<b>Return&#160;code&#160;<br/></b>Std_ReturnType&#160;<br/>
Returns whether&#160;the&#160;request&#160;of&#160;the&#160;wake&#160;up&#160;reason&#160;was successful.&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Called&#160;by an&#160;upper&#160;layer&#160;to&#160;request&#160;the&#160;wake&#160;up&#160;reason&#160;stored&#160;in&#160;the&#160;transceiver.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Only available&#160;if&#160;transceiver&#160;handling&#160;is activated&#160;at&#160;configuration&#160;time.&#160;<br/>(CANIF_TRCV_HANDLING&#160;=&#160;STD_ON)&#160;<br/>
Table&#160;6-15&#160;&#160;&#160;API&#160;CanIf_GetTrcvWakeupReason&#160;<br/>
&#160;<br/>
<b>6.1.16&#160;&#160;CanIf_SetTrcvWakeupMode&#160;</b><br/>
<b>Prototype&#160;<br/></b>StdReturnType CanIf_SetTrcvWakeupMode(uint8 TransceiverId,&#160;<br/>CanTrcv_TrcvWakeupModeType TrcvWakeupMode)&#160;<br/>
<b>Parameter&#160;<br/></b>TransceiverId&#160;&#160;<br/>
Address the&#160;transceiver&#160;by a&#160;transceiver&#160;index.&#160;<br/>
TrcvWakeupMode&#160;<br/>
Enable,&#160;disable&#160;or&#160;clear&#160;notification&#160;for&#160;wake&#160;up&#160;events.&#160;<br/>
<b>Return&#160;code&#160;<br/></b>Std_ReturnType&#160;<br/>
Returns whether&#160;the&#160;requested&#160;mode&#160;was set&#160;successfully.&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Called&#160;by an&#160;upper&#160;layer&#160;to&#160;enable,&#160;disable&#160;or&#160;clear&#160;the&#160;wake&#160;up&#160;event&#160;notification&#160;of&#160;the&#160;transceiver.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Only available&#160;if&#160;transceiver&#160;handling&#160;is activated&#160;at&#160;configuration&#160;time.&#160;<br/>(CANIF_TRCV_HANDLING&#160;=&#160;STD_ON)&#160;<br/>
Table&#160;6-16&#160;&#160;&#160;API&#160;CanIf_SetTrcvWakeupMode&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
51&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=52></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-52_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>6.1.17&#160;&#160;CanIf_CheckWakeup&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType CanIf_CheckWakeup(EcuM_WakeupSourceType WakeupSource)&#160;<br/>
<b>Parameter&#160;<br/></b>WakeupSource&#160;<br/>
Wakeup&#160;source&#160;which&#160;identifies&#160;the&#160;possible&#160;wakeup&#160;source&#160;(Transceiver&#160;/&#160;<br/>CAN Controller)&#160;<br/>
<b>Return&#160;code&#160;<br/></b>Std_ReturnType&#160;<br/>
Returns whether&#160;the&#160;request&#160;to&#160;the&#160;Transceiver/&#160;CAN Controller&#160;was&#160;<br/>successful.&#160;&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Called&#160;by an&#160;upper&#160;layer&#160;to&#160;check&#160;if&#160;a&#160;transceiver&#160;or&#160;CAN controller&#160;recently&#160;raised&#160;a&#160;wakeup.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
CAN Interface&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>
Table&#160;6-17&#160;&#160;&#160;API&#160;CanIf_CheckWakeup&#160;<br/>
&#160;<br/>
<b>6.1.18&#160;&#160;CanIf_CheckValidation&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType CanIf_CheckValidation(EcuM_WakeupSourceType WakeupSource)&#160;<br/>
<b>Parameter&#160;<br/></b>WakeupSource&#160;<br/>
Wakeup&#160;source&#160;which&#160;identifies&#160;the&#160;possible&#160;wakeup&#160;source&#160;(Transceiver&#160;/&#160;<br/>CAN Controller)&#160;<br/>
<b>Return&#160;code&#160;<br/></b>Std_ReturnType&#160;<br/>
Returns whether&#160;the&#160;requested&#160;mode&#160;was set&#160;successfully.&#160;&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Called&#160;by an&#160;upper&#160;layer&#160;to&#160;check&#160;if&#160;a&#160;Rx&#160;message&#160;was received&#160;after&#160;a&#160;wake&#160;up&#160;occurred&#160;from&#160;one&#160;of&#160;the&#160;<br/>
supported&#160;sources.&#160;<br/>
If&#160;a&#160;message&#160;was received&#160;between&#160;the&#160;call&#160;of&#160;CanIf_CheckWakeup&#160;and&#160;CanIf_CheckValidation&#160;the&#160;<br/>
configurable&#160;EcuM&#160;call&#160;back&#160;function&#160;EcuM_ValidationWakeupEvent&#160;is called&#160;from&#160;the&#160;context&#160;of&#160;<br/>this function.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
CAN Interface&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>CanIf_CheckWakeup&#160;has to&#160;be&#160;called&#160;before&#160;and&#160;a&#160;wake&#160;up&#160;event&#160;has to&#160;be&#160;detected.&#160;<br/>CAN&#160;Interface&#160;has&#160;to&#160;be&#160;set&#160;to&#160;CANIF_CS_STARTED&#160;mode&#160;before&#160;a&#160;validation&#160;is possible.&#160;<br/>
Table&#160;6-18&#160;&#160;&#160;API&#160;CanIf_CheckValidation&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
52&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=53></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-53_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>6.1.19&#160;&#160;CanIf_ResetBusOffStart&#160;</b><br/>
<b>Prototype&#160;<br/></b>void CanIf_ResetBusOffStart(uint8 ControllerId)&#160;<br/>
<b>Parameter&#160;<br/></b>ControllerId&#160;<br/>
Recover&#160;bus&#160;off&#160;for&#160;the&#160;specified&#160;controller&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
-&#160;&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Initiates the&#160;bus off&#160;recovery for&#160;a&#160;specified&#160;channel.&#160;<br/>A&#160;call to&#160;CanIf_ResetBusOffEnd()&#160;has to&#160;follow&#160;on&#160;task&#160;level.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Non-Autosar&#160;compliant&#160;API&#160;function&#160;which&#160;has to&#160;be&#160;enabled&#160;by&#160;defining&#160;CANIF_BUSOFF_RECOVERY_API&#160;<br/>
= STD_ON&#160;<br/>
Table&#160;6-19&#160;&#160;&#160;API&#160;CanIf_ResetBusOffStart&#160;<br/>
&#160;<br/>
<b>6.1.20&#160;&#160;CanIf_ResetBusOffEnd&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;CanIf_ResetBusOffEnd(uint8 ControllerId)&#160;<br/>
<b>Parameter&#160;<br/></b>ControllerId&#160;<br/>
Recover&#160;bus&#160;off&#160;for&#160;the&#160;specified&#160;controller&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
-&#160;&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Finishes the&#160;bus off&#160;recovery for&#160;a&#160;specified&#160;channel.&#160;<br/>A&#160;call to&#160;CanIf_ResetBusOffStart()&#160;has to&#160;be&#160;executed&#160;before.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Non-Autosar&#160;compliant&#160;API&#160;function&#160;which&#160;has to&#160;be&#160;enabled&#160;by&#160;defining&#160;<br/>
CANIF_BUSOFF_RECOVERY_API&#160;=&#160;STD_ON&#160;<br/>
The&#160;function&#160;has&#160;to&#160;be&#160;called&#160;on&#160;task&#160;level.&#160;<br/>
Table&#160;6-20&#160;&#160;&#160;API&#160;CanIf_ResetBusOffEnd&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
53&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=54></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-54_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>6.1.21&#160;&#160;CanIf_CancelTransmit&#160;</b><br/>
<b>Prototype&#160;<br/></b>void CanIf_CancelTransmit (PduIdType CanTxPduId)&#160;<br/>
<b>Parameter&#160;<br/></b>CanTxPduId&#160;&#160;<br/>
PduId&#160;of&#160;the&#160;message&#160;which&#160;has&#160;to&#160;be&#160;cancelled&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Initiates the&#160;cancellation&#160;/&#160;suppression&#160;of&#160;the&#160;confirmation&#160;of&#160;a&#160;Tx&#160;message.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
CAN Interface&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>AUTOSAR&#160;only defines&#160;a&#160;dummy function.&#160;For&#160;MICROSAR&#160;this function&#160;has the&#160;functionality&#160;to&#160;cancel&#160;an&#160;<br/>
ordered&#160;Tx&#160;PDU.&#160;This&#160;API&#160;is provided&#160;only&#160;in&#160;case&#160;of&#160;CANIF_CANCEL_SUPPORT_API&#160;=&#160;STD_ON.&#160;<br/>
Table&#160;6-21&#160;&#160;&#160;API&#160;CanIf_CancelTransmit&#160;<br/>
&#160;<br/>
<b>6.1.22&#160;&#160;CanIf_CancelTxNotification&#160;</b><br/>
<b>Prototype&#160;<br/></b>void CanIf_CancelTxNotification (PduIdType&#160;PduId, CanIf_CancelResultType&#160;<br/>IsCancelled)&#160;<br/>
<b>Parameter&#160;<br/></b>PduId&#160;&#160;<br/>
Id&#160;of&#160;the&#160;Tx&#160;message&#160;which&#160;was cancelled&#160;<br/>
IsCancelled&#160;<br/>
Parameter&#160;currently not&#160;evaluated.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Called&#160;by the&#160;CAN Driver&#160;to&#160;notify&#160;about&#160;a&#160;cancelled&#160;message.&#160;No&#160;confirmation&#160;is&#160;raised&#160;for&#160;this message.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
CAN Interface&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>Non-AUTOSAR&#160;compliant&#160;API&#160;function&#160;which&#160;is enabled&#160;in&#160;case&#160;of&#160;<br/>
CANIF_CANCEL_SUPPORT_API&#160;=&#160;STD_ON.&#160;<br/>
Table&#160;6-22&#160;&#160;&#160;API&#160;CanIf_CancelTxNotification&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
54&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=55></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-55_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>6.1.23&#160;&#160;CanIf_SetDynamicTxId&#160;</b><br/>
<b>Prototype&#160;<br/></b>void CanIf_SetDynamicTxId(PduIdType CanTxPduId, Can_IdType CanId)&#160;<br/>
<b>Parameter&#160;<br/></b>CanTxPduId&#160;<br/>
PDU&#160;ID of&#160;the&#160;Tx&#160;message&#160;<br/>
CanId&#160;<br/>
CAN ID of&#160;the&#160;messageParameter&#160;&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Called&#160;by the&#160;application&#160;to&#160;set&#160;the&#160;CAN Id&#160;of&#160;the&#160;corresponding&#160;Tx&#160;PDU.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
CAN Interface&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>Shall&#160;not&#160;be&#160;interrupted&#160;by&#160;a&#160;call&#160;of&#160;CanIf_Transmit()&#160;for&#160;the&#160;same&#160;Tx&#160;PDU.&#160;<br/>
Table&#160;6-23&#160;&#160;&#160;API&#160;CanIf_SetDynamicTxId&#160;<br/>
&#160;<br/>
<b>6.1.24&#160;&#160;CanIf_ControllerModeIndication&#160;</b><br/>
<b>Prototype&#160;<br/></b>void CanIf_ControllerModeIndication(uint8 Controller, CanIf_ControllerModeType&#160;<br/>ControllerMode)&#160;<br/>
<b>Parameter&#160;<br/></b>Controller&#160;<br/>
Channel&#160;where&#160;the&#160;mode&#160;transition&#160;happened&#160;<br/>
ControllerMode&#160;<br/>
Controller&#160;mode&#160;to&#160;which&#160;the&#160;CAN controller&#160;transitioned&#160;&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Called&#160;by the&#160;CAN driver&#160;to&#160;notify&#160;about&#160;successful&#160;controller&#160;mode&#160;transition&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
CAN Interface&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>
Table&#160;6-24&#160;&#160;&#160;API&#160;CanIf_ControllerModeIndication&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
55&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=56></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-56_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>6.1.25&#160;&#160;CanIf_TrcvModeIndication&#160;</b><br/>
<b>Prototype&#160;<br/></b>void CanIf_TrcvModeIndication(uint8 TransceiverId,&#160;CanTrcv_TrcvModeType&#160;<br/>TransceiverMode)&#160;<br/>
<b>Parameter&#160;<br/></b>TransceiverId&#160;<br/>
Transceiver&#160;where&#160;the&#160;mode&#160;transition&#160;happened&#160;<br/>
TransceiverMode&#160;<br/>
Transceiver&#160;mode&#160;to&#160;which&#160;the&#160;transceiver&#160;&#160;transitioned&#160;&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Called&#160;by the&#160;transceiver&#160;driver&#160;to&#160;notify&#160;about&#160;successful&#160;transceiver&#160;mode&#160;transition&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
CAN Interface&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>
Table&#160;6-25&#160;&#160;&#160;API&#160;CanIf_TrcvModeIndication&#160;<br/>
<b>6.1.26&#160;&#160;CanIf_ConfirmPnAvailability&#160;</b><br/>
<b>Prototype&#160;<br/></b>void CanIf_ConfirmPnAvailability(uint8 TransceiverId)<b>&#160;</b><br/>
<b>Parameter&#160;<br/></b>TransceiverId&#160;<br/>
CAN transceiver, which was checked for PN availability&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This service&#160;indicates that&#160;the&#160;transceiver&#160;is running&#160;in&#160;PN&#160;communication&#160;mode&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
This&#160;API&#160;is only&#160;available&#160;in&#160;case&#160;of&#160;CANIF_PN_TRCV_HANDLING = STD_ON.&#160;<br/>
Table&#160;6-26&#160;&#160;&#160;API&#160;CanIf_ConfirmPnAvailability&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
56&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=57></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-57_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>6.1.27&#160;&#160;CanIf_ClearTrcvWufFlagIndication&#160;</b><br/>
<b>Prototype&#160;<br/></b>void CanIf_ClearTrcvWufFlagIndication(uint8 TransceiverId)<b>&#160;</b><br/>
<b>Parameter&#160;<br/></b>TransceiverId&#160;<br/>
CAN transceiver,&#160;for&#160;which&#160;the&#160;API&#160;was called&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This service&#160;indicates that&#160;the&#160;transceiver&#160;has&#160;cleared&#160;the&#160;WufFlag.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
CanIf_Init()&#160;has&#160;already&#160;been&#160;called&#160;and&#160;all&#160;transceiver&#160;driver&#160;have&#160;been&#160;initialized.&#160;<br/>This&#160;API&#160;is only&#160;available&#160;in&#160;case&#160;of&#160;CANIF_PN_TRCV_HANDLING = STD_ON.&#160;<br/>
Table&#160;6-27&#160;&#160;&#160;API&#160;CanIf_ClearTrcvWufFlagIndication&#160;<br/>
&#160;<br/>
<b>6.1.28&#160;&#160;CanIf_CheckTrcvWakeFlagIndication&#160;</b><br/>
<b>Prototype&#160;<br/></b>void CanIf_CheckTrcvWakeFlagIndication(uint8 TransceiverId)<b>&#160;</b><br/>
<b>Parameter&#160;<br/></b>TransceiverId&#160;<br/>
CAN transceiver,&#160;for&#160;which&#160;the&#160;API&#160;was called&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This service&#160;indicates the&#160;reason&#160;for&#160;the&#160;wake&#160;up&#160;that&#160;the&#160;CAN transceiver&#160;has&#160;detected&#160;<br/>
<b>&#160;</b><br/>
CanIf_Init()&#160;has&#160;already&#160;been&#160;called&#160;and&#160;all&#160;transceiver&#160;driver&#160;have&#160;been&#160;initialized.&#160;<br/>This&#160;API&#160;is only&#160;available&#160;in&#160;case&#160;of&#160;CANIF_PN_TRCV_HANDLING = STD_ON.&#160;<br/>
Table&#160;6-28&#160;&#160;&#160;API&#160;CanIf_CheckTrcvWakeFlagIndication&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
57&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=58></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-58_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>6.1.29&#160;&#160;CanIf_SetBaudrate&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;CanIf_SetBaudrate(uint8 ControllerId,&#160;uint16&#160;BaudRateConfigID)&#160;<br/>
<b>Parameter&#160;<br/></b>ControllerId&#160;<br/>
Abstracted&#160;CanIf&#160;ControllerId&#160;which&#160;is assigned&#160;to&#160;a&#160;CAN&#160;<br/>
BaudRateConfigID&#160;<br/>
References&#160;a&#160;baud&#160;rate&#160;configuration&#160;by ID&#160;<br/>
<b>Return&#160;code&#160;<br/></b>E_OK&#160;<br/>
Service&#160;request&#160;accepted,&#160;baudrate&#160;change&#160;started.&#160;<br/>
E_NOT_OK&#160;<br/>
Service&#160;request&#160;not&#160;accepted.&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This service&#160;shall&#160;set&#160;the&#160;baud&#160;rate&#160;configuration&#160;of&#160;the&#160;CAN controller.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
CAN Interface&#160;has&#160;to&#160;be&#160;initialized.&#160;This&#160;API&#160;is&#160;provided&#160;in&#160;case&#160;of&#160;&#160;<br/>CANIF_SET_BAUDRATE_API&#160;=&#160;STD_ON.&#160;<br/>
Table&#160;6-29&#160;&#160;&#160;API&#160;CanIf_SetBaudrate&#160;<br/>
&#160;<br/>
<b>6.1.30&#160;&#160;CanIf_ChangeBaudrate&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;CanIf_ChangeBaudrate(uint8 ControllerId, const uint16 Baudrate)&#160;<br/>
<b>Parameter&#160;<br/></b>ControllerId&#160;<br/>
The&#160;Controller&#160;the&#160;Baudrate&#160;shall&#160;be&#160;changed&#160;for&#160;<br/>
Baudrate&#160;<br/>
Baudrate&#160;to&#160;which&#160;shall&#160;be&#160;changed&#160;<br/>
<b>Return&#160;code&#160;<br/></b>E_OK&#160;<br/>
Service&#160;request&#160;accepted,&#160;change&#160;started&#160;&#160;<br/>
E_NOT_OK&#160;<br/>
Service&#160;request&#160;not&#160;accepted&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This service&#160;changes&#160;the&#160;baudrate&#160;of&#160;the&#160;CAN controller&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
CAN Interface&#160;has&#160;to&#160;be&#160;initialized.&#160;This&#160;API&#160;is&#160;provided&#160;in&#160;case&#160;of&#160;<br/>
CANIF_CHANGE_BAUDRATE_SUPPORT&#160;=&#160;STD_ON.&#160;<br/>
Table&#160;6-30&#160;&#160;&#160;API&#160;CanIf_ChangeBaudrate&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
58&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=59></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-59_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>6.1.31&#160;&#160;CanIf_ChangeBaudrate&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;CanIf_ChangeBaudrate(uint8 ControllerId, const uint16 Baudrate)&#160;<br/>
<b>Parameter&#160;<br/></b>ControllerId&#160;<br/>
The&#160;Controller&#160;the&#160;Baudrate&#160;shall&#160;be&#160;changed&#160;for&#160;<br/>
Baudrate&#160;<br/>
Baudrate&#160;to&#160;which&#160;shall&#160;be&#160;changed&#160;<br/>
<b>Return&#160;code&#160;<br/></b>E_OK&#160;<br/>
Service&#160;request&#160;accepted,&#160;change&#160;started&#160;&#160;<br/>
E_NOT_OK&#160;<br/>
Service&#160;request&#160;not&#160;accepted&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This service&#160;changes&#160;the&#160;baudrate&#160;of&#160;the&#160;CAN controller&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
CAN Interface&#160;has&#160;to&#160;be&#160;initialized.&#160;This&#160;API&#160;is&#160;provided&#160;in&#160;case&#160;of&#160;<br/>
CANIF_CHANGE_BAUDRATE_SUPPORT&#160;=&#160;STD_ON.&#160;<br/>
Table&#160;6-31&#160;&#160;&#160;API&#160;CanIf_ChangeBaudrate&#160;<br/>
&#160;<br/>
<b>6.1.32&#160;&#160;CanIf_GetTxConfirmationState&#160;</b><br/>
<b>Prototype&#160;<br/></b>CanIf_NotifStatusType&#160;CanIf_GetTxConfirmationState (uint8 ControllerId)&#160;<br/>
<b>Parameter&#160;<br/></b>ControllerId&#160;&#160;<br/>
Controller&#160;to&#160;be&#160;checked&#160;<br/>
<b>Return&#160;code&#160;<br/></b>CANIF_NO_NOTIFICATION&#160;<br/>
No&#160;transmit&#160;event&#160;occurred&#160;for&#160;requested&#160;CAN Controller&#160;<br/>
CANIF_TX_RX_NOTIFICATION&#160;<br/>
The&#160;CAN Controller&#160;has successfully transmitted&#160;any message&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This service&#160;reports,&#160;if&#160;any&#160;TX&#160;confirmation&#160;has been&#160;done&#160;for&#160;the&#160;whole&#160;CAN controller&#160;since&#160;the&#160;last&#160;CAN&#160;<br/>
controller&#160;start.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
CAN Interface&#160;has&#160;to&#160;be&#160;initialized.&#160;This&#160;API&#160;is&#160;provided&#160;in&#160;case&#160;of&#160;<br/>
CANIF_PUBLIC_TX_CONFIRM_POLLING_SUPPORT = STD_ON.&#160;<br/>
Table&#160;6-32&#160;&#160;&#160;API&#160;CanIf_GetTxConfirmationState&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
59&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=60></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-60_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>6.1.33&#160;&#160;CanIf_SetAddressTableEntry&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;CanIf_SetAddressTableEntry&#160;(uint8 ControllerId,&#160;uint8 intAddr, uint8&#160;<br/>busAddr)&#160;<br/>
<b>Parameter&#160;<br/></b>ControllerId&#160;<br/>
The&#160;channel&#160;at&#160;which&#160;a&#160;J1939&#160;address shall&#160;be&#160;set.&#160;<br/>
intAddr&#160;&#160;<br/>
J1939&#160;internal&#160;address.&#160;<br/>
busAddr&#160;<br/>
J1939&#160;bus&#160;address.&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;service&#160;will&#160;be&#160;called&#160;to&#160;describe&#160;the&#160;relation&#160;between&#160;internal&#160;and&#160;external ID.&#160;Only used&#160;in&#160;J1939&#160;<br/>
environment.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
CAN Interface&#160;has&#160;to&#160;be&#160;initialized.&#160;This&#160;API&#160;is&#160;provided&#160;in&#160;case&#160;of&#160;&#160;<br/>CANIF_J1939_DYN_ADDR_SUPPORT != CANIF_J1939_DYN_ADDR_DISABLED.&#160;<br/>
Table&#160;6-33&#160;&#160;&#160;API&#160;CanIf_SetAddressTableEntry&#160;<br/>
&#160;<br/>
<b>6.1.34&#160;&#160;CanIf_ResetAddressTableEntry&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;CanIf_ResetAddressTableEntry&#160;(uint8 ControllerId,&#160;uint8 intAddr)&#160;<br/>
<b>Parameter&#160;<br/></b>ControllerId&#160;<br/>
The&#160;channel&#160;at&#160;which&#160;a&#160;J1939&#160;internal&#160;address shall&#160;be&#160;reset.&#160;<br/>
intAddr&#160;<br/>
J1939&#160;internal&#160;address.&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;service&#160;will&#160;be&#160;called&#160;to&#160;reset&#160;the&#160;relation&#160;between&#160;internal&#160;and&#160;external&#160;ID. Only used&#160;in&#160;J1939&#160;<br/>
environment.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
CAN Interface&#160;has&#160;to&#160;be&#160;initialized.&#160;This&#160;API&#160;is&#160;provided&#160;in&#160;case&#160;of&#160;&#160;<br/>CANIF_J1939_DYN_ADDR_SUPPORT != CANIF_J1939_DYN_ADDR_DISABLED.&#160;<br/>
Table&#160;6-34&#160;&#160;&#160;API&#160;CanIf_ResetAddressTableEntry&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
60&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=61></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-61_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>6.1.35&#160;&#160;CanIf_RamCheckExecute&#160;</b><br/>
<b>Prototype&#160;<br/></b>void CanIf_RamCheckExecute&#160;(uint8 ControllerId)&#160;<br/>
<b>Parameter&#160;<br/></b>ControllerId&#160;<br/>
The&#160;CAN-channel&#160;for&#160;which&#160;the&#160;RAM-check shall&#160;be&#160;executed.&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;service&#160;requests&#160;an&#160;underlying&#160;CAN-channel&#160;to&#160;execute&#160;the&#160;RAM-check&#160;of&#160;CAN-controller-<br/>
HW-registers.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
CAN Interface&#160;has&#160;to&#160;be&#160;initialized.&#160;This&#160;API&#160;is&#160;provided&#160;in&#160;case&#160;of&#160;&#160;<br/>CANIF_EXTENDED_RAM_CHECK_SUPPORT == STD_ON.&#160;<br/>
Table&#160;6-35&#160;&#160;&#160;API&#160;CanIf_RamCheckExecute&#160;<br/>
&#160;<br/>
<b>6.1.36&#160;&#160;CanIf_RamCheckEnableMailbox&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;CanIf_RamCheckEnableMailbox&#160;(uint8 ControllerId,&#160;CanIf_HwHandleType&#160;<br/>HwHandle)&#160;<br/>
<b>Parameter&#160;<br/></b>ControllerId&#160;<br/>
The&#160;CAN-channel&#160;to&#160;which&#160;the&#160;mailbox&#160;(&lt;HwHandle&gt;)&#160;belongs to.&#160;<br/>
HwHandle&#160;<br/>
The&#160;mailbox&#160;which&#160;shall&#160;be&#160;enabled.&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;service&#160;requests&#160;an&#160;underlying&#160;CAN-channel to&#160;enable&#160;a&#160;mailbox.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
CAN Interface&#160;has&#160;to&#160;be&#160;initialized.&#160;This&#160;API&#160;is&#160;provided&#160;in&#160;case&#160;of&#160;&#160;<br/>CANIF_EXTENDED_RAM_CHECK_SUPPORT == STD_ON.&#160;<br/>
Table&#160;6-36&#160;&#160;&#160;API&#160;CanIf_RamCheckEnableMailbox&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
61&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=62></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-62_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>6.1.37&#160;&#160;CanIf_RamCheckEnableController&#160;</b><br/>
<b>Prototype&#160;<br/></b>void CanIf_RamCheckEnableController&#160;(uint8 ControllerId)&#160;<br/>
<b>Parameter&#160;<br/></b>ControllerId&#160;<br/>
The&#160;CAN-channel&#160;which&#160;shall&#160;be&#160;enabled.&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;service&#160;requests&#160;to&#160;enable&#160;an&#160;underlying&#160;CAN-channel.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
CAN Interface&#160;has&#160;to&#160;be&#160;initialized.&#160;This&#160;API&#160;is&#160;provided&#160;in&#160;case&#160;of&#160;&#160;<br/>CANIF_EXTENDED_RAM_CHECK_SUPPORT == STD_ON.&#160;<br/>
Table&#160;6-37&#160;&#160;&#160;API&#160;CanIf_RamCheckEnableController&#160;<br/>
&#160;<br/>
<b>6.1.38&#160;&#160;CanIf_RamCheckCorruptMailbox&#160;</b><br/>
<b>Prototype&#160;<br/></b>void CanIf_RamCheckCorruptMailbox&#160;(uint8 ControllerId,&#160;CanIf_HwHandleType&#160;<br/>HwHandle)&#160;<br/>
<b>Parameter&#160;<br/></b>ControllerId&#160;<br/>
The&#160;CAN-channel&#160;to&#160;which&#160;the&#160;corrupt&#160;mailbox&#160;(&lt;HwHandle&gt;)&#160;belongs to.&#160;<br/>
HwHandle&#160;<br/>
The&#160;corrupt&#160;mailbox.&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;service&#160;indicates about&#160;a&#160;corrupt&#160;mailbox.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
This service&#160;may be&#160;used&#160;also&#160;if&#160;CAN Interface&#160;is NOT&#160;initialized.&#160;This&#160;API&#160;is provided&#160;in&#160;case&#160;of&#160;&#160;<br/>CANIF_EXTENDED_RAM_CHECK_SUPPORT == STD_ON.&#160;<br/>
Table&#160;6-38&#160;&#160;&#160;API&#160;CanIf_RamCheckCorruptMailbox&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
62&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=63></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-63_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>6.1.39&#160;&#160;CanIf_RamCheckCorruptController&#160;</b><br/>
<b>Prototype&#160;<br/></b>void CanIf_RamCheckCorruptController&#160;(uint8 ControllerId)&#160;<br/>
<b>Parameter&#160;<br/></b>ControllerId&#160;<br/>
The&#160;corrupt&#160;CAN-channel.&#160;<br/>
<b>Return&#160;code&#160;<br/></b>-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;service&#160;indicates about&#160;a&#160;corrupt&#160;CAN-channel.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
This service&#160;may be&#160;used&#160;also&#160;if&#160;CAN Interface&#160;is NOT&#160;initialized.&#160;This&#160;API&#160;is provided&#160;in&#160;case&#160;of&#160;&#160;<br/>CANIF_EXTENDED_RAM_CHECK_SUPPORT == STD_ON.&#160;<br/>
Table&#160;6-39&#160;&#160;&#160;API&#160;CanIf_RamCheckCorruptController&#160;<br/>
&#160;<br/>
<b>6.1.40&#160;&#160;CanIf_SetPduReceptionMode&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;CanIf_SetPduReceptionMode&#160;(PduIdType id,&#160;CanIf_ReceptionModeType&#160;<br/>mode)&#160;<br/>
<b>Parameter&#160;<br/></b>id&#160;<br/>
The&#160;identifier&#160;of&#160;Rx-PDU&#160;whose&#160;reception&#160;mode&#160;shall&#160;be&#160;changed.&#160;<br/>
mode&#160;<br/>
The&#160;reception&#160;mode&#160;which&#160;shall&#160;be&#160;set.&#160;Following&#160;reception&#160;modes are&#160;<br/>possible:&#160;<br/>1)&#160;CANIF_RMT_IGNORE_CONTINUE:&#160;In&#160;case&#160;of&#160;a&#160;match&#160;the&#160;received&#160;<br/>Rx-PDU&#160;is not&#160;forwarded&#160;to&#160;configured&#160;upper&#160;layer&#160;and&#160;the&#160;search&#160;for&#160;a&#160;<br/>potential&#160;match&#160;continues.&#160;<br/>2)&#160;CANIF_RMT_RECEIVE_STOP:&#160;In&#160;case&#160;of&#160;a&#160;match&#160;the&#160;received&#160;<br/>Rx-PDU&#160;is&#160;forwarded&#160;to&#160;configured&#160;upper&#160;layer.&#160;<br/>
<b>Return&#160;code&#160;<br/></b>E_OK&#160;<br/>
Service&#160;request&#160;accepted,&#160;reception&#160;mode&#160;was changed&#160;&#160;<br/>
E_NOT_OK&#160;<br/>
Service&#160;request&#160;not&#160;accepted,&#160;reception&#160;mode&#160;was not&#160;changed&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Via&#160;this&#160;API&#160;the&#160;reception&#160;mode&#160;of&#160;a&#160;Rx-PDU&#160;can&#160;be&#160;set.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
CAN Interface&#160;has&#160;to&#160;be&#160;initialized.&#160;During&#160;the&#160;initialization&#160;the&#160;reception&#160;mode&#160;of&#160;all&#160;affected&#160;Rx-PDUs is set&#160;<br/>
to&#160;CANIF_RMT_RECEIVE_STOP.&#160;This&#160;API&#160;is&#160;provided&#160;in&#160;case&#160;of&#160;&#160;<br/>
CANIF_SET_PDU_RECEPTION_MODE_SUPPORT&#160;== STD_ON.&#160;<br/>
Table&#160;6-40&#160;&#160;&#160;API&#160;CanIf_SetPduReceptionMode&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
63&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=64></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-64_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>6.2&#160;</b><br/>
<b>Callout&#160;Functions&#160;</b><br/>
<b>6.2.1&#160;</b><br/>
<b>EcuM_BswErrorHook&#160;</b><br/>
<b>Prototype&#160;<br/></b>void EcuM_BswErrorHook(uint16 CanIfModuleId,&#160;uint8&#160;CanIfInstanceId)&#160;<br/>
<b>Parameter&#160;</b><br/>
CanIfModuleId&#160;<br/>
Contains&#160;the&#160;CANIF_MODULE_ID&#160;(60)&#160;as defined&#160;by&#160;AUTOSAR.&#160;<br/>
CanIfInstanceId&#160;<br/>
For&#160;the&#160;CanIf&#160;only one&#160;instance&#160;is available,&#160;so&#160;this&#160;value&#160;is always zero.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
None&#160;<br/>
&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Called&#160;once&#160;by the&#160;CanIf&#160;during&#160;the&#160;initialization&#160;phase&#160;to&#160;indicate&#160;one&#160;of&#160;the&#160;following&#160;possible&#160;errors:&#160;<br/>
-&#160;<br/>
Abort&#160;initialization&#160;as&#160;generator&#160;is not&#160;compatible&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
None&#160;<br/>Call&#160;Context&#160;<br/>
This function&#160;is&#160;called&#160;in&#160;context&#160;of&#160;CanIf_Init().&#160;<br/>
Table&#160;6-41&#160;&#160;&#160;EcuM_BswErrorHook&#160;<br/>
<b>6.2.2&#160;</b><br/>
<b>CanIf_RxIndicationSubDataChecksumRxVerify&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;CanIf_RxIndicationSubDataChecksumRxVerify&#160;(PduIdType&#160;<br/>CanIfRxPduId, Can_IdType CanId, uint8 CanDlc, const&#160;uint8&#160;*CanSduPtr)&#160;<br/>
<b>Parameter&#160;</b><br/>
CanIfRxPduId&#160;<br/>
CanIf-internal&#160;unique&#160;handle&#160;ID of&#160;Rx-PDU&#160;<br/>
CanId&#160;<br/>
CAN identifier&#160;of&#160;received&#160;Rx-PDU&#160;<br/>
CanDlc&#160;<br/>
Data&#160;length&#160;of&#160;received&#160;Rx-PDU&#160;<br/>
CanSduPtr&#160;<br/>
Pointer&#160;to&#160;data&#160;of&#160;received&#160;Rx-PDU&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
E_OK&#160;<br/>
Verification&#160;of&#160;checksum&#160;passed.&#160;In&#160;this case&#160;the&#160;Rx-PDU&#160;is forwarded&#160;to&#160;upper&#160;layer.&#160;<br/>
E_NOT_OK&#160;<br/>
Verification&#160;of&#160;checksum&#160;failed.&#160;In&#160;this case&#160;the&#160;Rx-PDU&#160;is discarded&#160;and&#160;NOT&#160;<br/>forwarded&#160;to&#160;upper&#160;layer.&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
API&#160;called&#160;by CanIf&#160;in&#160;case&#160;of&#160;a&#160;data&#160;checksum&#160;PDU&#160;was received&#160;in&#160;order&#160;to&#160;verify&#160;its&#160;correctness.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
This&#160;API&#160;is called&#160;only&#160;if&#160;CANIF_DATA_CHECKSUM_RX_SUPPORT&#160;== STD_ON.&#160;<br/>
Call&#160;Context&#160;<br/>
This function&#160;is called&#160;in&#160;context&#160;of&#160;CanIf_RxIndication().&#160;&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
64&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=65></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-65_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
&#160;<br/>
<b>6.2.3&#160;</b><br/>
<b>CanIf_TransmitSubDataChecksumTxAppend&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;CanIf_TransmitSubDataChecksumTxAppend&#160;(const&#160;Can_PduType&#160;<br/>*txPduInfoPtr,&#160;uint8&#160;*txPduDataWithChecksumPtr)&#160;<br/>
<b>Parameter&#160;</b><br/>
txPduInfoPtr&#160;<br/>
Pointer&#160;to&#160;Tx-PDU-parameters:&#160;CAN identifier,&#160;data&#160;length,&#160;data.&#160;<br/>
txPduDataWithChecksu&#160;Pointer&#160;to&#160;data&#160;buffer&#160;where&#160;the&#160;data&#160;of&#160;Tx-PDU&#160;incl.&#160;the&#160;checksum&#160;shall&#160;be&#160;<br/>mPtr&#160;<br/>
stored&#160;in.&#160;The&#160;data&#160;checksum&#160;PDU&#160;is transmitted&#160;with&#160;data&#160;stored&#160;in&#160;this&#160;<br/>buffer.&#160;<br/>Note:&#160;Parameter&#160;&#34;txPduDataWithChecksumPtr&#34;&#160;may only be&#160;written&#160;with&#160;index&#160;<br/>&gt;=&#160;0&#160;and&#160;&lt; CANIF_CFG_MAXTXDLC_PLUS_DATACHECKSUM&#160;(see&#160;file&#160;<br/>CanIf_Cfg.h).&#160;The&#160;length&#160;of&#160;data&#160;can&#160;not&#160;be&#160;changed&#160;hence&#160;the&#160;checksum&#160;<br/>must&#160;only be&#160;added&#160;within&#160;valid&#160;data-length&#160;of&#160;the&#160;Tx-PDU&#160;which&#160;is given&#160;by&#160;<br/>range:&#160;0&#160;-&#160;(txPduInfoPtr-&gt;length&#160;-&#160;1).&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
None&#160;<br/>
&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
API&#160;called&#160;by CanIf&#160;before&#160;transmission&#160;of&#160;a&#160;data&#160;checksum&#160;Tx-PDU&#160;in&#160;order&#160;to&#160;add&#160;a&#160;checksum&#160;to&#160;its&#160;<br/>data.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
This&#160;API&#160;is&#160;called&#160;only&#160;if&#160;CANIF_DATA_CHECKSUM_TX_SUPPORT&#160;== STD_ON.&#160;<br/>
Call&#160;Context&#160;<br/>
This function&#160;is called&#160;in&#160;context&#160;of&#160;CanIf_Transmit().&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
65&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=66></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-66_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>7&#160;&#160;AUTOSAR&#160;Standard&#160;Compliance&#160;</b><br/>
Following&#160;restrictions&#160;apply&#160;to&#160;the&#160;current&#160;CAN&#160;Interface&#160;implementation.&#160;<br/>
<b>7.1&#160;</b><br/>
<b>Not&#160;supported&#160;AUTOSAR&#160;features&#160;</b><br/>
The&#160;following&#160;features&#160;which&#160;are&#160;specified&#160;by&#160;the&#160;AUTOSAR&#160;CAN&#160;Interface&#160;SWS&#160;<a href="TechnicalReference_CanIfs.html#3">([1])&#160;</a>are&#160;<br/>not&#160;supported.&#160;<br/>
<b>7.1.1&#160;</b><br/>
<b>Tx&#160;notification&#160;status&#160;</b><br/>
This&#160;&#160;feature&#160;&#160;is&#160;&#160;specified&#160;&#160;by&#160;&#160;the&#160;&#160;requirements:&#160;&#160;CANIF202,&#160;&#160;CANIF393,&#160;&#160;CANIF472,&#160;<br/>CANIF331,&#160;CANIF391,&#160;CANIF334,&#160;CANIF335,&#160;CANIF609_Conf&#160;and&#160;CANIF589_Conf.&#160;<br/>
<b>7.1.2&#160;</b><br/>
<b>Rx&#160;notification&#160;status&#160;</b><br/>
This&#160;&#160;feature&#160;&#160;is&#160;&#160;specified&#160;&#160;by&#160;&#160;the&#160;&#160;requirements:&#160;&#160;CANIF230,&#160;&#160;CANIF336,&#160;&#160;CANIF339,&#160;<br/>CANIF340,&#160;CANIF392,&#160;CANIF394,&#160;CANIF473,&#160;CANIF595_Conf&#160;and&#160;CANIF608_Conf.&#160;<br/>
<b>7.1.3&#160;</b><br/>
<b>Rx&#160;buffer&#160;</b><br/>
This&#160;&#160;feature&#160;&#160;is&#160;&#160;specified&#160;&#160;by&#160;&#160;the&#160;&#160;requirements:&#160;&#160;CANIF194,&#160;&#160;CANIF198,&#160;&#160;CANIF199,&#160;<br/>CANIF324,&#160;&#160;CANIF325,&#160;&#160;CANIF326,&#160;&#160;CANIF330,&#160;&#160;CANIF329,&#160;&#160;CANIF600_Conf&#160;&#160;and&#160;<br/>CANIF607_Conf.&#160;<br/>
&#160;<br/>
<b>7.2&#160;</b><br/>
<b>Deviations&#160;</b><br/>
<b>7.2.1&#160;</b><br/>
<b>Tx&#160;buffer&#160;</b><br/>
At&#160;&#160;least&#160;&#160;and&#160;&#160;at&#160;&#160;most&#160;&#160;one&#160;Tx&#160;&#160;buffer&#160;&#160;is&#160;&#160;supported&#160;&#160;per&#160;&#160;each&#160;&#160;BasicCAN-Tx-PDU.&#160;&#160;Hence&#160;&#160;no&#160;<br/>configuration&#160;&#160;can&#160;&#160;be&#160;&#160;performed&#160;&#160;by&#160;&#160;the&#160;&#160;user&#160;&#160;as&#160;&#160;intended&#160;&#160;by&#160;&#160;the&#160;&#160;attribute&#160;<br/>CanIfBufferSize.&#160;<br/>
<b>7.2.2&#160;</b><br/>
<b>Partial&#160;networking&#160;</b><br/>
Against&#160;&#160;the&#160;&#160;requirement&#160;&#160;CANIF749&#160;&#160;the&#160;&#160;Partial&#160;&#160;Networking&#160;&#160;Wakeup&#160;&#160;Tx&#160;&#160;Pdu&#160;&#160;Filter&#160;&#160;is&#160;<br/>enabled&#160;&#160;only&#160;&#160;if&#160;&#160;the&#160;&#160;PDU&#160;&#160;mode&#160;&#160;of&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;is&#160;&#160;set&#160;&#160;either&#160;&#160;to&#160;&#160;mode&#160;<br/>CANIF_GET_TX_ONLINE_WU_FILTER&#160;or&#160;to&#160;mode&#160;CANIF_GET_ONLINE_WU_FILTER.&#160;<br/>
<b>7.2.3&#160;</b><br/>
<b>AUTOSAR&#160;version&#160;check&#160;</b><br/>
The&#160;CAN&#160;Interface&#160;does&#160;not&#160;perform&#160;AUTOSAR&#160;release&#160;version&#160;check&#160;in&#160;accordance&#160;with&#160;<br/>other&#160;modules&#160;because&#160;the&#160;version&#160;check&#160;is&#160;not&#160;specified&#160;by&#160;AUTOSAR&#160;clearly.&#160;<br/>
<b>7.3&#160;</b><br/>
<b>Limitations&#160;</b><br/>
The&#160;priority&#160;of&#160;a&#160;dynamic&#160;Tx-PDU&#160;is&#160;determined&#160;from&#160;the&#160;initial&#160;configured&#160;CAN&#160;identifier&#160;<br/>and&#160;not&#160;from&#160;the&#160;CAN&#160;identifier&#160;set&#160;by&#160;using&#160;the&#160;API&#160;CanIf_SetDynamicTxId().&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
66&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=67></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-67_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>8&#160;&#160;Glossary&#160;and&#160;Abbreviations&#160;</b><br/>
<b>8.1&#160;</b><br/>
<b>Glossary&#160;</b><br/>
<b>Term&#160;</b><br/>
<b>Description&#160;</b><br/>
DaVinci&#160;Configurator&#160;5&#160;&#160;Configuration&#160;and&#160;generation&#160;tool&#160;for&#160;MICROSAR&#160;software&#160;components&#160;<br/>
Table&#160;8-1&#160;&#160;&#160;Glossary&#160;<br/>
<b>8.2&#160;</b><br/>
<b>Abbreviations&#160;</b><br/>
<b>Abbreviation&#160;</b><br/>
<b>Description&#160;</b><br/>
API&#160;<br/>
Application&#160;Programming&#160;Interface&#160;&#160;&#160;<br/>
AUTOSAR&#160;<br/>
Automotive&#160;Open&#160;System&#160;Architecture&#160;<br/>
BSW&#160;<br/>
Basis&#160;Software&#160;<br/>
CanNm&#160;<br/>
CAN&#160;Network&#160;Manager&#160;<br/>
CanSM&#160;<br/>
CAN&#160;State&#160;Manager&#160;<br/>
CanTp&#160;<br/>
CAN&#160;Transport&#160;Protocol&#160;<br/>
CanTrcv&#160;<br/>
CAN&#160;Transceiver&#160;<br/>
CCMSM&#160;<br/>
CAN&#160;Interface&#160;Controller&#160;Mode&#160;State&#160;Machine&#160;(for&#160;one&#160;controller)&#160;<br/>
CDD&#160;<br/>
Complex&#160;Device&#160;Driver&#160;<br/>
ComM&#160;<br/>
Communication&#160;Manager&#160;<br/>
DEM&#160;<br/>
Diagnostic&#160;Event&#160;Manager&#160;<br/>
DET&#160;<br/>
Development&#160;Error&#160;Tracer&#160;<br/>
DLC&#160;<br/>
Data&#160;Length&#160;Code&#160;<br/>
ECU&#160;<br/>
Electronic&#160;Control&#160;Unit&#160;<br/>
EcuM&#160;<br/>
ECU&#160;State&#160;Manager&#160;<br/>
FD&#160;<br/>
Flexible&#160;Data-rate&#160;<br/>
FIFO&#160;<br/>
First&#160;In&#160;First&#160;Out&#160;<br/>
HRH&#160;<br/>
Hardware&#160;Receive&#160;Handle&#160;<br/>
HTH&#160;<br/>
Hardware&#160;Transmit&#160;Handle&#160;<br/>
HW&#160;<br/>
Hardware&#160;<br/>
ISR&#160;<br/>
Interrupt&#160;Service&#160;Routine&#160;<br/>
MICROSAR&#160;<br/>
Microcontroller&#160;Open&#160;System&#160;Architecture&#160;(the&#160;Vector&#160;AUTOSAR&#160;<br/>solution)&#160;<br/>
PDU&#160;<br/>
Protocol&#160;Data&#160;Unit&#160;<br/>
PduR&#160;<br/>
PDU&#160;Router&#160;<br/>
SchM&#160;<br/>
Schedule&#160;Manager&#160;<br/>
SDU&#160;<br/>
Service&#160;Data&#160;Unit&#160;<br/>
SRS&#160;<br/>
Software&#160;Requirement&#160;Specification&#160;<br/>
SWC&#160;<br/>
Software&#160;Component&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
67&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=68></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-68_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
SWS&#160;<br/>
Software&#160;Specification&#160;<br/>
Table&#160;8-2&#160;&#160;&#160;Abbreviations&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
68&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name=69></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanIf/doc/TechnicalReference_CanIf-69_1.png"/><br/>
Technical&#160;Reference&#160;CAN Interface&#160;&#160;<br/>
<b>9&#160;&#160;Contact&#160;</b><br/>
Visit&#160;our&#160;website&#160;for&#160;more&#160;information&#160;on&#160;<br/>&#160;<br/>&gt;&#160; &#160;News&#160;<br/>&gt;&#160; &#160;Products&#160;<br/>&gt;&#160; &#160;Demo&#160;software&#160;<br/>&gt;&#160; &#160;Support&#160;<br/>&gt;&#160; &#160;Training&#160;data&#160;<br/>&gt;&#160; &#160;Addresses&#160;<br/>&#160;<br/><b>www.vector-informatik.com&#160;<br/>&#160;<br/>&#160;</b><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.09.00&#160;<br/>
69&#160;<br/>
based&#160;on&#160;template&#160;version&#160;2.10.0&#160;<br/>
<hr/>
<a name="outline"></a><h1>Document Outline</h1>
<ul>
<li><a href="TechnicalReference_CanIfs.html#2">1 Document Information</a>
<ul>
<li><a href="TechnicalReference_CanIfs.html#2">1.1 History</a></li>
<li><a href="TechnicalReference_CanIfs.html#3">1.2 Reference Documents</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanIfs.html#10">2 Introduction</a>
<ul>
<li><a href="TechnicalReference_CanIfs.html#10">2.1 Architecture Overview</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanIfs.html#12">3 Functional Description</a>
<ul>
<li><a href="TechnicalReference_CanIfs.html#12">3.1 Deviations regarding AUTOSAR standard</a></li>
<li><a href="TechnicalReference_CanIfs.html#12">3.2 Feature List</a></li>
<li><a href="TechnicalReference_CanIfs.html#13">3.3 Initialization</a></li>
<li><a href="TechnicalReference_CanIfs.html#14">3.4 Transmission</a>
<ul>
<li><a href="TechnicalReference_CanIfs.html#15">3.4.1 Dynamic transmission</a></li>
<li><a href="TechnicalReference_CanIfs.html#15">3.4.2 Transmit-buffer</a></li>
<li><a href="TechnicalReference_CanIfs.html#16">3.4.3 Multiple Transmit-buffers</a></li>
<li><a href="TechnicalReference_CanIfs.html#17">3.4.4 Tx confirmation polling support</a></li>
<li><a href="TechnicalReference_CanIfs.html#18">3.4.5 Data checksum Tx</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanIfs.html#18">3.5 Reception</a>
<ul>
<li><a href="TechnicalReference_CanIfs.html#19">3.5.1 Ranges</a></li>
<li><a href="TechnicalReference_CanIfs.html#20">3.5.2 DLC check</a></li>
<li><a href="TechnicalReference_CanIfs.html#20">3.5.3 Data checksum Rx</a></li>
<li><a href="TechnicalReference_CanIfs.html#21">3.5.4 Control of reception mode of a Rx-PDU</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanIfs.html#22">3.6 Communication Modes</a>
<ul>
<li><a href="TechnicalReference_CanIfs.html#22">3.6.1 Controller Mode</a></li>
<li><a href="TechnicalReference_CanIfs.html#22">3.6.2 PDU Mode</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanIfs.html#23">3.7 Polling</a></li>
<li><a href="TechnicalReference_CanIfs.html#24">3.8 CAN FD</a></li>
<li><a href="TechnicalReference_CanIfs.html#24">3.9 Meta data Rx- / Tx-support</a></li>
<li><a href="TechnicalReference_CanIfs.html#24">3.10 J1939 dynamic address support</a></li>
<li><a href="TechnicalReference_CanIfs.html#25">3.11 Error Notification</a></li>
<li><a href="TechnicalReference_CanIfs.html#30">3.12 Transceiver handling</a></li>
<li><a href="TechnicalReference_CanIfs.html#31">3.13 Sleep / WakeUp</a></li>
<li><a href="TechnicalReference_CanIfs.html#33">3.14 Bus Off</a></li>
<li><a href="TechnicalReference_CanIfs.html#34">3.15 Version Info</a></li>
<li><a href="TechnicalReference_CanIfs.html#34">3.16 Partial Networking</a></li>
<li><a href="TechnicalReference_CanIfs.html#36">3.17 Services used by the CAN Interface</a></li>
<li><a href="TechnicalReference_CanIfs.html#36">3.18 Multiple CAN drivers</a></li>
<li><a href="TechnicalReference_CanIfs.html#37">3.19 Extended RAM-check</a></li>
<li><a href="TechnicalReference_CanIfs.html#38">3.20 Critical Sections</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanIfs.html#40">4 Integration</a>
<ul>
<li><a href="TechnicalReference_CanIfs.html#40">4.1 Files and include structure</a>
<ul>
<li><a href="TechnicalReference_CanIfs.html#40">4.1.1 Static Files</a></li>
<li><a href="TechnicalReference_CanIfs.html#40">4.1.2 Dynamic Files</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanIfs.html#41">4.2 Include Structure</a></li>
<li><a href="TechnicalReference_CanIfs.html#42">4.3 Compiler Abstraction and Memory Mapping</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanIfs.html#43">5 Configuration</a>
<ul>
<li><a href="TechnicalReference_CanIfs.html#43">5.1 Configuration of Post-Build</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanIfs.html#44">6 API Description</a>
<ul>
<li><a href="TechnicalReference_CanIfs.html#44">6.1 Services provided by the CAN Interface</a>
<ul>
<li><a href="TechnicalReference_CanIfs.html#44">6.1.1 CanIf_GetVersionInfo</a></li>
<li><a href="TechnicalReference_CanIfs.html#44">6.1.2 CanIf_Init</a></li>
<li><a href="TechnicalReference_CanIfs.html#45">6.1.3 CanIf_SetControllerMode</a></li>
<li><a href="TechnicalReference_CanIfs.html#45">6.1.4 CanIf_GetControllerMode</a></li>
<li><a href="TechnicalReference_CanIfs.html#46">6.1.5 CanIf_Transmit</a></li>
<li><a href="TechnicalReference_CanIfs.html#46">6.1.6 CanIf_TxConfirmation</a></li>
<li><a href="TechnicalReference_CanIfs.html#47">6.1.7 CanIf_RxIndication</a></li>
<li><a href="TechnicalReference_CanIfs.html#47">6.1.8 CanIf_ControllerBusOff</a></li>
<li><a href="TechnicalReference_CanIfs.html#48">6.1.9 CanIf_SetPduMode</a></li>
<li><a href="TechnicalReference_CanIfs.html#48">6.1.10 CanIf_GetPduMode</a></li>
<li><a href="TechnicalReference_CanIfs.html#49">6.1.11 CanIf_InitMemory</a></li>
<li><a href="TechnicalReference_CanIfs.html#49">6.1.12 CanIf_CancelTxConfirmation</a></li>
<li><a href="TechnicalReference_CanIfs.html#50">6.1.13 CanIf_SetTrcvMode</a></li>
<li><a href="TechnicalReference_CanIfs.html#50">6.1.14 CanIf_GetTrcvMode</a></li>
<li><a href="TechnicalReference_CanIfs.html#51">6.1.15 CanIf_GetTrcvWakeupReason</a></li>
<li><a href="TechnicalReference_CanIfs.html#51">6.1.16 CanIf_SetTrcvWakeupMode</a></li>
<li><a href="TechnicalReference_CanIfs.html#52">6.1.17 CanIf_CheckWakeup</a></li>
<li><a href="TechnicalReference_CanIfs.html#52">6.1.18 CanIf_CheckValidation</a></li>
<li><a href="TechnicalReference_CanIfs.html#53">6.1.19 CanIf_ResetBusOffStart</a></li>
<li><a href="TechnicalReference_CanIfs.html#53">6.1.20 CanIf_ResetBusOffEnd</a></li>
<li><a href="TechnicalReference_CanIfs.html#54">6.1.21 CanIf_CancelTransmit</a></li>
<li><a href="TechnicalReference_CanIfs.html#54">6.1.22 CanIf_CancelTxNotification</a></li>
<li><a href="TechnicalReference_CanIfs.html#55">6.1.23 CanIf_SetDynamicTxId</a></li>
<li><a href="TechnicalReference_CanIfs.html#55">6.1.24 CanIf_ControllerModeIndication</a></li>
<li><a href="TechnicalReference_CanIfs.html#56">6.1.25 CanIf_TrcvModeIndication</a></li>
<li><a href="TechnicalReference_CanIfs.html#56">6.1.26 CanIf_ConfirmPnAvailability</a></li>
<li><a href="TechnicalReference_CanIfs.html#57">6.1.27 CanIf_ClearTrcvWufFlagIndication</a></li>
<li><a href="TechnicalReference_CanIfs.html#57">6.1.28 CanIf_CheckTrcvWakeFlagIndication</a></li>
<li><a href="TechnicalReference_CanIfs.html#58">6.1.29 CanIf_SetBaudrate</a></li>
<li><a href="TechnicalReference_CanIfs.html#58">6.1.30 CanIf_ChangeBaudrate</a></li>
<li><a href="TechnicalReference_CanIfs.html#59">6.1.31 CanIf_ChangeBaudrate</a></li>
<li><a href="TechnicalReference_CanIfs.html#59">6.1.32 CanIf_GetTxConfirmationState</a></li>
<li><a href="TechnicalReference_CanIfs.html#60">6.1.33 CanIf_SetAddressTableEntry</a></li>
<li><a href="TechnicalReference_CanIfs.html#60">6.1.34 CanIf_ResetAddressTableEntry</a></li>
<li><a href="TechnicalReference_CanIfs.html#61">6.1.35 CanIf_RamCheckExecute</a></li>
<li><a href="TechnicalReference_CanIfs.html#61">6.1.36 CanIf_RamCheckEnableMailbox</a></li>
<li><a href="TechnicalReference_CanIfs.html#62">6.1.37 CanIf_RamCheckEnableController</a></li>
<li><a href="TechnicalReference_CanIfs.html#62">6.1.38 CanIf_RamCheckCorruptMailbox</a></li>
<li><a href="TechnicalReference_CanIfs.html#63">6.1.39 CanIf_RamCheckCorruptController</a></li>
<li><a href="TechnicalReference_CanIfs.html#63">6.1.40 CanIf_SetPduReceptionMode</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanIfs.html#64">6.2 Callout Functions</a>
<ul>
<li><a href="TechnicalReference_CanIfs.html#64">6.2.1 EcuM_BswErrorHook</a></li>
<li><a href="TechnicalReference_CanIfs.html#64">6.2.2 CanIf_RxIndicationSubDataChecksumRxVerify</a></li>
<li><a href="TechnicalReference_CanIfs.html#65">6.2.3 CanIf_TransmitSubDataChecksumTxAppend</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_CanIfs.html#66">7 AUTOSAR Standard Compliance</a>
<ul>
<li><a href="TechnicalReference_CanIfs.html#66">7.1 Not supported AUTOSAR features</a>
<ul>
<li><a href="TechnicalReference_CanIfs.html#66">7.1.1 Tx notification status</a></li>
<li><a href="TechnicalReference_CanIfs.html#66">7.1.2 Rx notification status</a></li>
<li><a href="TechnicalReference_CanIfs.html#66">7.1.3 Rx buffer</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanIfs.html#66">7.2 Deviations</a>
<ul>
<li><a href="TechnicalReference_CanIfs.html#66">7.2.1 Tx buffer</a></li>
<li><a href="TechnicalReference_CanIfs.html#66">7.2.2 Partial networking</a></li>
<li><a href="TechnicalReference_CanIfs.html#66">7.2.3 AUTOSAR version check</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanIfs.html#66">7.3 Limitations</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanIfs.html#67">8 Glossary and Abbreviations</a>
<ul>
<li><a href="TechnicalReference_CanIfs.html#67">8.1 Glossary</a></li>
<li><a href="TechnicalReference_CanIfs.html#67">8.2 Abbreviations</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanIfs.html#69">9 Contact</a></li>
</ul>
<hr/>
</body>
</html>
