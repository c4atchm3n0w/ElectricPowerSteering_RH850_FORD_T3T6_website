---
title: TechnicalReference_Asr_Can_RH850_MCANs
linkTitle: TechnicalReference_Asr_Can_RH850_MCANs
weight: 6
---

<!DOCTYPE html><html>
<head>
<title></title>
<style type="text/css">
<!--
.xflip {
    -moz-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    -o-transform: scaleX(-1);
    transform: scaleX(-1);
    filter: fliph;
}
.yflip {
    -moz-transform: scaleY(-1);
    -webkit-transform: scaleY(-1);
    -o-transform: scaleY(-1);
    transform: scaleY(-1);
    filter: flipv;
}
.xyflip {
    -moz-transform: scaleX(-1) scaleY(-1);
    -webkit-transform: scaleX(-1) scaleY(-1);
    -o-transform: scaleX(-1) scaleY(-1);
    transform: scaleX(-1) scaleY(-1);
    filter: fliph + flipv;
}
-->
</style>
</head>
<body>
<a name=1></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-1_1.png"/><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>MICROSAR CAN Driver&#160;<br/></b>Technical Reference&#160;<br/>&#160;<br/>Renesas&#160;<br/>RH850/P1x-C&#160;<br/>MCAN&#160;<br/>
&#160;<br/>Version&#160;1.02.00&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
Authors&#160;<br/>
Cengiz&#160;Ünver,&#160;Peter&#160;Herrmann&#160;<br/>
Status&#160;<br/>
Released&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
<hr/>
<a name=2></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-2_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>Document&#160;Information&#160;</b><br/>
<b>History&#160;Core&#160;</b><br/>
<b>Author&#160;</b><br/>
<b>Date&#160;</b><br/>
<b>Version&#160;</b><br/>
<b>Remarks&#160;</b><br/>
Holger&#160;Birke&#160;<br/>
2006-06-21&#160;<br/>
1.0&#160;<br/>
Initial&#160;version&#160;<br/>
Holger&#160;Birke&#160;<br/>
2006-06-28&#160;<br/>
1.1&#160;<br/>
Review&#160;modifications&#160;<br/>
Holger&#160;Birke&#160;<br/>
2006-10-26&#160;<br/>
1.2&#160;<br/>
New&#160;feature&#160;Tx&#160;polling,&#160;FullCAN&#160;Tx&#160;and&#160;<br/>support&#160;DEM&#160;<br/>
Holger&#160;Birke&#160;<br/>
2007-01-22&#160;<br/>
1.3&#160;<br/>
New&#160;feature Bus&#160;Off&#160;Polling&#160;<br/>
Holger&#160;Birke&#160;<br/>
2007-02-15&#160;<br/>
1.4&#160;<br/>
Minor&#160;Changes&#160;<br/>
Holger&#160;Birke&#160;<br/>
2007-07-10&#160;<br/>
1.5&#160;<br/>
ASR2.1&#160;<br/>
Holger&#160;Birke&#160;<br/>
2007-08-24&#160;<br/>
1.6&#160;<br/>
Renaming MICROSAR&#160;<br/>
Holger&#160;Birke&#160;<br/>
2007-08-28&#160;<br/>
1.7&#160;<br/>
Remove Driver&#160;version&#160;<br/>
Holger&#160;Birke&#160;<br/>
2007-08-29&#160;<br/>
1.8&#160;<br/>
Driver&#160;version also removed&#160;from&#160;Chapter&#160;<br/>3&#160;<br/>
Holger&#160;Birke&#160;<br/>
2007-11-13&#160;<br/>
1.9&#160;<br/>
Changed&#160;API&#160;Can_Init(),&#160;add&#160;API&#160;<br/>Can_InitStruct(),&#160;add&#160;init&#160;structure&#160;<br/>description&#160;(HL2.22)&#160;<br/>
Holger&#160;Birke&#160;<br/>
2007-12-03&#160;<br/>
1.10&#160;<br/>
Improve Interrupt&#160;description&#160;<br/>
Holger&#160;Birke&#160;<br/>
2008-02-20&#160;<br/>
1.11&#160;<br/>
ASR3&#160;<br/>
Holger&#160;Birke&#160;<br/>
2008-04-18&#160;<br/>
1.12&#160;<br/>
Review&#160;Reworks&#160;(Sh2&#160;review&#160;and by&#160;<br/>visem)&#160;<br/>
Holger&#160;Birke&#160;<br/>
2008-07-21&#160;<br/>
1.13&#160;<br/>
Review&#160;Reworks&#160;(TMS320)&#160;<br/>
Holger&#160;Birke&#160;<br/>
2008-08-13&#160;<br/>
1.14&#160;<br/>
Core&#160;3.3&#160;<br/>Optimization&#160;for&#160;runtime,&#160;ROM&#160;and RAM&#160;<br/>
Holger&#160;Birke&#160;<br/>
2008-08-13&#160;<br/>
1.15&#160;<br/>
Core&#160;3.5&#160;<br/>rename&#160;INTERRUPT&#160;&amp;&#160;POLLING&#160;<br/>Update&#160;Tool&#160;configuration description&#160;<br/>Add&#160;Remote&#160;Frame&#160;rejection&#160;description&#160;<br/>
Holger&#160;Birke&#160;<br/>
2008-10-23&#160;<br/>
1.16&#160;<br/>
Core&#160;3.6&#160;<br/>add new&#160;API&#160;handle “Hardware&#160;Loop&#160;<br/>Check”&#160;by&#160;application&#160;<br/>+&#160;beautifying&#160;<br/>
Holger&#160;Birke&#160;<br/>
2009-02-06&#160;<br/>
1.17&#160;<br/>
Core&#160;3.7&#160;<br/>Add&#160;individual&#160;polling&#160;<br/>
Holger&#160;Birke&#160;<br/>
2009-05-19&#160;<br/>
1.18&#160;<br/>
Improve “Generic Precopy”&#160;description&#160;<br/>(extended ID&#160;bit)&#160;<br/>Add&#160;Compiler&#160;and&#160;Memory&#160;abstraction,&#160;<br/>Add&#160;possibility&#160;to report&#160;CAN_E_TIMEOUT&#160;<br/>as DET.&#160;<br/>
Holger&#160;Birke&#160;<br/>
2009-07-15&#160;<br/>
1.18.01&#160;<br/>
Core&#160;3.09&#160;<br/>Remove Compiler&#160;abstraction&#160;CAN_ISR.&#160;<br/>Change&#160;“Hardware&#160;Loop&#160;Check”&#160;naming.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
2&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=3></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-3_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
Holger&#160;Birke&#160;<br/>
2009-07-28&#160;<br/>
1.18.02&#160;<br/>
Review&#160;reworks&#160;<br/>
Holger&#160;Birke&#160;<br/>
2009-10-01&#160;<br/>
1.18.03&#160;<br/>
Core&#160;3.10&#160;<br/>Add&#160;RxQueue&#160;(high-end)&#160;and&#160;Generic&#160;<br/>Confirmation&#160;<br/>
Holger&#160;Birke&#160;<br/>
2010-02-04&#160;<br/>
1.19&#160;<br/>
Core&#160;3.11&#160;<br/>Add&#160;“Multiple BasicCAN”,&#160;“Support&#160;Mixed&#160;<br/>ID”,&#160;“Optimize&#160;for&#160;one controller”,&#160;“Dynamic&#160;<br/>FullCAN&#160;Tx&#160;ID”&#160;and&#160;“Size of&#160;Hw&#160;<br/>HandleType”.&#160;<br/>Rename&#160;“Hardware&#160;Cancellation”&#160;<br/>Correct&#160;“Services used by&#160;CAN”&#160;<br/>
Holger&#160;Birke&#160;<br/>
2010-04-01&#160;<br/>
1.20&#160;<br/>
Core&#160;3.12&#160;<br/>Add&#160;Critical&#160;Section&#160;description&#160;<br/>Add&#160;“Common&#160;CAN”&#160;<br/>Add&#160;Hardware&#160;assertion&#160;(DET)&#160;description&#160;<br/>Add&#160;Can_GetStatus()&#160;+&#160;Interrupt&#160;category&#160;<br/>configuration.&#160;<br/>Add&#160;ApplCanInterruptDisable/Restore()&#160;<br/>
Holger&#160;Birke&#160;<br/>
2010-11-24&#160;<br/>
2.00&#160;<br/>
Core&#160;4.00&#160;<br/>Update&#160;to&#160;MICROSAR4&#160;<br/>Add&#160;“Overrun&#160;notification”&#160;<br/>Add&#160;“RAM&#160;check”&#160;<br/>
Holger&#160;Birke&#160;<br/>
2011-04-18&#160;<br/>
2.00.01&#160;<br/>
Review&#160;reworks&#160;(VJ)&#160;<br/>
Holger&#160;Birke&#160;<br/>
2011-06-28&#160;<br/>
2.00.02&#160;<br/>
Rework&#160;(add&#160;missing config settings&#160;to&#160;<br/>GENy&#160;GUI&#160;description)&#160;<br/>Add&#160;MicroSar&#160;–&#160;AUTOSAR&#160;deviations&#160;<br/>
Holger&#160;Birke&#160;<br/>
2011-07-29&#160;<br/>
2.01&#160;<br/>
Core&#160;4.01&#160;<br/>Add&#160;“GenericPreTransmit”&#160;<br/>
Holger&#160;Birke&#160;<br/>
2012-01-13&#160;<br/>
2.01.01&#160;<br/>
Improve description&#160;for&#160;“Nested&#160;Interrupts”&#160;<br/>and “Identical&#160;ID&#160;cancellation”&#160;<br/>
Holger&#160;Birke&#160;<br/>
2012-04-02&#160;<br/>
2.02.00&#160;<br/>
Core&#160;4.02&#160;<br/>Add&#160;Platform,&#160;CANCell&#160;and Manufacturer&#160;<br/>as First&#160;Page&#160;Information&#160;<br/>Add&#160;Void-Void ISR&#160;configuration,&#160;support&#160;<br/>ASR3.2.1&#160;Identical&#160;ID&#160;cancellation&#160;<br/>
Holger&#160;Birke&#160;<br/>
2012-04-02&#160;<br/>
2.03.00&#160;<br/>
Partial&#160;Network&#160;part&#160;of&#160;configuration&#160;(no&#160;<br/>more&#160;preconfig)&#160;<br/>
Holger&#160;Birke&#160;<br/>
2012-06-29&#160;<br/>
2.04.00&#160;<br/>
Core&#160;4.03&#160;<br/>Support&#160;AR4-R5 (ASR4.0.3)&#160;–&#160;New&#160;API&#160;<br/>added&#160;<br/>Improve Hardware&#160;Loop&#160;description&#160;<br/>
Holger&#160;Birke&#160;<br/>
2012-11-07&#160;<br/>
2.05.00&#160;<br/>
Core&#160;4.04&#160;<br/>Add&#160;Re-initialization description&#160;<br/>Instance&#160;ID&#160;of&#160;DET&#160;is&#160;always&#160;0&#160;<br/>
Holger&#160;Birke&#160;<br/>
2012-11-07&#160;<br/>
2.05.01&#160;<br/>
Improve Hardware&#160;Loop&#160;description&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
3&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=4></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-4_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-4_2.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
Holger&#160;Birke&#160;<br/>
2013-10-11&#160;<br/>
2.06.00&#160;<br/>
Add&#160;CAN&#160;FD&#160;description&#160;<br/>(Can_SetBaudrate()&#160;API)&#160;<br/>
&#160;<br/>
<b>History&#160;Platforms&#160;</b><br/>
<b>Author&#160;</b><br/>
<b>Date&#160;</b><br/>
<b>Version&#160;</b><br/>
<b>Remarks&#160;</b><br/>
C.&#160;Ünver&#160;<br/>
2015-04-27&#160;<br/>
1.00.00&#160;<br/>
Initial&#160;version&#160;<br/>
P.&#160;Herrmann&#160;<br/>
2016-01-28&#160;<br/>
1.01.00&#160;<br/>
Added&#160;MCAN&#160;Rev.&#160;3.1.0&#160;changes.&#160;&#160;<br/>Additional&#160;description concerning&#160;the&#160;<br/>Bosch&#160;&#160;MCAN&#160;Errata&#160;Sheet.&#160;<br/>
P.&#160;Herrmann&#160;<br/>
2016-10-06&#160;<br/>
1.02.00&#160;<br/>
Additional&#160;description concerning&#160;the&#160;<br/>Bosch&#160;&#160;MCAN&#160;Errata&#160;Sheet.&#160;<br/>
&#160;<br/>
<b>Reference&#160;Documents&#160;</b><br/>
<b>No.&#160;</b><br/>
<b>Title&#160;</b><br/>
<b>Version&#160;</b><br/>
[1]&#160;&#160;&#160;AUTOSAR_SWS_CAN_DRIVER.pdf&#160;<br/>
2.4.6&#160;+&#160;&#160;<br/>3.0.0&#160;+&#160;<br/>4.0.0&#160;<br/>
[2]&#160;&#160;&#160;AUTOSAR_BasicSoftwareModules.pdf&#160;<br/>
V1.0.0&#160;<br/>
[3]&#160;&#160;&#160;AUTOSAR_SWS&#160;BSW&#160;Scheduler&#160;<br/>
V1.1.0&#160;<br/>
[4]&#160;&#160;&#160;AUTOSAR_SWS_CAN_Interface.pdf&#160;<br/>
3.2.7&#160;+&#160;&#160;<br/>4.0.0&#160;+&#160;<br/>5.0.0&#160;<br/>
[5]&#160;&#160;&#160;AN-ISC-8-1118&#160;MICROSAR&#160;BSW&#160;Compatibility&#160;Check&#160;<br/>
V1.0.0&#160;<br/>
[6]&#160;&#160;&#160;M_CAN&#160;Controller&#160;Area&#160;Network&#160;Errata Sheet&#160;&#160;<br/>
REL2015 0701&#160;<br/>
&#160;<br/>
<b>1.1&#160;</b><br/>
<b>Scope&#160;of&#160;the&#160;Document&#160;</b><br/>
This&#160;document&#160;describes&#160;the&#160;functionality,&#160;API&#160;and&#160;configuration&#160;of&#160;the&#160;MICROSAR&#160;CAN&#160;<br/>driver&#160;&#160;as&#160;&#160;specified&#160;&#160;in&#160;&#160;[1].&#160;&#160;The&#160;&#160;CAN&#160;&#160;driver&#160;&#160;is&#160;&#160;a&#160;&#160;hardware&#160;&#160;abstraction&#160;&#160;layer&#160;&#160;with&#160;&#160;a&#160;<br/>standardized&#160;interface&#160;to&#160;the&#160;CAN&#160;Interface&#160;layer.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>We&#160;have configured&#160;the&#160;programs&#160;in&#160;accordance&#160;with your&#160;specifications&#160;in the&#160;<br/>
<b>&#160;&#160;</b>questionnaire.&#160;Whereas&#160;the&#160;programs&#160;do&#160;support&#160;other&#160;configurations&#160;than&#160;the&#160;one&#160;<br/>
specified&#160;in your&#160;questionnaire,&#160;Vector’s&#160;release&#160;of&#160;the&#160;programs&#160;delivered to&#160;your&#160;<br/>company&#160;is&#160;expressly&#160;restricted&#160;to&#160;the&#160;configuration&#160;you&#160;have specified&#160;in&#160;the&#160;<br/>questionnaire.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
4&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=5></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-5_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>Contents&#160;</b><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#4">1.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#4">Scope of&#160;the&#160;Document......................................................................................&#160;4&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#8"><b>2</b>&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#8"><b>Hardware&#160;Overview&#160;......................................................................................................&#160;8</b>&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#9"><b>3</b>&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#9"><b>Introduction...................................................................................................................&#160;9</b>&#160;<br/></a><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#10">3.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#10">Architecture&#160;Overview&#160;......................................................................................&#160;10&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#12"><b>4</b>&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#12"><b>Functional&#160;Description&#160;...............................................................................................&#160;12</b>&#160;<br/>4.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#12">Features&#160;..........................................................................................................&#160;12&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#15">4.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#15">Initialization&#160;......................................................................................................&#160;15&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#16">4.3&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#16">Communication&#160;................................................................................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#18">4.4&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#18">States&#160;/&#160;Modes&#160;.................................................................................................&#160;18&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#19">4.5&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#19">Re-Initialization&#160;................................................................................................&#160;19&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#19">4.6&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#19">CAN&#160;Interrupt&#160;Locking&#160;......................................................................................&#160;19&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#19">4.7&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#19">Main Functions&#160;................................................................................................&#160;19&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#20">4.8&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#20">Error&#160;Handling&#160;..................................................................................................&#160;20&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#24">4.9&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#24">Common&#160;CAN&#160;..................................................................................................&#160;24&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#27"><b>5</b>&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#27"><b>Integration&#160;...................................................................................................................&#160;27</b>&#160;<br/>5.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#27">Scope of&#160;Delivery&#160;.............................................................................................&#160;27&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#28">5.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#28">Include Structure&#160;..............................................................................................&#160;28&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#28">5.3&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#28">Critical&#160;Sections&#160;...............................................................................................&#160;28&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#30">5.4&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#30">Compiler&#160;Abstraction&#160;and Memory&#160;Mapping&#160;.....................................................&#160;30&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#32"><b>6</b>&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#32"><b>Hardware&#160;Specific&#160;Hints&#160;.............................................................................................&#160;32</b>&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#35"><b>7</b>&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#35"><b>API&#160;Description&#160;...........................................................................................................&#160;35</b>&#160;<br/>7.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#35">Interrupt&#160;Service Routines&#160;provided by&#160;CAN&#160;....................................................&#160;35&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#36">7.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#36">Services provided by&#160;CAN&#160;...............................................................................&#160;36&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#60">7.3&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#60">Services used by&#160;CAN&#160;.....................................................................................&#160;60&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#62"><b>8</b>&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#62"><b>Configuration&#160;..............................................................................................................&#160;62</b>&#160;<br/>8.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#62">Pre-Compile Parameters&#160;..................................................................................&#160;62&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#63">8.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#63">Link-Time&#160;Parameters&#160;......................................................................................&#160;63&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#63">8.3&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#63">Post-Build Parameters&#160;.....................................................................................&#160;63&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#64">8.4&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#64">Configuration with da&#160;DaVinci&#160;Configurator&#160;......................................................&#160;64&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#65"><b>9</b>&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#65"><b>AUTOSAR&#160;Standard&#160;Compliance...............................................................................&#160;65</b>&#160;<br/>9.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#65">Limitations&#160;/&#160;Restrictions&#160;..................................................................................&#160;65&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#65">9.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#65">Hardware&#160;Limitations&#160;.......................................................................................&#160;65&#160;</a><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
5&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=6></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-6_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#67">9.3&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#67">Vector&#160;Extensions&#160;............................................................................................&#160;67&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#68"><b>10</b>&#160;&#160;<b>Glossary&#160;and&#160;Abbreviations&#160;......................................................................................&#160;68</b>&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#68">10.1&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#68">Glossary&#160;..........................................................................................................&#160;68&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#68">10.2&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#68">Abbreviations&#160;...................................................................................................&#160;68&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#69"><b>11</b>&#160;&#160;<b>Contact&#160;........................................................................................................................&#160;69</b>&#160;<br/></a>&#160;<br/>
<b>Illustrations&#160;<br/></b><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#10">Figure&#160;3-1&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#10">AUTOSAR&#160;3.x&#160;Architecture&#160;Overview&#160;.......................................................&#160;10&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#11">Figure&#160;3-2&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#11">AUTOSAR&#160;architecture&#160;.............................................................................&#160;11&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#11">Figure&#160;3-3&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#11">Interfaces&#160;to adjacent&#160;modules of&#160;the&#160;CAN&#160;...............................................&#160;11&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#28">Figure&#160;5-1&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#28">Include Structure&#160;(AUTOSAR)&#160;..................................................................&#160;28&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#35">Figure&#160;7-1&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#35">Select&#160;OS&#160;Type&#160;.........................................................................................&#160;35&#160;</a><br/>
&#160;<br/>
<b>Tables&#160;<br/></b><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#8">Table&#160;2-1&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#8">Supported&#160;Hardware&#160;Overview&#160;...................................................................&#160;8&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#15">Table&#160;4-1&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#15">Supported&#160;features&#160;...................................................................................&#160;15&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#17">Table&#160;4-2&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#17">Hardware&#160;mailbox&#160;layout&#160;..........................................................................&#160;17&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#20">Table&#160;4-3&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#20">Errors&#160;reported&#160;to DET&#160;.............................................................................&#160;20&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#21">Table&#160;4-4&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#21">API&#160;from&#160;which the&#160;Errors&#160;are&#160;reported&#160;.....................................................&#160;21&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#22">Table&#160;4-5&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#22">Errors&#160;reported&#160;to DEM&#160;.............................................................................&#160;22&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#24">Table&#160;4-6&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#24">Hardware&#160;Loop&#160;Check&#160;..............................................................................&#160;24&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#27">Table&#160;5-1&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#27">Static&#160;files&#160;.................................................................................................&#160;27&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#27">Table&#160;5-2&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#27">Generated&#160;files&#160;.........................................................................................&#160;27&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#30">Table&#160;5-3&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#30">Critical&#160;Section Codes&#160;..............................................................................&#160;30&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#31">Table&#160;5-4&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#31">Compiler&#160;abstraction&#160;and&#160;memory&#160;mapping&#160;..............................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#36">Table&#160;7-1&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#36">MCAN&#160;CanIsr_&lt;x&gt;....................................................................................&#160;36&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#37">Table&#160;7-2&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#37">Can_InitMemory&#160;.......................................................................................&#160;37&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#38">Table&#160;7-3&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#38">Can_InitController&#160;.....................................................................................&#160;38&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#39">Table&#160;7-4&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#39">Can_InitController&#160;.....................................................................................&#160;39&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#39">Table&#160;7-5&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#39">Can_ChangeBaudrate&#160;..............................................................................&#160;39&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#40">Table&#160;7-6&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#40">Can_CheckBaudrate&#160;................................................................................&#160;40&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#41">Table&#160;7-7&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#41">Can_SetBaudrate&#160;.....................................................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#41">Table&#160;7-8&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#41">Can_InitStruct&#160;...........................................................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#42">Table&#160;7-9&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#42">Can_GetVersionInfo&#160;.................................................................................&#160;42&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#43">Table&#160;7-10&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#43">Can_GetStatus&#160;.........................................................................................&#160;43&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#44">Table&#160;7-11&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#44">Can_SetControllerMode&#160;...........................................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#44">Table&#160;7-12&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#44">Can_ResetBusOffStart&#160;.............................................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#45">Table&#160;7-13&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#45">Can_ResetBusOffEnd&#160;..............................................................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#46">Table&#160;7-14&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#46">Can_Write.................................................................................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#46">Table&#160;7-15&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#46">Can_CancelTx&#160;..........................................................................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#47">Table&#160;7-16&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#47">Can_CheckWakeup&#160;..................................................................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#47">Table&#160;7-17&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#47">Can_DisableControllerInterrupts&#160;...............................................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#48">Table&#160;7-18&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#48">Can_EnableControllerInterrupts................................................................&#160;48&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#48">Table&#160;7-19&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#48">Can_MainFunction_Write&#160;.........................................................................&#160;48&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#49">Table&#160;7-20&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#49">Can_MainFunction_Read&#160;.........................................................................&#160;49&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#50">Table&#160;7-21&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#50">Can_MainFunction_BusOff&#160;.......................................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#50">Table&#160;7-22&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#50">Can_MainFunction_Wakeup&#160;.....................................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#51">Table&#160;7-23&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#51">Can_MainFunction_Mode&#160;.........................................................................&#160;51&#160;</a><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
6&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=7></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-7_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#51">Table&#160;7-24&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#51">Appl_GenericPrecopy&#160;...............................................................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#52">Table&#160;7-25&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#52">Appl_GenericConfirmation&#160;........................................................................&#160;52&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#53">Table&#160;7-26&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#53">Appl_GenericConfirmation&#160;........................................................................&#160;53&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#53">Table&#160;7-27&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#53">Appl_GenericPreTransmit&#160;.........................................................................&#160;53&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#54">Table&#160;7-28&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#54">ApplCanTimerStart&#160;...................................................................................&#160;54&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#55">Table&#160;7-29&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#55">ApplCanTimerLoop&#160;...................................................................................&#160;55&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#55">Table&#160;7-30&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#55">ApplCanTimerEnd&#160;....................................................................................&#160;55&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#56">Table&#160;7-31&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#56">ApplCanInterruptDisable&#160;...........................................................................&#160;56&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#57">Table&#160;7-32&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#57">ApplCanInterruptRestore&#160;..........................................................................&#160;57&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#57">Table&#160;7-33&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#57">Appl_CanOverrun&#160;.....................................................................................&#160;57&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#58">Table&#160;7-34&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#58">Appl_CanFullCanOverrun&#160;.........................................................................&#160;58&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#59">Table&#160;7-35&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#59">Appl_CanCorruptMailbox&#160;..........................................................................&#160;59&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#59">Table&#160;7-36&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#59">Appl_CanRamCheckFailed&#160;.......................................................................&#160;59&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#60">Table&#160;7-37&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#60">ApplCanInitPostProcessing&#160;......................................................................&#160;60&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#61">Table&#160;7-38&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#61">Services used by&#160;the&#160;CAN&#160;........................................................................&#160;61&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#68">Table&#160;10-1&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#68">Glossary&#160;...................................................................................................&#160;68&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#68">Table&#160;10-2&#160;&#160;</a><br/>
<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#68">Abbreviations&#160;............................................................................................&#160;68&#160;</a><br/>
&#160;<br/>&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
7&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=8></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-8_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>2&#160;&#160;Hardware&#160;Overview&#160;</b><br/>
The&#160;&#160;following&#160;&#160;table&#160;&#160;summarizes&#160;&#160;information&#160;&#160;about&#160;&#160;the&#160;&#160;CAN&#160;&#160;Driver.&#160;&#160;It&#160;&#160;gives&#160;&#160;you&#160;&#160;detailed&#160;<br/>information&#160;&#160;about&#160;&#160;the&#160;&#160;derivatives&#160;&#160;and&#160;&#160;compilers.&#160;&#160;As&#160;&#160;very&#160;&#160;important&#160;&#160;information&#160;&#160;the&#160;<br/>documentations&#160;of&#160;the&#160;hardware&#160;manufacturers&#160;are&#160;listed.&#160;The&#160;CAN&#160;Driver&#160;is&#160;based&#160;upon&#160;<br/>these&#160;documents&#160;in&#160;the&#160;given&#160;version.&#160;&#160;<br/>
&#160;<br/>
<b>Derivative&#160;</b><br/>
<b>Compiler&#160;</b><br/>
<b>Hardware&#160;Manufacturer&#160;Document&#160;</b><br/>
<b>Version&#160;</b><br/>
R7F701325A&#160;<br/>
Document&#160;Number:&#160;RH850/P1x-C&#160;Group&#160;&#160;<br/>
Rev.&#160;0.60,&#160;&#160;&#160;&#160;&#160;&#160;<br/>
R7F701327&#160;<br/>
Rev.&#160;0.60,&#160;09/2014&#160;<br/>
Sep.&#160;2014&#160;<br/>
R7F701328&#160;<br/>
&#160;<br/>
&#160;<br/>
R7F701329&#160;<br/>
RH850/P1x-C&#160;Group&#160;Rev.0.10&#160;,&#160;Nov.&#160;2014&#160;<br/>
Nov,&#160;2014&#160;<br/>
&#160;<br/>
&#160;<br/>
Rev.0.10&#160;<br/>
R7F701370A&#160;<br/>
GHS&#160;<br/>
&#160;<br/>
&#160;<br/>
R7F701370B&#160;<br/>
Compiler&#160;&#160;RH850/P1x-C&#160;Group&#160;User’s&#160;Manual:&#160;<br/>
Jan,&#160;2016&#160;<br/>
R7F701371&#160;<br/>
Release&#160;&#160;Hardware&#160;Renesas&#160;microcontroller&#160;RH850&#160;<br/>
Rev.1.00&#160;<br/>
R7F701372&#160;<br/>
v2015.1.7&#160;&#160;Family&#160;<br/>
R7F701372A&#160;<br/>R7F701373&#160;<br/>R7F701373A&#160;<br/>R7F701374&#160;<br/>R7F701374A&#160;<br/>
Table&#160;2-1&#160;&#160;&#160;Supported&#160;Hardware&#160;Overview&#160;<br/>
<b>Derivative:&#160;</b>This&#160;can&#160;be&#160;a single&#160;information&#160;or a&#160;list&#160;of&#160;derivatives, the CAN Driver&#160;can&#160;be&#160;used&#160;on.&#160;<br/><b>Compiler:&#160;</b>List of&#160;Compilers&#160;the CAN Driver&#160;is&#160;working&#160;with&#160;<br/><b>Hardware Manufacturer&#160;Document&#160;Name:&#160;</b>List&#160;of&#160;hardware documentation&#160;the&#160;CAN Driver&#160;is&#160;based on.&#160;&#160;<br/><b>Version:&#160;</b>To be able to reference to this&#160;hardware documentation&#160;its&#160;version is&#160;very&#160;important.&#160;<br/>&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
8&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=9></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-9_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>3&#160;&#160;Introduction&#160;</b><br/>
This&#160;&#160;document&#160;&#160;describes&#160;&#160;the&#160;&#160;functionality,&#160;API&#160;&#160;and&#160;&#160;configuration&#160;&#160;of&#160;&#160;the&#160;AUTOSAR&#160;&#160;BSW&#160;<br/>module&#160;CAN&#160;as specified&#160;in<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#4">&#160;[1].&#160;</a>&#160;<br/>Since&#160;each&#160;hardware platform&#160;has&#160;its&#160;own&#160;behavior based&#160;on&#160;the&#160;CAN specifications,&#160;the&#160;<br/>main&#160;goal of&#160;the&#160;CAN&#160;driver is to&#160;give&#160;a&#160;standardized&#160;interface&#160;to&#160;support communication&#160;<br/>over the&#160;CAN&#160;bus&#160;for&#160;each&#160;platform&#160;in&#160;the&#160;same&#160;way.&#160;The&#160;CAN&#160;driver works closely&#160;<br/>together with&#160;the&#160;higher layer CAN interface.&#160;<br/>&#160;<br/>
<b>Supported&#160;AUTOSAR&#160;Release*:&#160;</b><br/>
3 and 4&#160;<br/>
<b>Supported&#160;Configuration&#160;Variants:&#160;</b><br/>
Pre-Compile,&#160;<br/>
<b>(Supported&#160;AUTOSAR&#160;Standard&#160;</b><br/>
Link-Time,&#160;<br/>
<b>Conform&#160;Features)&#160;</b><br/>
Post-Build Loadable,&#160;<br/>Post-Build Selectable (MICROSAR&#160;Identity&#160;Manager)&#160;<br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>Vendor&#160;ID:&#160;</b><br/>
CAN_VENDOR_ID&#160;<br/>
30&#160;decimal&#160;<br/>(=&#160;Vector-Informatik,&#160;<br/>according&#160;to HIS)&#160;<br/>
<b>Module&#160;ID:&#160;</b><br/>
CAN_MODULE_ID &#160;&#160;<br/>
80&#160;decimal&#160;<br/>(according to&#160;ref.<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#4">&#160;[2])</a>&#160;<br/>
<b>AR&#160;Version:&#160;</b><br/>
CAN_AR_RELEASE_MAJO<br/>
AUTOSAR&#160;&#160;&#160;&#160;&#160;Release&#160;<br/>
R_VERSION&#160;<br/>
Version &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br/>
CAN_AR_RELEASE_MINOR&#160;BCD&#160;coded&#160;<br/>
_VERSION&#160;<br/>CAN_AR_RELEASE_REVISI<br/>ON_VERSION<b>&#160;</b><br/>
<b>SW&#160;Version:&#160;</b><br/>
CAN_SW_MAJOR_VERSIO<br/>
MICROSAR&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;CAN&#160;<br/>
N&#160;<br/>
module Version&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br/>
CAN_SW_MINOR_VERSION&#160;&#160;BCD&#160;coded&#160;<br/>
CAN_SW_PATCH_VERSION<b>&#160;</b><br/>
*&#160;For&#160;the precise&#160;AUTOSAR Release&#160;3.x&#160;and 4.x&#160;please see&#160;the release specific&#160;documentation.&#160;&#160;<br/>&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
9&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=10></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-10_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-10_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-10_3.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>3.1&#160;</b><br/>
<b>Architecture&#160;Overview&#160;</b><br/>
The&#160;following&#160;figure shows&#160;where the&#160;CAN&#160;is&#160;located&#160;in&#160;the&#160;AUTOSAR architecture.&#160;<br/>
&#160;<br/>
Figure&#160;3-1&#160;&#160;AUTOSAR&#160;3.x&#160;Architecture&#160;Overview&#160;&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
10&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=11></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-11_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
Figure&#160;3-2&#160;&#160;AUTOSAR architecture&#160;<br/>&#160;<br/>
&#160;<br/>
The&#160;next&#160;figure shows the&#160;interfaces&#160;to&#160;adjacent&#160;modules&#160;of&#160;the&#160;CAN.&#160;These&#160;interfaces&#160;are&#160;<br/>described&#160;in&#160;chapte<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#35">r&#160;7.&#160;</a>&#160;<br/>
CAN Interface<br/>
EcuM<br/>
DET<br/>
DEM<br/>
CAN Driver<br/>
...&#160;CAN&#160;X<br/>
&#160;<br/>
Figure&#160;3-3&#160;&#160;Interfaces&#160;to&#160;adjacent&#160;modules&#160;of&#160;the&#160;CAN&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
11&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=12></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-12_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-12_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-12_3.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-12_4.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>4&#160;&#160;Functional&#160;Description&#160;</b><br/>
<b>4.1&#160;</b><br/>
<b>Features&#160;</b><br/>
The&#160;features listed&#160;in&#160;this chapter cover the&#160;complete&#160;functionality&#160;specified&#160;in<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#4">&#160;[1].</a>&#160;<br/>The&#160;&#160;&#34;supported&#34;&#160;&#160;and&#160;&#160;&#34;not&#160;&#160;supported&#34;&#160;&#160;features&#160;&#160;are&#160;&#160;presented&#160;&#160;in&#160;&#160;the&#160;&#160;following&#160;&#160;table.&#160;&#160;For&#160;<br/>further information&#160;of&#160;not&#160;supported&#160;features&#160;also&#160;see&#160;chapte<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#65">r&#160;9.</a>&#160;<br/>
&#160;<br/>
<b>Feature&#160;Naming&#160;</b><br/>
<b>Short&#160;Description&#160;</b><br/>
<b>CFG5&#160;</b><br/>
<b>Initialization&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
General&#160;driver&#160;initialization&#160;function&#160;<br/>
&#160; &#160;Driver&#160;<br/>
&#160;<br/>
Can_Init()&#160;<br/>
Controller specific&#160;initialization&#160;function&#160;<br/>
&#160; &#160;Controller&#160;<br/>
&#160;<br/>
Can_InitController().&#160;<br/>
<b>Communication&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160; &#160;Transmission&#160;<br/>
Transmitting&#160;CAN frames.&#160;<br/>
&#160;<br/>
&#160; &#160;Transmit confirmation&#160;<br/>
Callback&#160;for successful&#160;Transmission.&#160;<br/>
&#160;<br/>
&#160; &#160;Reception&#160;<br/>
Receiving&#160;CAN frames.&#160;<br/>
&#160;<br/>
&#160; &#160;Receive indication&#160;<br/>
Callback&#160;for receiving Frame.&#160;<br/>
&#160;<br/>
<b>Controller&#160;Modes&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
Controller support&#160;sleep mode (power&#160;<br/>
&#160; &#160;Sleep mode&#160;<br/>
&#160;<br/>
saving).&#160;<br/>
&#160; &#160;Wakeup over CAN&#160;<br/>
Controller support&#160;wakeup&#160;over CAN.&#160;<br/>
&#160;<br/>
Controller support&#160;stop&#160;mode (passive to&#160;<br/>
&#160; &#160;Stop&#160;mode&#160;<br/>
&#160;<br/>
CAN bus).&#160;<br/>
&#160; &#160;Bus&#160;Off&#160;detection&#160;<br/>
Callback&#160;for Bus&#160;Off&#160;event.&#160;<br/>
&#160;<br/>
<b>Polling&#160;Modes&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
Support polling&#160;mode for&#160;Transmit&#160;<br/>
&#160; &#160;Tx&#160;confirmation&#160;<br/>
&#160;<br/>
confirmation.&#160;<br/>
&#160; &#160;Reception&#160;<br/>
Support polling&#160;mode for Reception.&#160;<br/>
&#160;<br/>
&#160; &#160;Wakeup&#160;<br/>
Support polling&#160;mode for&#160;Wakeup event.&#160;<br/>
&#160;<br/>
&#160; &#160;Bus&#160;Off&#160;<br/>
Support polling&#160;mode for Bus&#160;Off&#160;event.&#160;<br/>
&#160;<br/>
MICROSAR4x&#160;only:&#160;Support polling&#160;<br/>
&#160; &#160;Mode&#160;<br/>
&#160;<br/>
mode for&#160;mode transition.&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>Mailbox objects&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
Standard mailbox&#160;to&#160;send&#160;CAN frames&#160;<br/>
&#160; &#160;Tx&#160;BasicCAN&#160;<br/>
&#160;<br/>
(Used&#160;by&#160;CAN Interface data queue).&#160;<br/>
Using&#160;3 mailboxes&#160;for&#160;Tx&#160;BasicCAN&#160;<br/>
&#160; &#160;Multiplexed&#160;Tx&#160;<br/>
mailbox&#160;(external&#160;priority&#160;inversion&#160;<br/>
&#160;<br/>
avoided).&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
12&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=13></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-13_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
Separate mailbox&#160;for special&#160;Tx&#160;message&#160;<br/>
&#160; &#160;Tx&#160;FullCAN&#160;<br/>
&#160;<br/>
used.&#160;<br/>
&#160; &#160; &#160;&#160;Maximum&#160;amount&#160;<br/>
Available amount&#160;of&#160;mailboxes.&#160;<br/>
32&#160;<br/>
Separate mailbox&#160;for special&#160;Rx&#160;<br/>
&#160; &#160;Rx&#160;FullCAN&#160;<br/>
&#160;<br/>
message used.&#160;<br/>
&#160; &#160; &#160;&#160;Maximum&#160;amount&#160;<br/>
Available amount&#160;of&#160;mailboxes.&#160;<br/>
64&#160;<br/>
Standard mailbox&#160;to&#160;receive CAN&#160;frame&#160;<br/>
&#160; &#160;Rx&#160;BasicCAN&#160;<br/>
(depending&#160;on&#160;hardware,&#160;FIFO&#160;or&#160;<br/>
&#160;<br/>
shadow&#160;buffer supported).&#160;<br/>
Available amount&#160;of&#160;BasicCAN objects.&#160;<br/>By&#160;default there is&#160;one FIFO(0)&#160;<br/>
&#160; &#160; &#160;&#160;Maximum&#160;amount<br/>
supported&#160;with&#160;a max. amount&#160;of&#160;64&#160;<br/>
&#160;<br/>
2*64&#160;<br/>
entries.&#160;In&#160;case&#160;of&#160;“Multiple&#160;BasicCAN”&#160;<br/>(see&#160;below)&#160;support an additional&#160;second&#160;<br/>FIFO(1) with&#160;64&#160;entries&#160;is&#160;supported.&#160;<br/>
<b>Others&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160; &#160;DEM<br/>
Support Diagnostic&#160;Event&#160;Manager&#160;(error&#160;<br/>
&#160;<br/>
&#160;<br/>
notification).&#160;<br/>
Support Development Error Detection&#160;<br/>
&#160; &#160;DET&#160;<br/>
&#160;<br/>
(error notification).&#160;<br/>
&#160; &#160;Version&#160;API&#160;<br/>
API&#160;to&#160;read&#160;out&#160;component&#160;version.&#160;<br/>
&#160;<br/>
&#160; &#160;Maximum&#160;supported&#160;<br/>
Maximum&#160;amount&#160;of&#160;supported&#160;<br/>
4&#160;<br/>
Controllers&#160;<br/>
controllers&#160;(hardware channels).&#160;<br/>
Support of&#160;Tx&#160;Cancellation&#160;(out of&#160;<br/>
&#160; &#160;Cancellation&#160;of&#160;Tx&#160;objects&#160;&#160;hardware).&#160;Avoid&#160;internal&#160;priority&#160;<br/>
&#160;<br/>
inversion.&#160;<br/>
&#160; &#160;Identical&#160;ID&#160;cancellation&#160;<br/>
Tx&#160;Cancellation&#160;also&#160;for identical&#160;IDs.&#160;&#160;<br/>
&#160;<br/>
Standard&#160;Identifier supported&#160;(Tx&#160;and&#160;<br/>
&#160; &#160;Standard ID&#160;types&#160;<br/>
&#160;<br/>
Rx).&#160;<br/>
Extended&#160;Identifier supported&#160;(Tx&#160;and&#160;<br/>
&#160; &#160;Extended ID types&#160;<br/>
&#160;<br/>
Rx).&#160;<br/>
Standard&#160;and&#160;Extended Identifier&#160;<br/>
&#160; &#160;Mixed ID&#160;types&#160;<br/>
&#160;<br/>
supported (Tx&#160;and Rx).&#160;<br/>
FD frames&#160;with&#160;baudrate&#160;switch&#160;<br/>
&#160; &#160;CAN&#160;FD&#160;Mode1&#160;<br/>
-&#160;<br/>
supported (Tx&#160;and Rx).&#160;<br/>
FD frames&#160;up&#160;to&#160;64&#160;data bytes&#160;supported&#160;<br/>
&#160; &#160;CAN&#160;FD&#160;Mode2&#160;<br/>
****&#160;<br/>
(Tx&#160;and Rx).&#160;<br/>
&#160; &#160;Hardware Loop&#160;Check&#160;<br/>
To avoid&#160;possible&#160;endless&#160;loops&#160;(occur&#160;<br/>
&#160;<br/>
&#160; &#160; &#160;(Timeout&#160;monitoring)&#160;<br/>
by&#160;hardware issue).&#160;<br/>
<b>AutoSar&#160;extensions&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
Support&#160;individual&#160;polling mode&#160;<br/>
&#160; &#160;Individual&#160;Polling&#160;<br/>
(selectable for each mailbox&#160;separate).&#160;<br/>
*&#160;<br/>
&#160;<br/>
&#160; &#160;Multiple Rx&#160;Basic&#160;CAN&#160;<br/>
Support Multiple&#160;BasicCAN&#160;objects.&#160;&#160;<br/>
*&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
13&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=14></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-14_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
This&#160;gives&#160;the&#160;possibility&#160;to&#160;use&#160;<br/>additionally&#160;Fifo-1&#160;with 64&#160;additional&#160;<br/>elements. By&#160;optimizing&#160;the&#160; &#160;acceptance&#160;<br/>filtering overruns&#160;can&#160;be&#160;avoided&#160;.&#160;<br/>Support Multiple&#160;Tx&#160;BasicCAN objects.&#160;<br/>Used&#160;to&#160;send&#160;different&#160;Tx&#160;groups&#160;over&#160;<br/>
&#160; &#160;Multiple&#160;Tx&#160;Basic&#160;CAN&#160;<br/>
separate mailboxes&#160;with&#160;different&#160;<br/>
*&#160;<br/>
buffering behavior (see&#160;Can&#160;Interface).&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Support Rx&#160;Queue.&#160;This&#160;offers&#160;the&#160;<br/>possibility&#160;to&#160;buffer received data in&#160;<br/>
&#160; &#160;Rx&#160;Queue&#160;<br/>
*&#160;<br/>
interrupt&#160;context but handle&#160;it later&#160;<br/>asynchronous&#160;in the&#160;polling&#160;task.&#160;<br/>
Special&#160;hardware buffer used&#160;to&#160;<br/>
&#160; &#160;Secure Rx&#160;Buffer used&#160;<br/>
&#160;<br/>
temporary&#160;save received data.&#160;&#160;<br/>
“Hardware&#160;Loop Check”&#160; can be&#160;defined&#160;<br/>
&#160; &#160;Hardware Loop&#160;Check&#160;by&#160;&#160;to&#160;be&#160;done&#160;by&#160;application (special&#160;API&#160;<br/>
&#160;<br/>
Application&#160;<br/>
available)&#160;<br/>
&#160; &#160;Configurable “Nested&#160;CAN&#160;&#160;Nested&#160;CAN&#160;interrupts&#160;allowed,&#160;and can&#160;<br/>
&#160;<br/>
Interrupts”&#160;<br/>
be&#160;also switched&#160;to none-nested.&#160;<br/>
Report CAN_E_TIMEOUT&#160;(Hardware&#160;<br/>
&#160; &#160;Report CAN_E_TIMEOUT&#160;&#160;Loop&#160;Check&#160;/&#160;Timeout&#160;monitoring)&#160;to&#160;DET&#160;<br/>
&#160;<br/>
DEM&#160;&#160;&#160;as&#160;DET&#160;<br/>
instead of&#160;DEM.&#160;<br/>
Force CAN&#160;driver to&#160;handle&#160;Mixed&#160;ID&#160;<br/>(standard&#160;and&#160;extended&#160;ID)&#160;at&#160;pre<br/>
&#160;&#160;&#160;Support&#160;Mixed ID<br/>
-<br/>
&#160;<br/>
&#160;<br/>
compile-time to expand the&#160;ID type&#160;later&#160;<br/>on.&#160;<br/>
Activate&#160;this&#160;for 1 controller&#160;systems&#160;<br/>when&#160;you never&#160;will&#160;expand to multi<br/>
&#160; &#160;Optimize for one&#160;controller<br/>
-<br/>
&#160;<br/>
&#160;<br/>
controller.&#160;So&#160;that the CAN&#160;driver&#160;works&#160;<br/>more efficient&#160;&#160;<br/>
Always&#160;write&#160;FullCAN&#160;Tx&#160;ID within&#160;<br/>
&#160; &#160;Dynamic&#160;FullCAN&#160;Tx&#160;ID&#160;<br/>
CanWrite()&#160;API function.&#160;Deactivate&#160;this&#160;<br/>
&#160;<br/>
(***)&#160;<br/>
to&#160;optimize&#160;code&#160;when&#160;you&#160;do&#160;not&#160;use&#160;<br/>FullCAN&#160;Tx&#160;objects&#160;dynamically.&#160;<br/>
&#160;&#160;&#160;Size of&#160;Hw&#160;HandleType<br/>
Support 8-bit&#160;or 16-bit Hardware Handles&#160;<br/>
&#160;<br/>
&#160;<br/>
depending&#160;on&#160;the&#160;hardware&#160;usage.&#160;<br/>
Support a&#160;callback&#160;function&#160;for receiving&#160;<br/>
&#160;&#160;&#160;Generic&#160;PreCopy&#160;<br/>
any&#160;CAN&#160;message (following&#160;callbacks&#160;<br/>
&#160;<br/>
could&#160;be&#160;suppressed)&#160;<br/>
Support a&#160;callback&#160;function&#160;for successful&#160;<br/>transmission&#160;of&#160;any&#160;CAN message&#160;<br/>
&#160;&#160;&#160;Generic&#160;Confirmation&#160;<br/>
&#160;<br/>
(following&#160;callbacks&#160;could be&#160;<br/>suppressed)&#160;<br/>
Support a&#160;API&#160;to&#160;get&#160;hardware status&#160;<br/>
&#160;&#160;&#160;Get&#160;Hardware&#160;Status&#160;<br/>
&#160;<br/>
Information&#160;(see&#160;Can_GetStatus())&#160;<br/>
&#160;&#160;&#160;Interrupt&#160;Category&#160;<br/>
Support Category&#160;1 or&#160;Category&#160;2&#160;<br/>
&#160;<br/>
selection&#160;<br/>
Interrupt&#160;Service&#160;Routines&#160;for OS&#160;&#160;<br/>
&#160; &#160;Common&#160;CAN<br/>
Support merge of&#160;2&#160;controllers&#160;in&#160;<br/>
&#160;<br/>
&#160;<br/>
hardware&#160;to&#160;get more Rx&#160;FullCAN&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
14&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=15></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-15_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
objects&#160;<br/>Support DET&#160;or&#160;Application&#160;notification&#160;<br/>caused&#160;by&#160;overrun (overwrite) of&#160;an&#160;Rx&#160;<br/>message.&#160;<br/>Please note&#160;that&#160;‘Overrun’&#160;is&#160;supported&#160;<br/>for BasicCAN&#160;objects&#160;but&#160;is&#160;not&#160;available&#160;<br/>for FullCAN objects.&#160;&#160;<br/>While not&#160;processed&#160;&#160;a Message ID Filter&#160;<br/>Element referencing a&#160;specific&#160;FullCAN&#160;<br/>object&#160;will&#160;not match,&#160;causing&#160;the&#160;<br/>
&#160;&#160;&#160;Overrun Notification&#160;<br/>
acceptance filtering&#160;to continue.&#160;<br/>
&#160;<br/>
Subsequent&#160;Message ID Filter&#160;Elements&#160;<br/>may&#160;cause the&#160;received&#160;message to&#160;be&#160;<br/>stored into&#160;&#160;<br/>-&#160;another FullCAN object, or&#160;<br/>-&#160;a BasicCAN&#160;object, or&#160;<br/>-&#160;the&#160;message may&#160;be rejected,&#160;<br/>depending&#160;on&#160;the&#160;filter configuration.&#160;<br/>
&#160;<br/>
&#160; &#160;RAM check&#160;<br/>
Support CAN mailbox&#160;RAM&#160;check&#160;<br/>
&#160;<br/>
The&#160;feature Multiple ECU is&#160;usually&#160;used&#160;<br/>
&#160; &#160;Multiple ECU&#160;<br/>
for nodes&#160;that&#160;exist more than&#160;once in a&#160;<br/>
&#160;<br/>
configurations&#160;(***)&#160;<br/>
car.&#160;At power&#160;up the application decides&#160;<br/>which&#160;node should&#160;be&#160;realized.&#160;<br/>
Support a&#160;callback&#160;function&#160;with&#160;pointer&#160;<br/>to&#160;Data,&#160;right&#160;before this&#160;data&#160;will&#160;be&#160;<br/>
&#160; &#160;Generic&#160;PreTransmit&#160;<br/>
written&#160;in&#160;Hardware mailbox&#160;buffer to&#160;<br/>
&#160;<br/>
send.&#160;(Use this&#160;to&#160;change&#160;data&#160;or cancel&#160;<br/>transmission)&#160;<br/>
Table&#160;4-1&#160;&#160;&#160;Supported&#160;features&#160;<br/>
&#160;&#160;Feature&#160;is&#160;supported&#160;<br/>
&#160;&#160;Feature&#160;is&#160;not supported&#160;<br/>
*&#160;&#160;&#160;&#160;&#160;HighEnd Licence&#160;only&#160;<br/>
**&#160;&#160;&#160;Project specific&#160;(may&#160;not&#160;be available)&#160;<br/>
***&#160;&#160;Not supported&#160;or cannot&#160;be&#160;configured&#160;for&#160;AutoSar version&#160;4&#160;<br/>
****&#160;Only&#160;available&#160;for&#160;MicroSar 4&#160;<br/>
&#160;<br/>
<b>4.2&#160;</b><br/>
<b>Initialization&#160;</b><br/>
Can_Init()&#160;has&#160;to&#160;be&#160;called&#160;to&#160;initialize&#160;the&#160;CAN&#160;driver&#160;at&#160;power&#160;on&#160;and&#160;sets&#160;controller&#160;<br/>independent&#160;init values.&#160;This&#160;function&#160;has&#160;to&#160;be&#160;called&#160;before&#160;Can_InitController().&#160;<br/>
MicroSar3&#160;only:&#160;Use&#160;Can_InitStruct()&#160;to&#160;change&#160;the&#160;used&#160;baud&#160;rate&#160;and&#160;filter&#160;settings&#160;<br/>like&#160;&#160;given&#160;&#160;in&#160;&#160;the&#160;&#160;Initialization&#160;&#160;structure&#160;&#160;from&#160;&#160;the&#160;&#160;Tool.&#160;&#160;The&#160;&#160;used&#160;&#160;default&#160;&#160;set&#160;&#160;by&#160;<br/>Can_InitMemory()&#160;&#160;is&#160;&#160;the&#160;&#160;first&#160;&#160;structure.&#160;&#160;This&#160;&#160;API&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;called&#160;&#160;before&#160;<br/>Can_InitController()&#160;but&#160;after&#160;Can_InitMemory().&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
15&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=16></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-16_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
MICROSAR401&#160;only:&#160;baud&#160;rate&#160;settings given&#160;by&#160;Can_InitController parameter.&#160;<br/>
Can_InitController()&#160;&#160;initializes&#160;&#160;the&#160;&#160;controller,&#160;&#160;given&#160;&#160;as&#160;&#160;parameter,&#160;&#160;and&#160;&#160;can&#160;&#160;also&#160;&#160;be&#160;<br/>used&#160;to&#160;reinitialize.&#160;After&#160;this&#160;call&#160;the&#160;controller&#160;stays&#160;in&#160;stop-mode&#160;until&#160;the&#160;CAN&#160;Interface&#160;<br/>changes to&#160;start-mode.&#160;<br/>
Can_InitMemory()&#160;&#160;is&#160;&#160;an&#160;&#160;additional&#160;&#160;service&#160;&#160;function&#160;&#160;to&#160;&#160;reinitialize&#160;&#160;the&#160;&#160;memory&#160;&#160;to&#160;&#160;bring&#160;<br/>the&#160;&#160;driver&#160;&#160;back&#160;&#160;to&#160;&#160;a&#160;&#160;pre-power-on&#160;&#160;state&#160;&#160;(not&#160;&#160;initialized).&#160;&#160;Afterwards&#160;&#160;Can_Init()&#160;&#160;and&#160;<br/>Can_InitController()&#160;have&#160;to&#160;be&#160;called&#160;again.&#160;It&#160;is&#160;recommended&#160;to&#160;use&#160;this&#160;function&#160;<br/>before&#160;calling&#160;Can_Init()&#160;to&#160;secure&#160;that&#160;no&#160;startup-code&#160;specific&#160;pre-initialized&#160;variables&#160;<br/>affect&#160;the&#160;driver startup&#160;behavior.&#160;<br/>
<b>4.3&#160;</b><br/>
<b>Communication&#160;</b><br/>
Can_Write()&#160;&#160;is&#160;&#160;used&#160;&#160;to&#160;&#160;send&#160;&#160;a&#160;&#160;message&#160;&#160;over&#160;&#160;the&#160;&#160;mailbox&#160;&#160;object&#160;&#160;given&#160;&#160;as&#160;&#160;&#34;Hth&#34;.&#160;&#160;The&#160;<br/>data,&#160;&#160;DLC&#160;and&#160;ID&#160;is&#160;copied&#160;into&#160;the&#160;hardware&#160;&#160;mailbox&#160;object&#160;&#160;and&#160;a&#160;send&#160;request&#160;&#160;is&#160;set.&#160;<br/>After&#160;&#160;sending&#160;&#160;the&#160;&#160;message&#160;&#160;the&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;CanIf_TxConfirmation()&#160;&#160;function&#160;&#160;is&#160;<br/>called.&#160;&#160;Right&#160;&#160;before&#160;&#160;the&#160;&#160;data&#160;&#160;is&#160;&#160;copied&#160;&#160;in&#160;&#160;mailbox&#160;&#160;buffer&#160;&#160;the&#160;&#160;ID,&#160;&#160;DLC&#160;&#160;and&#160;&#160;data&#160;&#160;may&#160;&#160;be&#160;<br/>changed&#160;by&#160;Appl_GenericPreTransmit()&#160;callback.&#160;<br/>
When&#160;&#160;“Generic&#160;&#160;Confirmation“&#160;&#160;is&#160;&#160;activated&#160;&#160;the&#160;&#160;callback&#160;&#160;Appl_GenericConfirmation()&#160;&#160;<br/>will&#160;be&#160;called&#160;before&#160;CanIf_TxConfirmation()&#160;and&#160;the&#160;call&#160;to&#160;this&#160;can&#160;be&#160;suppressed&#160;<br/>by&#160;Appl_GenericConfirmation()&#160;&#160;return&#160;value.&#160;<br/>
For&#160;Tx&#160;&#160;messages&#160;&#160;the&#160;&#160;ID&#160;&#160;will&#160;&#160;be&#160;&#160;copied.&#160;&#160;(Exception:&#160;&#160;feature&#160;&#160;“Dynamic&#160;&#160;FullCAN&#160;Tx&#160;&#160;ID”&#160;&#160;is&#160;<br/>deactivated,&#160;then&#160;the&#160;FullCAN&#160;Tx&#160;messages&#160;will&#160;be&#160;only&#160;set&#160;while&#160;initialization)&#160;<br/>If&#160;the&#160;mailbox&#160;is&#160;currently&#160;sending&#160;the&#160;status&#160;busy&#160;will&#160;be&#160;returned.&#160;Then&#160;the&#160;message&#160;may&#160;<br/>be&#160;queued&#160;in&#160;the&#160;CAN&#160;interface&#160;(if&#160;feature is&#160;active).&#160;<br/>If&#160;&#160;cancellation&#160;&#160;in&#160;&#160;hardware&#160;&#160;is&#160;&#160;supported&#160;&#160;the&#160;&#160;lowest&#160;&#160;priority&#160;&#160;ID&#160;&#160;inside&#160;&#160;currently&#160;&#160;sending&#160;<br/>object&#160;is canceled,&#160;and&#160;therefore re-queued&#160;in&#160;the&#160;CAN&#160;Interface.&#160;<br/>
Appl_GenericPreCopy()&#160;&#160;(if&#160;&#160;activated)&#160;&#160;is&#160;&#160;called&#160;&#160;and&#160;&#160;depend&#160;&#160;on&#160;&#160;return&#160;&#160;value&#160;&#160;also&#160;<br/>CanIf_RxIndication()&#160;&#160;as&#160;&#160;a&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;callback,&#160;&#160;is&#160;&#160;called&#160;&#160;when&#160;&#160;a&#160;&#160;message&#160;&#160;is&#160;<br/>received.&#160;The&#160;receive&#160;information&#160;like&#160;ID,&#160;DLC and&#160;data&#160;are&#160;given&#160;as parameter.&#160;<br/>When&#160;Rx&#160;Queue&#160;is&#160;activated&#160;the&#160;received&#160;messages&#160;(polling&#160;or&#160;interrupt&#160;&#160;context)&#160;will&#160;be&#160;<br/>queued&#160;&#160;(same&#160;&#160;queue&#160;&#160;over&#160;&#160;all&#160;&#160;channels).&#160;&#160;The&#160;&#160;Rx&#160;&#160;Queue&#160;&#160;will&#160;&#160;be&#160;&#160;read&#160;&#160;by&#160;&#160;calling&#160;<br/>Can_Mainfunction_Read&#160;&#160;()&#160;&#160;and&#160;&#160;the&#160;&#160;Rx&#160;&#160;Indication&#160;&#160;(like&#160;&#160;CanIf_RxIndication())&#160;&#160;will&#160;<br/>be&#160;&#160;called&#160;&#160;out&#160;&#160;of&#160;&#160;this&#160;&#160;context.&#160;&#160;Rx&#160;&#160;Queue&#160;&#160;is&#160;&#160;used&#160;&#160;for&#160;&#160;Interrupt&#160;&#160;systems&#160;&#160;to&#160;&#160;keep&#160;&#160;Interrupt&#160;<br/>latency&#160;time&#160;short.&#160;<br/>
&#160;<br/>
<b>4.3.1&#160;</b><br/>
<b>Mailbox&#160;Layout&#160;</b><br/>
The&#160;&#160;generation&#160;&#160;tool&#160;&#160;supports&#160;&#160;a&#160;&#160;flexible&#160;&#160;allocation&#160;&#160;of&#160;&#160;message&#160;&#160;buffers.&#160;&#160;In&#160;&#160;the&#160;&#160;following&#160;<br/>tables&#160;the&#160;possible&#160;mailbox&#160;layout&#160;is&#160;shown&#160;(the&#160;range&#160;for&#160;each&#160;mailbox&#160;type&#160;depends&#160;on&#160;<br/>the&#160;used&#160;mailboxes).&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
16&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=17></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-17_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>Hardware&#160;</b><br/>
<b>Hardware&#160;&#160;Amount&#160;of&#160;</b><br/>
<b>object&#160;</b><br/>
<b>object&#160;</b><br/>
<b>hardware&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>number&#160;</b><br/>
<b>type&#160;</b><br/>
<b>objects&#160;</b><br/>
0 …&#160;31 max.&#160;&#160;&#160;These objects&#160;are used&#160;to&#160;transmit specific&#160;message IDs.&#160;<br/>
The&#160;user&#160;must define&#160;statically&#160;in the&#160;generation&#160;tool&#160;<br/>
<b>Tx&#160;</b><br/>
(0 …&#160;29&#160;in&#160;<br/>
0… N&#160;<br/>
which CAN message IDs&#160;are located&#160;in&#160;Tx&#160;FullCAN&#160;<br/>
<b>FullCAN</b><br/>
case of&#160;<br/>
<b>&#160;</b><br/>
multiplexed&#160;<br/>
objects.&#160;The&#160;generation&#160;tool&#160;assigns&#160;the message IDs&#160;to&#160;<br/>
transmission)&#160;<br/>
the&#160;FullCAN&#160;hardware objects.&#160;<br/>
1 or&#160;3&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;(3&#160;&#160;All&#160;other&#160;CAN message IDs&#160;are transmitted&#160;via the&#160;Tx&#160;<br/>
(N+1)&#160;&#160;<br/>
<b>Tx&#160;</b><br/>
in case&#160;of&#160;<br/>
Basic&#160;object. If&#160;the transmit&#160;message object&#160;is&#160;busy,&#160;the&#160;<br/>
… M&#160;<br/>
<b>BasicCAN&#160;</b><br/>
multiplexed&#160;<br/>
transmit requests&#160;are stored in&#160;the&#160;CAN&#160;Interface queue&#160;<br/>
transmission)&#160;<br/>
(if&#160;activated).&#160;<br/>
These objects&#160;are not&#160;used. It&#160;depends&#160;on&#160;the&#160;<br/>
(M+1)&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>Unused</b><br/>
configuration&#160;of&#160;receive and transmit objects&#160;how&#160;many&#160;<br/>
&#160;… O<br/>
<b>&#160;</b><br/>
0 …&#160;95&#160;<br/>
&#160;<br/>
&#160;<br/>
unused&#160;objects&#160;are&#160;available.&#160;<br/>These objects&#160;are used&#160;to&#160;receive specific&#160;CAN&#160;&#160;<br/>messages.&#160;The&#160;user defines&#160;statically&#160;(Generation&#160;Tool)&#160;<br/>
<b>Rx&#160;</b><br/>
&#160;<br/>
O…P&#160;<br/>
0 …&#160;64<br/>
that&#160;a CAN message should be received&#160;in&#160;a&#160;FullCAN&#160;<br/>
<b>FullCAN</b><br/>
&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
message object.&#160;The&#160;Generation&#160;Tool&#160;distributes&#160;the&#160;&#160;<br/>messages&#160;to&#160;the&#160;FullCAN objects.&#160;<br/>All&#160;CAN message IDs, depending&#160;on&#160;the&#160;acceptance filter &#160;&#160;<br/>match,&#160;are received&#160;via the&#160;Rx&#160;BasicCAN message object &#160;&#160;<br/>through Rx&#160;FIFO&#160;0.&#160;<br/>Each Rx&#160;Basic&#160;message object consists&#160;of&#160;64&#160;message &#160;&#160;<br/>
FIFO-0 with &#160;&#160;&#160;buffers. &#160;&#160;&#160;<br/>
96<br/>
<b>Rx&#160;</b><br/>
&#160;<br/>
max.&#160;64<br/>
128&#160;acceptance&#160;filters&#160;are&#160;available for standard IDs&#160;and&#160;&#160;<br/>
<b>BasicCAN</b><br/>
&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
entries&#160;&#160;&#160;<br/>
64&#160; &#160;acceptance&#160;filters&#160;are&#160;available for extended&#160;IDs.&#160;&#160;&#160;&#160;<br/>In&#160;case of&#160;mixed&#160;ID mode 128+64&#160;=&#160;192&#160;filters&#160;are &#160;&#160;<br/>available.&#160;&#160;&#160;<br/>Please note&#160;that&#160;this&#160;maximum&#160;amount&#160;of&#160;filters&#160;is&#160;also &#160;&#160;<br/>used&#160;for FIFO-1 if&#160;available. &#160;&#160;&#160;<br/>
All&#160;CAN message IDs, depending&#160;on&#160;the&#160;acceptance filter &#160;&#160;<br/>match,&#160;&#160;are received&#160;via the Rx&#160;BasicCAN message &#160;&#160;<br/>objects&#160;through&#160;Rx&#160;FIFO&#160;1.&#160;&#160;&#160;<br/>Each Rx&#160;Basic&#160;message object consists&#160;of&#160;64&#160;message &#160;&#160;<br/>
FIFO-1 with &#160;&#160;&#160;buffers. &#160;&#160;&#160;<br/>
97<br/>
<b>Rx&#160;</b><br/>
&#160;<br/>
max.&#160;64&#160;&#160;<br/>
128&#160;acceptance&#160;filters&#160;are&#160;available for standard IDs&#160;and&#160;&#160;<br/>
<b>BasicCAN</b><br/>
&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
entries&#160;<br/>
64&#160; &#160;acceptance&#160;filters&#160;are&#160;available for extended&#160;IDs.&#160;&#160;&#160;&#160;<br/>In&#160;case of&#160;mixed&#160;ID mode 128+64&#160;=&#160;192&#160;filters&#160;are &#160;&#160;<br/>available.&#160;&#160;&#160;<br/>Please&#160;note&#160;that&#160;this&#160;maximum&#160;amount&#160;of&#160;filters&#160;is&#160;also &#160;&#160;<br/>used&#160;for FIFO-0.&#160;<br/>
Table&#160;4-2&#160;&#160;&#160;Hardware&#160;mailbox&#160;layout&#160;<br/>
&#160;<br/>
The&#160;&#160;“CanObjectId”&#160;&#160;(ECUc&#160;&#160;parameter)&#160;&#160;numbering&#160;&#160;is&#160;&#160;done&#160;&#160;in&#160;following&#160;&#160;order:&#160;Tx&#160;&#160;FullCAN,&#160;<br/>Tx&#160;&#160;BasicCAN,&#160;&#160;Unused,&#160;&#160;Rx&#160;&#160;BasicCAN&#160;&#160;(like&#160;&#160;shown&#160;&#160;above).&#160;&#160;“CanObjectId’s”&#160;&#160;for&#160;&#160;next&#160;<br/>controller&#160;begin&#160;at&#160;end&#160;of&#160;last&#160;controller.&#160;Gaps&#160;in&#160;“CanObjectId”&#160;for&#160;unused&#160;mailboxes&#160;may&#160;<br/>occur.&#160;&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
17&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=18></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-18_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>4.3.2&#160;</b><br/>
<b>Mailbox&#160;Processing&#160;Order&#160;</b><br/>
The&#160;hardware mailbox&#160;will&#160;be&#160;processed&#160;in&#160;following&#160;order:&#160;&#160;<br/>
<b>Object&#160;Type&#160;</b><br/>
<b>Order&#160;/&#160;priority&#160;to send&#160;or&#160;receive&#160;</b><br/>
Tx&#160;FullCAN&#160;<br/>
Object&#160;ID&#160;Low&#160;to&#160;High&#160;<br/>
Tx&#160;BasicCAN&#160;<br/>
Object&#160;ID&#160;Low&#160;to&#160;High&#160;<br/>
Rx&#160;FullCAN&#160;<br/>
Object&#160;ID&#160;Low&#160;to&#160;High&#160;<br/>
Rx&#160;BasicCAN&#160;<br/>
FIFO&#160;<br/>
&#160;<br/>
In&#160;Case&#160;of&#160;Interrupt&#160;Rx&#160;FullCANs&#160;will&#160;be&#160;processed&#160;before&#160;Rx&#160;BasicCANs.&#160;<br/>In&#160;Case&#160;of&#160;Polling&#160;Rx&#160;FullCANs&#160;will&#160;be&#160;processed&#160;before&#160;Rx&#160;BasicCANs.&#160;<br/>The&#160;order&#160;between&#160;Rx&#160;and&#160;Tx&#160;mailboxes&#160;depends&#160;on&#160;the&#160;call&#160;order&#160;of&#160;the&#160;polling&#160;tasks&#160;or&#160;<br/>the&#160;interrupt&#160;context&#160;and&#160;cannot&#160;be&#160;guaranteed.&#160;<br/>The&#160;Rx&#160;Queue&#160;will&#160;work like&#160;a&#160;FIFO&#160;filled&#160;with&#160;the&#160;above&#160;mentioned&#160;method.&#160;<br/>
&#160;<br/>&#160;<br/>
<b>4.3.3&#160;</b><br/>
<b>Acceptance&#160;Filter&#160;for BasicCAN&#160;</b><br/>
For&#160;&#160;each&#160;&#160;CAN&#160;&#160;channel&#160;&#160;a&#160;&#160;maximum&#160;&#160;amount&#160;&#160;of&#160;&#160;128&#160;&#160;filters&#160;&#160;for&#160;&#160;standard&#160;&#160;and&#160;&#160;64&#160;&#160;<br/>filters&#160;&#160;for&#160;extended&#160;&#160;ID&#160;&#160;configurations&#160;&#160;is&#160;&#160;available.&#160;&#160;Thus&#160;&#160;192&#160;&#160;filters&#160;&#160;are&#160;&#160;available&#160;&#160;for&#160;&#160;<br/>mixed&#160;&#160;ID configurations.&#160;&#160;<br/>&#160;<br/>For&#160;&#160;acceptance&#160;&#160;filtering&#160;&#160;each&#160;&#160;list&#160;&#160;of&#160;&#160;filters&#160;&#160;is&#160;&#160;executed&#160;&#160;from&#160;&#160;element&#160;&#160;#0&#160;&#160;until&#160;&#160;the&#160;&#160;<br/>first&#160;matching&#160;&#160;element.&#160;&#160;Acceptance&#160;&#160;filtering&#160;&#160;stops &#160;at&#160;&#160;the&#160;&#160;first&#160;&#160;matching&#160;&#160;element.&#160;&#160;Each&#160;&#160;<br/>filter&#160;&#160;element&#160;&#160;decides&#160;&#160;if&#160;&#160;the&#160;&#160;received&#160;&#160;message&#160;&#160;is&#160;&#160;stored&#160;&#160;within&#160;&#160;FIFO-0&#160;&#160;(or&#160;&#160;FIFO-1&#160;&#160;if&#160;<br/>available).&#160;&#160;<br/>&#160;<br/>If&#160;&#160;no&#160;&#160;message&#160;&#160;should&#160;&#160;be&#160;&#160;received,&#160;&#160;select&#160;&#160;the&#160;&#160;“Multiple&#160;&#160;Basic&#160;&#160;CAN”&#160;&#160;feature&#160;&#160;and&#160;&#160;set&#160;&#160;<br/>the&#160;amount&#160;&#160;to&#160;&#160;0.&#160;&#160;Otherwise&#160;&#160;the&#160;&#160;filter&#160;&#160;should&#160;&#160;be&#160;&#160;set&#160;&#160;to&#160;&#160;“close”.&#160;&#160;Use&#160;&#160;feature&#160;&#160;“Rx &#160;<br/>BasicCAN Support”&#160;to&#160;deactivate&#160;unused&#160;code&#160;(for optimization).&#160;<br/>&#160;<br/>
<b>4.3.4&#160;</b><br/>
<b>Remote&#160;Frames&#160;</b><br/>
The&#160;CAN&#160;driver initializes the&#160;CAN&#160;controller&#160;not&#160;to&#160;receive&#160;remote&#160;frames.&#160;Therefore no&#160;&#160;<br/>additional action&#160;is required&#160;during&#160;runtime&#160;by&#160;the&#160;&#160;CAN&#160;driver for remote&#160;frame&#160;filtering.&#160;&#160;<br/>Remote&#160;&#160;frames &#160;will &#160;not&#160;&#160;have&#160;&#160;any&#160;&#160;influence&#160;&#160;on&#160;&#160;communication&#160;&#160;because&#160;&#160;they&#160;&#160;are&#160;&#160;not&#160;&#160;<br/>received&#160;by&#160;the&#160;CAN&#160;hardware.&#160;<br/>
<b>4.4&#160;</b><br/>
<b>States&#160;/&#160;Modes&#160;</b><br/>
You&#160;&#160;can&#160;&#160;change&#160;&#160;the&#160;&#160;CAN&#160;&#160;cell&#160;&#160;mode&#160;&#160;via&#160;&#160;Can_SetControllerMode().&#160;&#160;The&#160;&#160;last&#160;&#160;requested&#160;<br/>transition&#160;will be&#160;executed.&#160;The&#160;Upper layer has to&#160;take&#160;care&#160;about&#160;valid&#160;transitions.&#160;<br/>The&#160;following&#160;modes changes are&#160;supported:&#160;<br/>CAN_T_START&#160;<br/>
CAN_T_STOP&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
18&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=19></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-19_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
&#160;&#160;<br/>
MICROSAR4&#160;only:&#160;Notification&#160;of&#160;mode&#160;change&#160;may&#160;occur&#160;asynchronous&#160;by&#160;notification&#160;<br/>CanIf_ControllerModeIndication()&#160;<br/>
<b>4.4.1&#160;</b><br/>
<b>Start Mode&#160;(Normal&#160;Running&#160;Mode)&#160;</b><br/>
This &#160;is&#160;&#160;the&#160;&#160;mode&#160;&#160;where &#160;communication&#160;&#160;is&#160;&#160;possible.&#160;&#160;This &#160;mode&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;set&#160;&#160;after&#160;&#160;<br/>Initialization&#160;because&#160;Controller is&#160;first&#160;in&#160;stop-mode.&#160;&#160;<br/>&#160;&#160;<br/>The&#160;&#160;Bit&#160;&#160;Stream&#160;&#160;Processor&#160;&#160;synchronizes&#160;&#160;itself&#160;&#160;to&#160;&#160;the&#160;&#160;data&#160;&#160;transfer&#160;&#160;on&#160;&#160;the&#160;&#160;CAN&#160;&#160;bus&#160;&#160;<br/>by&#160;waiting&#160;&#160;for&#160;&#160;the&#160;&#160;occurrence&#160;&#160;of&#160;&#160;a&#160;&#160;sequence&#160;&#160;of&#160;&#160;11&#160;&#160;consecutive&#160;&#160;recessive&#160;&#160;bits&#160;&#160;(=&#160;&#160;<br/>Bus_Idle) before it&#160;can&#160;take&#160;part in&#160;bus&#160;activities&#160;and&#160;start the&#160;message&#160;transfer.&#160;<br/>&#160;<br/>
<b>4.4.2&#160;</b><br/>
<b>Stop&#160;Mode&#160;</b><br/>
If&#160;stop&#160;mode&#160;is requested,&#160;either&#160;by&#160;software or by&#160;going&#160;BusOff,&#160;then&#160;the&#160;CAN&#160;module&#160;is&#160;&#160;<br/>switched&#160;&#160;into&#160;&#160;INIT&#160;&#160;mode.&#160;&#160;In&#160;&#160;this &#160;mode&#160;&#160;message&#160;&#160;transfer&#160;&#160;from&#160;&#160;and&#160;&#160;to&#160;&#160;the&#160;&#160;CAN &#160;bus&#160;&#160;<br/>is stopped,&#160;the&#160;status&#160;of&#160;the&#160;CAN&#160;bus transmit&#160;output&#160;is recessive&#160;(HIGH).&#160;&#160;&#160;<br/>Going&#160;to&#160;stop&#160;mode&#160;does not&#160;change&#160;any&#160;configuration&#160;register.&#160;<br/>&#160;<br/>
<b>4.4.3&#160;</b><br/>
<b>Bus&#160;Off&#160;</b><br/>
CanIf_ControllerBusOff()&#160;is&#160;called&#160;when&#160;the&#160;controller&#160;detects&#160;a&#160;Bus&#160;Off&#160;event.&#160;The&#160;<br/>mode&#160;&#160;is&#160;&#160;automatically&#160;&#160;changed&#160;&#160;to&#160;&#160;stop&#160;&#160;mode.&#160;&#160;The&#160;&#160;upper&#160;&#160;layers&#160;&#160;have&#160;&#160;to&#160;&#160;care&#160;&#160;about&#160;<br/>returning&#160;to&#160;normal running&#160;mode&#160;by&#160;calling&#160;start mode&#160;<br/>
<b>4.5&#160;</b><br/>
<b>Re-Initialization&#160;</b><br/>
A&#160;call&#160;to&#160;Can_InitController() cause&#160;a&#160;re-initialization&#160;of&#160;a&#160;dedicated&#160;CAN controller.&#160;&#160;<br/>Pending&#160;&#160;messages &#160;may&#160;&#160;be&#160;&#160;processed&#160;&#160;before &#160;the&#160;&#160;transition&#160;&#160;will&#160;&#160;be&#160;&#160;finished.&#160;&#160;A&#160;&#160;re-&#160;<br/>initialization&#160;is only&#160;possible&#160;out&#160;of&#160;Stop&#160;Mode&#160;and&#160;does&#160;not&#160;change&#160;to&#160;another Mode.&#160;&#160;<br/>After re-initialization&#160;all&#160;CAN&#160;communication&#160;relevant&#160;registers are&#160;set&#160;to&#160;initial conditions.&#160;<br/>
<b>4.6&#160;</b><br/>
<b>CAN Interrupt Locking&#160;</b><br/>
Can_DisableControllerInterrupts()&#160;and&#160;<br/>Can_EnableControllerInterrupts()&#160;are used&#160;to&#160;disable&#160;and&#160;enable&#160;the&#160;controller&#160;<br/>specific Interrupt,&#160;Rx,&#160;Tx,&#160;Wakeup&#160;and&#160;Bus&#160;Off&#160;(/ Status)&#160;together.&#160;These&#160;functions can&#160;be&#160;<br/>called&#160;nested.&#160;<br/>
<b>4.7&#160;</b><br/>
<b>Main Functions&#160;</b><br/>
Can_MainFunction_Write(),&#160;Can_MainFunction_Read(),&#160;<br/>Can_MainFunction_BusOff()&#160;and&#160;Can_MainFunction_Wakeup()&#160;are called&#160;by&#160;<br/>upper layers to&#160;poll&#160;the&#160;events&#160;if&#160;the&#160;specific polling&#160;mode&#160;is activated.&#160;Otherwise&#160;these&#160;<br/>functions return without&#160;any&#160;action&#160;and&#160;the&#160;events&#160;will be&#160;handled&#160;in&#160;interrupt&#160;context.&#160;<br/>When&#160;individual polling&#160;is activated&#160;only&#160;mailboxes that&#160;are configured&#160;as to&#160;be&#160;polled&#160;will&#160;<br/>be&#160;polled&#160;in&#160;the&#160;main&#160;functions “Can_MainFunction_Write()” and&#160;<br/>“Can_MainFunction_Read()”, all&#160;others are handled&#160;in&#160;interrupt&#160;context.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
19&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=20></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-20_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
If&#160;the&#160;Rx&#160;Queue&#160;feature&#160;is activated&#160;then&#160;the&#160;queue&#160;is&#160;filled&#160;in&#160;interrupt&#160;or polling&#160;context,&#160;<br/>like&#160;configured.&#160;But&#160;the&#160;processing&#160;(indications)&#160;will be&#160;done&#160;in&#160;<br/>“Can_MainFunction_Read()” context.&#160;<br/>
MICROSAR4&#160;only:&#160;Can_MainFunction_Mode()&#160;can&#160;be&#160;called&#160;by&#160;upper layers to&#160;poll&#160;<br/>asynchronous&#160;mode&#160;transition&#160;notifications.&#160;<br/>
<b>4.8&#160;</b><br/>
<b>Error&#160;Handling&#160;</b><br/>
<b>4.8.1&#160;</b><br/>
<b>Development&#160;Error&#160;Reporting&#160;</b><br/>
Development&#160;&#160;errors&#160;&#160;are&#160;&#160;reported&#160;&#160;to&#160;&#160;DET&#160;&#160;using&#160;&#160;the&#160;&#160;service&#160;&#160;Det_ReportError(),&#160;&#160;if&#160;&#160;the&#160;<br/>pre-compile&#160;parameter&#160;CAN_DEV_ERROR_DETECT&#160;==&#160;STD_ON.&#160;<br/>The&#160;tables&#160;below,&#160;shows the&#160;API&#160;ID and&#160;Error ID given&#160;as parameter for calling&#160;the&#160;DET.&#160;<br/>Instance&#160;ID&#160;is&#160;always 0&#160;because&#160;no&#160;multiple&#160;Instances are&#160;supported.&#160;<br/>
<b>Errors&#160;reported&#160;to DET:&#160;</b><br/>
<b>Error&#160;ID&#160;</b><br/>
<b>Short&#160;Description&#160;</b><br/>
CAN_E_PARAM_POINTER&#160;<br/>
API&#160;gets&#160;an&#160;illegal&#160;pointer&#160;as&#160;parameter.&#160;<br/>
CAN_E_PARAM_HANDLE&#160;<br/>
API&#160;gets&#160;an&#160;illegal&#160;handle as&#160;parameter&#160;<br/>
CAN_E_PARAM_DLC&#160;<br/>
API&#160;gets&#160;an&#160;illegal&#160;DLC&#160;as&#160;parameter&#160;<br/>
CAN_E_PARAM_CONTROLLER&#160;<br/>
API&#160;gets&#160;an&#160;illegal&#160;controller&#160;as&#160;parameter&#160;<br/>
CAN_E_UNINIT&#160;<br/>
Driver&#160;API&#160;is&#160;used&#160;but&#160;not&#160;initialized&#160;<br/>
CAN_E_TRANSITION&#160;<br/>
Transition&#160;for mode change&#160;is&#160;illegal&#160;<br/>
CAN_E_DATALOST&#160;<br/>
Rx&#160;overrun (overwrite) detected&#160;<br/>
(value:&#160;0x07,&#160;AutoSar extension)&#160;<br/>
CAN_E_PARAM_BAUDRATE&#160;<br/>
Selected&#160;Baudrate is&#160;not&#160;valid&#160;<br/>
(value:&#160;0x08,&#160;AutoSar extension)&#160;<br/>
Rx&#160;Queue&#160;overrun&#160;&#160;<br/>
CAN_E_RXQUEUE&#160;<br/>
(Last received&#160;message is&#160;lost and&#160;will&#160;not&#160;be&#160;received.&#160;&#160;<br/>
(value:&#160;0x10,&#160;AutoSar extension)&#160;<br/>
Avoid this&#160;by&#160;increasing&#160;the&#160;queue&#160;size)&#160;<br/>
CAN_E_TIMEOUT_DET&#160;<br/>
Same as&#160;CAN_E_TIMEOUT&#160;for DEM&#160;but this&#160;is&#160;notified to DET&#160;<br/>due to switch&#160;“CAN_DEV_TIMEOUT_DETECT”&#160;is&#160;set&#160;to&#160;<br/>
(value:&#160;0x11,&#160;AutoSar extension)&#160;<br/>
STD_ON (see&#160;configuration options)&#160;<br/>
&#160;<br/>
&#160;<br/>
Table&#160;4-3&#160;&#160;&#160;Errors&#160;reported&#160;to&#160;DET&#160;<br/>
&#160;<br/>
<b>API&#160;from&#160;which&#160;the&#160;errors&#160;are&#160;reported&#160;to DET:&#160;</b><br/>
<b>API&#160;ID&#160;</b><br/>
<b>Functions&#160;using&#160;that&#160;ID&#160;</b><br/>
CAN_VERSION_ID&#160;<br/>
Can_GetVersionInfo()&#160;<br/>
CAN_INIT_ID&#160;<br/>
Can_Init()&#160;<br/>
CAN_INITCTR_ID&#160;<br/>
Can_InitController()&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
20&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=21></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-21_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
CAN_SETCTR_ID&#160;<br/>
Can_SetControllerMode()&#160;<br/>
CAN_DIINT_ID&#160;<br/>
Can_DisableControllerInterrupts()&#160;<br/>
CAN_ENINT_ID&#160;<br/>
Can_EnableControllerInterrupts()&#160;<br/>
CAN_WRITE_ID&#160;<br/>
Can_Write(), Can_CancelTx()&#160;<br/>
CAN_TXCNF_ID&#160;<br/>
CanHL_TxConfirmation()&#160;<br/>
CAN_RXINDI_ID&#160;<br/>
CanBasicCanMsgReceived(), CanFullCanMsgReceived()&#160;<br/>
CAN_CTRBUSOFF_ID&#160;<br/>
CanHL_ErrorHandling()&#160;<br/>
CAN_CKWAKEUP_ID&#160;<br/>
CanHL_WakeUpHandling(), Can_Cbk_CheckWakeup()&#160;<br/>
CAN_MAINFCT_WRITE_ID&#160;<br/>
Can_MainFunction_Write()&#160;<br/>
CAN_MAINFCT_READ_ID&#160;<br/>
Can_MainFunction_Read()&#160;<br/>
CAN_MAINFCT_BO_ID&#160;<br/>
Can_MainFunction_BusOff()&#160;<br/>
CAN_MAINFCT_WU_ID&#160;<br/>
Can_MainFunction_Wakeup()&#160;<br/>
CAN_MAINFCT_MODE_ID&#160;<br/>
Can_MainFunction_Mode()&#160;<br/>
CAN_CHANGE_BR_ID&#160;<br/>
Can_ChangeBaudrate()&#160;<br/>
CAN_CHECK_BR_ID&#160;<br/>
Can_CheckBaudrate()&#160;<br/>
CAN_SET_BR_ID&#160;<br/>
Can_SetBaudrate()&#160;<br/>
CAN_HW_ACCESS_ID&#160;<br/>
Used&#160;when&#160;hardware is&#160;accessed&#160;(call&#160;context&#160;is&#160;unknown)&#160;<br/>
(value:&#160;0x20,&#160;AUTOSAR&#160;extension)&#160;<br/>
Table&#160;4-4&#160;<br/>
API&#160;from&#160;which&#160;the&#160;Errors&#160;are&#160;reported&#160;<br/>
<b>4.8.1.1&#160;</b><br/>
<b>Parameter&#160;Checking&#160;</b><br/>
AUTOSAR&#160;requires&#160;that&#160;API&#160;functions&#160;check&#160;the&#160;validity&#160;of&#160;their&#160;parameters&#160;(Refer&#160;to&#160;[1]).&#160;<br/>These&#160;&#160;checks&#160;&#160;are&#160;&#160;for&#160;&#160;development&#160;&#160;error&#160;&#160;reporting&#160;&#160;and&#160;&#160;can&#160;&#160;be&#160;&#160;enabled&#160;&#160;and&#160;&#160;disabled&#160;<br/>separately.&#160;Refer to&#160;the&#160;configuration&#160;chapter&#160;where&#160;the&#160;enabling/disabling&#160;of&#160;the&#160;checks&#160;is&#160;<br/>described.&#160;&#160;Enabling/disabling&#160;&#160;of&#160;&#160;single&#160;&#160;checks&#160;&#160;is&#160;&#160;an&#160;&#160;addition&#160;&#160;to&#160;&#160;the&#160;AUTOSAR&#160;&#160;standard&#160;<br/>which&#160;&#160;requires&#160;&#160;enable/disable&#160;&#160;the&#160;&#160;complete&#160;&#160;parameter&#160;&#160;checking&#160;&#160;via&#160;&#160;the&#160;&#160;parameter&#160;<br/>CAN_DEV_ERROR_DETECT.&#160;<br/>
&#160;<br/>
<b>4.8.1.2&#160;</b><br/>
<b>Overrun/Overwrite&#160;Notification&#160;</b><br/>
As&#160;AUTOSAR&#160;extension&#160;the&#160;overrun&#160;detection&#160;may&#160;be&#160;activated&#160;by&#160;configuration&#160;tool. The&#160;<br/>notification&#160;can&#160;be&#160;configured&#160;to&#160;issue&#160;a&#160;DET&#160;call&#160;(MICROSAR&#160;4.x)&#160;or&#160;an&#160;Application&#160;call&#160;<br/>(<i>Appl_CanOverrun</i>()).&#160;<br/>
&#160;<br/>
<b>4.8.2&#160;</b><br/>
<b>Production Code&#160;Error Reporting&#160;</b><br/>
Production&#160;&#160;code&#160;&#160;related&#160;&#160;errors&#160;&#160;are&#160;&#160;reported&#160;&#160;to&#160;&#160;DEM&#160;&#160;using&#160;&#160;the&#160;&#160;service&#160;<br/>Dem_ReportErrorStatus(),&#160;if&#160;the&#160;pre-compile&#160;parameter&#160;CAN_PROD_ERROR_DETECT&#160;<br/>== STD_ON.&#160;<br/>
The&#160;table&#160;below&#160;shows&#160;the&#160;Event&#160;ID&#160;and&#160;Event&#160;Status&#160;given&#160;as&#160;parameter&#160;for&#160;calling&#160;the&#160;<br/>DEM.&#160;This callout&#160;may&#160;occur in&#160;the&#160;context&#160;of&#160;different&#160;API&#160;calls&#160;(see&#160;Chapte<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#22">r “4.8.2.1”)</a>.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
21&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=22></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-22_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>Event&#160;ID&#160;</b><br/>
<b>Event&#160;Status&#160;</b><br/>
<b>Short&#160;Description&#160;</b><br/>
CAN_E_TIMEOUT&#160;<br/>
DEM_EVENT_STATUS_FAILED&#160;<br/>
Timeout&#160;in&#160;“Hardware&#160;Loop&#160;Check”&#160;<br/>occurred, hardware has&#160;to&#160;be&#160;checked&#160;<br/>
&#160;<br/>
or timeout&#160;is&#160;too&#160;short.&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Table&#160;4-5&#160;&#160;&#160;Errors&#160;reported&#160;to&#160;DEM&#160;<br/>
<b>4.8.2.1&#160;</b><br/>
<b>Hardware&#160;Loop Check&#160;/&#160;Timeout&#160;Monitoring&#160;</b><br/>
The&#160;feature&#160;“Hardware&#160;Loop&#160;Check”&#160;is&#160;used&#160;to&#160;break&#160;endless&#160;loops&#160;&#160;caused&#160;by&#160;hardware&#160;<br/>issue.&#160;This&#160;feature is&#160;configurable&#160;see&#160;Chapter 7&#160;and&#160;also&#160;Timeout&#160;Duration&#160;description.&#160;<br/>The&#160;&#160;Hardware&#160;&#160;Loop&#160;&#160;Check&#160;&#160;will&#160;&#160;be&#160;&#160;handled&#160;&#160;by&#160;&#160;CAN&#160;&#160;driver&#160;&#160;internal&#160;&#160;except&#160;&#160;when&#160;&#160;setting&#160;<br/>“Hardware&#160;Loop&#160;Check&#160;by&#160;Application” is activated.&#160;<br/>
<b>Loop&#160;Name&#160;/&#160;</b><br/>
<b>Short&#160;Description&#160;</b><br/>
<b>source&#160;<br/></b>kCanLoopInit&#160;&#160;<br/>
This channel dependent loop is called in Can_InitController&#160;&#160;<br/>and is processed as long as the CAN cell does not enter&#160;&#160;<br/>resp. leave the configuration mode. &#160;&#160;<br/>While entering the configuration mode, message transfer from&#160;&#160;<br/>and to the CAN bus is stopped, the status of the CAN bus&#160;&#160;<br/>transmit output is recessive. &#160;&#160;<br/>There is a delay from writing to a command register until&#160;&#160;<br/>the update of the related status register bits due to clock&#160;&#160;<br/>domain crossing (Host and CAN clock). Therefore the&#160;&#160;<br/>programmer has to assure that the previous value written to&#160;&#160;<br/>INIT has been accepted.&#160;&#160;<br/>Due to the high precision clocking requirements of the CAN&#160;&#160;<br/>Core, a separate clock without any modulation has to be&#160;&#160;<br/>provided&#160;as CAN clock. The CAN Core should be programmed to&#160;&#160;<br/>have at least 8 clocks per bit time (e.g.: at least 8 MHz&#160;&#160;<br/>CAN clock at 1 Mbaud CAN speed). In order to achieve a&#160;&#160;<br/>stable function of the M_CAN, the Host clock must always be&#160;&#160;<br/>faster than or equal to the&#160;CAN clock. &#160;&#160;<br/>If the loop cancels, try to reinitialize the controller&#160;&#160;<br/>again or reset the hardware.&#160;&#160;<br/>After leaving the configuration mode the Bit Stream&#160;&#160;<br/>Processor synchronizes itself to the data transfer on the&#160;&#160;<br/>CAN bus by waiting for the occurrence of a&#160;sequence of 11&#160;&#160;<br/>consecutive recessive bits (= Bus_Idle) before it can take&#160;&#160;<br/>part in bus activities and start the message transfer.&#160;<br/>
kCanLoopStart&#160;<br/>
MICROSAR3:&#160;<br/>-&#160;Used while transition in mode ‘START’.&#160;<br/>-&#160;Call context: Can_SetControllerMode()&#160;<br/>-&#160;There is a delay&#160;from writing to a command register until&#160;<br/>the update of the related status register bits due to clock&#160;<br/>domain crossing&#160;(Host and CAN clock). Therefore the&#160;<br/>programmer has to assure that the previous value written to&#160;<br/>INIT has been accepted.&#160;<br/>-&#160;If the loop cancels&#160;try to recall&#160;Can_SetControllerMode().&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
22&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=23></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-23_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>Loop&#160;Name&#160;/&#160;</b><br/>
<b>Short&#160;Description&#160;</b><br/>
<b>source&#160;</b><br/>
&#160;&#160;<br/>MICROSAR4:&#160;<br/>Used for short time mode transition blocking (short&#160;<br/>synchronous timeout). Same value for kCanLoopStart,&#160;<br/>kCanLoopStop, kCanLoopSleep and kCanLoopWakeup.&#160;&#160;<br/>No Issue when timeout occurs.&#160;<br/>
kCanLoopStop&#160;<br/>
&#160;MICROSAR3:&#160;<br/>-&#160;Used while transition in mode ‘STOP’.&#160;<br/>-&#160;Call context: Can_SetControllerMode()&#160;<br/>-&#160;There is a delay from writing to a command register until&#160;<br/>the update of the related status register bits due to clock&#160;<br/>domain crossing&#160;(Host and CAN clock).&#160;Therefore the&#160;<br/>programmer has to assure that the previous value written to&#160;<br/>INIT has been accepted.&#160;<br/>-&#160;If the loop cancels&#160;try to recall&#160;Can_SetControllerMode().&#160;<br/>&#160;<br/>MICROSAR4:&#160;<br/>Used for short time mode transition blocking (short&#160;<br/>synchronous timeout). Same value&#160;for kCanLoopStart,&#160;<br/>kCanLoopStop, kCanLoopSleep and kCanLoopWakeup.&#160;&#160;<br/>No Issue when timeout occurs.&#160;<br/>
kCanLoopSleep&#160;<br/>
MICROSAR3:&#160;<br/>-&#160;Used while transition in mode ‘SLEEP’.&#160;<br/>-&#160;Call context: Can_SetControllerMode()&#160;<br/>-&#160;When all pending transmission requests have&#160;completed, the&#160;<br/>M_CAN waits until bus idle state is detected.&#160;<br/>-&#160;If the loop cancels try to&#160;recall Can_SetControllerMode.&#160;<br/>&#160;<br/>MICROSAR4:&#160;<br/>Used for short time mode transition blocking (short&#160;<br/>synchronous timeout). Same value for kCanLoopStart,&#160;<br/>kCanLoopStop, kCanLoopSleep and kCanLoopWakeup.&#160;&#160;<br/>No Issue when timeout occurs.&#160;<br/>
kCanLoopWakeup&#160;<br/>
MICROSAR3:&#160;<br/>-&#160;Used while transition in mode ‘WAKEUP’.&#160;<br/>-&#160;Call context: Can_SetControllerMode()&#160;<br/>-&#160;Once the M_CAN is initialized&#160;it&#160;synchronizes itself to the&#160;<br/>CAN bus and is ready for communication.&#160;&#160;<br/>-&#160;If the loop cancels try to&#160;recall Can_SetControllerMode.&#160;<br/>&#160;<br/>MICROSAR4:&#160;<br/>Used for short time mode transition blocking (short&#160;<br/>synchronous timeout). Same value for kCanLoopStart,&#160;<br/>kCanLoopStop, kCanLoopSleep and kCanLoopWakeup.&#160;&#160;<br/>No Issue when timeout occurs.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
23&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=24></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-24_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-24_2.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
kCanLoopClock&#160;<br/>
When Clock Stop is requested then all pending&#160;transfer&#160;<br/>
Stop&#160;<br/>
requests are completed&#160;first.&#160;&#160;<br/>
When the CAN bus reached idle then Clock Stop will be&#160;<br/>acknowledged.&#160;<br/>
kCanLoopRxFifo&#160;&#160;&#160;<br/>
This channel dependent loop is called in CanInterruptRxFifo&#160;&#160;<br/>
&#160;<br/>
and is processed &#160;until the Rx FIFO becomes empty. The loop&#160;<br/>is delayed if the controller receives &#160;a burst of messages.&#160;<br/>The maximum expected duration is the&#160;time needed until &#160;&#160;<br/>all &#160;messages &#160;in &#160;the &#160;reception &#160;FIFO &#160;are &#160;confirmed. &#160;If &#160;&#160;<br/>the &#160;loop &#160;cancels,&#160;reinitialize the Controller.&#160;<br/>
Table&#160;4-6&#160;&#160;&#160;Hardware&#160;Loop&#160;Check&#160;<br/>
<b>4.8.3&#160;</b><br/>
<b>CAN&#160;RAM&#160;Check&#160;</b><br/>
The&#160;CAN&#160;driver&#160;supports&#160;a&#160;check&#160;of&#160;the&#160;CAN&#160;controller’s&#160;mailboxes.&#160;The&#160;CAN&#160;controller&#160;<br/>RAM&#160;&#160;check&#160;&#160;is&#160;&#160;called&#160;&#160;internally&#160;&#160;every&#160;&#160;time&#160;&#160;a&#160;&#160;power&#160;&#160;on&#160;&#160;is&#160;&#160;executed&#160;&#160;within&#160;&#160;function&#160;<br/>Can_InitController(),&#160;or&#160;a&#160;Bus-Wakeup&#160;event&#160;happen.&#160;The&#160;CAN&#160;driver&#160;verifies&#160;that&#160;no&#160;used&#160;<br/>mailboxes&#160;are&#160;corrupt.&#160;A&#160;mailbox&#160;is&#160;considered&#160;corrupt&#160;if&#160;a&#160;predefined&#160;pattern&#160;is&#160;written&#160;to&#160;<br/>the&#160;&#160;appropriate&#160;&#160;mailbox&#160;&#160;registers&#160;&#160;and&#160;&#160;the&#160;&#160;read&#160;&#160;operation&#160;&#160;does&#160;&#160;not&#160;&#160;return&#160;&#160;the&#160;&#160;expected&#160;<br/>pattern.&#160;If&#160;a&#160;corrupt&#160;mailbox&#160;is&#160;found&#160;the&#160;function&#160;Appl_CanCorruptMailbox()&#160;is&#160;called.&#160;This&#160;<br/>function&#160;tells the&#160;application&#160;which&#160;mailbox&#160;is corrupt.&#160;&#160;<br/>After&#160;&#160;the&#160;&#160;check&#160;&#160;of&#160;&#160;all&#160;&#160;mailboxes&#160;&#160;the&#160;&#160;CAN&#160;&#160;driver&#160;&#160;calls&#160;&#160;the&#160;&#160;call&#160;&#160;back&#160;&#160;function&#160;<br/>Appl_CanRamCheckFailed()&#160;&#160;if&#160;&#160;at&#160;&#160;least&#160;&#160;one&#160;&#160;corrupt&#160;&#160;mailbox&#160;&#160;was&#160;&#160;found.&#160;&#160;The&#160;&#160;application&#160;<br/>must&#160;&#160;decide&#160;&#160;if&#160;&#160;the&#160;&#160;CAN&#160;&#160;driver&#160;&#160;disables&#160;&#160;communication&#160;&#160;or&#160;&#160;not&#160;&#160;by&#160;&#160;means&#160;&#160;of&#160;&#160;the&#160;&#160;call&#160;&#160;back&#160;<br/>function’s&#160;return&#160;value.&#160;If&#160;the&#160;application&#160;has decided&#160;to&#160;disable&#160;the&#160;communication&#160;there&#160;is&#160;<br/>no&#160;possibility&#160;to&#160;enable&#160;the&#160;communication&#160;again&#160;until the&#160;next&#160;call&#160;to&#160;Can_Init().&#160;<br/>The&#160;CAN&#160;RAM check&#160;functionality&#160;itself&#160;can&#160;be&#160;activated&#160;via&#160;Generation&#160;Tool.&#160;<br/>
<b>4.9&#160;</b><br/>
<b>Common CAN&#160;</b><br/>
Common&#160;&#160;CAN&#160;&#160;connect&#160;&#160;2&#160;&#160;hardware&#160;&#160;CAN&#160;&#160;channels&#160;&#160;to&#160;&#160;one&#160;&#160;logical&#160;&#160;controller.&#160;&#160;This&#160;&#160;allows&#160;<br/>configuring&#160;&#160;more&#160;&#160;FullCAN&#160;&#160;mailboxes.&#160;&#160;The&#160;&#160;second&#160;&#160;hardware&#160;&#160;channel&#160;&#160;is&#160;&#160;used&#160;&#160;for&#160;&#160;Rx&#160;<br/>FullCAN mailboxes.&#160;<br/>The&#160;&#160;filter&#160;&#160;mask&#160;&#160;of&#160;&#160;the&#160;&#160;BasicCAN&#160;&#160;should&#160;&#160;exclude&#160;&#160;the&#160;&#160;message&#160;&#160;received&#160;&#160;by&#160;&#160;the&#160;&#160;FullCAN&#160;<br/>messages&#160;of&#160;the&#160;second&#160;CAN&#160;Controller.&#160;This&#160;means&#160;each&#160;message&#160;ID&#160;must&#160;be&#160;received&#160;<br/>on&#160;&#160;one&#160;&#160;CAN&#160;&#160;hardware&#160;&#160;channel&#160;&#160;only.&#160;&#160;The&#160;&#160;filter&#160;&#160;optimization&#160;&#160;takes&#160;&#160;care&#160;&#160;about&#160;&#160;this&#160;&#160;when&#160;<br/>common&#160;CAN&#160;is activated.&#160;<br/>For configuration&#160;of&#160;Common&#160;CAN&#160;specific settings in&#160;generation&#160;tool see&#160;chapter&#160;‎7.6.2.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>Only&#160;one&#160;Transceiver&#160;(Driver)&#160;has&#160;to be&#160;used&#160;for&#160;this&#160;two Common&#160;CAN&#160;hardware&#160;<br/>
<b>&#160;&#160;</b>channels&#160;(connect&#160;TX&#160;and RX&#160;lines).&#160;<br/>
Reason:&#160;Upper&#160;layers&#160;only&#160;know&#160;one Controller&#160;for&#160;this&#160;2 hardware&#160;channel&#160;Common&#160;<br/>CAN&#160;and therefore only&#160;one&#160;Transceiver&#160;can&#160;be&#160;handled.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
24&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=25></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-25_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-25_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-25_3.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>4.9.1&#160;</b><br/>
<b>Error&#160;Interrupt&#160;&#160;</b><br/>
The&#160;&#160;MCAN&#160;&#160;error&#160;&#160;interrupt&#160;&#160;source&#160;&#160;is&#160;&#160;used&#160;&#160;only&#160;&#160;partially&#160;&#160;by&#160;&#160;the&#160;&#160;CAN&#160;&#160;driver.&#160;&#160;Only&#160;&#160;<br/>BusOff&#160;events&#160;are&#160;handled&#160;and&#160;reported&#160;to&#160;the&#160;upper layers by&#160;the&#160;CAN driver.&#160;&#160;<br/>&#160;&#160;<br/>Not&#160;reported&#160;errors are:&#160;&#160;<br/>Stuff&#160;Error &#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;More&#160;than&#160;5&#160;equal&#160;bits in&#160;a&#160;sequence&#160;occurred&#160;&#160;<br/>Format&#160;Error &#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;A&#160;fixed&#160;format&#160;part of&#160;a&#160;received&#160;frame&#160;has the&#160;wrong&#160;format&#160;&#160;<br/>Acknowledge&#160;Error &#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;A&#160;&#160;transmitted&#160;&#160;message&#160;&#160;was&#160;&#160;not&#160;&#160;acknowledged&#160;&#160;by&#160;&#160;another&#160;<br/>
node&#160;&#160;<br/>
Bit Error &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Device&#160;&#160;&#160;&#160;wanted&#160;&#160;&#160;&#160;to&#160;&#160;&#160;&#160;send&#160;&#160;&#160;&#160;a&#160;&#160;&#160;&#160;recessive/dominant&#160;&#160;&#160;&#160;level,&#160;&#160;&#160;&#160;but&#160;&#160;<br/>
the&#160;monitored&#160;level was dominant/recessive&#160;&#160;<br/>
CRC Error &#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Received&#160;CRC&#160;did&#160;not&#160;match&#160;the&#160;calculated&#160;CRC&#160;&#160;<br/>Watchdog&#160;Interrupt&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Message&#160;RAM&#160;Watchdog&#160;event&#160;due&#160;to&#160;missing&#160;READY&#160;&#160;<br/>Warning&#160;Status &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Error_Warning&#160;status changed&#160;&#160;<br/>Error Passive&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Error_Passive&#160;status&#160;changed&#160;&#160;<br/>Error Logging&#160;Overflow&#160;&#160;&#160;&#160;&#160;&#160;&#160;Overflow&#160;of&#160;CAN Error&#160;Logging&#160;Counter&#160;occurred&#160;&#160;<br/>Bit Error Uncorrected&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Message&#160;RAM bit error detected,&#160;uncorrected.&#160;&#160;<br/>Bit Error Corrected&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Message&#160;RAM bit error detected&#160;and&#160;corrected.&#160;&#160;&#160;<br/>Timeout&#160;Occurred&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Timeout&#160;reached&#160;&#160;<br/>Timestamp&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Wraparound&#160;Timestamp&#160;counter wrapped&#160;around&#160;&#160;<br/>Rx&#160;FIFO&#160;0&#160;Full&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Rx&#160;FIFO&#160;0&#160;Full&#160;&#160;<br/>Rx&#160;FIFO&#160;0&#160;Watermark&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Reached&#160;fill level watermark&#160;&#160;<br/>Rx&#160;FIFO&#160;1&#160;Full&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Rx&#160;FIFO&#160;1&#160;Full&#160;<br/>Rx&#160;FIFO&#160;1&#160;Watermark&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Reached&#160;fill level watermark&#160;&#160;<br/>
&#160;<br/>
<b>Please&#160;note&#160;<br/></b>The&#160;BusOff&#160;recovery&#160;sequence cannot&#160;be&#160;shortened&#160;(e.g.&#160;by&#160;initializing&#160;the&#160;CAN&#160;<br/>device).&#160;If&#160;the&#160;device&#160;goes&#160;BusOff,&#160;it&#160;will&#160;enter&#160;the&#160;INIT&#160;mode&#160;by&#160;its&#160;own,&#160;stopping&#160;all&#160;<br/>
&#160;<br/>
bus&#160;activities.&#160;&#160;<br/>When leaving&#160;the&#160;INIT&#160;mode&#160;the&#160;device will&#160;wait&#160;for&#160;129&#160;occurrences&#160;of&#160;Bus Idle&#160;(129 x&#160;<br/>11 consecutive recessive bits)&#160;before&#160;resuming&#160;normal&#160;operation.&#160;&#160;<br/>
&#160;<br/>
<b>Please&#160;note&#160;<br/></b>The&#160;Timeout&#160;Counter&#160;is&#160;used&#160;for&#160;CAN&#160;driver&#160;internal&#160;purposes&#160;(supervision of&#160;possible&#160;<br/>transmit&#160;confirmations&#160;arriving&#160;delayed&#160;after&#160;a&#160;cancellation was requested).&#160;Thus&#160;the&#160;<br/>
&#160;<br/>
“Timeout&#160;Occurred”&#160;interrupt&#160;may&#160;occur&#160;occasionally.&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
25&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=26></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-26_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>4.9.2&#160;</b><br/>
<b>Not&#160;supported&#160;&#160;</b><br/>
Neither the&#160;Tx&#160;Event&#160;FIFO&#160;nor the&#160;Tx&#160;Queue&#160;is used.&#160;All&#160;available&#160;32&#160;transmit message&#160;&#160;<br/>buffers &#160;per &#160;CAN&#160;&#160;channel &#160;are &#160;used&#160;&#160;as&#160;&#160;dedicated&#160;&#160;buffers &#160;and&#160;&#160;can&#160;&#160;be&#160;&#160;used&#160;&#160;either &#160;as&#160;&#160;<br/>BasicCAN or FullCAN&#160;objects (see&#160;4.3.1).&#160;&#160;<br/>&#160;<br/>The&#160;filtering&#160;of&#160;High&#160;Priority&#160;messages is not&#160;supported.&#160;&#160;<br/>&#160;<br/>No&#160;Range&#160;Filters are&#160;supported.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
26&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=27></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-27_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>5&#160;&#160;Integration&#160;</b><br/>
This&#160;chapter&#160;gives&#160;necessary&#160;information&#160;for&#160;the&#160;integration&#160;of&#160;the&#160;MICROSAR&#160;&#160;CAN&#160;into&#160;<br/>an&#160;application&#160;environment&#160;of&#160;an&#160;ECU.&#160;<br/>
<b>5.1&#160;</b><br/>
<b>Scope&#160;of&#160;Delivery&#160;</b><br/>
The&#160;delivery&#160;of&#160;the&#160;CAN&#160;contains&#160;the&#160;files,&#160;which&#160;are&#160;described&#160;in&#160;the&#160;chapter’<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#27">s&#160;5.1.1&#160;</a>and&#160;<br/><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#27">5.1.2:</a>&#160;<br/>Dependent&#160;on&#160;library&#160;or source&#160;code&#160;delivery&#160;the&#160;marked&#160;(+) files&#160;may&#160;not&#160;be&#160;delivered.&#160;<br/>
<b>5.1.1&#160;</b><br/>
<b>Static&#160;Files&#160;</b><br/>
<b>File&#160;Name&#160;</b><br/>
<b>Description&#160;</b><br/>
(+)&#160;Can_Local.h&#160;&#160;This&#160;is&#160;an&#160;internal&#160;header&#160;file which should not&#160;be&#160;included&#160;outside&#160;this&#160;<br/>
module&#160;<br/>
(+)&#160;Can.c&#160;<br/>
This&#160;is&#160;the&#160;source&#160;file of&#160;the&#160;CAN.&#160;It&#160;contains&#160;the&#160;implementation of&#160;CAN&#160;<br/>module&#160;functionality.&#160;<br/>
(+)&#160;Can.(lib)&#160;<br/>
This&#160;is&#160;the&#160;library&#160;build out&#160;of&#160;Can.c,&#160;Can.h&#160;and Can_Local.h&#160;<br/>
Can.h&#160;<br/>
This&#160;is&#160;the&#160;header&#160;file of&#160;the&#160;CAN&#160;module (include&#160;API&#160;declaration)&#160;<br/>
Can_Hooks.h&#160;<br/>
This&#160;is&#160;the&#160;header&#160;file&#160;to&#160;define&#160;the&#160;Hook-functions&#160;or&#160;macros.&#160;(this&#160;is&#160;a project&#160;<br/>specific&#160;file and&#160;may&#160;not&#160;exist)&#160;<br/>
Can_Irq.c&#160;<br/>
This&#160;is&#160;the&#160;interrupt&#160;declaration&#160;and&#160;callout&#160;file (supports&#160;interrupt&#160;<br/>configuration&#160;as link&#160;time&#160;settings)&#160;<br/>
Table&#160;5-1&#160;&#160;&#160;Static&#160;files&#160;<br/>
<b>5.1.2&#160;</b><br/>
<b>Dynamic&#160;Files&#160;</b><br/>
The&#160;dynamic&#160;files are&#160;generated&#160;by&#160;the&#160;configuration&#160;tool [GENy].&#160;<br/>
&#160;<br/>
<b>File&#160;Name&#160;</b><br/>
<b>Description&#160;</b><br/>
Can_Cfg.h&#160;<br/>
Generated&#160;header&#160;file,&#160;contains some&#160;type,&#160;<br/>prototype&#160;and pre-compile settings&#160;<br/>
Can_Lcfg.c&#160;<br/>
Generated&#160;file&#160;contains&#160;link time settings.&#160;<br/>
Can_PBcfg.c&#160;<br/>
Generated&#160;file&#160;contains&#160;post&#160;build settings.&#160;<br/>
Can_DrvGeneralTypes.h&#160;<br/>
Generated&#160;file&#160;contains&#160;CAN&#160;driver&#160;part&#160;of&#160;<br/>Can_GeneralTypes.h&#160;(supported&#160;by&#160;<br/>Integrator)&#160;<br/>
Table&#160;5-2&#160;&#160;&#160;Generated&#160;files&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
27&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=28></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-28_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-28_2.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>5.2&#160;</b><br/>
<b>Include&#160;Structure&#160;</b><br/>
&#160;<br/>
Figure&#160;5-1&#160;&#160;Include&#160;Structure&#160;(AUTOSAR)&#160;<br/>
Deviation&#160;from&#160;AUTOSAR specification:&#160;<br/>&#160;&#160;Additionally&#160;the&#160;EcuM_Cbk.h&#160;is included&#160;by&#160;Can_Cfg.h&#160;(needed&#160;for&#160;wakeup&#160;notification&#160;<br/>
API).&#160;<br/>
&#160;&#160;ComStack_Types.h&#160;included&#160;by&#160;Can_Cfg.h,&#160;because&#160;the&#160;specified&#160;types have&#160;to&#160;be&#160;<br/>
known&#160;in&#160;generated&#160;data&#160;as well.&#160;<br/>
&#160;&#160;MICROSAR4x&#160;only:&#160;Os.h&#160;will be&#160;included&#160;by&#160;Can_Cfg.h&#160;because&#160;of&#160;used&#160;data-types&#160;<br/>
&#160;&#160;Spi.h&#160;is&#160;not&#160;yet&#160;used.&#160;<br/>
&#160;&#160;Additionally&#160;the&#160;file&#160;Can_Hooks.h&#160;may&#160;be&#160;included&#160;by&#160;Can.h.&#160;<br/>
&#160;&#160;MICROSAR403&#160;only:&#160;Can_GeneralTypes.h&#160;will&#160;be&#160;included&#160;by&#160;Can_Cfg.h&#160;not&#160;by&#160;Can.h&#160;<br/>
direct.&#160;<br/>
&#160;<br/>
<b>5.3&#160;</b><br/>
<b>Critical&#160;Sections&#160;</b><br/>
The&#160;AUTOSAR&#160;standard&#160;provides&#160;with&#160;the&#160;BSW&#160;Scheduler&#160;a&#160;BSW&#160;module,&#160;which&#160;handles&#160;<br/>entering&#160;and&#160;leaving&#160;critical sections.&#160;&#160;<br/>For&#160;&#160;more&#160;&#160;information&#160;&#160;about&#160;&#160;the&#160;&#160;BSW&#160;&#160;Scheduler&#160;&#160;please&#160;&#160;refer&#160;&#160;to&#160;&#160;[3].&#160;&#160;When&#160;&#160;the&#160;&#160;BSW&#160;<br/>Scheduler&#160;is&#160;used&#160;the&#160;CAN&#160;Driver&#160;provides&#160;critical&#160;section&#160;codes&#160;that&#160;have&#160;to&#160;be&#160;mapped&#160;<br/>by&#160;the&#160;BSW&#160;Scheduler&#160;to&#160;following&#160;mechanism:&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
28&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=29></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-29_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>Critical&#160;Section&#160;Define&#160;</b><br/>
<b>Description&#160;</b><br/>
CAN_EXCLUSIVE_AREA_0&#160;<br/>
CanNestedGlobalInterruptDisable/Restore()&#160;is&#160;used&#160;within &#160;&#160;<br/>Can_MainFunction_Write()&#160;to&#160;assure that&#160;transmit confirmations&#160;do&#160;not&#160;&#160;<br/>conflict&#160;with further transmit&#160;requests.&#160;&#160;<br/>&gt;&#160; Duration&#160;is&#160;short.&#160;&#160;<br/>&gt;&#160; No&#160;API&#160;call&#160;of&#160;other BSW&#160;inside.&#160;<br/>
CAN_EXCLUSIVE_AREA_1&#160;<br/>
Using&#160;inside&#160;Can_DisableControllerInterrupts()&#160;and&#160;&#160;<br/>Can_EnableControllerInterrupts()&#160;to&#160;secure Interrupt counters&#160;for nested&#160;&#160;<br/>calls.&#160;&#160;<br/><b>&gt;&#160;&#160;</b>Duration&#160;is&#160;short.&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>No&#160;API&#160;call&#160;of&#160;other BSW&#160;inside.&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable global&#160;interrupts&#160;–&#160;or&#160;–&#160;Empty&#160;in case&#160;<br/>
Can_Disable/EnableControllerInterrupts()&#160;are called&#160;within&#160;context&#160;<br/>with&#160;lower&#160;or equal&#160;priority&#160;than CAN&#160;interrupt.&#160;<br/>
CAN_EXCLUSIVE_AREA_2&#160;<br/>
Using&#160;inside&#160;Can_Write()&#160;to&#160;secure software&#160;states&#160;of&#160;transmit objects.&#160;<br/><b>&gt;&#160;&#160;</b>Only&#160;when no&#160;Vector CAN Interface is&#160;used.&#160;<br/>
<b>&gt;&#160;&#160;</b>Duration&#160;is&#160;medium&#160;<br/>
<b>&gt;&#160;&#160;</b>No&#160;API&#160;call&#160;of&#160;other BSW&#160;inside.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable global&#160;interrupts&#160;-&#160;or&#160;-&#160;Disable&#160;CAN&#160;interrupts&#160;and&#160;do not call&#160;<br/>
function&#160;Can_Write()&#160;reentrant.&#160;<br/>
CAN_EXCLUSIVE_AREA_3&#160;<br/>
Using&#160;inside&#160;Tx&#160;confirmation&#160;to&#160;secure state&#160;of&#160;transmit object in case of&#160;<br/>cancellation&#160;(Only&#160;used&#160;when&#160;Vector Interface&#160;Version&#160;smaller 4.10&#160;<br/>used).&#160;<br/><b>&gt;&#160;&#160;</b>Duration&#160;is&#160;medium&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>Call&#160;to&#160;CanIf_CancelTxConfirmation()&#160;inside&#160;(no more calls&#160;in CanIf).&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable global&#160;interrupts&#160;-&#160;or&#160;-&#160;Disable&#160;CAN&#160;interrupts&#160;and&#160;do not call&#160;<br/>
function&#160;Can_Write()&#160;within.&#160;<br/>
CAN_EXCLUSIVE_AREA_4&#160;<br/>
Using&#160;inside&#160;received&#160;data&#160;handling&#160;(Rx&#160;Queue&#160;treatment)&#160;to&#160;secure Rx&#160;<br/>Queue&#160;counter and data.&#160;<br/><b>&gt;&#160;&#160;</b>Duration&#160;is&#160;short&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>No&#160;API&#160;call&#160;of&#160;other BSW&#160;inside.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable Global&#160;Interrupts&#160;-&#160;or&#160;-&#160;Disable&#160;all&#160;CAN interrupts.&#160;<br/>
CAN_EXCLUSIVE_AREA_5&#160;<br/>
Using&#160;inside&#160;wakeup handling&#160;to&#160;secure state&#160;transition.&#160;(Only&#160;in&#160;wakeup&#160;<br/>polling&#160;mode)&#160;<br/><b>&gt;&#160;&#160;</b>Duration&#160;is&#160;short&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>Call&#160;to&#160;DET&#160;inside.&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable global&#160;interrupts&#160;&#160;&#160;(do&#160;not&#160;use&#160;CAN&#160;interrupt&#160;locks&#160;here)&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
29&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=30></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-30_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
CAN_EXCLUSIVE_AREA_6&#160;<br/>
Using&#160;inside&#160;Can_SetControllerMode()&#160;and&#160;BusOff&#160;to&#160;avoid&#160;nested&#160;state&#160;<br/>transition&#160;requests.&#160;<br/>
&#160;<br/>
<b>&gt;&#160;&#160;</b>Duration&#160;is&#160;medium&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>No&#160;API&#160;call&#160;of&#160;other BSW&#160;inside.&#160;<br/>
<b>&gt;&#160;&#160;</b>Use CAN&#160;interrupt&#160;locks&#160;here,&#160;in case&#160;the&#160;above mentioned&#160;APIs&#160;are&#160;<br/>
only&#160;called&#160;within&#160;same tasklevel&#160;and&#160;CAN&#160;interrupt context (no&#160;<br/>nesting&#160;-&#160;like&#160;BusOff-handling&#160;in interrupt has&#160;to be blocked).&#160;<br/>or&#160;<br/>Disable global&#160;interrupts&#160;<br/>
Table&#160;5-3&#160;&#160;&#160;Critical&#160;Section&#160;Codes&#160;<br/>
<b>5.4&#160;</b><br/>
<b>Compiler&#160;Abstraction and Memory&#160;Mapping&#160;&#160;</b><br/>
The&#160;&#160;objects&#160;&#160;(e.g.&#160;&#160;variables,&#160;&#160;functions,&#160;&#160;constants)&#160;&#160;are&#160;&#160;declared&#160;&#160;by&#160;&#160;compiler&#160;&#160;independent&#160;<br/>definitions&#160;&#160;–&#160;&#160;the&#160;&#160;compiler&#160;&#160;abstraction&#160;&#160;definitions.&#160;&#160;Each&#160;&#160;compiler&#160;&#160;abstraction&#160;&#160;definition&#160;&#160;is&#160;<br/>assigned&#160;to&#160;a&#160;memory&#160;section.&#160;<br/>The&#160;&#160;following&#160;&#160;table&#160;&#160;contains&#160;&#160;the&#160;&#160;memory&#160;&#160;section&#160;&#160;names&#160;&#160;and&#160;&#160;the&#160;&#160;compiler&#160;&#160;abstraction&#160;<br/>definitions&#160;&#160;defined&#160;&#160;for&#160;&#160;the&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;and&#160;&#160;illustrates&#160;&#160;their&#160;&#160;assignment&#160;&#160;among&#160;&#160;each&#160;<br/>other.&#160;<br/>
&#160;<br/>
<b>Compiler&#160;Abstraction&#160;</b><br/>
<b>Definitions&#160;</b><br/>
&#160;<br/>
&#160;<br/>
L&#160;<br/>
E<br/>
G<br/>F<br/>
L<br/>
&#160;<br/>
&#160;<br/>
C<br/>
E<br/>
A<br/>
&#160;<br/>
T&#160;<br/>
E<br/>
S<br/>
OD<br/>
B<br/>
T&#160;I<br/>
C<br/>
T<br/>A<br/>
&#160;<br/>R<br/>
&#160;<br/>
C<br/>
P<br/>
N<br/>
L&#160;<br/>
N<br/>
&#160;&#160;<br/>
T&#160;I<br/>
A<br/>
D<br/>
OD<br/>
ON<br/>
A<br/>
&#160;<br/>
_&#160;<br/>
OI<br/>
_<br/>
C<br/>
C<br/>
V<br/>
C<br/>
T<br/>
T_<br/>
NI<br/>
TR<br/>
C<br/>
X<br/>
_<br/>
_<br/>
_<br/>
&#160;<br/>
E<br/>
S<br/>
S<br/>
N<br/>
TI<br/>
_<br/>
_<br/>
G_<br/>
T_<br/>
L<br/>
L<br/>
L<br/>
OD<br/>
A<br/>
ON<br/>
ON<br/>
R<br/>
R<br/>
T_C<br/>
E<br/>
X<br/>
P<br/>
P<br/>
P<br/>
<b>Memory&#160;Mapping</b><br/>
T<br/>
A<br/>
P<br/>
P<br/>
P<br/>
<b>&#160;</b><br/>
C<br/>
A<br/>
N<br/>
&#160;<br/>
C<br/>
C<br/>
V<br/>
A<br/>
A<br/>
A<br/>
_<br/>
_S<br/>
&#160;_<br/>
&#160;_<br/>
V_<br/>
&#160;_<br/>
&#160;I_<br/>
&#160;R_<br/>
&#160;R_<br/>
&#160;_<br/>
&#160;_<br/>
&#160;_<br/>
<b>Sections</b><br/>
N<br/>
N<br/>
N<br/>
N<br/>
N<br/>
N<br/>
N<br/>
N<br/>
N<br/>
N<br/>
N<br/>
N<br/>
<b>&#160;</b><br/>
A<br/>
A<br/>
A<br/>
A<br/>
A<br/>
A<br/>
A<br/>
A<br/>
A<br/>
A<br/>
A<br/>
A<br/>
C<br/>
C<br/>
C<br/>
C<br/>
C<br/>
C<br/>
C<br/>
C<br/>
C<br/>
C<br/>
C<br/>
C<br/>
CAN_START_SEC_CODE&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CAN_STOP_SEC_CODE&#160;<br/>
CAN_START_SEC_STATIC_CODE&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CAN_STOP_SEC_STATIC_CODE&#160;<br/>
CAN_START_SEC_CONST_8BIT&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CAN_STOP_SEC_CONST_8BIT&#160;<br/>
CAN_START_SEC_CONST_16BIT&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CAN_STOP_SEC_CONST_16BIT&#160;<br/>
CAN_START_SEC_CONST_32BIT&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CAN_STOP_SEC_CONST_32BIT&#160;<br/>
CAN_START_SEC_CONST_UNSPECIFIED&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CAN_STOP_SEC_CONST_UNSPECIFIED&#160;<br/>
CAN_START_SEC_PBCFG&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CAN_STOP_SEC_PBCFG&#160;<br/>
CAN_START_SEC_PBCFG_ROOT&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CAN_STOP_SEC_PBCFG_ROOT&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
30&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=31></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-31_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
CAN_START_SEC_VAR_NOINIT_UNSPECIFIED&#160;&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CAN_STOP_SEC_VAR_NOINIT_UNSPECIFIED&#160;<br/>
CAN_START_SEC_VAR_INIT_UNSPECIFIED&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CAN_STOP_SEC_VAR_INIT_UNSPECIFIED&#160;<br/>
CAN_START_SEC_CODE_APPL&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CAN_STOP_SEC_CODE_APPL&#160;<br/>
Table&#160;5-4&#160;&#160;&#160;Compiler&#160;abstraction&#160;and&#160;memory&#160;mapping&#160;<br/>
The&#160;&#160;Compiler&#160;Abstraction&#160;&#160;Definitions&#160;&#160;CAN_&#160;&#160;APPL_CODE,&#160;&#160;CAN_&#160;&#160;APPL_VAR&#160;&#160;and&#160;&#160;CAN_&#160;<br/>APPL_CONST&#160;are&#160;used&#160;to&#160;address&#160;code,&#160;variables&#160;and&#160;constants&#160;which&#160;are&#160;declared&#160;by&#160;<br/>other&#160;modules&#160;and&#160;used&#160;by&#160;the&#160;CAN&#160;driver.&#160;<br/>These&#160;definitions&#160;are&#160;not&#160;mapped&#160;by&#160;the&#160;CAN&#160;driver&#160;but&#160;by&#160;the&#160;memory&#160;mapping&#160;realized&#160;<br/>in&#160;the&#160;CAN&#160;Interface&#160;or&#160;direct&#160;by&#160;application.&#160;<br/>CAN_&#160;CODE:&#160;used&#160;for&#160;CAN&#160;module&#160;code.&#160;<br/>CAN_&#160;STATIC_CODE:&#160;used&#160;for CAN&#160;module&#160;local code.&#160;<br/>CAN_&#160;CONST:&#160;used&#160;for CAN module&#160;constants.&#160;<br/>CAN_&#160;CONST_PBCFG:&#160;used&#160;for CAN module&#160;constants&#160;in&#160;Post-Build&#160;section.&#160;<br/>CAN_&#160;VAR_*:&#160;used&#160;for&#160;CAN&#160;module&#160;variables.&#160;<br/>CAN_&#160;INT_CTRL:&#160;is&#160;used&#160;to&#160;access the&#160;CAN&#160;interrupt&#160;controls.&#160;<br/>CAN_&#160;REG_CANCELL:&#160;is used&#160;to&#160;access the&#160;CAN&#160;cell&#160;itself.&#160;<br/>CAN_&#160;RX_TX_DATA:&#160;access to&#160;CAN&#160;Data&#160;buffers.&#160;&#160;<br/>CAN_&#160;APPL_*:&#160;access&#160;to&#160;higher layers.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
31&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=32></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-32_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>6&#160;&#160;Hardware&#160;Specific&#160;Hints&#160;</b><br/>
<b>6.1.1&#160;</b><br/>
<b>Usage&#160;of&#160;interrupt&#160;functions&#160;&#160;</b><br/>
According&#160;to&#160;the&#160;current&#160;implementation&#160;of&#160;MCAN generator there is&#160;a&#160;fix&#160;assignment&#160;of&#160;&#160;<br/>interrupt&#160;&#160;functions&#160;&#160;to&#160;&#160;the&#160;&#160;CAN&#160;&#160;Controller.&#160;&#160;The&#160;&#160;postfix&#160;&#160;of&#160;&#160;the&#160;&#160;interrupt&#160;&#160;function&#160;&#160;name&#160;&#160;<br/>equates&#160;the&#160;controller number.&#160;The&#160;following&#160;table&#160;shows the&#160;corresponding&#160;assignment&#160;&#160;<br/>for the&#160;derivative&#160;RH850&#160;P1X-C. &#160;&#160;<br/>&#160;&#160;&#160;<br/>
<b>Critical&#160;Section&#160;Define&#160;</b><br/>
<b>Description&#160;</b><br/>
MCAN_0, &#160;BaseAddress:&#160;&#160;0xFFEF0000&#160;&#160;CanIsr_1&#160;&#160;<br/>
CanIsr_1&#160;&#160;<br/>
MCAN_1, &#160;BaseAddress:&#160;&#160;0xFFD31000&#160;&#160;CanIsr_2&#160;&#160;<br/>
CanIsr_2&#160;&#160;<br/>
MCAN_2, &#160;BaseAddress:&#160;&#160;0xFFEF1000&#160;&#160;CanIsr_3&#160;&#160;<br/>
CanIsr_3&#160;&#160;<br/>
Table&#160;5-5&#160;&#160;&#160;Hardware&#160;Controller&#160;–&#160;Interrupt&#160;Functions&#160;&#160;<br/>
&#160;<br/>
CanIsr_0&#160;is&#160;used&#160;for MTT_CAN0&#160;of&#160;the&#160;RH850&#160;P1X-C.&#160;<br/>
&#160;<br/>
<b>6.1.2&#160;</b><br/>
<b>MCAN Errata&#160;&#160;</b><br/>
The&#160;following&#160;Errata&#160;(please&#160;see<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#4">&#160;[6]&#160;</a>for&#160;further&#160;details)&#160;are&#160;considered&#160;by&#160;the&#160;CAN&#160;Driver.&#160;<br/>By&#160;&#160;default&#160;&#160;all&#160;&#160;erratas&#160;&#160;which&#160;&#160;are&#160;&#160;appropriate&#160;&#160;for&#160;&#160;the&#160;&#160;configured&#160;&#160;MCAN&#160;&#160;Revision&#160;&#160;are&#160;<br/>enabled.&#160;If&#160;a&#160;specific erratum&#160;shall&#160;be&#160;disabled&#160;or&#160;enabled&#160;beyond&#160;that&#160;it&#160;can&#160;be&#160;configured&#160;<br/>via&#160;a&#160;user configuration&#160;file.&#160;<br/>
&#160;Errata&#160;&#160;Title&#160;<br/>
MCAN&#160;<br/>
No.&#160;<br/>
Rev.&#160;<br/>affected&#160;<br/>
6&#160;<br/>
Change&#160;of&#160;CAN operation&#160;mode&#160;during&#160;start of&#160;transmission.&#160;<br/>
2.9.5,&#160;<br/>
Only&#160;activated&#160;if&#160;“<br/>
2.9.6,&#160;<br/>
CAN_BOSCH_ERRATUM_006“ is defined as STD_ON.&#160;<br/>
3.0.0,&#160;<br/>3.0.1&#160;<br/>
7&#160;<br/>
Problem&#160;&#160;with&#160;&#160;frame&#160;&#160;transmission&#160;&#160;after&#160;&#160;recovery&#160;&#160;from&#160;&#160;Restricted&#160;&#160;2.9.5,&#160;<br/>Operation&#160;Mode.&#160;<br/>
2.9.6,&#160;<br/>
Only&#160;activated&#160;if&#160;“<br/>
3.0.0,&#160;<br/>
CAN_BOSCH_ERRATUM_007“ is defined as STD_ON.&#160;<br/>
3.0.1&#160;<br/>
8&#160;<br/>
Setting&#160;/&#160;resetting&#160;CCCR.INIT&#160;during&#160;frame&#160;reception.&#160;<br/>
2.9.5,&#160;<br/>
Only&#160;activated&#160;if&#160;“<br/>
2.9.6,&#160;<br/>
CAN_BOSCH_ERRATUM_008“ is defined as STD_ON.&#160;<br/>
3.0.0,&#160;<br/>3.0.1&#160;<br/>
10&#160;<br/>
Setting&#160;CCCR.CCE&#160;while&#160;a&#160;Tx&#160;scan&#160;is ongoing.&#160;<br/>
2.9.5,&#160;<br/>
Only&#160;activated&#160;if&#160;“<br/>
2.9.6,&#160;&#160;<br/>
CAN_BOSCH_ERRATUM_010“ is defined as STD_ON.&#160;<br/>
3.0.0,&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
32&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=33></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-33_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-33_2.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
3.0.1&#160;<br/>
11&#160;<br/>
Needless&#160;activation&#160;of&#160;interrupt&#160;IR.MRAF.&#160;<br/>
2.9.5,&#160;<br/>
Only&#160;activated&#160;if&#160;“<br/>
2.9.6,&#160;<br/>
CAN_BOSCH_ERRATUM_011“ is defined as STD_ON.&#160;<br/>
3.0.0,&#160;<br/>3.0.1,&#160;<br/>3.1.0&#160;<br/>
12&#160;<br/>
Return&#160;&#160;of&#160;&#160;receiver&#160;&#160;from&#160;&#160;Bus&#160;&#160;Integration&#160;&#160;state&#160;&#160;after&#160;&#160;Protocol&#160;&#160;Exception&#160;&#160;2.9.6,&#160;<br/>Event.&#160;<br/>
3.0.0,&#160;<br/>
Only&#160;activated&#160;if&#160;“<br/>
3.0.1,&#160;<br/>
CAN_BOSCH_ERRATUM_012“ is defined as STD_ON.&#160;<br/>
3.1.0&#160;<br/>
13&#160;&#160;<br/>
Message&#160;RAM /&#160;RAM&#160;Arbiter not&#160;responding&#160;in&#160;time.&#160;<br/>
2.9.6,&#160;<br/>
When&#160;&#160;the&#160;&#160;M_CAN&#160;&#160;wants&#160;&#160;to&#160;&#160;store&#160;&#160;a&#160;&#160;received&#160;&#160;frame&#160;&#160;and&#160;&#160;the&#160;&#160;Message&#160;&#160;3.0.0,&#160;<br/>RAM&#160;/&#160;RAM&#160;Arbiter&#160;does&#160;not&#160;respond&#160;in&#160;time,&#160;this&#160;message&#160;cannot&#160;be&#160;&#160;3.0.1,&#160;<br/>stored&#160;&#160;completely&#160;&#160;and&#160;&#160;it&#160;&#160;is&#160;&#160;discarded&#160;&#160;with&#160;&#160;the&#160;&#160;reception&#160;&#160;of&#160;&#160;the&#160;&#160;next&#160;&#160;3.1.0,&#160;<br/>message.&#160;&#160;Interrupt&#160;&#160;ﬂag&#160;&#160;IR.MRAF&#160;&#160;is&#160;&#160;set.&#160;&#160;It&#160;&#160;may&#160;&#160;happen&#160;&#160;that&#160;&#160;the&#160;&#160;next&#160;&#160;3.2.0&#160;<br/>received&#160;message&#160;is stored&#160;incomplete.&#160;&#160;<br/>In&#160;&#160;this&#160;&#160;case,&#160;&#160;the&#160;&#160;respective&#160;&#160;Rx&#160;&#160;Buffer&#160;&#160;or&#160;&#160;Rx&#160;&#160;FIFO&#160;&#160;element&#160;&#160;holds&#160;<br/>inconsistent&#160;data.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/></b>When&#160;the&#160;M_CAN&#160;has&#160;been integrated&#160;correctly&#160;(the&#160;Host&#160;and&#160;&#160;the&#160;<br/>CAN&#160;clock must&#160;be&#160;fast&#160;enough&#160;to&#160;handle a&#160;worst&#160;case&#160;<br/>
<b>&#160;&#160;</b>configuration&#160;containing&#160;the&#160;maximum&#160;of&#160;MCAN&#160;Message RAM&#160;<br/>
elements),&#160;this&#160;behaviour&#160;&#160;can&#160;only&#160;occur&#160;in case&#160;of&#160;a&#160;problem&#160;with&#160;<br/>the&#160;Message&#160;RAM&#160;itself&#160;or&#160;the&#160;RAM&#160;Arbiter.&#160;&#160;<br/>The&#160;application must&#160;assure&#160;that&#160;the&#160;clocking&#160;of&#160;Host&#160;and&#160;CAN&#160;is&#160;<br/>appropriate.&#160;The&#160;CAN&#160;Driver&#160;does not&#160;care&#160;about&#160;these&#160;&#160;&#160;<br/>configuration&#160;aspects.&#160;&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
33&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=34></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-34_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-34_2.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
14&#160;<br/>
Data&#160;&#160;loss&#160;&#160;(payload)&#160;&#160;in&#160;&#160;case&#160;&#160;storage&#160;&#160;of&#160;&#160;a&#160;&#160;received&#160;&#160;frame&#160;&#160;has&#160;&#160;not&#160;&#160;2.9.6,&#160;<br/>completed&#160;until end&#160;of&#160;EOF&#160;ﬁeld&#160;is reached.&#160;<br/>
3.0.0,&#160;<br/>
The&#160;&#160;time&#160;&#160;needed&#160;&#160;for&#160;&#160;acceptance&#160;&#160;ﬁltering&#160;&#160;and&#160;&#160;storage&#160;&#160;of&#160;&#160;a&#160;&#160;received&#160;&#160;3.0.1,&#160;<br/>message&#160;depends on&#160;the&#160;<br/>
3.1.0,&#160;<br/>
&#160;<br/>
3.2.0&#160;<br/>
-&#160;&#160;Host&#160;clock&#160;frequency,&#160;&#160;<br/>
-&#160;&#160;the&#160;number&#160;of&#160;M_CANs connected&#160;to&#160;a&#160;single&#160;Message&#160;RAM,&#160;&#160;<br/>
-&#160;&#160;the&#160;Message&#160;RAM arbitration&#160;scheme,&#160;and&#160;&#160;<br/>
-&#160;&#160;the&#160;number&#160;of&#160;conﬁgured&#160;ﬁlter&#160;elements.&#160;<br/>
In&#160;case&#160;storage&#160;of&#160;a&#160;received&#160;message&#160;has&#160;not&#160;completed&#160;until&#160;end&#160;of&#160;<br/>the&#160;&#160;received&#160;&#160;frame&#160;&#160;then&#160;&#160;corrupted&#160;&#160;data&#160;&#160;can&#160;&#160;be&#160;&#160;contained&#160;&#160;in&#160;&#160;the&#160;<br/>Message&#160;RAM.&#160;&#160;<br/>Interrupt&#160;ﬂag&#160;IR.MRAF&#160;is not&#160;set.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/></b>If&#160;storage of&#160;messages&#160;cannot&#160;be&#160;completed&#160;the&#160;application is&#160;<br/>responsible&#160;for&#160;reducing&#160;the&#160;maximum&#160;number&#160;of&#160;configured&#160;filter&#160;<br/>
<b>&#160;&#160;</b>elements&#160;for&#160;the&#160;M_CANs&#160;attached&#160;to&#160;the&#160;Message&#160;RAM&#160;until&#160;the&#160;<br/>
calculated&#160;clock&#160;frequency&#160;is&#160;below&#160;the&#160;Host&#160;clock&#160;frequency&#160;used&#160;<br/>with the&#160;actual&#160;device.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
1-5&#160;<br/>
These&#160;&#160;errata&#160;&#160;are&#160;&#160;in&#160;&#160;the&#160;&#160;responsibility&#160;&#160;of&#160;&#160;the&#160;&#160;application&#160;&#160;and&#160;&#160;are&#160;&#160;not&#160;&#160;2.0.0,&#160;<br/>considered&#160;by&#160;the&#160;CAN Driver.&#160;<br/>
2.9.5,&#160;<br/>2.9.6,&#160;<br/>3.0.0,&#160;<br/>3.0.1&#160;<br/>
9&#160;<br/>
Frame&#160;transmission&#160;in&#160;DAR mode.&#160;<br/>
2.9.5,&#160;<br/>
Not&#160;considered&#160;by&#160;the&#160;CAN&#160;Driver,&#160;frame&#160;transmission&#160;in&#160;DAR&#160;mode&#160;is&#160;&#160;2.9.6,&#160;<br/>not&#160;supported.<br/>
3.0.0,&#160;<br/>
&#160;<br/>
3.0.1&#160;<br/>
15&#160;<br/>
Edge&#160;ﬁltering&#160;causes&#160;mis-synchronization&#160;when&#160;falling&#160;edge&#160;at&#160;Rx&#160;input&#160;&#160;3.1.0,&#160;<br/>pin&#160;coincides with&#160;end&#160;of&#160;integration&#160;phase.&#160;<br/>
3.2.0,&#160;<br/>
Not&#160;considered&#160;by&#160;the&#160;CAN Driver,&#160;Edge&#160;Filtering&#160;is not&#160;supported.<br/>
3.2.1&#160;<br/>
&#160;<br/>
16&#160;<br/>
Conﬁguration&#160;of&#160;NBTP.NTSEG2&#160;= ’0’&#160;not&#160;allowed.&#160;<br/>
3.1.0,&#160;<br/>
Not&#160;considered&#160;by&#160;the&#160;CAN&#160;Driver,&#160;the&#160;user&#160;is&#160;responsible&#160;to&#160;care&#160;about&#160;&#160;3.2.0,&#160;<br/>the&#160;according&#160;bit&#160;timing&#160;configuration.<br/>
3.2.1&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
34&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=35></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-35_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-35_2.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>7&#160;&#160;API&#160;Description&#160;</b><br/>
<b>7.1&#160;</b><br/>
<b>Interrupt&#160;Service&#160;Routines&#160;provided by&#160;CAN&#160;</b><br/>
Depend&#160;&#160;on&#160;&#160;the&#160;&#160;settings&#160;&#160;in&#160;&#160;Tools&#160;&#160;component&#160;&#160;Hw_Mpc5700Cpu,&#160;&#160;the&#160;&#160;interrupt&#160;&#160;routine&#160;&#160;is&#160;<br/>given&#160;by&#160;the&#160;driver or by&#160;Operating&#160;System.&#160;(Selection&#160;below,&#160;not&#160;MICROSAR403)&#160;<br/>
&#160;<br/>
Figure&#160;7-1&#160;&#160;Select&#160;OS&#160;Type&#160;<br/>
There&#160;&#160;is&#160;&#160;the&#160;&#160;possibility&#160;&#160;to&#160;&#160;choose&#160;&#160;OS&#160;&#160;Type.&#160;&#160;Please&#160;&#160;select&#160;&#160;“None”&#160;&#160;for&#160;&#160;using&#160;&#160;no&#160;&#160;OS,&#160;<br/>“Autosar”&#160;for&#160;AUTOSAR OS&#160;or “OSEK”&#160;for OSEK&#160;OS&#160;systems.&#160;<br/>
<b>7.1.1&#160;</b><br/>
<b>OSEK (OS)&#160;</b><br/>
This&#160;means&#160;to&#160;include&#160;osek.h.&#160;&#160;<br/>Switch:&#160;V_OSTYPE_OSEK&#160;<br/>
<b>7.1.2&#160;</b><br/>
<b>AutoSar (OS)&#160;</b><br/>
Os.h&#160;header&#160;file&#160;is&#160;used.&#160;<br/>Switch:&#160;V_OSTYPE_AUTOSAR&#160;<br/>
<b>7.1.3&#160;</b><br/>
<b>None&#160;(OS)&#160;</b><br/>
Choose&#160;“None”&#160;for OS&#160;Type,&#160;to&#160;include&#160;no&#160;Os&#160;header&#160;files&#160;and&#160;have&#160;no&#160;category&#160;2&#160;<br/>interrupt.&#160;<br/>Switch:&#160;V_OSTYPE_NONE&#160;<br/>
&#160;<br/>&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
35&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=36></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-36_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>7.1.4&#160;</b><br/>
<b>Type&#160;of&#160;Interrupt&#160;Function&#160;</b><br/>
-&#160;&#160;Category&#160;2&#160;(only&#160;for&#160;OSEK&#160;OS&#160;or&#160;AUTOSAR&#160;OS):&#160;&#160;<br/>
A&#160;macro&#160;“ISR(CanIsr_x)”&#160;will be&#160;used&#160;to&#160;declare ISR&#160;function&#160;call.&#160;The&#160;name&#160;given&#160;<br/>as parameter&#160;for interrupt&#160;naming&#160;(x&#160;= Physical CAN Channel number).&#160;For macro&#160;<br/>definition&#160;see&#160;OS&#160;specification.&#160;The&#160;OS&#160;has&#160;full&#160;control of&#160;the&#160;ISR.&#160;<br/>switch:&#160;C_ENABLE_OSEK_OS_INTCAT2&#160;<br/>
-&#160;&#160;Category&#160;1:&#160;<br/>
Using&#160;OS&#160;with&#160;category&#160;1&#160;interrupts&#160;need&#160;an&#160;Interface&#160;layer handling&#160;these&#160;<br/>interrupts&#160;in&#160;task&#160;context&#160;like&#160;defined&#160;in&#160;BSW00326&#160;(AUTOSAR_SRS_General).&#160;<br/>switch:&#160;C_DISABLE_OSEK_OS_INTCAT2&#160;<br/>
-&#160;&#160;Void-Void&#160;Interrupt&#160;Function:&#160;<br/>
Like&#160;in&#160;Category&#160;1&#160;the&#160;Interrupt&#160;is not&#160;handled&#160;by&#160;OS&#160;and&#160;the&#160;ISR is&#160;declared&#160;as&#160;<br/>void&#160;ISR(void) and&#160;has&#160;to&#160;be&#160;called&#160;by&#160;interrupt&#160;controller in&#160;case&#160;of&#160;an&#160;CAN&#160;<br/>interrupt.&#160;<br/>switch:&#160;C_ENABLE_ISRVOID&#160;<br/>
&#160;<br/>&#160;<br/>
<b>7.1.5&#160;</b><br/>
<b>CAN ISR&#160;API&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>CanIsr_&lt;x&gt;</b>(void);&#160;<br/>
<b>Parameter&#160;</b><br/>
---&#160;<br/>
---&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
---&#160;<br/>
---&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Handles&#160;interrupts&#160;of&#160;hardware channel&#160;&lt;x&gt;&#160;for Rx,&#160;Tx,&#160;BusOff&#160;events.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;Number&#160;of&#160;available functions&#160;depends&#160;on used MCU&#160;derivative.&#160;<br/>
&gt;&#160;&#160;The&#160;functions&#160;are not&#160;designated as&#160;interrupt functions.&#160;If&#160;it is&#160;necessary&#160;to&#160;save/restore all&#160;general&#160;<br/>
purpose registers&#160;and&#160;to use a&#160;different “return from&#160;interrupt”&#160;instruction&#160;the&#160;application&#160;code&#160;has&#160;to&#160;<br/>implement the compiler specific&#160;pragma (e.g.&#160;for&#160;Wind&#160;River™ DIAB™: #pragma interrupt&#160;CanIsr_x).&#160;<br/>
Table&#160;7-1&#160;&#160;&#160;MCAN&#160;CanIsr_&lt;x&gt;&#160;<br/>
<b>7.2&#160;</b><br/>
<b>Services&#160;provided by&#160;CAN&#160;</b><br/>
The&#160;CAN&#160;API&#160;consists&#160;of&#160;services,&#160;which&#160;are realized&#160;by&#160;function&#160;calls.&#160;<br/>
&#160;<br/>
<b>7.2.1&#160;</b><br/>
<b>Can_InitMemory&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Can_InitMemory&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
-&#160;&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
36&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=37></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-37_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-37_2.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Service&#160;initializes&#160;module global&#160;variables,&#160;which cannot&#160;be&#160;initialized&#160;in&#160;the&#160;startup code.&#160;&#160;<br/>Use this&#160;to re-run&#160;the system&#160;without performing&#160;a&#160;new&#160;start from&#160;power&#160;on.&#160;&#160;<br/>(E.g.:&#160;used&#160;to support an ongoing&#160;debug&#160;session&#160;without a&#160;complete&#160;re-initialization.)&#160;&#160;<br/>Must be&#160;followed&#160;by&#160;a&#160;call&#160;to “Can_Init()”.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;Application.&#160;<br/>
<b>Caution</b>&#160;<br/>None&#160;AUTOSAR&#160;API&#160;<br/>
&#160;<br/>
Call&#160;context&#160;<br/>
&gt;&#160;&#160;Should be&#160;called&#160;while&#160;power&#160;on&#160;initialization&#160;before „Can_Init()“&#160;on&#160;task&#160;level.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;Always&#160;<br/>
Table&#160;7-2&#160;&#160;&#160;Can_InitMemory&#160;<br/>
&#160;<br/>
<b>7.2.2&#160;</b><br/>
<b>Can_Init&#160;</b><br/>
<b>Prototype&#160;<br/>void&#160;Can_Init(&#160;const&#160;Can_ConfigType&#160;*Config )&#160;</b><br/>
<b>Parameter&#160;</b><br/>
Pointer&#160;to the structure&#160;including&#160;configuration&#160;data.&#160;<br/>
<b>Config&#160;</b><br/>
In&#160;case of&#160;Multiple ECU configuration&#160;feature is&#160;used,&#160;for each&#160;Identity&#160;one&#160;<br/>“Config” structure exists&#160;and has&#160;to be&#160;chosen&#160;here&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
<b>-&#160;</b><br/>
<b>-&#160;</b><br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;initializes&#160;global&#160;CAN driver variables&#160;during&#160;ECU start-up.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;<br/>&gt;&#160;&#160;</b>Has&#160;to&#160;be called during&#160;start-up&#160;before&#160;CAN communication.&#160;<br/>
<b>&gt;&#160;&#160;</b>Must be&#160;called&#160;before calling Can_InitController().&#160;<br/>
<b>&gt;&#160;&#160;</b>Mulitple&#160;ECU configuration&#160;pointer&#160;for “Config” does&#160;only&#160;work&#160;with none&#160;Post-Build variants&#160;<br/>
<b>&gt;&#160;&#160;</b>Can_InitMemory()&#160;has&#160;to&#160;be called&#160;before.&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
37&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=38></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-38_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>7.2.3&#160;</b><br/>
<b>Can_InitController&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Can_InitController&#160;</b>(uint8 Controller, Can_ControllerBaudrateConfigPtrType&#160;<br/>Config)&#160;<br/>
<b>Parameter&#160;</b><br/>
Controller [in]&#160;<br/>
Number&#160;of&#160;controller&#160;<br/>
Config [in]&#160;<br/>
Pointer&#160;to baud rate&#160;configuration structure&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Void&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Initialization&#160;of&#160;controller specific&#160;CAN hardware.&#160;&#160;<br/>The&#160;CAN driver registers&#160;and&#160;variables&#160;are&#160;initialized.&#160;&#160;<br/>The&#160;CAN controller is&#160;fully&#160;initialized&#160;and&#160;left back&#160;within the&#160;state “Stop Mode”, ready&#160;to&#160;change to&#160;<br/>“Running&#160;Mode”.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;CanInterface.&#160;<br/>Disabled&#160;Interrupts.&#160;&#160;<br/>Call&#160;context&#160;<br/>
&gt;&#160;&#160;Must be&#160;called&#160;during&#160;the&#160;startup sequence before CAN communication&#160;takes&#160;place but&#160;after calling&#160;<br/>
„Can_Init()“.&#160;&#160;<br/>
&gt;&#160;&#160;Must not be&#160;called&#160;while&#160;in&#160;„Sleep&#160;Mode“.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;MICROSAR401 only&#160;<br/>
Table&#160;7-3&#160;&#160;&#160;Can_InitController&#160;<br/>
&#160;<br/>
<b>7.2.4&#160;</b><br/>
<b>Can_InitController&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Can_InitController&#160;</b>(uint8 Controller, Can_ControllerConfigPtrType&#160;<br/>ControllerConfigPtr)&#160;<br/>
<b>Parameter&#160;</b><br/>
Controller [in]&#160;<br/>
Number&#160;of&#160;controller&#160;<br/>
Config [in]&#160;<br/>
Pointer&#160;to the configuration&#160;data&#160;structure.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Void&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Initialization&#160;of&#160;controller specific&#160;CAN hardware.&#160;&#160;<br/>The&#160;CAN driver registers&#160;and&#160;variables&#160;are&#160;initialized.&#160;&#160;<br/>The&#160;CAN controller is&#160;fully&#160;initialized&#160;and&#160;left back&#160;within the&#160;state “stop mode”, ready&#160;to&#160;change to “Running&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
38&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=39></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-39_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
Mode”.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;CanInterface.&#160;<br/>Disabled&#160;Interrupts&#160;<br/>Call&#160;context&#160;<br/>
&gt;&#160;&#160;Must be&#160;called&#160;during&#160;the&#160;startup sequence before CAN communication&#160;takes&#160;place but&#160;after calling&#160;<br/>
„Can_Init()“.&#160;&#160;<br/>
&gt;&#160;&#160;Must not be&#160;called&#160;while&#160;in&#160;„Sleep&#160;Mode“.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;MICROSAR3&#160;only&#160;<br/>
Table&#160;7-4&#160;&#160;&#160;Can_InitController&#160;<br/>
&#160;<br/>
<b>7.2.5&#160;</b><br/>
<b>Can_ChangeBaudrate&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>Can_ChangeBaudrate&#160;</b>(uint8 Controller, const uint16 Baudrate)&#160;<br/>
<b>Parameter&#160;</b><br/>
Controller [in]&#160;<br/>
Number&#160;of&#160;controller to be&#160;changed&#160;<br/>
Baudrate&#160;[in]&#160;<br/>
Baud rate&#160;to&#160;be&#160;set&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Std_ReturnType&#160;<br/>
&gt;&#160;&#160;E_NOT_OK&#160;Baud&#160;rate&#160;is&#160;not&#160;set&#160;&#160;<br/>
&gt;&#160;&#160;E_OK&#160;Baud&#160;rate&#160;is&#160;set&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;service shall&#160;change the&#160;baud rate&#160;and reinitialize the&#160;CAN&#160;controller.&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;Application.&#160;<br/>The&#160;CAN controller must be in&#160;“Stop Mode”.&#160;<br/>Call&#160;context&#160;<br/>
&gt;&#160;&#160;Must be&#160;called&#160;during&#160;the&#160;startup sequence before CAN communication&#160;takes&#160;place but&#160;after calling&#160;<br/>
„Can_Init()“.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;MICROSAR403 only&#160;&amp;&#160;if&#160;„CanChangeBaudrateApi“&#160;is&#160;activated&#160;or „CanSetBaudrateApi“&#160;is&#160;<br/>
de-activated.&#160;<br/>
Table&#160;7-5&#160;&#160;&#160;Can_ChangeBaudrate&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
39&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=40></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-40_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>7.2.6&#160;</b><br/>
<b>Can_CheckBaudrate&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>Can_CheckBaudrate&#160;</b>(uint8 Controller, const uint16 Baudrate)&#160;<br/>
<b>Parameter&#160;</b><br/>
Controller [in]&#160;<br/>
Number&#160;of&#160;controller to be&#160;checked&#160;<br/>
Baudrate&#160;[in]&#160;<br/>
Baud rate&#160;to&#160;be&#160;checked&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Std_ReturnType&#160;<br/>
&gt;&#160;&#160;E_NOT_OK&#160;Baud&#160;rate&#160;is&#160;not&#160;available&#160;&#160;<br/>
&gt;&#160;&#160;E_OK&#160;Baud&#160;rate&#160;is&#160;available&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;service shall&#160;check&#160;if&#160;the&#160;given&#160;baud rate&#160;is&#160;supported of&#160;the CAN controller.&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;Application.&#160;<br/>The&#160;CAN controller must be initialized.&#160;&#160;<br/>Call&#160;context&#160;<br/>
&gt;&#160;&#160;Must not be&#160;called&#160;nested.&#160;&#160;<br/>
&gt;&#160;&#160;Only&#160;available&#160;if&#160;„CanChangeBaudrateApi“&#160;is&#160;activated.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;MICROSAR403 only&#160;&amp;&#160;„CanChangeBaudrateApi“&#160;is&#160;activated&#160;<br/>
(„CAN_CHANGE_BAUDRATE_SUPPORT&#160;==&#160;STD_ON“)&#160;<br/>
Table&#160;7-6&#160;&#160;&#160;Can_CheckBaudrate&#160;<br/>
&#160;<br/>
<b>7.2.7&#160;</b><br/>
<b>Can_SetBaudrate&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>Can_SetBaudrate&#160;</b>(uint8 Controller, uint16 BaudRateConfigID)&#160;<br/>
<b>Parameter&#160;</b><br/>
Controller [in]&#160;<br/>
Number&#160;of&#160;controller to be&#160;set&#160;<br/>
BaudRateConfigID [in]&#160;<br/>
Identity&#160;of&#160;the&#160;configured baud rate&#160;(available as&#160;Symbolic&#160;Name)&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Std_ReturnType&#160;<br/>
&gt;&#160;&#160;E_NOT_OK&#160;Baud&#160;rate&#160;is&#160;not&#160;set&#160;&#160;<br/>
&gt;&#160;&#160;E_OK&#160;Baud&#160;rate&#160;is&#160;set&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;service shall&#160;change the&#160;baud rate&#160;and reinitialize the&#160;CAN&#160;controller.&#160;&#160;<br/>(Similar to “Can_ChangeBaudrate()”&#160;but&#160;used&#160;when&#160;identical&#160;baud&#160;rates&#160;are&#160;used&#160;for different CAN FD&#160;<br/>settings).&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;Application.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
40&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=41></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-41_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-41_2.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
Call&#160;context&#160;<br/>
&gt;&#160;&#160;Must not be&#160;called&#160;nested.&#160;&#160;<br/>
&gt;&#160;&#160;Only&#160;available&#160;if&#160;„CanSetBaudrateApi“&#160;is&#160;activated.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;MICROSAR403 only&#160;&amp;&#160;„CanSetBaudrateApi“&#160;is&#160;activated&#160;(„CAN_SET_BAUDRATE_API ==&#160;<br/>
STD_ON“)&#160;<br/>
Table&#160;7-7&#160;&#160;&#160;Can_SetBaudrate&#160;<br/>
&#160;<br/>
<b>7.2.8&#160;</b><br/>
<b>Can_InitStruct&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Can_InitStruct&#160;</b>(uint8 Controller, uint8 Index)&#160;<br/>
<b>Parameter&#160;</b><br/>
Controller [in]&#160;<br/>
Number&#160;of&#160;the controller to&#160;be&#160;changed&#160;<br/>
Index&#160;[in]&#160;<br/>
Index&#160;of&#160;the initialization structure to&#160;be&#160;used&#160;for baud&#160;rate&#160;and mask&#160;settings&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Set&#160;content of&#160;the&#160;initialization&#160;structure (before calling&#160;“Can_InitController()”).&#160;&#160;<br/>Service function&#160;to change&#160;the&#160;initialization structure setup&#160;left behind&#160;by&#160;the&#160;Generation&#160;Tool.&#160;&#160;<br/>The&#160;structure contains&#160;information&#160;about&#160;baud&#160;rate&#160;and&#160;filter settings.&#160;&#160;<br/>Subsequent&#160;“Can_InitController()”&#160;must be called&#160;to&#160;activate&#160;these settings.&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;Application.&#160;<br/>“Can_Init”&#160;was&#160;called.&#160;&#160;<br/>
<b>Caution</b>&#160;<br/>None&#160;AUTOSAR&#160;API&#160;<br/>
&#160;<br/>
Call&#160;context&#160;<br/>
&gt;&#160;&#160;Call&#160;this&#160;function&#160;between calling „Can_Init()“&#160;and&#160;„Can_InitController()“.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;MICROSAR3 only&#160;<br/>
Table&#160;7-8&#160;&#160;&#160;Can_InitStruct&#160;<br/>
&#160;<br/>
<b>7.2.9&#160;</b><br/>
<b>Can_GetVersionInfo&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Can_GetVersionInfo&#160;</b>(Can_VersionInfoPtrType VersionInfo)&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
41&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=42></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-42_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>Parameter&#160;</b><br/>
VersionInfo [out]&#160;<br/>
Pointer&#160;to&#160;where to store the version&#160;information&#160;of&#160;the&#160;CAN&#160;driver.&#160;&#160;<br/>typedef&#160;struct {&#160;&#160;<br/>uint16&#160;vendorID;&#160;&#160;<br/>uint16&#160;moduleID;&#160;&#160;<br/>MICROSAR3&#160;only: uint8 instanceID;&#160;&#160;<br/>uint8 sw_major_version; (MICROSAR3&#160;only:&#160;BCD&#160;coded)&#160;&#160;<br/>uint8 sw_minor_version; (MICROSAR3&#160;only:&#160;BCD&#160;coded)&#160;&#160;<br/>uint8 sw_patch_version; (MICROSAR3&#160;only:&#160;BCD&#160;coded)&#160;&#160;<br/>}&#160;Std_VersionInfoType;&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Get&#160;the&#160;version&#160;information&#160;of&#160;the CAN driver.&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;Application.&#160;<br/>Call&#160;context&#160;<br/>
&gt;&#160;&#160;Only&#160;available&#160;if&#160;„CanVersionInfoApi“&#160;is&#160;activated.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;„CanVersionInfoApi“&#160;is&#160;activated&#160;(„CAN_VERSION_INFO_API ==&#160;STD_ON“)&#160;<br/>
Table&#160;7-9&#160;&#160;&#160;Can_GetVersionInfo&#160;<br/>
&#160;<br/>
<b>7.2.10&#160;&#160;Can_GetStatus&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint8&#160;<b>Can_GetStatus&#160;</b>(uint8 Controller)&#160;<br/>
<b>Parameter&#160;</b><br/>
Controller [in]&#160;<br/>
Number&#160;of&#160;the controller requested for status&#160;information&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
uint8&#160;<br/>
&gt;&#160;&#160;CAN_STATUS_STOP&#160;(Bit coded&#160;status&#160;information)&#160;&#160;<br/>
&gt;&#160;&#160;CAN_STATUS_INIT&#160;&#160;<br/>
&gt;&#160;&#160;CAN_STATUS_INCONSISTENT, CAN_DEACTIVATE_CONTROLLER&#160;<br/>
(only&#160;with&#160;„CanRamCheck“&#160;active)&#160;<br/>
&gt;&#160;&#160;CAN_STATUS_WARNING&#160;&#160;<br/>
&gt;&#160;&#160;CAN_STATUS_PASSIVE&#160;&#160;<br/>
&gt;&#160;&#160;CAN_STATUS_BUSOFF&#160;&#160;<br/>
&gt;&#160;&#160;CAN_STATUS_SLEEP&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Delivers&#160;the status&#160;of&#160;the&#160;hardware.&#160;&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
42&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=43></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-43_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-43_2.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
Only&#160;one of&#160;the status&#160;bits&#160;CAN_STATUS_SLEEP/STOP/BUSOFF/PASSIVE/WARNING&#160;is&#160;set.&#160;&#160;<br/>The&#160;CAN_STATUS_INIT bit is&#160;always&#160;set if&#160;a&#160;controller&#160;is&#160;initialized.&#160;&#160;<br/>CAN_STATUS_SLEEP&#160;has&#160;the&#160;highest and&#160;CAN_STATUS_WARNING&#160;the lowest&#160;priority.&#160;&#160;<br/>CAN_STATUS_INCONSISTENT&#160;will&#160;be set&#160;if&#160;one&#160;Common&#160;CAN channel. Is&#160;not&#160;“Stop”&#160;or “Sleep”.&#160;&#160;<br/>CAN_DEACTIVATE_CONTROLLER&#160;is&#160;set&#160;in case&#160;the&#160;“CanRamCheck”&#160;detected&#160;an&#160;Issue.&#160;&#160;<br/>“status”&#160;can&#160;be&#160;analyzed using&#160;the&#160;provided&#160;API macros:&#160;&#160;<br/>CAN_HW_IS_OK(status): return “true”&#160;in case&#160;no&#160;warning,&#160;passive&#160;or bus&#160;off&#160;occurred.&#160;&#160;<br/>CAN_HW_IS_WARNING(status): return&#160;“true”&#160;in case&#160;of&#160;waning status.&#160;&#160;<br/>CAN_HW_IS_PASSIVE(status): return “true”&#160;in case&#160;of&#160;passive status.&#160;&#160;<br/>CAN_HW_IS_BUSOFF(status): return “true”&#160;in case&#160;of&#160;bus&#160;off&#160;status&#160;(may&#160;be already&#160;false in Notification).&#160;&#160;<br/>CAN_HW_IS_WAKEUP(status): return “true” in case&#160;of&#160;not in sleep&#160;mode.&#160;&#160;<br/>CAN_HW_IS_SLEEP(status): return “true”&#160;in case of&#160;sleep mode.&#160;&#160;<br/>CAN_HW_IS_STOP(status): return “true”&#160;in case&#160;of&#160;stop&#160;mode.&#160;&#160;<br/>CAN_HW_IS_START(status): return “true”&#160;in case of&#160;not&#160;in stop&#160;mode.&#160;&#160;<br/>CAN_HW_IS_INCONSISTENT(status): return “true”&#160;in&#160;case of&#160;an&#160;inconsistency&#160;between two common&#160;CAN&#160;<br/>channels.&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;network&#160;management or&#160;Application.&#160;<br/>
<b>Caution</b>&#160;<br/>None&#160;AUTOSAR&#160;API&#160;<br/>
&#160;<br/>
Call&#160;context&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;„CanGetStatus“&#160;is&#160;activated&#160;(„CAN_GET_STATUS&#160;==&#160;STD_ON“)&#160;<br/>
Table&#160;7-10&#160;&#160;&#160;Can_GetStatus&#160;<br/>
&#160;<br/>
<b>7.2.11&#160;&#160;Can_SetControllerMode&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Can_ReturnType&#160;<b>Can_SetControllerMode&#160;</b>(uint8 Controller, Can_StateTransitionType&#160;<br/>Transition)&#160;<br/>
<b>Parameter&#160;</b><br/>
Controller [in]&#160;<br/>
Number&#160;of&#160;the controller to&#160;be&#160;set&#160;<br/>
Transition&#160;[in]&#160;<br/>
Requested&#160;transition&#160;to&#160;destination mode&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Can_ReturnType&#160;<br/>
&gt;&#160;&#160;CAN_NOT_OK&#160;mode change&#160;unsuccessful&#160;&#160;<br/>
&gt;&#160;&#160;CAN_OK&#160;mode change&#160;successful&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Change&#160;the&#160;controller mode to the&#160;following&#160;possible&#160;destination&#160;values:&#160;&#160;<br/>CAN_T_START,&#160;&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
43&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=44></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-44_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-44_2.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
CAN_T_STOP,&#160;&#160;<br/>CAN_T_SLEEP,&#160;&#160;<br/>CAN_T_WAKEUP.&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;CanInterface.&#160;<br/>Interrupts&#160;locked&#160;by&#160;CanInterface&#160;<br/>Call&#160;context&#160;<br/>
&gt;&#160;&#160;Must not be&#160;called&#160;within CAN driver context&#160;like RX,&#160;TX&#160;or Bus&#160;Off&#160;callouts.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;Always&#160;<br/>
Table&#160;7-11&#160;&#160;&#160;Can_SetControllerMode&#160;<br/>
&#160;<br/>
<b>7.2.12&#160;&#160;Can_ResetBusOffStart&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Can_ResetBusOffStart&#160;</b>(uint8 Controller)&#160;<br/>
<b>Parameter&#160;</b><br/>
Controller [in]&#160;<br/>
Number&#160;of&#160;the controller&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;is&#160;a&#160;compatibility&#160;function&#160;(for a CANbedded protocol&#160;stack)&#160;used&#160;during the start of&#160;the&#160;&#160;<br/>Bus&#160;Off&#160;handling to remove the&#160;Bus&#160;Off&#160;state.&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;CAN driver.&#160;<br/>
<b>Caution</b>&#160;<br/>None&#160;AUTOSAR&#160;API&#160;<br/>
&#160;<br/>
Call&#160;context&#160;<br/>
&gt;&#160;&#160;Called&#160;while&#160;BusOff&#160;event handling (Polling&#160;or Interrupt&#160;context).&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;Always&#160;<br/>
Table&#160;7-12&#160;&#160;&#160;Can_ResetBusOffStart&#160;<br/>
&#160;<br/>
<b>7.2.13&#160;&#160;Can_ResetBusOffEnd&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Can_ResetBusOffEnd&#160;</b>(uint8 Controller)&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
44&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=45></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-45_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-45_2.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>Parameter&#160;</b><br/>
Controller [in]&#160;<br/>
Number&#160;of&#160;the controller&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;is&#160;a&#160;compatibility&#160;function&#160;(for a CANbedded protocol&#160;stack)&#160;used&#160;during the end&#160;of&#160;the&#160;&#160;<br/>Bus&#160;Off&#160;handling to remove the&#160;Bus&#160;Off&#160;state.&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;CAN driver.&#160;<br/>
<b>Caution</b>&#160;<br/>None&#160;AUTOSAR&#160;API&#160;<br/>
&#160;<br/>
Call&#160;context&#160;<br/>
&gt;&#160;&#160;Called&#160;inside&#160;„Can_SetControllerMode()“&#160;while&#160;Start&#160;transition.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;Always&#160;<br/>
Table&#160;7-13&#160;&#160;&#160;Can_ResetBusOffEnd&#160;<br/>
&#160;<br/>
<b>7.2.14&#160;&#160;Can_Write&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Can_ReturnType&#160;<b>Can_Write&#160;</b>(Can_HwHandleType Hth, Can_PduInfoPtrType PduInfo)&#160;<br/>
<b>Parameter&#160;</b><br/>
Hth [in]&#160;<br/>
Handle&#160;of&#160;the mailbox&#160;intended to send the message&#160;<br/>
PduInfo [in]&#160;<br/>
Information&#160;about the outgoing&#160;message (ID, dataLength,&#160;data)&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Can_ReturnType&#160;<br/>
&gt;&#160;&#160;CAN_NOT_OK&#160;transmit unsuccessful&#160;&#160;<br/>
&gt;&#160;&#160;CAN_OK&#160;transmit successful&#160;&#160;<br/>
&gt;&#160;&#160;CAN_BUSY&#160;transmit could&#160;not be accomplished&#160;due to&#160;controller&#160;is&#160;busy.&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Send a&#160;CAN message over&#160;CAN.&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;CanInterface.&#160;<br/>CAN Interrupt&#160;locked.&#160;&#160;<br/>Call&#160;context&#160;<br/>
&gt;&#160;&#160;Called&#160;by&#160;the&#160;CanInterface&#160;with&#160;at&#160;least&#160;disabled CAN interrupts.&#160;&#160;<br/>
&gt;&#160;&#160;(Due&#160;to&#160;data security&#160;reasons&#160;the CanInterface should&#160;accomplish this&#160;and&#160;thus&#160;it&#160;is&#160;not needed&#160; further&#160;<br/>
more in the&#160;CAN Driver.)&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
45&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=46></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-46_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-46_2.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;Always&#160;<br/>
Table&#160;7-14&#160;&#160;&#160;Can_Write&#160;<br/>
&#160;<br/>
<b>7.2.15&#160;&#160;Can_CancelTx&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Can_CancelTx&#160;</b>(Can_HwHandleType Hth, PduIdType PduId)&#160;<br/>
<b>Parameter&#160;</b><br/>
Hth [in]&#160;<br/>
Handle&#160;of&#160;the&#160;mailbox&#160;intended to be cancelled.&#160;<br/>
PduId [in]&#160;<br/>
Pdu&#160;identifier&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Cancel&#160;the&#160;TX&#160;message in the&#160;hardware&#160;buffer (if&#160;possible) or&#160;mark&#160;the&#160;message as&#160;not to&#160;be&#160;confirmed&#160;&#160;<br/>in case&#160;of&#160;the cancellation&#160;is&#160;unsuccessful.&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;CanTp or&#160;Application.&#160;<br/>
<b>Caution</b>&#160;<br/>None&#160;AUTOSAR&#160;API&#160;<br/>
&#160;<br/>
Call&#160;context&#160;<br/>
&gt;&#160;&#160;Called&#160;by&#160;CanTp or&#160;Application.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;Always&#160;<br/>
Table&#160;7-15&#160;&#160;&#160;Can_CancelTx&#160;<br/>
&#160;<br/>
<b>7.2.16&#160;&#160;Can_CheckWakeup&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>Can_CheckWakeup&#160;</b>(uint8 Controller)&#160;<br/>
<b>Parameter&#160;</b><br/>
Controller [in]&#160;<br/>
Number&#160;of&#160;the controller to&#160;be&#160;checked&#160;for&#160;Wake Up&#160;events.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Std_ReturnType&#160;<br/>
&gt;&#160;&#160;E_OK&#160;the&#160;given controller caused&#160;a&#160;Wake Up&#160;before.&#160;&#160;<br/>
&gt;&#160;&#160;E_NOT_OK&#160;the given&#160;controller caused&#160;no&#160;Wake Up&#160;before.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
46&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=47></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-47_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Service function&#160;to check&#160;the occurrence of&#160;Wake Up&#160;events&#160;for the&#160;given&#160;controller&#160;&#160;<br/>(used&#160;as&#160;Wake Up&#160;callback&#160;for higher&#160;layers).&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;CanInterface.&#160;<br/>Call&#160;context&#160;<br/>
&gt;&#160;&#160;Called&#160;while&#160;Wakeup validation&#160;phase.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;In&#160;AR4.x&#160;named&#160;„Can_CheckWakeup“, in&#160;AR3.x&#160;named&#160;„Can_Cbk_CheckWakeup“ (Name&#160;<br/>
mapped by&#160;define)&#160;<br/>
Table&#160;7-16&#160;&#160;&#160;Can_CheckWakeup&#160;<br/>
&#160;<br/>
<b>7.2.17&#160;&#160;Can_DisableControllerInterrupts&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Can_DisableControllerInterrupts&#160;</b>(uint8 Controller)&#160;<br/>
<b>Parameter&#160;</b><br/>
Controller [in]&#160;<br/>
Number&#160;of&#160;the CAN controller to disable&#160;interrupts&#160;for.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Service function&#160;to disable the&#160;CAN interrupt&#160;for the&#160;given&#160;controller (e.g. due to&#160;data&#160;security&#160;reasons).&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;SchM.&#160;<br/>Must not be&#160;called&#160;while&#160;CAN controller is&#160;in sleep&#160;mode.&#160;&#160;<br/>Call&#160;context&#160;<br/>
&gt;&#160;&#160;Called&#160;within&#160;Critical&#160;Area&#160;handling or&#160;out&#160;of&#160;Application code.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;Always&#160;<br/>
Table&#160;7-17&#160;&#160;&#160;Can_DisableControllerInterrupts&#160;<br/>
&#160;<br/>
<b>7.2.18&#160;&#160;Can_EnableControllerInterrupts&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Can_EnableControllerInterrupts&#160;</b>(uint8 Controller)&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
47&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=48></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-48_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>Parameter&#160;</b><br/>
Controller [in]&#160;<br/>
Number&#160;of&#160;the CAN controller to disable&#160;interrupts&#160;for.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Service function&#160;to (re-)enable&#160;the&#160;CAN&#160;interrupt for the given controller (e.g. due&#160;to&#160;data&#160;security&#160;reasons).&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;SchM.&#160;<br/>Must not be&#160;called&#160;while&#160;CAN controller is&#160;in sleep&#160;mode.&#160;&#160;<br/>Call&#160;context&#160;<br/>
&gt;&#160;&#160;Called&#160;within&#160;Critical&#160;Area&#160;handling or&#160;out&#160;of&#160;Application code.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;Always&#160;<br/>
Table&#160;7-18&#160;&#160;&#160;Can_EnableControllerInterrupts&#160;<br/>
&#160;<br/>
<b>7.2.19&#160;&#160;Can_MainFunction_Write&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Can_MainFunction_Write&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
-&#160;&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Service function&#160;to poll&#160;TX&#160;events&#160;(confirmation, cancellation) for all&#160;controllers&#160;and all&#160;TX&#160;mailboxes&#160;&#160;<br/>to&#160;accomplish the&#160;TX&#160;confirmation&#160;handling&#160;(like CanInterface notification).&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;SchM.&#160;<br/>Must not interrupt&#160;the&#160;call&#160;of&#160;“Can_Write()”.&#160;<br/>Call&#160;context&#160;<br/>
&gt;&#160;&#160;Called&#160;within&#160;cyclic&#160;TX&#160;task.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;Always&#160;<br/>
Table&#160;7-19&#160;&#160;&#160;Can_MainFunction_Write&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
48&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=49></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-49_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>7.2.20&#160;&#160;Can_MainFunction_Read&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Can_MainFunction_Read&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
-&#160;&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Service function&#160;to poll&#160;RX&#160;events&#160;for all&#160;controllers&#160;and all&#160;RX&#160;mailboxes&#160;to accomplish the&#160;&#160;<br/>RX&#160;indication&#160;handling&#160;(like CanInterface notification).&#160;&#160;<br/>Also&#160;used&#160;for a delayed read (from&#160;task&#160;level)&#160;of&#160;the RX&#160;Queue&#160;messages&#160;which&#160;were queued&#160;from&#160;<br/>interrupt&#160;context.&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;SchM.&#160;<br/>Call&#160;context&#160;<br/>
&gt;&#160;&#160;Called&#160;within&#160;cyclic&#160;RX&#160;task.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;Always&#160;<br/>
Table&#160;7-20&#160;&#160;&#160;Can_MainFunction_Read&#160;<br/>
&#160;<br/>
<b>7.2.21&#160;&#160;Can_MainFunction_BusOff&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Can_MainFunction_BusOff&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
-&#160;&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Polling&#160;of&#160;Bus&#160;Off&#160;events&#160;to&#160;accomplish the&#160;Bus&#160;Off&#160;handling. Service function to&#160;poll&#160;Bus&#160;Off&#160;events&#160;for all&#160;<br/>controllers&#160;to&#160;accomplish the Bus&#160;Off&#160;handling&#160;&#160;<br/>(like&#160;calling&#160;of&#160;“CanIf_ControllerBusOff()”&#160;in case of&#160;Bus&#160;Off&#160;occurrence).&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;SchM.&#160;<br/>Call&#160;context&#160;<br/>
&gt;&#160;&#160;Called&#160;within&#160;cyclic&#160;BusOff&#160;task.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
49&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=50></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-50_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
&gt;&#160;&#160;Availability:&#160;Always&#160;<br/>
Table&#160;7-21&#160;&#160;&#160;Can_MainFunction_BusOff&#160;<br/>
&#160;<br/>
<b>7.2.22&#160;&#160;Can_MainFunction_Wakeup&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Can_MainFunction_Wakeup&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
-&#160;&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Service function&#160;to poll&#160;Wake Up&#160;events&#160;for all&#160;controllers&#160;to&#160;accomplish the&#160;Wake&#160;Up handling&#160;&#160;<br/>(like calling&#160;of&#160;“CanIf_SetWakeupEvent()”&#160;in&#160;case of&#160;Wake Up&#160;occurrence).&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;SchM.&#160;<br/>Call&#160;context&#160;<br/>
&gt;&#160;&#160;Called&#160;within&#160;cyclic&#160;Wakeup task.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;Always&#160;<br/>
Table&#160;7-22&#160;&#160;&#160;Can_MainFunction_Wakeup&#160;<br/>
&#160;<br/>
<b>7.2.23&#160;&#160;Can_MainFunction_Mode&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Can_MainFunction_Mode&#160;</b>(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
-&#160;&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Service function&#160;to poll&#160;Mode&#160;changes&#160;over&#160;all&#160;controllers.&#160;&#160;<br/>(This&#160;is&#160;handled&#160;asynchronous&#160;if&#160;not&#160;accomplished&#160;in “Can_SetControllerMode()”).&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;SchM.&#160;<br/>Call&#160;context&#160;<br/>
&gt;&#160;&#160;Called&#160;within&#160;cyclic&#160;mode change task.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
50&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=51></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-51_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-51_2.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;MICROSAR4x&#160;only&#160;<br/>
Table&#160;7-23&#160;&#160;&#160;Can_MainFunction_Mode&#160;<br/>
&#160;<br/>
<b>7.2.24&#160;&#160;Appl_GenericPrecopy&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Can_ReturnType&#160;<b>Appl_GenericPrecopy&#160;</b>(uint8 Controller, Can_IdType ID, uint8&#160;<br/>DataLength, Can_DataPtrType DataPtr)&#160;<br/>
<b>Parameter&#160;</b><br/>
Controller [in]&#160;<br/>
Controller&#160;which&#160;received the&#160;message&#160;<br/>
ID [in]&#160;<br/>
ID of&#160;the received&#160;message.&#160;&#160;<br/>In&#160;case of&#160;extended&#160;or mixed&#160;ID systems&#160;the highest&#160;bit (bit 31) is&#160;set&#160;to&#160;mark&#160;<br/>an&#160;extended ID.&#160;&#160;<br/>FD-bit&#160;will&#160;not&#160;be set&#160;at all.&#160;<br/>
DataLength&#160;[in]&#160;<br/>
Data&#160;length&#160;of&#160;the received&#160;message.&#160;<br/>
pData&#160;[in]&#160;<br/>
Pointer&#160;to the data&#160;of&#160;the received&#160;message.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Can_ReturnType&#160;<br/>
&gt;&#160;&#160;CAN_OK&#160;if&#160;the indication of&#160;the message should&#160;be&#160;called&#160;afterwards&#160;<br/>
(notification&#160;to higher&#160;layer),&#160;&#160;<br/>
&gt;&#160;&#160;CAN_NOT_OK&#160;in case&#160;of&#160;stopping&#160;furthermore reception.&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Application callback&#160;function&#160;which informs&#160;about all&#160;incoming&#160;RX&#160;messages&#160;including the contained&#160;data.&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;CAN driver.&#160;<br/>“pData”&#160;is&#160;read&#160;only&#160;and&#160;must not&#160;be&#160;accessed&#160;for further&#160;write operations.&#160;&#160;<br/>
<b>Caution</b>&#160;<br/>None&#160;AUTOSAR&#160;API&#160;<br/>
&#160;<br/>
Call&#160;context&#160;<br/>
&gt;&#160;&#160;Called&#160;within&#160;CAN message&#160;reception&#160;context (Polling&#160;or Interrupt).&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;„CanGenericPrecopy“&#160;is&#160;activated&#160;(„CAN_GENERIC_PRECOPY&#160;==&#160;STD_ON“).&#160;<br/>
Table&#160;7-24&#160;&#160;&#160;Appl_GenericPrecopy&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
51&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=52></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-52_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-52_2.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>7.2.25&#160;&#160;Appl_GenericConfirmation&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Can_ReturnType&#160;<b>Appl_GenericConfirmation&#160;</b>(PduIdType PduId)&#160;<br/>
<b>Parameter&#160;</b><br/>
PduId [in]&#160;<br/>
Handle&#160;of&#160;the&#160;PDU specifying&#160;the message.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Can_ReturnType&#160;<br/>
&gt;&#160;&#160;CAN_OK&#160;Higher layer (CanInterface) confirmation&#160;will&#160;be&#160;called.&#160;&#160;<br/>
&gt;&#160;&#160;CAN_NOT_OK&#160;No further&#160;higher&#160;layer&#160;(CanInterface) confirmation&#160;will&#160;be&#160;<br/>
called.&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Application callback&#160;function&#160;which informs&#160;about&#160;TX&#160;messages&#160;being&#160;sent to&#160;the&#160;CAN&#160;bus.&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;CAN driver.&#160;<br/>“PduId” is&#160;read only&#160;and must not&#160;be&#160;accessed&#160;for further&#160;write operations.&#160;&#160;<br/>
<b>Caution</b>&#160;<br/>None&#160;AUTOSAR&#160;API&#160;<br/>
&#160;<br/>
Call&#160;context&#160;<br/>
&gt;&#160;&#160;Called&#160;within&#160;CAN message transmission&#160;finished context (Polling&#160;or&#160;Interrupt).&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;„CanGenericConfirmation“&#160;is&#160;activated („CAN_GENERIC_CONFIRMATION ==&#160;STD_ON“)&#160;&amp;&#160;<br/>
„CanIfTransmitBuffer“&#160;activated (in CanInterface).&#160;<br/>
Table&#160;7-25&#160;&#160;&#160;Appl_GenericConfirmation&#160;<br/>
&#160;<br/>
<b>7.2.26&#160;&#160;Appl_GenericConfirmation&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Can_ReturnType&#160;<b>Appl_GenericConfirmation&#160;</b>(uint8 Controller, Can_PduInfoPtrType&#160;<br/>DataPtr)&#160;<br/>
<b>Parameter&#160;</b><br/>
Controller [in]&#160;<br/>
Number&#160;of&#160;the causing&#160;controller.&#160;<br/>
DataPtr&#160;[in]&#160;<br/>
&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Can_ReturnType&#160;<br/>
CAN_OK&#160;Higher layer (CanInterface) confirmation&#160;will&#160;be&#160;called.&#160;<br/>CAN_NOT_OK&#160;No further&#160;higher&#160;layer&#160;(CanInterface) confirmation&#160;will&#160;be&#160;<br/>called.&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Application callback&#160;function&#160;which informs&#160;about&#160;TX&#160;messages&#160;being&#160;sent to&#160;the&#160;CAN&#160;bus.&#160;&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
52&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=53></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-53_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-53_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-53_3.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;CAN driver.&#160;<br/>If&#160;“Generic&#160;Confirmation”&#160;and&#160;“Transmit Buffer”&#160;(both&#160;set&#160;in CanInterface) are active,&#160;then the switch&#160;&#160;<br/>“Cancel&#160;Support&#160;Api”&#160;is&#160;also needed (also&#160;set&#160;in CanIf), otherwise a&#160;compiler error&#160;occurs.&#160;&#160;<br/>
<b>Caution</b>&#160;<br/>None&#160;AUTOSAR&#160;API&#160;<br/>
&#160;<br/>
Call&#160;context&#160;<br/>
&gt;&#160;&#160;Called&#160;within&#160;CAN message transmission&#160;finished context (Polling&#160;or Interrupt).&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;If&#160;&#34;CanGenericConfirmation&#34;&#160;(&#34;CAN_GENERIC_CONFIRMATION ==&#160;STD_ON&#34;)&#160;and&#160;<br/>
&#34;CanIfTransmitBuffer&#34;&#160;(in CanInterface)&#160;is&#160;activated.&#160;<br/>
Table&#160;7-26&#160;&#160;&#160;Appl_GenericConfirmation&#160;<br/>
&#160;<br/>
<b>7.2.27&#160;&#160;Appl_GenericPreTransmit&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Appl_GenericPreTransmit&#160;</b>(uint8 Controller, Can_PduInfoPtrType_var DataPtr)&#160;<br/>
<b>Parameter&#160;</b><br/>
Controller [in]&#160;<br/>
Number&#160;of&#160;the controller on&#160;which&#160;the&#160;hardware observation takes&#160;place.&#160;<br/>
DataPtr&#160;[in]&#160;<br/>
Pointer&#160;to a&#160;Can_PduType&#160;structure including&#160;ID, DataLength,&#160;Pdu&#160;and data&#160;<br/>pointer.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Application callback&#160;function allowing the modification&#160;of&#160;the data&#160;to be&#160;transmitted (e.g.:&#160;add CRC).&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;CAN&#160;driver.&#160;<br/>
<b>Caution</b>&#160;<br/>None&#160;AUTOSAR&#160;API&#160;<br/>
&#160;<br/>
Call&#160;context&#160;<br/>
&gt;&#160;&#160;Called&#160;within&#160;„Can_Write()“.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;„CanGenericPretransmit“&#160;is&#160;activated („CAN_GENERIC_PRETRANSMIT ==&#160;STD_ON“).&#160;<br/>
Table&#160;7-27&#160;&#160;&#160;Appl_GenericPreTransmit&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
53&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=54></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-54_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-54_2.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>7.2.28&#160;&#160;ApplCanTimerStart&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>ApplCanTimerStart&#160;</b>(CanChannelHandle Controller, uint8 source)&#160;<br/>
<b>Parameter&#160;</b><br/>
Controller [in]&#160;<br/>
Number&#160;of&#160;the controller on&#160;which&#160;the&#160;hardware observation takes&#160;place.&#160;&#160;<br/>(only&#160;if&#160;not&#160;using&#160;“Optimize&#160;for one&#160;controller”)&#160;<br/>
source [in]&#160;<br/>
Source for the&#160;hardware&#160;observation&#160;(see&#160;chapter Hardware Loop Check&#160;/&#160;<br/>Timeout&#160;Monitoring).&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Service function&#160;to start an&#160;observation&#160;timer (see&#160;chapter&#160;Hardware&#160;Loop Check&#160;/&#160;Timeout&#160;Monitoring).&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;CAN driver.&#160;<br/>
<b>Caution</b>&#160;<br/>None&#160;AUTOSAR&#160;API&#160;<br/>
&#160;<br/>
Call&#160;context&#160;<br/>
&gt;&#160;&#160;For context&#160;information&#160;please refer to chapter „Hardware Loop&#160;Check“.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;„CanHardwareCancelByAppl“&#160;is&#160;activated&#160;(„CAN_HW_LOOP_SUPPORT_API&#160;==&#160;<br/>
STD_ON“).&#160;<br/>
Table&#160;7-28&#160;&#160;&#160;ApplCanTimerStart&#160;<br/>
&#160;<br/>
<b>7.2.29&#160;&#160;ApplCanTimerLoop&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Can_ReturnType&#160;<b>ApplCanTimerLoop&#160;</b>(CanChannelHandle Controller, uint8 source)&#160;<br/>
<b>Parameter&#160;</b><br/>
Controller [in]&#160;<br/>
Number&#160;of&#160;the controller on&#160;which&#160;the&#160;hardware observation takes&#160;place.&#160;&#160;<br/>(only&#160;if&#160;not&#160;using&#160;“Optimize&#160;for one&#160;controller”)&#160;<br/>
source [in]&#160;<br/>
Source for the&#160;hardware&#160;observation&#160;(see&#160;chapter Hardware Loop Check&#160;/&#160;<br/>Timeout&#160;Monitoring).&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Can_ReturnType&#160;<br/>
&gt;&#160;&#160;CAN_NOT_OK&#160;when&#160;loop&#160;shall&#160;be&#160;broken&#160;(observation stops)&#160;&#160;<br/>
&gt;&#160;&#160;CAN_NOT_OK&#160;should only&#160;be&#160;used in case of&#160;a&#160;timeout&#160;occurs&#160;due&#160;to&#160;a&#160;<br/>
hardware&#160;issue.&#160;&#160;<br/>
&gt;&#160;&#160;After this&#160;an appropriate&#160;error handling&#160;is&#160;needed&#160;(see&#160;chapter&#160;Hardware&#160;<br/>
Loop&#160;Check&#160;/&#160;Timeout&#160;Monitoring).&#160;&#160;<br/>
&gt;&#160;&#160;CAN_OK&#160;when&#160;loop shall&#160;be continued&#160;(observation continues)&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
54&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=55></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-55_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-55_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-55_3.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Service function&#160;to check&#160;(against generated&#160;max&#160;loop value)&#160;whether&#160;a hardware loop&#160;shall&#160;be&#160;continued&#160;<br/>or broken.&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;CAN driver.&#160;<br/>
<b>Caution</b>&#160;<br/>None&#160;AUTOSAR&#160;API&#160;<br/>
&#160;<br/>
Call&#160;context&#160;<br/>
&gt;&#160;&#160;For context&#160;information&#160;please refer to chapter „Hardware Loop&#160;Check“.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;„CanHardwareCancelByAppl“&#160;is&#160;activated&#160;(„CAN_HW_LOOP_SUPPORT_API&#160;==&#160;<br/>
STD_ON“).&#160;<br/>
Table&#160;7-29&#160;&#160;&#160;ApplCanTimerLoop&#160;<br/>
&#160;<br/>
<b>7.2.30&#160;&#160;ApplCanTimerEnd&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>ApplCanTimerEnd&#160;</b>(CanChannelHandle Controller, uint8 source)&#160;<br/>
<b>Parameter&#160;</b><br/>
Controller [in]&#160;<br/>
Number&#160;of&#160;the controller on&#160;which&#160;the&#160;hardware observation takes&#160;place.&#160;&#160;<br/>(only&#160;if&#160;not&#160;using&#160;“Optimize&#160;for one&#160;controller”)&#160;<br/>
source [in]&#160;<br/>
Source for the&#160;hardware&#160;observation&#160;(see&#160;chapter&#160;Hardware Loop Check&#160;/&#160;<br/>Timeout&#160;Monitoring).&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Service function&#160;to to&#160;end&#160;an observation&#160;timer (see&#160;chapter&#160;Hardware&#160;Loop&#160;Check&#160;/&#160;Timeout&#160;Monitoring).&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;CAN driver.&#160;<br/>
<b>Caution</b>&#160;<br/>None&#160;AUTOSAR&#160;API&#160;<br/>
&#160;<br/>
Call&#160;context&#160;<br/>
&gt;&#160;&#160;For context&#160;information&#160;please refer to chapter „Hardware Loop&#160;Check“.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;„CanHardwareCancelByAppl“&#160;is&#160;activated&#160;(„CAN_HW_LOOP_SUPPORT_API&#160;==&#160;<br/>
STD_ON“).&#160;<br/>
Table&#160;7-30&#160;&#160;&#160;ApplCanTimerEnd&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
55&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=56></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-56_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-56_2.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>7.2.31&#160;&#160;ApplCanInterruptDisable&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>ApplCanInterruptDisable&#160;</b>(uint8 Controller)&#160;<br/>
<b>Parameter&#160;</b><br/>
Controller [in]&#160;<br/>
Number&#160;of&#160;the controller for the&#160;CAN&#160;interrupt&#160;lock.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Service function&#160;to support&#160;the&#160;disabling&#160;of&#160;CAN Interrupts&#160;by&#160;the application.&#160;&#160;<br/>E.g.:&#160;the&#160;CAN driver&#160;itself&#160;should not&#160;access&#160;the&#160;common Interrupt&#160;Controller due&#160;to application&#160;&#160;<br/>specific&#160;restrictions&#160;(like security&#160;level&#160;etc.). Or&#160;the application&#160;like to be&#160;informed&#160;because&#160;of&#160;&#160;<br/>an&#160;CAN interrupt&#160;lock.&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;CAN driver.&#160;<br/>
<b>Caution</b>&#160;<br/>None&#160;AUTOSAR&#160;API&#160;<br/>
&#160;<br/>
Call&#160;context&#160;<br/>
&gt;&#160;&#160;Called&#160;by&#160;the&#160;CAN Driver&#160;within&#160;„Can_DisableControllerInterrupts()“.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;&#34;CanInterruptLock&#34;&#160;is&#160;set&#160;to&#160;APPL or&#160;BOTH (&#34;CAN_INTLOCK&#160;==&#160;CAN_APPL&#34;&#160;or&#160;<br/>
&#34;CAN_INTLOCK&#160;==&#160;CAN_BOTH&#34;).&#160;&#160;<br/>
Table&#160;7-31&#160;&#160;&#160;ApplCanInterruptDisable&#160;<br/>
&#160;<br/>
<b>7.2.32&#160;&#160;ApplCanInterruptRestore&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>ApplCanInterruptRestore&#160;</b>(uint8 Controller)&#160;<br/>
<b>Parameter&#160;</b><br/>
Controller [in]&#160;<br/>
Number&#160;of&#160;the controller for the&#160;CAN&#160;interrupt&#160;unlock.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Service function&#160;to support&#160;the&#160;enabling&#160;of&#160;CAN Interrupts&#160;by&#160;the&#160;application.&#160;&#160;<br/>E.g.:&#160;the&#160;CAN driver&#160;itself&#160;should not&#160;access&#160;the&#160;common Interrupt&#160;Controller due&#160;to application&#160;&#160;<br/>specific&#160;restrictions&#160;(like security&#160;level&#160;etc.). Or&#160;the application&#160;like to be&#160;informed&#160;because&#160;of&#160;&#160;<br/>an&#160;CAN interrupt&#160;lock.&#160;&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
56&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=57></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-57_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-57_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-57_3.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;CAN driver.&#160;<br/>
<b>Caution</b>&#160;<br/>None&#160;AUTOSAR&#160;API&#160;<br/>
&#160;<br/>
Call&#160;context&#160;<br/>
&gt;&#160;&#160;Called&#160;by&#160;the&#160;CAN Driver&#160;within&#160;„Can_EnableControllerInterrupts()“.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;„CanInterruptLock“&#160;is&#160;set&#160;to&#160;APPL&#160;or&#160;BOTH („CAN_INTLOCK&#160;==&#160;CAN_APPL“&#160;or&#160;<br/>
„CAN_INTLOCK&#160;==&#160;CAN_BOTH“).&#160;<br/>
Table&#160;7-32&#160;&#160;&#160;ApplCanInterruptRestore&#160;<br/>
&#160;<br/>
<b>7.2.33&#160;&#160;Appl_CanOverrun&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Appl_CanOverrun&#160;</b>(uint8 Controller)&#160;<br/>
<b>Parameter&#160;</b><br/>
Controller [in]&#160;<br/>
Number&#160;of&#160;the controller for which&#160;the&#160;overrun&#160;was&#160;detected.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;will&#160;be&#160;called&#160;when&#160;an&#160;overrun&#160;is&#160;detected for a BasicCAN mailbox.&#160;&#160;<br/>Alternatively&#160;a&#160;DET&#160;call&#160;can&#160;be&#160;selected&#160;instead&#160;of&#160;(“CanOverrunNotification” is&#160;set&#160;to&#160;“DET”).&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;CAN driver.&#160;<br/>
<b>Caution</b>&#160;<br/>None&#160;AUTOSAR&#160;API&#160;<br/>
&#160;<br/>
Call&#160;context&#160;<br/>
&gt;&#160;&#160;Called&#160;within&#160;CAN message reception&#160;or error detection&#160;context (Polling or&#160;Interrupt).&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;„CanOverrunNotification“&#160;set&#160;to&#160;APPL&#160;(„CAN_OVERRUN_NOTIFICATION ==&#160;CAN_APPL“).&#160;<br/>
Table&#160;7-33&#160;&#160;&#160;Appl_CanOverrun&#160;<br/>
&#160;<br/>
<b>7.2.34&#160;&#160;Appl_CanFullCanOverrun&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Appl_CanFullCanOverrun&#160;</b>(uint8 Controller)&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
57&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=58></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-58_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-58_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-58_3.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>Parameter&#160;</b><br/>
Controller [in]&#160;<br/>
Number&#160;of&#160;the controller for&#160;which&#160;the&#160;overrun&#160;was&#160;detected.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;will&#160;be&#160;called&#160;when&#160;an&#160;overrun&#160;is&#160;detected for a FullCAN mailbox.&#160;&#160;<br/>Alternatively&#160;a&#160;DET&#160;call&#160;can&#160;be&#160;selected&#160;instead&#160;of&#160;(“CanOverrunNotification” is&#160;set&#160;to&#160;“DET”).&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;CAN driver.&#160;<br/>
<b>Caution</b>&#160;<br/>None&#160;AUTOSAR&#160;API&#160;<br/>
&#160;<br/>
Call&#160;context&#160;<br/>
&gt;&#160;&#160;Called&#160;within&#160;CAN message reception&#160;or error detection&#160;context (Polling or&#160;Interrupt).&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;„CanOverrunNotification“&#160;set&#160;to&#160;APPL&#160;(„CAN_OVERRUN_NOTIFICATION ==&#160;CAN_APPL“).&#160;<br/>
Table&#160;7-34&#160;&#160;&#160;Appl_CanFullCanOverrun&#160;<br/>
&#160;<br/>
<b>7.2.35&#160;&#160;Appl_CanCorruptMailbox&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Appl_CanCorruptMailbox&#160;</b>(uint8&#160;Controller, Can_HwHandleType hwObjHandle)&#160;<br/>
<b>Parameter&#160;</b><br/>
Controller [in]&#160;<br/>
Number&#160;of&#160;the controller for which&#160;the&#160;check&#160;failed.&#160;<br/>
hwObjHandle&#160;[in]&#160;<br/>
Hardware&#160;handle of&#160;the&#160;defect mailbox.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;will&#160;notify&#160;the&#160;application&#160;(during&#160;“Can_InitController()”)&#160;about&#160;a defect&#160;mailbox&#160;within&#160;the&#160;CAN&#160;<br/>cell.&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;CAN driver.&#160;<br/>
<b>Caution</b>&#160;<br/>None&#160;AUTOSAR&#160;API&#160;<br/>
&#160;<br/>
Call&#160;context&#160;<br/>
&gt;&#160;&#160;Call&#160;within controller initialization.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
58&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=59></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-59_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-59_2.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
&gt;&#160;&#160;Availability:&#160;„CanRamCheck“&#160;set&#160;to&#160;„MailboxNotifiation“&#160;(„CAN_RAM_CHECK&#160;==&#160;<br/>
CAN_NOTIFY_MAILBOX“).&#160;<br/>
Table&#160;7-35&#160;&#160;&#160;Appl_CanCorruptMailbox&#160;<br/>
&#160;<br/>
<b>7.2.36&#160;&#160;Appl_CanRamCheckFailed&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint8&#160;<b>Appl_CanRamCheckFailed&#160;</b>(uint8 Controller)&#160;<br/>
<b>Parameter&#160;</b><br/>
Controller [in]&#160;<br/>
Number&#160;of&#160;the controller for which&#160;the&#160;check&#160;failed&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
uint8&#160;<br/>
&gt;&#160;&#160;action&#160;With&#160;this&#160;„action“&#160;the&#160;application can&#160;decide&#160;how&#160;to proceed&#160;with the&#160;<br/>
initialization.&#160;&#160;<br/>
&gt;&#160;&#160;CAN_DEACTIVATE_CONTROLLER&#160;–&#160;deactivate&#160;the&#160;controller&#160;&#160;<br/>
&gt;&#160;&#160;CAN_ACTIVATE_CONTROLLER&#160;–&#160;activate&#160;the&#160;controller&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;will&#160;notify&#160;the&#160;application&#160;(during&#160;“Can_InitController()”)&#160;about&#160;a defect CAN controller&#160;&#160;<br/>due&#160;to a&#160;previous&#160;failed mailbox&#160;check.&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;CAN driver.&#160;<br/>
<b>Caution</b>&#160;<br/>None&#160;AUTOSAR&#160;API&#160;<br/>
&#160;<br/>
Call&#160;context&#160;<br/>
&gt;&#160;&#160;Call&#160;within controller initialization.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;„CanRamCheck“&#160;set&#160;to&#160;„Active“&#160;or „MailboxNotifiation“&#160;(„CAN_RAM_CHECK&#160;!=&#160;<br/>
CAN_NONE“).&#160;<br/>
Table&#160;7-36&#160;&#160;&#160;Appl_CanRamCheckFailed&#160;<br/>
&#160;<br/>
<b>7.2.37&#160;&#160;ApplCanInitPostProcessing&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>ApplCanInitPostProcessing&#160;</b>(CAN_HW_CHANNEL_CANTYPE_ONLY)&#160;<br/>
<b>Parameter&#160;</b><br/>
Controller [in]&#160;<br/>
Number&#160;of&#160;the controller for which&#160;the&#160;check&#160;failed&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
59&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=60></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-60_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-60_2.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Service function&#160;to overwrite the&#160;previously&#160;set&#160;initialization&#160;values&#160;for the&#160;bit&#160;timing, taken&#160;from&#160;the&#160;<br/>generated&#160;data,&#160;&#160;<br/>with&#160;customer specific&#160;values.&#160;&#160;<br/>For&#160;your convenience&#160;the&#160;following&#160;access&#160;function&#160;is&#160;supported:&#160;&#160;<br/>
-&#160;CanBtpReg(controller):&#160;-&#160;the&#160;BTP&#160;register of&#160;the specified&#160;CAN channel&#160;can be&#160;set&#160;according&#160;to the&#160;<br/>register definition&#160;&#160;<br/>as&#160;specified&#160;in the&#160;Hardware Manufacturer&#160;Document ((see&#160;ch.&#160;2).&#160;&#160;<br/>Example:&#160;CanBtpReg(Controller)&#160;=&#160;0x00070F70u;&#160;&#160;<br/>or CanBtpReg(0)&#160;=&#160;0x00070F70u;&#160;(when using&#160;‘Optimize for one controller’).&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Called&#160;by&#160;CAN driver.&#160;<br/>None&#160;<br/>
<b>Caution</b>&#160;<br/>None&#160;AUTOSAR&#160;API&#160;&#160;<br/>
&#160;<br/>
It is&#160;the responsibility&#160;of&#160;the&#160;application to&#160;assure that&#160;the&#160;register&#160;values&#160;are&#160;consistent&#160;with&#160;the&#160;<br/>release&#160;of&#160;the&#160;underlying derivative.&#160;<br/>
Call&#160;context&#160;<br/>
&gt;&#160;&#160;Called&#160;within&#160;controller initialization.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Non-Reentrant&#160;<br/>
&gt;&#160;&#160;Availability:&#160;Only&#160;available&#160;if&#160;‚C_ENABLE_INIT_POST_PROCESS‘&#160;is&#160;defined&#160;via&#160;a user-config file.&#160;<br/>
Table&#160;7-37&#160;&#160;&#160;ApplCanInitPostProcessing&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>7.3&#160;</b><br/>
<b>Services&#160;used&#160;by&#160;CAN&#160;</b><br/>
In&#160;the&#160;following&#160;table&#160;services&#160;provided&#160;by&#160;other&#160;components,&#160;which&#160;are&#160;used&#160;by&#160;the&#160;CAN&#160;<br/>are&#160;&#160;listed.&#160;&#160;For&#160;details&#160;about&#160;&#160;prototype&#160;and&#160;functionality&#160;refer&#160;to&#160;the&#160;documentation&#160;of&#160;&#160;the&#160;<br/>providing&#160;component.&#160;<br/>
&#160;<br/>
<b>Component&#160;</b><br/>
<b>API&#160;</b><br/>
DET&#160;<br/>
<b>Det_ReportError</b>&#160;<br/>(see<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#20">&#160;“Development Error Reporting”)</a>&#160;<br/>
DEM&#160;<br/>
<b>Dem_ReportErrorStatus</b>&#160;<br/>(see<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#21">&#160;“Production&#160;Code&#160;Error Reporting”)</a>&#160;<br/>
EcuM&#160;<br/>
<b>EcuM_CheckWakeup</b>&#160;<br/>This&#160;function&#160;is&#160;called&#160;when&#160;Wakeup over CAN&#160;bus&#160;occur.&#160;<br/><b>EcuM_GeneratorCompatibilityError</b>&#160;<br/>This&#160;function&#160;is&#160;called during the&#160;initialization,&#160;of&#160;the CAN&#160;Driver&#160;if&#160;<br/>the Generator&#160;Version&#160;Check&#160;or the&#160;CRC&#160;Check&#160;fails. (see&#160;[5])&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
60&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=61></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-61_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>Component&#160;</b><br/>
<b>API&#160;</b><br/>
Application (optional&#160;non&#160;AUTOSAR)&#160;&#160;<b>Appl_GenericPrecopy&#160;</b><br/>
<b>Appl_GenericConfirmation&#160;<br/>Appl_GenericPreTransmit&#160;<br/>ApplCanTimerStart/Loop/End&#160;<br/>Appl_CanRamCheckFailed,&#160;Appl_CanCorruptMailbox&#160;<br/>ApplCanInterruptDisable/Restore&#160;<br/>Appl_CanOverrun,&#160;<br/></b>For detailed&#160;description&#160;see Chapter<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#36">&#160;7.2&#160;</a><br/>
CANIF&#160;<br/>
<b>CanIf_CancelTxNotification</b>&#160;(non&#160;AUTOSAR)&#160;<br/>A&#160;special&#160;Software cancellation&#160;callback&#160;only&#160;used&#160;within&#160;Vector&#160;<br/>CAN driver CAN Interface bundle.&#160;<br/><b>CanIf_TxConfirmation</b>&#160;<br/>Notification&#160;for a&#160;successful&#160;transmission. (see&#160;[4])&#160;<br/><b>CanIf_CancelTxConfirmation</b>&#160;<br/>Notification&#160;for a successful&#160;Tx&#160;cancellation.&#160;(see&#160;[4])&#160;<br/><b>CanIf_RxIndication</b>&#160;<br/>Notification&#160;for a message reception. (see [4])&#160;<br/><b>CanIf_ControllerBusOff</b>&#160;<br/>Bus&#160;Off&#160;notification&#160;function. (see&#160;[4])&#160;<br/><b>CanIf_ControllerModeIndication&#160;<br/></b>MICROSAR4x&#160;only:&#160;Notification for mode sucessfully&#160;changed.&#160;<br/>
Os&#160;(MICROSAR4x)&#160;<br/>
<b>OS_TICKS2MS_&lt;counterShortName&gt;()</b>&#160;<br/>Os&#160;macro to get&#160;timebased&#160;ticks&#160;from&#160;counter.&#160;<br/><b>GetElapsedValue&#160;<br/></b>Get&#160;elapsed&#160;tick&#160;count.&#160;<br/><b>GetCounterValue&#160;<br/></b>Get&#160;tick&#160;count&#160;start.<b>&#160;</b><br/>
Table&#160;7-38&#160;&#160;&#160;Services&#160;used&#160;by&#160;the&#160;CAN&#160;<br/>
&#160;<br/>&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
61&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=62></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-62_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>8&#160;&#160;Configuration&#160;</b><br/>
For&#160;CAN&#160;driver the&#160;attributes can&#160;be&#160;configured&#160;with&#160;configuration&#160;Tool “CFG5”&#160;<br/>The&#160;CAN&#160;driver supports pre-compile,&#160;link-time&#160;and&#160;post-build&#160;configuration.&#160;<br/>For&#160;&#160;post-build&#160;&#160;systems,&#160;&#160;re-flashing&#160;&#160;the&#160;&#160;generated&#160;&#160;data&#160;&#160;can&#160;&#160;change&#160;&#160;some&#160;&#160;configuration&#160;<br/>settings.&#160;<br/>For&#160;post-build&#160;and&#160;link-time&#160;configurations&#160;pre-compile&#160;settings&#160;are&#160;configured&#160;at&#160;compile&#160;<br/>time&#160;and&#160;therefore&#160;unchangeable&#160;at&#160;link or&#160;post-build&#160;time.&#160;<br/>The&#160;&#160;following&#160;&#160;parameters&#160;&#160;are&#160;&#160;set&#160;&#160;by&#160;&#160;CFG5&#160;&#160;configuration&#160;&#160;(see&#160;&#160;Chapter&#160;&#160;“DaVinci&#160;<br/>Configurator”).&#160;<br/>
<b>8.1&#160;</b><br/>
<b>Pre-Compile&#160;Parameters&#160;</b><br/>
Some&#160;settings have&#160;to&#160;be&#160;available&#160;before compilation:&#160;<br/>
<b>&gt;&#160;&#160;</b>MCAN&#160;Core&#160;Release&#160;<br/>
#define&#160;C_ENABLE_MPC5700_MCAN_MAJOR_CREL&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;1/2/3/…&#160;<br/>
<b>&gt;&#160;&#160;</b>MCAN&#160;Step&#160;of&#160;Core&#160;Release&#160;<br/>
#define&#160;C_ENABLE_MPC5700_MCAN_MAJOR_CREL_STEP&#160; &#160;&#160;0/1/2/3/…&#160;<br/>
<b>&gt;&#160;&#160;</b>MCAN&#160;Sub&#160;Step&#160;of&#160;Core Release&#160;<br/>
#define&#160;C_ENABLE_MPC5700_MCAN_MAJOR_CREL_SSTEP&#160;&#160;0/1/2/3/…&#160;<br/>
<b>&gt;&#160;&#160;</b>Non&#160;ISO&#160;Operation&#160;<br/>
#define&#160;CAN_FD_NISO&#160;&#160;&#160;&#160;&#160;0&#160;=&#160;ISO&#160;11898-1:2015&#160;/&#160;1&#160;=&#160;Bosch CAN FD&#160;Spec.&#160;V1.0&#160;<br/>
<b>&gt;&#160;&#160;</b>&gt;&#160;&#160;Version&#160;API (Can_GetVersionInfo()&#160;activation)&#160;<br/>
#define&#160;CAN_VERSION_INFO_API &#160;&#160;STD_ON/STD_OFF&#160;<br/>
<b>&gt;&#160;&#160;</b>DET&#160;(development error detection)&#160;<br/>
#define&#160;CAN_DEV_ERROR_DETECT&#160; &#160;STD_ON/STD_OFF&#160;<br/>
<b>&gt;&#160;&#160;</b>Hardware&#160;Loop Check&#160;(timeout&#160;monitoring)&#160;<br/>
#define&#160;CAN_HARDWARE_CANCELLATION &#160; STD_ON/STD_OFF&#160;<br/>
<b>&gt;&#160;&#160;</b>Polling&#160;modes:&#160;Tx&#160;confirmation, Reception,&#160;Wakeup,&#160;BusOff&#160;<br/>
#define&#160;CAN_TX_PROCESSING&#160; &#160;&#160;&#160; &#160;CAN_INTERRUPT/ CAN_POLLING&#160;<br/>#define&#160;CAN_RX_PROCESSING&#160; &#160;&#160;&#160; &#160;CAN_INTERRUPT/ CAN_POLLING&#160;<br/>#define&#160;CAN_BUSOFF_PROCESSING&#160; &#160;CAN_INTERRUPT/ CAN_POLLING&#160;<br/>#define&#160;CAN_WAKEUP_PROCESSING&#160;&#160;&#160;CAN_INTERRUPT/ CAN_POLLING&#160;<br/>#define&#160;CAN_INDIVIDUAL_PROCESSING&#160;&#160;&#160;STD_ON/STD_OFF&#160;<br/>
<b>&gt;&#160;&#160;</b>Multiplexed&#160;Tx&#160;(external&#160;PIA&#160;–&#160;by&#160;usage&#160;of&#160;multiple&#160;Tx&#160;mailboxes)&#160;<br/>
#define&#160;CAN_MULTIPLEXED_TRANSMISSION&#160; &#160;STD_ON/STD_OFF&#160;<br/>
<b>&gt;&#160;&#160;</b>Configuration Variant&#160;(define the&#160;configuration type&#160;when&#160;using&#160;post build&#160;variant)&#160;<br/>
#define&#160;CAN_ENABLE_SELECTABLE_PB&#160;<br/>
<b>&gt;&#160;&#160;</b>Use Generic&#160;Precopy&#160;Function&#160;(None&#160;AUTOSAR feature)&#160;<br/>
#define&#160;CAN_GENERIC_PRECOPY&#160; &#160;STD_ON/STD_OFF&#160;<br/>
<b>&gt;&#160;&#160;</b>Use Generic&#160;Confirmation&#160;Function (None&#160;AUTOSAR&#160;feature)&#160;<br/>
#define&#160;CAN_GENERIC_CONFIRMATION &#160; STD_ON/STD_OFF&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
62&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=63></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-63_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>&gt;&#160;&#160;</b>Use Rx&#160;Queue Function&#160;(None&#160;AUTOSAR feature)&#160;<br/>
#define&#160;CAN_RX_QUEUE&#160;&#160; STD_ON/STD_OFF&#160;<br/>
<b>&gt;&#160;&#160;</b>Used&#160;ID type (standard/extended or&#160;mixed&#160;ID format)&#160;<br/>
#define&#160;CAN_EXTENDED_ID &#160; STD_ON/STD_OFF&#160;<br/>#define&#160;CAN_MIXED_ID &#160; &#160;&#160; STD_ON/STD_OFF&#160;<br/>
<b>&gt;&#160;&#160;</b>Usage of&#160;Rx&#160;and&#160;Tx&#160;Full&#160;and BasicCAN&#160;objects&#160;(deactivate only&#160;when&#160;not&#160;using&#160;and&#160;to&#160;save ROM&#160;and&#160;<br/>
runtime consumption)&#160;<br/>#define&#160;CAN_RX_FULLCAN_OBJECTS&#160;&#160;&#160;&#160;STD_ON/STD_OFF&#160;<br/>#define&#160;CAN_TX_FULLCAN_OBJECTS&#160;&#160;&#160;&#160;&#160;STD_ON/STD_OFF&#160;<br/>#define&#160;CAN_RX_BASICCAN_OBJECTS&#160;&#160;&#160;STD_ON/STD_OFF&#160;<br/>
<b>&gt;&#160;&#160;</b>Use Multiple BasicCAN&#160;objects&#160;<br/>
#define&#160;CAN_MULTIPLE_BASICCAN&#160;&#160; &#160;STD_ON/STD_OFF&#160;<br/>
<b>&gt;&#160;&#160;</b>Optimizations&#160;<br/>
#define&#160;CAN_ONE_CONTROLLER_OPTIMIZATION&#160;&#160;&#160;&#160;STD_ON/STD_OFF&#160;<br/>#define&#160;CAN_DYNAMIC_FULLCAN_ID &#160; &#160;&#160;STD_ON/STD_OFF&#160;<br/>
<b>&gt;&#160;&#160;</b>Usage of&#160;nested&#160;CAN&#160;interrupts&#160;<br/>
#define&#160;CAN_NESTED_INTERRUPTS&#160; &#160; &#160;STD_ON/STD_OFF&#160;<br/>
<b>&gt;&#160;&#160;</b>Use Multiple ECU configurations&#160;<br/>
#define&#160;CAN_MULTI_ECU_CONFIG&#160; &#160; &#160;STD_ON/STD_OFF&#160;<br/>
<b>&gt;&#160;&#160;</b>Use RAM Check&#160;(verify&#160;mailbox&#160;buffers)&#160;<br/>
#define&#160;CAN_RAM_CHECK&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;CAN_NONE/CAN_NOTIFY_ISSUE/CAN_NOTIFY_MAILBOX&#160;<br/>
<b>&gt;&#160;&#160;</b>Use Overrun&#160;detection&#160;<br/>
#define&#160;CAN_OVERRUN_NOTIFICATION &#160; &#160;&#160;&#160;&#160;CAN_NONE/&#160;CAN_DET/&#160;CAN_APPL&#160;<br/>
<b>&gt;&#160;&#160;</b>Select MicroSar&#160;version&#160;<br/>
#define&#160;CAN_MICROSAR_VERSION &#160;&#160; &#160;&#160;&#160;&#160;&#160;CAN_MSR30/&#160;CAN_MSR40/&#160;CAN_MSR403&#160;<br/>
<b>&gt;&#160;&#160;</b>Tx&#160;Cancellation&#160;of&#160;Identical&#160;IDs&#160;<br/>
#define&#160;CAN_IDENTICAL_ID_CANCELLATION&#160; &#160; &#160;STD_ON/STD_OFF&#160;<br/>
<b>8.2&#160;</b><br/>
<b>Link-Time&#160;Parameters&#160;</b><br/>
The&#160;library&#160;version&#160;of&#160;the&#160;CAN&#160;driver uses the&#160;following&#160;generated&#160;settings:&#160;<br/>
<b>&gt;&#160;&#160;</b>Maximum&#160;amount&#160;of&#160;used&#160;controllers and&#160;Tx&#160;mailboxes (has&#160;to&#160;be&#160;set&#160;for&#160;post-build&#160;<br/>
variants&#160;at&#160;link-time)&#160;<br/>
<b>&gt;&#160;&#160;</b>Rx&#160;Queue&#160;size&#160;<br/>
<b>&gt;&#160;&#160;</b>Controller mapping&#160;(mapping&#160;of&#160;logical channel to&#160;hardware node).&#160;<br/>
<b>&gt;&#160;&#160;</b>CAN hardware base&#160;address.&#160;<br/>
<b>8.3&#160;</b><br/>
<b>Post-Build&#160;Parameters&#160;</b><br/>
Following&#160;settings are post-build&#160;data&#160;that&#160;can&#160;be&#160;changed&#160;for re-flashing:&#160;<br/>
<b>&gt;&#160;&#160;</b>Amount&#160;and&#160;usage&#160;of&#160;FullCAN Rx&#160;and&#160;Tx&#160;mailboxes&#160;<br/>
<b>&gt;&#160;&#160;</b>Used&#160;database&#160;(message&#160;information&#160;like&#160;ID,&#160;DLC)&#160;<br/>
<b>&gt;&#160;&#160;</b>Filters for BasicCAN Rx&#160;mailbox&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
63&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=64></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-64_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>&gt;&#160;&#160;</b>Baud-rate&#160;settings&#160;<br/>
<b>&gt;&#160;&#160;</b>Module&#160;Start&#160;Address&#160;(only&#160;for&#160;post-build&#160;systems:&#160;The&#160;memory&#160;location&#160;for re-<br/>
flashed&#160;data&#160;has to&#160;be&#160;defined)&#160;<br/>
<b>&gt;&#160;&#160;</b>Configuration&#160;ID (only&#160;for post-build&#160;systems:&#160;This&#160;number is&#160;used&#160;to&#160;identify&#160;the&#160;<br/>
post-build&#160;data&#160;<br/>
<b>&gt;&#160;&#160;</b>CAN hardware Fifo&#160;depth&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>CAN hardware clock and&#160;bit&#160;timing&#160;settings&#160;<br/>
<b>8.4&#160;</b><br/>
<b>Configuration&#160;with da&#160;DaVinci&#160;Configurator&#160;</b><br/>
See&#160;Online&#160;help&#160;within&#160;DaVinci Configurator&#160;and&#160;BSWMD&#160;file&#160;for parameter settings.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
64&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=65></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-65_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>9&#160;&#160;AUTOSAR&#160;Standard&#160;Compliance&#160;</b><br/>
<b>9.1&#160;</b><br/>
<b>Limitations&#160;/&#160;Restrictions&#160;</b><br/>
<b>Category&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>Version&#160;</b><br/>
Functional&#160;&#160;No multiple&#160;AUTOSAR&#160;CAN&#160;driver&#160;allowed&#160;in the&#160;system&#160;<br/>
3.0.6&#160;&#160;<br/>
Functional&#160;&#160;No support&#160;for&#160;L-PDU&#160;callout&#160;(AUTOSAR&#160;3.2.1),&#160;but&#160;support&#160;‘Generic&#160;&#160;3.2.1&#160;<br/>
Precopy’&#160;instead&#160;<br/>
Functional&#160;&#160;No support&#160;for&#160;multiple&#160;read and write period&#160;configuration&#160;<br/>
3.2.1&#160;<br/>
API&#160;<br/>
“Symbolic&#160;Name&#160;Values”&#160;may&#160;change&#160;their&#160;values&#160;after&#160;precompile&#160;<br/>
3.0.6&#160;<br/>
phase&#160;so do&#160;not&#160;use&#160;it&#160;for&#160;Link&#160;Time or&#160;Post&#160;Build&#160;variants.&#160;<br/>It’s&#160;recommended&#160;that&#160;higher&#160;layer&#160;generator&#160;use&#160;Values&#160;(ObjectIDs)&#160;<br/>from&#160;EcuC&#160;file.&#160;Vector&#160;CAN&#160;Interface&#160;does&#160;so.&#160;<br/>
&#160;<br/>
For&#160;the&#160;acceptance&#160;filtering&#160;a&#160;maximum&#160;of&#160;64&#160;filters&#160;per&#160;CAN&#160;channel&#160;&#160;&#160;<br/>
is&#160;supported&#160;in case of&#160;GENy&#160;is&#160;used as&#160;Generation&#160;Tool.&#160;<br/>
&#160;<br/>
<b>9.2&#160;</b><br/>
<b>Hardware&#160;Limitations&#160;&#160;</b><br/>
<b>8.2.1</b>&#160;&#160;<b>Tx&#160;side</b>&#160;&#160;<br/>
MCAN&#160;Tx&#160;Event&#160;FIFO&#160;is not&#160;supported.&#160;&#160;<br/>
MCAN&#160;Tx&#160;Queue&#160;is not&#160;supported.&#160;&#160;<br/>
All&#160;available&#160;buffers per CAN (32) are&#160;configured&#160;as&#160;dedicated&#160;Tx&#160;buffers.&#160;&#160;<br/>
<b>8.2.2</b>&#160;&#160;<b>Rx&#160;side</b>&#160;&#160;<br/>
SREQ00014271&#160;“message&#160;reception&#160;shall&#160;use&#160;overwrite&#160;mode” is not&#160;fulfilled&#160;for FullCAN&#160;&#160;<br/>
messages&#160;due&#160;to&#160;hardware behaviour.&#160;&#160;<br/>
<b>8.2.3</b>&#160;&#160;<b>Used resources</b>&#160;&#160;<br/>
Please&#160;&#160;note&#160;&#160;that&#160;&#160;the&#160;&#160;theoretical &#160;possible&#160;&#160;maximum&#160;&#160;configuration&#160;&#160;for&#160;&#160;the&#160;&#160;RH850P1xC&#160;&#160;<br/>
derivative&#160;&#160;requires &#160;more &#160;RAM &#160;space&#160;&#160;in&#160;&#160;the&#160;&#160;Shared&#160;&#160;Message&#160;&#160;RAM&#160;&#160;than&#160;&#160;there&#160;&#160;is &#160;&#160;<br/>
actual&#160;available.&#160;&#160;<br/>
For each&#160;CAN&#160;channel the&#160;following&#160;elements&#160;can&#160;be&#160;configured.&#160;If&#160;the&#160;required&#160;size&#160;for&#160;a&#160;&#160;<br/>
distinct&#160;&#160;configuration&#160;&#160;exceeds &#160;the&#160;&#160;maximum&#160;&#160;available&#160;&#160;RAM &#160;space&#160;&#160;in&#160;&#160;hardware &#160;then&#160;&#160;<br/>
the&#160;configuration&#160;tool issues an&#160;error during&#160;generation&#160;time&#160;and&#160;you&#160;are requested&#160;totailor&#160;&#160;<br/>
down&#160;your configuration&#160;until it&#160;fits into&#160;the&#160;available&#160;Shared&#160;Message&#160;RAM.&#160;&#160;&#160;<br/>
Resource&#160;usage&#160;for one&#160;CAN&#160;channel:&#160;<br/>
Area&#160;<br/>
Address&#160;range&#160;<br/>
Max&#160;&#160;size&#160;&#160;<br/>
Max.&#160;&#160;number&#160;&#160;of&#160;&#160;<br/>
(byte)&#160;<br/>
elements&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
65&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=66></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-66_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
Std&#160;Filter&#160;<br/>
0x0000&#160;–&#160;0x01FF&#160;<br/>
512&#160;&#160;&#160;<br/>
128&#160;<br/>
Ext&#160;Filter&#160;<br/>
0x0200&#160;–&#160;0x03FF&#160;<br/>
512&#160;<br/>
64&#160;<br/>
Rx&#160;FIFO&#160;0&#160;<br/>
0x0400&#160;–&#160;0x07FF&#160;<br/>
1024&#160;<br/>
64&#160;<br/>
Rx&#160;FIFO&#160;1&#160;<br/>
0x0800&#160;–&#160;0x0BFF&#160;<br/>
1024&#160;&#160;&#160;<br/>
64&#160;<br/>
Rx&#160;Buffer&#160;<br/>
0x0C00&#160;–&#160;0x0FFF&#160;<br/>
1024&#160;&#160;&#160;<br/>
64&#160;<br/>
TxEvt&#160;FIFO&#160;<br/>
0x1000&#160;–&#160;0x10FF&#160;<br/>
256&#160;<br/>
32&#160;<br/>
Tx&#160;buffer&#160;&#160;&#160;<br/>
0x1100&#160;–&#160;0x12FF&#160;<br/>
512&#160;<br/>
32&#160;<br/>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0x1300&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;4864&#160;bytes total&#160;<br/>
&#160;<br/>
Thus a&#160;maximum&#160;of&#160;“4864&#160;*&#160;NumberOfChannels”&#160;can&#160;theoretically&#160;be&#160;configured&#160;but&#160;less&#160;<br/>RAM is physically&#160;available.&#160;You&#160;are requested&#160;to&#160;reduce&#160;the&#160;areas&#160;according&#160;to&#160;your&#160;<br/>needs.&#160;&#160;<br/>Please&#160;note&#160;that&#160;the&#160;“Tx&#160;Buffer region” and&#160;the&#160;“TTCAN region” (for&#160;channels with&#160;TTCAN&#160;&#160;<br/>support)&#160;for each&#160;channel is restricted&#160;to&#160;a&#160;dedicated&#160;address.&#160;&#160;&#160;<br/>This is&#160;not&#160;consistent&#160;for all hardware releases,&#160;please&#160;refer to&#160;your&#160;hardware&#160;&#160;<br/>manufacturer documentation&#160;(see&#160;ch<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#8">.&#160;2&#160;</a>“Hardware Overview”).&#160;<br/>&#160;<br/>
<b>9.2.1&#160;</b><br/>
<b>Initialization of&#160;the&#160;CAN&#160;Message&#160;RAM&#160;&#160;</b><br/>
The&#160;internal SRAM&#160;features&#160;Error Correcting&#160;Code&#160;(ECC).&#160;Because&#160;these&#160;ECC&#160;bits can&#160;&#160;<br/>contain&#160;random&#160;data&#160;after the&#160;device&#160;is turned&#160;on,&#160;all&#160;SRAM locations must&#160;be&#160;initialized&#160;&#160;<br/>before&#160;being&#160;read&#160;by&#160;application&#160;code.&#160;Initialization&#160;is done&#160;by&#160;executing&#160;64-bit writes to&#160;&#160;<br/>the&#160;&#160;entire&#160;&#160;SRAM &#160;block.&#160;&#160;The&#160;&#160;value&#160;&#160;written&#160;&#160;does &#160;not&#160;&#160;matter &#160;at&#160;&#160;this &#160;point,&#160;&#160;so&#160;&#160;the&#160;&#160;&#160;<br/>Store Multiple&#160;Word&#160;instruction&#160;will be&#160;used&#160;to&#160;write&#160;16&#160;general-purpose&#160;registers with&#160;&#160;<br/>each&#160;loop&#160;iteration.&#160;&#160;<br/>&#160;<br/>By&#160;default&#160;the&#160;CAN&#160;driver tries to&#160;accomplish&#160;this initialization.&#160;Due&#160;to&#160;the&#160;need&#160;of&#160;using&#160;<br/>assembler &#160;code&#160;&#160;notation&#160;&#160;it &#160;might&#160;&#160;happen&#160;&#160;that&#160;&#160;specific &#160;options &#160;for &#160;a&#160;&#160;distinct&#160;&#160;compiler&#160;<br/>(assembler)&#160;are not&#160;appropriate.&#160;If&#160;so,&#160;you&#160;can&#160;feel&#160;free&#160;to&#160;disable&#160;the&#160;CAN&#160;driver internal&#160;<br/>initialization&#160;(see&#160;below&#160;on&#160;how&#160;to) and&#160;use&#160;your own&#160;initialization&#160;instead&#160;of.&#160;&#160;&#160;<br/>&#160;<br/>To&#160;&#160;disable&#160;&#160;the&#160;&#160;CAN &#160;driver &#160;internal &#160;initialization&#160;&#160;use&#160;&#160;a&#160;&#160;“User &#160;Config&#160;&#160;File” &#160;containing&#160;&#160;<br/>the&#160;following&#160;preprocessor definition:&#160;&#160;<br/>&#160;<br/>#define&#160;CAN_ECC_INIT&#160;&#160;&#160;&#160;&#160;&#160;STD_OFF&#160;&#160;<br/>&#160;<br/>Put&#160;your initialization&#160;into&#160;execution&#160;just&#160;before&#160;calling&#160;Can_Init().&#160;The&#160;MCAN clock&#160;must&#160;&#160;<br/>be&#160;available&#160;at&#160;this point&#160;of&#160;time.&#160;&#160;<br/>&#160;<br/>Please&#160;&#160;refer &#160;to&#160;&#160;your &#160;hardware &#160;manufacturer &#160;documentation&#160;&#160;(see&#160;&#160;ch.<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#8">&#160;2&#160;</a>“Hardware&#160;&#160;<br/>Overview”)&#160;for the&#160;address&#160;layout.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
66&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=67></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-67_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
<b>9.3&#160;</b><br/>
<b>Vector Extensions&#160;</b><br/>
Refer to&#160;Chapte<a href="TechnicalReference_Asr_Can_RH850_MCANs.html#12">r&#160;4.1&#160;“Features” li</a>sted&#160;under “<b>AUTOSAR&#160;extensions”&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
67&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=68></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-68_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>10&#160;&#160;Glossary&#160;and&#160;Abbreviations&#160;</b><br/>
<b>10.1&#160;&#160;Glossary&#160;</b><br/>
&#160;<br/>
<b>Term&#160;</b><br/>
<b>Description&#160;</b><br/>
GENy&#160;<br/>
Generation&#160;tool&#160;for&#160;CANbedded&#160;and MICROSAR&#160;components&#160;<br/>
High End&#160;(license)&#160;<br/>
Product&#160;license&#160;to&#160;support&#160;an&#160;extended&#160;feature&#160;set&#160;(see&#160;Feature&#160;table)&#160;<br/>
Table&#160;10-1&#160;&#160;&#160;Glossary&#160;<br/>
&#160;<br/>
<b>10.2&#160;&#160;Abbreviations&#160;</b><br/>
&#160;<br/>
<b>Abbreviation&#160;</b><br/>
<b>Description&#160;</b><br/>
API&#160;<br/>
Application Programming Interface&#160;&#160;&#160;<br/>
AUTOSAR&#160;<br/>
Automotive Open System&#160;Architecture&#160;<br/>
BSW&#160;<br/>
Basis&#160;Software&#160;<br/>
DEM&#160;<br/>
Diagnostic&#160;Event&#160;Manager&#160;<br/>
DET&#160;<br/>
Development&#160;Error&#160;Tracer&#160;<br/>
ECU&#160;<br/>
Electronic&#160;Control&#160;Unit&#160;<br/>
HIS&#160;<br/>
Hersteller&#160;Initiative&#160;Software&#160;<br/>
ISR&#160;<br/>
Interrupt&#160;Service Routine&#160;<br/>
MICROSAR&#160;<br/>
Microcontroller&#160;Open&#160;System&#160;Architecture&#160;(the&#160;Vector&#160;AUTOSAR&#160;solution)&#160;<br/>3,3x&#160;=&#160;AUTOSAR&#160;version 3&#160;<br/>401 =&#160;AUTOSAR&#160;version 4.0.1&#160;<br/>403 =&#160;AUTOSAR&#160;version 4.0.3&#160;<br/>4x&#160;=&#160;AUTOSAR&#160;version&#160;4.x.x&#160;<br/>
SWS&#160;<br/>
Software&#160;Specification&#160;<br/>
Common&#160;CAN&#160;<br/>
Connect&#160;two physical&#160;peripheral&#160;channels&#160;to one&#160;CAN&#160;bus&#160;(to increase&#160;<br/>the&#160;amount&#160;of&#160;FullCAN)&#160;<br/>
Hardware&#160;Loop&#160;<br/>
Timeout&#160;monitoring&#160;for&#160;possible endless loops.&#160;<br/>
Check&#160;<br/>
Table&#160;10-2&#160;&#160;&#160;Abbreviations&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
68&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name=69></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Can/doc/TechnicalReference_Asr_Can_RH850_MCAN-69_1.png"/><br/>
Technical&#160;Reference&#160;Microsar CAN Driver&#160;<br/>
<b>11&#160;&#160;Contact&#160;</b><br/>
Visit&#160;our website&#160;for&#160;more information&#160;on&#160;<br/>&#160;<br/>&gt;&#160; &#160;News&#160;<br/>&gt;&#160; &#160;Products&#160;<br/>&gt;&#160; &#160;Demo&#160;software&#160;<br/>&gt;&#160; &#160;Support&#160;<br/>&gt;&#160; &#160;Training&#160;data&#160;<br/>&gt;&#160; &#160;Addresses&#160;<br/>&#160;<br/>
<a href="http://www.vector.com/"><b>www.vector.com&#160;</b></a><br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.02.00&#160;<br/>
69&#160;<br/>
based&#160;on&#160;template&#160;version&#160;3.2&#160;<br/>
<hr/>
<a name="outline"></a><h1>Document Outline</h1>
<ul>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#4">1.1 Scope of the Document</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#8">2 Hardware Overview</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#9">3 Introduction</a>
<ul>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#10">3.1 Architecture Overview</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#12">4 Functional Description</a>
<ul>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#12">4.1 Features</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#15">4.2 Initialization</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#16">4.3 Communication</a>
<ul>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#16">4.3.1 Mailbox Layout</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#18">4.3.2 Mailbox Processing Order</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#18">4.3.3 Acceptance Filter for BasicCAN</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#18">4.3.4 Remote Frames</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#18">4.4 States / Modes</a>
<ul>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#19">4.4.1 Start Mode (Normal Running Mode)</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#19">4.4.2 Stop Mode</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#19">4.4.3 Bus Off</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#19">4.5 Re-Initialization</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#19">4.6 CAN Interrupt Locking</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#19">4.7 Main Functions</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#20">4.8 Error Handling</a>
<ul>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#20">4.8.1 Development Error Reporting</a>
<ul>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#21">4.8.1.1 Parameter Checking</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#21">4.8.1.2 Overrun/Overwrite Notification</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#21">4.8.2 Production Code Error Reporting</a>
<ul>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#22">4.8.2.1 Hardware Loop Check / Timeout Monitoring</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#24">4.8.3 CAN RAM Check</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#24">4.9 Common CAN</a>
<ul>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#25">4.9.1 Error Interrupt</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#26">4.9.2 Not supported</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#27">5 Integration</a>
<ul>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#27">5.1 Scope of Delivery</a>
<ul>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#27">5.1.1 Static Files</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#27">5.1.2 Dynamic Files</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#28">5.2 Include Structure</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#28">5.3 Critical Sections</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#30">5.4 Compiler Abstraction and Memory Mapping</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#32">6 Hardware Specific Hints</a>
<ul>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#32">6.1.1 Usage of interrupt functions</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#32">6.1.2 MCAN Errata</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#35">7 API Description</a>
<ul>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#35">7.1 Interrupt Service Routines provided by CAN</a>
<ul>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#35">7.1.1 OSEK (OS)</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#35">7.1.2 AutoSar (OS)</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#35">7.1.3 None (OS)</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#36">7.1.4 Type of Interrupt Function</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#36">7.1.5 CAN ISR API</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#36">7.2 Services provided by CAN</a>
<ul>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#36">7.2.1 Can_InitMemory</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#37">7.2.2 Can_Init</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#38">7.2.3 Can_InitController</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#38">7.2.4 Can_InitController</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#39">7.2.5 Can_ChangeBaudrate</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#40">7.2.6 Can_CheckBaudrate</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#40">7.2.7 Can_SetBaudrate</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#41">7.2.8 Can_InitStruct</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#41">7.2.9 Can_GetVersionInfo</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#42">7.2.10 Can_GetStatus</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#43">7.2.11 Can_SetControllerMode</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#44">7.2.12 Can_ResetBusOffStart</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#44">7.2.13 Can_ResetBusOffEnd</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#45">7.2.14 Can_Write</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#46">7.2.15 Can_CancelTx</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#46">7.2.16 Can_CheckWakeup</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#47">7.2.17 Can_DisableControllerInterrupts</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#47">7.2.18 Can_EnableControllerInterrupts</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#48">7.2.19 Can_MainFunction_Write</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#49">7.2.20 Can_MainFunction_Read</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#49">7.2.21 Can_MainFunction_BusOff</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#50">7.2.22 Can_MainFunction_Wakeup</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#50">7.2.23 Can_MainFunction_Mode</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#51">7.2.24 Appl_GenericPrecopy</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#52">7.2.25 Appl_GenericConfirmation</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#52">7.2.26 Appl_GenericConfirmation</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#53">7.2.27 Appl_GenericPreTransmit</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#54">7.2.28 ApplCanTimerStart</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#54">7.2.29 ApplCanTimerLoop</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#55">7.2.30 ApplCanTimerEnd</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#56">7.2.31 ApplCanInterruptDisable</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#56">7.2.32 ApplCanInterruptRestore</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#57">7.2.33 Appl_CanOverrun</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#57">7.2.34 Appl_CanFullCanOverrun</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#58">7.2.35 Appl_CanCorruptMailbox</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#59">7.2.36 Appl_CanRamCheckFailed</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#59">7.2.37 ApplCanInitPostProcessing</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#60">7.3 Services used by CAN</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#62">8 Configuration</a>
<ul>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#62">8.1 Pre-Compile Parameters</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#63">8.2 Link-Time Parameters</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#63">8.3 Post-Build Parameters</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#64">8.4 Configuration with da DaVinci Configurator</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#65">9 AUTOSAR Standard Compliance</a>
<ul>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#65">9.1 Limitations / Restrictions</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#65">9.2 Hardware Limitations</a>
<ul>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#66">9.2.1 Initialization of the CAN Message RAM</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#67">9.3 Vector Extensions</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#68">10 Glossary and Abbreviations</a>
<ul>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#68">10.1 Glossary</a></li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#68">10.2 Abbreviations</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Asr_Can_RH850_MCANs.html#69">11 Contact</a></li>
</ul>
<hr/>
</body>
</html>
