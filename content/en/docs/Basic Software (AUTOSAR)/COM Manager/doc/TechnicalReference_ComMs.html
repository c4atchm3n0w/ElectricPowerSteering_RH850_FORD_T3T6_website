---
title: TechnicalReference_ComMs
linkTitle: TechnicalReference_ComMs
weight: 6
---

<!DOCTYPE html><html>
<head>
<title></title>
<style type="text/css">
<!--
.xflip {
    -moz-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    -o-transform: scaleX(-1);
    transform: scaleX(-1);
    filter: fliph;
}
.yflip {
    -moz-transform: scaleY(-1);
    -webkit-transform: scaleY(-1);
    -o-transform: scaleY(-1);
    transform: scaleY(-1);
    filter: flipv;
}
.xyflip {
    -moz-transform: scaleX(-1) scaleY(-1);
    -webkit-transform: scaleX(-1) scaleY(-1);
    -o-transform: scaleX(-1) scaleY(-1);
    transform: scaleX(-1) scaleY(-1);
    filter: fliph + flipv;
}
-->
</style>
</head>
<body>
<a name=1></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-1_1.png"/><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/><b>MICROSAR Communication&#160;Manager&#160;<br/></b>Technical Reference&#160;<br/>&#160;<br/>&#160;<br/>Version&#160;8.00.00&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
Authors&#160;<br/>
Michael&#160;Schligerski&#160;<br/>
Status&#160;<br/>
Released&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
<hr/>
<a name=2></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-2_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>Document&#160;Information&#160;</b><br/>
<b>History&#160;</b><br/>
<b>Author&#160;</b><br/>
<b>Date&#160;</b><br/>
<b>Version&#160;&#160;Remarks&#160;</b><br/>
Michael&#160;Schligerski&#160;&#160;2012-08-07&#160;&#160;1.00.00&#160;&#160;Initial&#160;creation&#160;<br/>Michael&#160;Schligerski&#160;&#160;2013-01-31&#160;&#160;1.01.00&#160;&#160;<b>&gt;&#160;&#160;</b>Updated&#160;AUTOSAR&#160;Architecture,&#160;chapter<a href="TechnicalReference_ComMs.html#13">&#160;2.1&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Updated&#160;description of&#160;<br/>
ComM_CurrentChannelRequest,&#160;chapter<a href="TechnicalReference_ComMs.html#67">&#160;6.1.3.1&#160;</a><br/>
Michael&#160;Schligerski&#160;&#160;2013-05-15&#160;&#160;1.02.00&#160;&#160;<b>&gt;&#160;&#160;</b>Added&#160;configuration&#160;variant&#160;Post-Build Loadable,&#160;<br/>
chapter<a href="TechnicalReference_ComMs.html#17">&#160;3.1.2.2&#160;</a>(ESCAN00064954)&#160;<br/>
<b>&gt;&#160;&#160;</b>Information&#160;from&#160;chapter&#160;‘AUTOSAR&#160;Standard&#160;<br/>
Compliance’&#160;is&#160;moved&#160;to&#160;chapter&#160;<a href="TechnicalReference_ComMs.html#15">‘Features’</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>Updated&#160;chapter&#160;<a href="TechnicalReference_ComMs.html#37">‘Critical&#160;Sections’</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>Removed&#160;chapter&#160;‘Compiler&#160;Abstraction&#160;and&#160;<br/>
Memory&#160;Mapping’&#160;<br/>
<b>&gt;&#160;&#160;</b>Updated&#160;chapter&#160;<a href="TechnicalReference_ComMs.html#25">‘Partial&#160;Network&#160;States’</a>&#160;<br/>
Michael&#160;Schligerski&#160;&#160;2013-09-27&#160;&#160;2.00.00&#160;&#160;<b>&gt;&#160;&#160;</b>Updated&#160;chapter&#160;<a href="TechnicalReference_ComMs.html#25">‘Partial&#160;Network&#160;States’&#160;</a><br/>
(ESCAN00069988)&#160;<br/>
<b>&gt;&#160;&#160;</b>Updated&#160;chapters<a href="TechnicalReference_ComMs.html#29">&#160;‘Mode&#160;Limitation’,</a>&#160;<br/>
<a href="TechnicalReference_ComMs.html#46">‘ComM_PreventWakeUp’,</a>&#160;<br/><a href="TechnicalReference_ComMs.html#47">‘ComM_LimitChannelToNoComMode’</a>,&#160;<br/><a href="TechnicalReference_ComMs.html#48">‘ComM_LimitECUToNoComMode’&#160;<br/></a>(ESCAN00068896&#160;,&#160;ESCAN00068902)&#160;<br/>
<b>&gt;&#160;&#160;</b>Support&#160;EthSM&#160;as lower&#160;layer&#160;of&#160;COMM,&#160;see&#160;<br/>
chapters<a href="TechnicalReference_ComMs.html#21">&#160;3.3&#160;</a>and<a href="TechnicalReference_ComMs.html#54">&#160;5.3&#160;</a>(ESCAN00069043)&#160;<br/>
<b>&gt;&#160;&#160;</b>Updated&#160;description of&#160;Sender&#160;Receiver&#160;<br/>
Interface&#160;‘ComM_CurrentMode’&#160;<br/>(ESCAN00070321).&#160;<br/>
<b>&gt;&#160;&#160;</b>Added&#160;notes&#160;for&#160;usage&#160;of&#160;LIN&#160;NM&#160;and J1939&#160;NM&#160;<br/>
in chapter<a href="TechnicalReference_ComMs.html#28">s&#160;3.5.1&#160;</a><a href="TechnicalReference_ComMs.html#30">and&#160;3.5.3&#160;</a>(ESCAN00071341).&#160;<br/>
<b>&gt;&#160;&#160;</b>Upd<a href="TechnicalReference_ComMs.html#36">ated&#160;Include Structure&#160;</a>to&#160;reflect&#160;Post&#160;Build&#160;<br/>
Loadable (ESCAN00064954).&#160;<br/>
<b>&gt;&#160;&#160;</b>Added&#160;a Caution&#160;box&#160;to&#160;chapter<a href="TechnicalReference_ComMs.html#25">&#160;3.4&#160;</a>regarding&#160;<br/>
Partial&#160;Network&#160;TX&#160;EIRA&#160;signals&#160;<br/>(ESCAN00071527).&#160;<br/>
Michael&#160;Schligerski&#160;&#160;2014-02-07&#160;&#160;2.01.00&#160;&#160;<b>&gt;&#160;&#160;</b>ESCAN00072763&#160;Added&#160;DET&#160;error&#160;<br/>
COMM_E_DIAGNOSTIC_NOT_SUPPORTED&#160;in&#160;<br/>chapters<a href="TechnicalReference_ComMs.html#31">&#160;3.6.1,&#160;</a><a href="TechnicalReference_ComMs.html#56">5.4.4&#160;</a>and<a href="TechnicalReference_ComMs.html#57">&#160;5.4.5&#160;</a><br/>
<b>&gt;&#160;&#160;</b>ESCAN00074243<a href="TechnicalReference_ComMs.html#32">&#160;Table&#160;3-5&#160;</a>sorted&#160;by&#160;ID,&#160;<br/>
description of&#160;the&#160;Port&#160;Interface&#160;<br/>ComM_CurrentMode moved&#160;to chapter<a href="TechnicalReference_ComMs.html#66">&#160;6.1.2&#160;<br/>‘Mode Switch Interface’.</a>&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
2&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=3></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-3_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
Michael&#160;Schligerski&#160;&#160;2014-06-04&#160;&#160;3.00.00&#160;&#160;<b>&gt;&#160;&#160;</b>Improved&#160;description&#160;of&#160;<br/>
<a href="TechnicalReference_ComMs.html#67">ComM_CurrentChannelRequest&#160;<br/></a>(ESCAN00075361).&#160;<br/>
<b>&gt;&#160;&#160;</b>Improved&#160;description&#160;of&#160;<br/>
ComMPncPrepareSleepTimer&#160;in chapter<a href="TechnicalReference_ComMs.html#25">&#160;3.4&#160;<br/></a>(ESCAN00075422).&#160;<br/>
<b>&gt;&#160;&#160;</b>Added&#160;chapter<a href="TechnicalReference_ComMs.html#21">&#160;3.1.3.2&#160;</a>(ESCAN00076076).&#160;<br/>
<b>&gt;&#160;&#160;</b>Adapted&#160;chapter<a href="TechnicalReference_ComMs.html#65">&#160;6.1.1.1.3&#160;</a>(ESCAN00074321).&#160;<br/>
Michael&#160;Schligerski&#160;&#160;2014-10-02&#160;&#160;3.01.00&#160;&#160;<b>&gt;&#160;&#160;</b>Added&#160;support&#160;of&#160;Bus&#160;Type&#160;INTERNAL,&#160;refer&#160;to&#160;<br/>
chapter<a href="TechnicalReference_ComMs.html#28">&#160;3.5&#160;</a>(ESCAN00076859)&#160;<br/>
<b>&gt;&#160;&#160;</b>Added&#160;Timer-based&#160;shutdown synchronization&#160;<br/>
via Silent&#160;state,&#160;refer&#160;to&#160;chapter<a href="TechnicalReference_ComMs.html#17">&#160;3.1.2.3&#160;</a>and&#160;<br/><a href="TechnicalReference_ComMs.html#22">Figure&#160;3-1&#160;&#160;COMM&#160;channel&#160;state&#160;machine&#160;<br/></a>(ESCAN00076774)&#160;<br/>
<b>&gt;&#160;&#160;</b>Updated&#160;include structure in<a href="TechnicalReference_ComMs.html#36">&#160;4.2&#160;</a><br/>
(ESCAN00078688)&#160;<br/>
<b>&gt;&#160;&#160;</b>Extended Partial&#160;Network&#160;Cluster&#160;ID&#160;support,&#160;<br/>
refer&#160;to chapter<a href="TechnicalReference_ComMs.html#16">&#160;3.1.2&#160;</a>(ESCAN00076852)&#160;<br/>
<b>&gt;&#160;&#160;</b>NvM&#160;support&#160;made optional,&#160;refer&#160;to&#160;chapter&#160;<br/>
<a href="TechnicalReference_ComMs.html#16">3.1.2&#160;</a>(ESCAN000772069)&#160;<br/>
<b>&gt;&#160;&#160;</b>Added&#160;internal&#160;function&#160;service IDs&#160;<br/>
(ESCAN00076325)&#160;<br/>
Michael&#160;Schligerski&#160;&#160;2015-03-25&#160;&#160;4.00.00&#160;&#160;<b>&gt;&#160;&#160;</b>Support&#160;of&#160;channel-specific&#160;Minimum&#160;Full&#160;Com&#160;<br/>
Mode&#160;timer,&#160;chapters<a href="TechnicalReference_ComMs.html#17">&#160;3.1.2.4&#160;</a>a<a href="TechnicalReference_ComMs.html#21">nd&#160;3.3&#160;&#160;<br/></a>(ESCAN00082062)&#160;<br/>
Michael&#160;Schligerski&#160;&#160;2015-08-12&#160;&#160;5.00.00&#160;&#160;<b>&gt;&#160;&#160;</b>‘Post-Build Loadable’&#160;is&#160;used as&#160;standard&#160;<br/>
MICROSAR&#160;feature&#160;name,&#160;chapter<a href="TechnicalReference_ComMs.html#17">&#160;3.1.2.2&#160;</a><br/>
<b>&gt;&#160;&#160;</b>Service Port&#160;names&#160;do&#160;not&#160;contain ComM&#160;user&#160;<br/>
and channel&#160;identifiers&#160;anymore,&#160;see&#160;chapter<a href="TechnicalReference_ComMs.html#65">&#160;6&#160;<br/></a>(ESCAN00084462)&#160;<br/>
<b>&gt;&#160;&#160;</b>Added&#160;Pnc&#160;to Channel&#160;Routing&#160;Limitation,&#160;see&#160;<br/>
chapter<a href="TechnicalReference_ComMs.html#18">&#160;3.1.2.5&#160;</a>(ESCAN00083603)&#160;<br/>
Michael&#160;Schligerski&#160;&#160;2016-01-12&#160;&#160;6.00.00&#160;&#160;<b>&gt;&#160;&#160;</b>Improved&#160;description&#160;of<a href="TechnicalReference_ComMs.html#16">&#160;3.1.1&#160;Deviations&#160;</a><br/>
(ESCAN00087416)&#160;<br/>
Michael&#160;Schligerski&#160;&#160;2016-02-26&#160;&#160;7.00.00&#160;&#160;<b>&gt;&#160;&#160;</b>Added&#160;support&#160;of&#160;Extended&#160;RAM&#160;Check,&#160;see&#160;<br/>
chapter<a href="TechnicalReference_ComMs.html#20">&#160;3.1.2.6&#160;</a>(ESCAN00089104)&#160;<br/>
<b>&gt;&#160;&#160;</b>Improved&#160;description&#160;of<a href="TechnicalReference_ComMs.html#37">&#160;4.3&#160;Critical&#160;Sections&#160;</a><br/>
(ESCAN00088182)&#160;<br/>
Michael&#160;Schligerski&#160;&#160;2016-05-24&#160;&#160;7.00.01&#160;&#160;<b>&gt;&#160;&#160;</b>Added&#160;API&#160;description of&#160;<br/>
<a href="TechnicalReference_ComMs.html#60">ComM_Nm_StateChangeNotification&#160;</a>and&#160;<br/><a href="TechnicalReference_ComMs.html#61">ComM_ComCbk_&lt;SignalName&gt;&#160;<br/></a>(ESCAN00090164)&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
3&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=4></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-4_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
Michael&#160;Schligerski&#160;&#160;2016-08-15&#160;&#160;7.01.00&#160;&#160;<b>&gt;&#160;&#160;</b>Added&#160;API<a href="TechnicalReference_ComMs.html#52">s&#160;ComM_GetDcmRequestStatus&#160;</a>and&#160;<br/>
<a href="TechnicalReference_ComMs.html#53">ComM_GetMinFullComModeTimerStatus&#160;<br/></a>(ESCAN00091481)&#160;<br/>
<b>&gt;&#160;&#160;</b>Provided more&#160;details&#160;on&#160;Nm&#160;Variant&#160;PASSIVE&#160;<br/>
in chapter<a href="TechnicalReference_ComMs.html#16">s&#160;3.1.2&#160;</a><a href="TechnicalReference_ComMs.html#28">and&#160;3.5.1&#160;</a><br/>
Michael&#160;Schligerski&#160;&#160;2016-11-09&#160;&#160;8.00.00&#160;&#160;<b>&gt;&#160;&#160;</b>Added&#160;Reset&#160;after&#160;Forcing NO_COM&#160;<br/>
functionality&#160;in chapter<a href="TechnicalReference_ComMs.html#29">&#160;3.5.2.1&#160;</a><br/>
&#160;<br/>
<b>&#160;</b><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
4&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=5></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-5_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-5_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>Reference&#160;Documents&#160;</b><br/>
<b>No.&#160;</b><br/>
<b>Source&#160;</b><br/>
<b>Title&#160;</b><br/>
<b>Version&#160;</b><br/>
[1]&#160;&#160;&#160;AUTOSAR&#160;<br/>
AUTOSAR_SWS_COMManager.pdf&#160;<br/>
V4.0.0&#160;<br/>
[2]&#160;&#160;&#160;AUTOSAR&#160;<br/>
AUTOSAR_SWS_DevelopmentErrorTracer.pdf&#160;<br/>
V3.2.0&#160;<br/>
[3]&#160;&#160;&#160;AUTOSAR&#160;<br/>
AUTOSAR_TR_BSWModuleList.pdf&#160;<br/>
V1.6.0&#160;<br/>
[4]&#160;&#160;&#160;AUTOSAR&#160;<br/>
AUTOSAR_SWS_EthernetStateManager&#160;<br/>
V2.0.0&#160;<br/>
[5]&#160;&#160;&#160;AUTOSAR&#160;<br/>
AUTOSAR_SWS_UDPNetworkManagement&#160;<br/>
V3.0.0&#160;<br/>
[6]&#160;&#160;&#160;Vector&#160;<br/>
TechnicalReference_LinNm.pdf&#160;<br/>
see&#160;delivery&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;<br/>&#160;<br/>&#160;</b><br/>
<b>Caution&#160;<br/></b>We&#160;have configured&#160;the&#160;programs&#160;in&#160;accordance&#160;with your&#160;specifications&#160;in the&#160;<br/>
<b>&#160;&#160;</b>questionnaire.&#160;Whereas&#160;the&#160;programs&#160;do&#160;support&#160;other&#160;configurations&#160;than&#160;the&#160;one&#160;<br/>
specified&#160;in your&#160;questionnaire,&#160;Vector´s&#160;release&#160;of&#160;the&#160;programs&#160;delivered to&#160;your&#160;<br/>company&#160;is&#160;expressly&#160;restricted&#160;to&#160;the&#160;configuration&#160;you&#160;have specified&#160;in&#160;the&#160;<br/>questionnaire.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
5&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=6></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-6_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>Contents&#160;</b><br/>
<a href="TechnicalReference_ComMs.html#11"><b>1</b>&#160;&#160;<b>Component&#160;History&#160;......................................................................................................&#160;11</b>&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#12"><b>2</b>&#160;&#160;<b>Introduction&#160;..................................................................................................................&#160;12</b>&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#13">2.1&#160;&#160;Architecture&#160;Overview&#160;............................................................................................&#160;13&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#15"><b>3</b>&#160;&#160;<b>Functional&#160;Description&#160;................................................................................................&#160;15</b>&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#15">3.1&#160;&#160;Features&#160;.................................................................................................................&#160;15&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#16">3.1.1&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#16">Deviations&#160;.....................................................................................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#16">3.1.1.1&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#16">Variant&#160;Post-Build&#160;...................................................................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#16">3.1.2&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#16">Additions/&#160;Extensions&#160;....................................................................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#17">3.1.2.1&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#17">Memory&#160;Initialization&#160;...............................................................................&#160;17&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#17">3.1.2.2&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#17">Post-Build Loadable&#160;...............................................................................&#160;17&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#17">3.1.2.3&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#17">Timer-based&#160;Shutdown Synchronization&#160;via Silent&#160;State&#160;........................&#160;17&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#17">3.1.2.4&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#17">Channel-specific&#160;Minimum&#160;Full&#160;Com&#160;Mode&#160;Timer&#160;...................................&#160;17&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#18">3.1.2.5&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#18">Pnc to&#160;Channel&#160;Routing&#160;Limitation..........................................................&#160;18&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#20">3.1.2.6&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#20">Extended RAM&#160;Check&#160;............................................................................&#160;20&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#21">3.1.3&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#21">Limitations&#160;.....................................................................................................&#160;21&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#21">3.1.3.1&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#21">Non-volatile Data Handling&#160;.....................................................................&#160;21&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#21">3.1.3.2&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#21">Assignment&#160;of&#160;Users&#160;to&#160;Channels&#160;and PNCs&#160;.........................................&#160;21&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#21">3.2&#160;&#160;Initialization&#160;............................................................................................................&#160;21&#160;<br/>3.3&#160;&#160;States&#160;.....................................................................................................................&#160;21&#160;<br/></a><a href="TechnicalReference_ComMs.html#25">3.4&#160;&#160;Partial&#160;Network&#160;States&#160;............................................................................................&#160;25&#160;<br/></a><a href="TechnicalReference_ComMs.html#28">3.5&#160;&#160;Main Functions&#160;.......................................................................................................&#160;28&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#28">3.5.1&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#28">Communication&#160;Control&#160;Handling&#160;..................................................................&#160;28&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#29">3.5.2&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#29">Mode Limitation&#160;.............................................................................................&#160;29&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#29">3.5.2.1&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#29">Mode Limitation to NO_COM&#160;..................................................................&#160;29&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#30">3.5.2.2&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#30">Prevent&#160;Wake-Up&#160;...................................................................................&#160;30&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#30">3.5.3&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#30">Synchronous&#160;Wake-Up..................................................................................&#160;30&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#31">3.6&#160;&#160;Error&#160;Handling&#160;........................................................................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#31">3.6.1&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#31">Development&#160;Error&#160;Reporting&#160;........................................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#32">3.6.1.1&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#32">Parameter&#160;Checking&#160;...............................................................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#34">3.6.2&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#34">Production Code&#160;Error&#160;Reporting&#160;..................................................................&#160;34&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#35"><b>4</b>&#160;&#160;<b>Integration&#160;....................................................................................................................&#160;35</b>&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#35">4.1&#160;&#160;Scope of&#160;Delivery&#160;...................................................................................................&#160;35&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#35">4.1.1&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#35">Static Files&#160;....................................................................................................&#160;35&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#35">4.1.2&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#35">Dynamic&#160;Files&#160;...............................................................................................&#160;35&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#36">4.2&#160;&#160;Include Structure&#160;....................................................................................................&#160;36&#160;<br/></a><a href="TechnicalReference_ComMs.html#37">4.3&#160;&#160;Critical&#160;Sections&#160;.....................................................................................................&#160;37&#160;</a><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
6&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=7></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-7_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<a href="TechnicalReference_ComMs.html#37">4.4&#160;&#160;Handling&#160;of&#160;non-volatile&#160;Data&#160;.................................................................................&#160;37&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#39"><b>5</b>&#160;&#160;<b>API&#160;Description&#160;............................................................................................................&#160;39</b>&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#39">5.1&#160;&#160;Type&#160;Definitions&#160;......................................................................................................&#160;39&#160;<br/></a><a href="TechnicalReference_ComMs.html#41">5.2&#160;&#160;Services provided by&#160;COMM&#160;..................................................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#41">5.2.1&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#41">ComM_InitMemory&#160;........................................................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#41">5.2.2&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#41">ComM_Init&#160;.....................................................................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#42">5.2.3&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#42">ComM_DeInit&#160;................................................................................................&#160;42&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#42">5.2.4&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#42">ComM_GetStatus&#160;..........................................................................................&#160;42&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#43">5.2.5&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#43">ComM_GetInhibitionStatus&#160;...........................................................................&#160;43&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#44">5.2.6&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#44">ComM_RequestComMode&#160;............................................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#44">5.2.7&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#44">ComM_GetMaxComMode&#160;.............................................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#45">5.2.8&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#45">ComM_GetRequestedComMode&#160;..................................................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#45">5.2.9&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#45">ComM_GetCurrentComMode&#160;........................................................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#46">5.2.10&#160;&#160;ComM_PreventWakeUp&#160;................................................................................&#160;46&#160;<br/></a><a href="TechnicalReference_ComMs.html#47">5.2.11&#160;&#160;ComM_LimitChannelToNoComMode&#160;............................................................&#160;47&#160;<br/></a><a href="TechnicalReference_ComMs.html#48">5.2.12&#160;&#160;ComM_LimitECUToNoComMode&#160;..................................................................&#160;48&#160;<br/>5.2.13&#160;&#160;ComM_ReadInhibitCounter&#160;...........................................................................&#160;48&#160;<br/></a><a href="TechnicalReference_ComMs.html#49">5.2.14&#160;&#160;ComM_ResetInhibitCounter&#160;..........................................................................&#160;49&#160;<br/>5.2.15&#160;&#160;ComM_SetECUGroupClassification&#160;..............................................................&#160;49&#160;<br/></a><a href="TechnicalReference_ComMs.html#50">5.2.16&#160;&#160;ComM_GetVersionInfo&#160;..................................................................................&#160;50&#160;<br/>5.2.17&#160;&#160;ComM_MainFunction&#160;....................................................................................&#160;50&#160;<br/></a><a href="TechnicalReference_ComMs.html#51">5.2.18&#160;&#160;ComM_GetState&#160;...........................................................................................&#160;51&#160;<br/></a><a href="TechnicalReference_ComMs.html#52">5.2.19&#160;&#160;ComM_LimitPncToChannelRouting&#160;...............................................................&#160;52&#160;<br/>5.2.20&#160;&#160;ComM_GetDcmRequestStatus&#160;.....................................................................&#160;52&#160;<br/></a><a href="TechnicalReference_ComMs.html#53">5.2.21&#160;&#160;ComM_GetMinFullComModeTimerStatus&#160;.....................................................&#160;53&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#54">5.3&#160;&#160;Services used by&#160;COMM&#160;........................................................................................&#160;54&#160;<br/>5.4&#160;&#160;Callback&#160;Functions&#160;.................................................................................................&#160;54&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#54">5.4.1&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#54">ComM_CommunicationAllowed&#160;....................................................................&#160;54&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#55">5.4.2&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#55">ComM_EcuM_WakeUpIndication&#160;..................................................................&#160;55&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#56">5.4.3&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#56">ComM_BusSM_ModeIndication&#160;....................................................................&#160;56&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#56">5.4.4&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#56">ComM_DCM_ActiveDiagnostic&#160;.....................................................................&#160;56&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#57">5.4.5&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#57">ComM_DCM_InactiveDiagnostic&#160;...................................................................&#160;57&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#57">5.4.6&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#57">ComM_Nm_NetworkStartIndication&#160;..............................................................&#160;57&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#58">5.4.7&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#58">ComM_Nm_NetworkMode&#160;............................................................................&#160;58&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#58">5.4.8&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#58">ComM_Nm_PrepareBusSleep&#160;......................................................................&#160;58&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#59">5.4.9&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#59">ComM_Nm_BusSleepMode&#160;..........................................................................&#160;59&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#60">5.4.10&#160;&#160;ComM_Nm_RestartIndication&#160;.......................................................................&#160;60&#160;<br/>5.4.11&#160;&#160;ComM_Nm_StateChangeNotification&#160;............................................................&#160;60&#160;<br/></a><a href="TechnicalReference_ComMs.html#61">5.4.12&#160;&#160;ComM_ComCbk_&lt;SignalName&gt;&#160;..................................................................&#160;61&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#61">5.5&#160;&#160;Configurable Interfaces&#160;..........................................................................................&#160;61&#160;</a><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
7&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=8></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-8_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<a href="TechnicalReference_ComMs.html#61">5.5.1&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#61">Notifications&#160;..................................................................................................&#160;61&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#61">5.5.1.1&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#61">Dcm_ComM_FullComModeEntered&#160;.......................................................&#160;61&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#62">5.5.1.2&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#62">Dcm_ComM_SilentComModeEntered&#160;....................................................&#160;62&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#62">5.5.1.3&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#62">Dcm_ComM_NoComModeEntered&#160;........................................................&#160;62&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#63">5.5.1.4&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#63">BswM_ComM_CurrentMode&#160;..................................................................&#160;63&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#63">5.5.1.5&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#63">BswM_ComM_CurrentPNCMode&#160;...........................................................&#160;63&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#64">5.5.1.6&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#64">BswM_ComM_InitiateReset&#160;...................................................................&#160;64&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#64">5.5.1.7&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#64">Rte_Switch_ComM_&lt;UserName&gt;_currentMode&#160;....................................&#160;64&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#65"><b>6</b>&#160;&#160;<b>Service&#160;Ports&#160;................................................................................................................&#160;65</b>&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#65">6.1.1&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#65">Client&#160;Server&#160;Interface&#160;...................................................................................&#160;65&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#65">6.1.1.1&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#65">Provide&#160;Ports&#160;on&#160;COMM&#160;Side&#160;.................................................................&#160;65&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#65">6.1.1.1.1&#160;&#160;ComM_UserRequest&#160;.......................................................................&#160;65&#160;<br/>6.1.1.1.2&#160;&#160;ComM_ECUModeLimitation&#160;............................................................&#160;65&#160;<br/>6.1.1.1.3&#160;&#160;ComM_ChannelWakeUp&#160;.................................................................&#160;65&#160;<br/></a><a href="TechnicalReference_ComMs.html#66">6.1.1.1.4&#160;&#160;ComM_ChannelLimitation&#160;...............................................................&#160;66&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#66">6.1.1.2&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#66">Require Ports&#160;on&#160;COMM&#160;Side&#160;................................................................&#160;66&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#66">6.1.2&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#66">Mode Switch Interface&#160;...................................................................................&#160;66&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#66">6.1.2.1&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#66">ComM_CurrentMode&#160;..............................................................................&#160;66&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#67">6.1.3&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#67">Sender&#160;Receiver&#160;Interface&#160;.............................................................................&#160;67&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#67">6.1.3.1&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#67">ComM_CurrentChannelRequest&#160;............................................................&#160;67&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#69"><b>7</b>&#160;&#160;<b>Abbreviations&#160;...............................................................................................................&#160;69</b>&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#69">7.1&#160;&#160;Abbreviations&#160;.........................................................................................................&#160;69&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#70"><b>8</b>&#160;&#160;<b>Contact..........................................................................................................................&#160;70</b>&#160;<br/></a>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
8&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=9></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-9_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>Illustrations&#160;</b><br/>
<a href="TechnicalReference_ComMs.html#13">Figure&#160;2-1&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#13">AUTOSAR&#160;4.x&#160;Architecture&#160;Overview&#160;.......................................................&#160;13&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#14">Figure&#160;2-2&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#14">Interfaces&#160;to adjacent&#160;modules of&#160;the&#160;COMM&#160;...........................................&#160;14&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#22">Figure&#160;3-1&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#22">COMM&#160;channel&#160;state&#160;machine&#160;..................................................................&#160;22&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#25">Figure&#160;3-2&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#25">COMM&#160;Partial&#160;Network&#160;Cluster&#160;state&#160;machine&#160;..........................................&#160;25&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#36">Figure&#160;4-1&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#36">Include structure&#160;.......................................................................................&#160;36&#160;</a><br/>
<b>&#160;</b><br/>
<b>Tables&#160;<br/></b><a href="TechnicalReference_ComMs.html#11">Table&#160;1-1&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#11">Component&#160;history....................................................................................&#160;11&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#15">Table&#160;3-1&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#15">Supported&#160;AUTOSAR&#160;standard conform&#160;features&#160;.....................................&#160;15&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#16">Table&#160;3-2&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#16">Not&#160;supported&#160;AUTOSAR&#160;standard conform&#160;features&#160;...............................&#160;16&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#16">Table&#160;3-3&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#16">Features&#160;provided beyond the&#160;AUTOSAR&#160;standard&#160;..................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#18">Table&#160;3-4&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#18">States&#160;of&#160;Routing&#160;Limitation&#160;on&#160;a&#160;channel&#160;.................................................&#160;18&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#32">Table&#160;3-5&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#32">Service IDs&#160;...............................................................................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#32">Table&#160;3-6&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#32">Errors&#160;reported&#160;to DET&#160;.............................................................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#34">Table&#160;3-7&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#34">Development&#160;Error&#160;Reporting:&#160;Assignment&#160;of&#160;checks&#160;to services&#160;.............&#160;34&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#35">Table&#160;4-1&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#35">Static&#160;files&#160;.................................................................................................&#160;35&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#36">Table&#160;4-2&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#36">Generated&#160;files&#160;.........................................................................................&#160;36&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#40">Table&#160;5-1&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#40">Type&#160;definitions&#160;.........................................................................................&#160;40&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#40">Table&#160;5-2&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#40">ComM_InhibitionType&#160;...............................................................................&#160;40&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#41">Table&#160;5-3&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#41">ComM_UserHandleArrayType&#160;..................................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#41">Table&#160;5-4&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#41">ComM_InitMemory&#160;...................................................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#42">Table&#160;5-5&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#42">ComM_Init&#160;................................................................................................&#160;42&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#42">Table&#160;5-6&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#42">ComM_DeInit&#160;............................................................................................&#160;42&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#43">Table&#160;5-7&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#43">ComM_GetStatus&#160;.....................................................................................&#160;43&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#43">Table&#160;5-8&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#43">ComM_GetInhibitionStatus&#160;.......................................................................&#160;43&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#44">Table&#160;5-9&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#44">ComM_RequestComMode&#160;.......................................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#45">Table&#160;5-10&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#45">ComM_GetMaxComMode&#160;........................................................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#45">Table&#160;5-11&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#45">ComM_GetRequestedComMode&#160;..............................................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#46">Table&#160;5-12&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#46">ComM_GetCurrentComMode&#160;...................................................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#47">Table&#160;5-13&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#47">ComM_PreventWakeUp&#160;...........................................................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#47">Table&#160;5-14&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#47">ComM_LimitChannelToNoComMode&#160;........................................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#48">Table&#160;5-15&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#48">ComM_LimitECUToNoComMode&#160;.............................................................&#160;48&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#49">Table&#160;5-16&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#49">ComM_ReadInhibitCounter&#160;......................................................................&#160;49&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#49">Table&#160;5-17&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#49">ComM_ResetInhibitCounter&#160;......................................................................&#160;49&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#50">Table&#160;5-18&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#50">ComM_SetECUGroupClassification&#160;.........................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#50">Table&#160;5-19&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#50">ComM_GetVersionInfo&#160;.............................................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#51">Table&#160;5-20&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#51">ComM_MainFunction&#160;................................................................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#51">Table&#160;5-21&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#51">ComM_GetState&#160;.......................................................................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#52">Table&#160;5-22&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#52">ComM_LimitPncToChannelRouting&#160;..........................................................&#160;52&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#53">Table&#160;5-23&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#53">ComM_GetDcmRequestStatus&#160;.................................................................&#160;53&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#54">Table&#160;5-24&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#54">ComM_GetMinFullComModeTimerStatus&#160;.................................................&#160;54&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#54">Table&#160;5-25&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#54">Services used by&#160;the&#160;COMM&#160;....................................................................&#160;54&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#55">Table&#160;5-26&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#55">ComM_CommunicationAllowed&#160;................................................................&#160;55&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#55">Table&#160;5-27&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#55">ComM_EcuM_WakeUpIndication&#160;.............................................................&#160;55&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#56">Table&#160;5-28&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#56">ComM_BusSM_ModeIndication................................................................&#160;56&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#57">Table&#160;5-29&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#57">ComM_DCM_ActiveDiagnostic&#160;.................................................................&#160;57&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#57">Table&#160;5-30&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#57">ComM_DCM_InactiveDiagnostic&#160;..............................................................&#160;57&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#58">Table&#160;5-31&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#58">ComM_Nm_NetworkStartIndication&#160;..........................................................&#160;58&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#58">Table&#160;5-32&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#58">ComM_Nm_NetworkMode&#160;........................................................................&#160;58&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#59">Table&#160;5-33&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#59">ComM_Nm_PrepareBusSleep&#160;..................................................................&#160;59&#160;</a><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
9&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=10></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-10_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<a href="TechnicalReference_ComMs.html#59">Table&#160;5-34&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#59">ComM_Nm_BusSleepMode&#160;.....................................................................&#160;59&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#60">Table&#160;5-35&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#60">ComM_Nm_RestartIndication&#160;...................................................................&#160;60&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#61">Table&#160;5-36&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#61">ComM_Nm_StateChangeNotification&#160;.......................................................&#160;61&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#61">Table&#160;5-37&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#61">ComM_ComCbk_&lt;SignalName&gt;&#160;..............................................................&#160;61&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#62">Table&#160;5-38&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#62">Dcm_ComM_FullComModeEntered&#160;.........................................................&#160;62&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#62">Table&#160;5-39&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#62">Dcm_ComM_SilentComModeEntered&#160;......................................................&#160;62&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#63">Table&#160;5-40&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#63">Dcm_ComM_NoComModeEntered&#160;..........................................................&#160;63&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#63">Table&#160;5-41&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#63">BswM_ComM_CurrentMode&#160;.....................................................................&#160;63&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#63">Table&#160;5-42&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#63">BswM_ComM_CurrentPNCMode&#160;.............................................................&#160;63&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#64">Table&#160;5-43&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#64">BswM_ComM_InitiateReset&#160;......................................................................&#160;64&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#64">Table&#160;5-44&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#64">Rte_Switch_ComM_&lt;UserName&gt;_currentMode&#160;......................................&#160;64&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#65">Table&#160;6-1&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#65">ComM_UserRequest&#160;................................................................................&#160;65&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#65">Table&#160;6-2&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#65">ComM_ECUModeLimitation&#160;.....................................................................&#160;65&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#65">Table&#160;6-3&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#65">ComM_ChannelWakeUp&#160;..........................................................................&#160;65&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#66">Table&#160;6-4&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#66">ComM_ChannelLimitation.........................................................................&#160;66&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#66">Table&#160;6-5&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#66">ComM_CurrentMode&#160;................................................................................&#160;66&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#67">Table&#160;6-6&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#67">ComM_CurrentChannelRequest&#160;...............................................................&#160;67&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#69">Table&#160;7-1&#160;&#160;</a><br/>
<a href="TechnicalReference_ComMs.html#69">Abbreviations&#160;............................................................................................&#160;69&#160;</a><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
10&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=11></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-11_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>1&#160;&#160;Component&#160;History&#160;</b><br/>
The&#160;&#160;component&#160;&#160;history&#160;&#160;gives&#160;&#160;an&#160;&#160;overview&#160;&#160;over&#160;&#160;the&#160;&#160;important&#160;&#160;milestones&#160;&#160;that&#160;&#160;are&#160;<br/>supported&#160;in&#160;the&#160;different&#160;versions of&#160;the&#160;component.&#160;&#160;<br/>
<b>Component&#160;Version&#160;&#160;New&#160;Features&#160;<br/></b>1.00.00&#160;<br/>
Implementation&#160;according&#160;to&#160;AUTOSAR&#160;release&#160;4.0.3&#160;<br/>
1.03.00&#160;<br/>
Support&#160;of&#160;Post-Build Loadable&#160;<br/>
2.00.00&#160;<br/>
Support&#160;of&#160;Bus&#160;Type&#160;Ethernet,&#160;support&#160;of&#160;J1939&#160;NM&#160;<br/>
3.01.00&#160;<br/>
MICROSAR&#160;Identity&#160;Manager&#160;using&#160;Post-Build Selectable,&#160;support&#160;of&#160;Bus&#160;<br/>Type&#160;INTERNAL&#160;<br/>
4.00.00&#160;<br/>
Support&#160;of&#160;channel-specific&#160;Minimum&#160;Full&#160;Com&#160;Mode&#160;timer&#160;<br/>
5.00.00&#160;<br/>
Pnc to&#160;Channel&#160;Routing&#160;Limitation&#160;<br/>
7.00.00&#160;<br/>
Extended RAM&#160;Check&#160;<br/>
8.00.00&#160;<br/>
Reset&#160;after&#160;Forcing&#160;NO_COM&#160;functionality&#160;<br/>
Table&#160;1-1&#160;&#160;&#160;Component&#160;history&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
11&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=12></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-12_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>2&#160;&#160;Introduction&#160;</b><br/>
This&#160;&#160;document&#160;&#160;describes&#160;&#160;the&#160;&#160;functionality,&#160;API&#160;&#160;and&#160;&#160;configuration&#160;&#160;of&#160;&#160;the&#160;AUTOSAR&#160;&#160;BSW&#160;<br/>module&#160;COMM&#160;as specified&#160;in<a href="TechnicalReference_ComMs.html#5">&#160;[1].</a>&#160;<br/>
&#160;<br/>
<b>Supported&#160;AUTOSAR&#160;Release:&#160;</b><br/>
4&#160;<br/>
<b>Supported&#160;Configuration&#160;Variants:&#160;</b><br/>
pre-compile,&#160;post-build-loadable&#160;<br/>
<b>Vendor&#160;ID:&#160;</b><br/>
COMM_VENDOR_ID&#160;<br/>
30&#160;decimal&#160;<br/>(=&#160;Vector-Informatik,&#160;<br/>according&#160;to&#160;HIS)&#160;<br/>
<b>Module&#160;ID:&#160;</b><br/>
COMM_MODULE_ID&#160;<br/>
12&#160;decimal&#160;<br/>(according&#160;to ref.&#160;[3])&#160;<br/>
&#160;<br/>&#160;<br/>
The&#160;&#160;Communication&#160;&#160;Manager&#160;&#160;is&#160;&#160;a&#160;&#160;resource&#160;&#160;manager,&#160;&#160;which&#160;&#160;encapsulates&#160;&#160;the&#160;&#160;control&#160;&#160;of&#160;<br/>the&#160;underlying&#160;communication&#160;services.&#160;<br/>The&#160;purpose&#160;of&#160;the&#160;COMM&#160;module&#160;is:&#160;<br/>
<b>&gt;&#160;&#160;</b>Coordinating&#160;different&#160;wake-up&#160;events&#160;independent&#160;of&#160;the&#160;used&#160;bus&#160;system.&#160;<br/>
<b>&gt;&#160;&#160;</b>Providing&#160;the&#160;concept&#160;of&#160;user to&#160;request&#160;Communication&#160;Modes.&#160;Coordinating&#160;<br/>
requests&#160;of&#160;multiple&#160;independent&#160;users.&#160;<br/>
<b>&gt;&#160;&#160;</b>Controlling&#160;of&#160;more&#160;than&#160;one&#160;communication&#160;bus channel of&#160;an&#160;ECU by&#160;implementing&#160;<br/>
a&#160;channel state&#160;machine&#160;for every&#160;channel.&#160;<br/>
<b>&gt;&#160;&#160;</b>Simplifying&#160;the&#160;resource&#160;management&#160;by&#160;allocating&#160;all resources&#160;which&#160;are necessary&#160;<br/>
to&#160;start&#160;or shutdown&#160;communication.&#160;<br/>
<b>&gt;&#160;&#160;</b>Simplifying&#160;the&#160;handling&#160;of&#160;the&#160;underlying&#160;communication&#160;stack (e.g.&#160;network&#160;<br/>
management&#160;handling).&#160;<br/>
<b>&gt;&#160;&#160;</b>Providing&#160;mode&#160;inhibition&#160;functionality&#160;to&#160;limit&#160;the&#160;communication&#160;capabilities&#160;of&#160;the&#160;<br/>
ECU.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
12&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=13></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-13_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-13_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>2.1&#160;</b><br/>
<b>Architecture&#160;Overview&#160;</b><br/>
The&#160;following&#160;figure shows&#160;where the&#160;COMM&#160;is located&#160;in&#160;the&#160;AUTOSAR architecture.&#160;<br/>
&#160;<br/>
Figure&#160;2-1&#160;&#160;AUTOSAR&#160;4.x&#160;Architecture&#160;Overview&#160;&#160;&#160;<br/>&#160;&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
13&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=14></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-14_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
The&#160;next&#160;figure shows the&#160;interfaces to&#160;adjacent&#160;modules&#160;of&#160;the&#160;COMM.&#160;These&#160;interfaces&#160;<br/>are described&#160;in&#160;chapte<a href="TechnicalReference_ComMs.html#35">r&#160;4.</a>&#160;<br/>&#160;<br/>
<b>class&#160;Architecture</b><br/>
<b>Nm</b><br/>
<b>Dcm</b><br/>
<b>Com</b><br/>
<b>Rte</b><br/>
<b>ComM</b><br/>
<b>EcuM</b><br/>
<b>Bsw&#160;M</b><br/>
<b>Det</b><br/>
<b>Nv&#160;M</b><br/>
<b>CanSM</b><br/>
<b>EthSm</b><br/>
<b>FrSm</b><br/>
<b>LinSm</b><br/>
&#160;<br/>
Figure&#160;2-2&#160;&#160;Interfaces&#160;to&#160;adjacent&#160;modules&#160;of&#160;the&#160;COMM&#160;<br/>
Applications do&#160;not&#160;access the&#160;services&#160;of&#160;the&#160;BSW&#160;modules&#160;directly.&#160;They&#160;use&#160;the&#160;service&#160;<br/>ports provided&#160;by&#160;the&#160;BSW&#160;modules&#160;via&#160;the&#160;RTE.&#160;The&#160;service&#160;ports&#160;provided&#160;by&#160;the&#160;<br/>COMM&#160;are listed&#160;in&#160;chapte<a href="TechnicalReference_ComMs.html#65">r&#160;6&#160;</a>and&#160;are defined&#160;in<a href="TechnicalReference_ComMs.html#5">&#160;[1].</a>&#160;&#160;<br/>&#160;<br/>&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
14&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=15></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-15_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>3&#160;&#160;Functional&#160;Description&#160;</b><br/>
<b>3.1&#160;</b><br/>
<b>Features&#160;</b><br/>
The&#160;features&#160;listed&#160;in&#160;the&#160;following&#160;tables&#160;cover&#160;the&#160;complete&#160;functionality&#160;specified&#160;for&#160;the&#160;<br/>COMM.&#160;<br/>The&#160;AUTOSAR&#160;&#160;standard&#160;&#160;functionality&#160;&#160;is&#160;&#160;specified&#160;&#160;in<a href="TechnicalReference_ComMs.html#5">&#160;&#160;[1],</a>&#160;&#160;the&#160;&#160;corresponding&#160;&#160;features&#160;&#160;are&#160;<br/>listed&#160;in&#160;the&#160;tables&#160;<br/>
<b>&gt;&#160;&#160;</b><a href="TechnicalReference_ComMs.html#15">Table&#160;3-1&#160;&#160;&#160;Supported&#160;AUTOSAR&#160;standard conform&#160;features&#160;</a><br/>
<b>&gt;&#160;&#160;</b><a href="TechnicalReference_ComMs.html#16">Table&#160;3-2&#160;&#160;&#160;Not&#160;supported&#160;AUTOSAR standard conform&#160;features&#160;</a><br/>
Refer to&#160;the&#160;chapte<a href="TechnicalReference_ComMs.html#16">r&#160;3.1.1&#160;</a>for&#160;further information&#160;on&#160;not&#160;supported&#160;features.&#160;<br/>Vector&#160;&#160;Informatik&#160;&#160;provides&#160;&#160;further&#160;&#160;COMM&#160;&#160;functionality&#160;&#160;beyond&#160;&#160;the&#160;&#160;AUTOSAR&#160;&#160;standard.&#160;<br/>The&#160;corresponding&#160;features&#160;are&#160;listed&#160;in&#160;the&#160;table&#160;<br/>
<b>&gt;&#160;&#160;</b><a href="TechnicalReference_ComMs.html#16">Table&#160;3-3&#160;&#160;&#160;Features&#160;provided&#160;beyond&#160;the&#160;AUTOSAR standard&#160;</a><br/>
&#160;<br/>
The&#160;following&#160;features&#160;specified&#160;<a href="TechnicalReference_ComMs.html#5">in&#160;[1]&#160;</a>are&#160;supported:&#160;<br/>
<b>Supported&#160;AUTOSAR&#160;Standard&#160;Conform&#160;Features&#160;<br/></b>Communication&#160;Control&#160;Handling&#160;&#160;<br/>Synchronous&#160;wake up&#160;of&#160;channels&#160;<br/>NM&#160;Variant&#160;Handling:&#160;FULL&#160;<br/>NM&#160;Variant&#160;Handling:&#160;LIGHT&#160;<br/>NM&#160;Variant&#160;Handling:&#160;NONE&#160;<br/>NM&#160;Variant&#160;Handling:&#160;PASSIVE&#160;<br/>Mode Limitation No&#160;Communication&#160;<br/>Bus&#160;Wake-up&#160;Inhibition&#160;<br/>Service Port:&#160;ComM_UserRequest&#160;<br/>Service Port:&#160;ComM_ECUModeLimitation&#160;<br/>Service Port:&#160;ComM_ChannelWakeUp&#160;<br/>Service Port:&#160;ComM_ChannelLimitation&#160;<br/>Service Port:&#160;ComM_CurrentMode&#160;<br/>Service Port:&#160;ComM_CurrentChannelRequest&#160;<br/>Storage of&#160;non-volatile&#160;values&#160;<br/>Partial&#160;Network&#160;Cluster&#160;Management&#160;<br/>Detection&#160;and&#160;notification of&#160;development&#160;errors&#160;to DET&#160;<br/>COMM&#160;bus&#160;type&#160;INTERNAL&#160;<br/>Reset&#160;after&#160;Forcing&#160;NO_COM&#160;functionality,&#160;see&#160;chapter<a href="TechnicalReference_ComMs.html#29">&#160;3.5.2.1&#160;</a><br/>
Table&#160;3-1&#160;&#160;&#160;Supported&#160;AUTOSAR&#160;standard&#160;conform&#160;features&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
15&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=16></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-16_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>3.1.1&#160;</b><br/>
<b>Deviations&#160;</b><br/>
The&#160;following&#160;features&#160;specified&#160;<a href="TechnicalReference_ComMs.html#5">in&#160;[1]&#160;</a>are&#160;not&#160;supported:&#160;<br/>
<b>Category&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>ASR&#160;<br/>Version&#160;</b><br/>
Config&#160;<br/>
ComMDirectUserMapping&#160;<br/>
4.0.3&#160;<br/>
Config&#160;<br/>
ComMUserEcucPartitionRef&#160;<br/>
4.0.3&#160;<br/>
Config&#160;<br/>
ComMUserPerPnc (COMM&#160;does not&#160;support&#160;PNCs&#160;without&#160;user&#160;assigned&#160;&#160;4.0.3&#160;<br/>to it)&#160;<br/>
Functional&#160;&#160;Version checking&#160;(COMM&#160;does not&#160;perform&#160;Inter&#160;Module version checks)&#160;&#160;4.0.3&#160;<br/>
&lt;&#160;4.1.2&#160;<br/>
Table&#160;3-2&#160;&#160;&#160;Not&#160;supported&#160;AUTOSAR&#160;standard&#160;conform&#160;features&#160;<br/>
<b>3.1.1.1&#160;</b><br/>
<b>Variant&#160;Post-Build&#160;</b><br/>
Instead&#160;&#160;of&#160;&#160;the&#160;&#160;Configuration&#160;&#160;Variant&#160;&#160;Post-Build,&#160;&#160;the&#160;&#160;Variant&#160;&#160;Post-Build-Loadable&#160;&#160;is&#160;<br/>supported.&#160;<br/>
<b>3.1.2&#160;</b><br/>
<b>Additions/&#160;Extensions&#160;</b><br/>
The&#160;following&#160;features&#160;are provided&#160;beyond&#160;the&#160;AUTOSAR standard:&#160;<br/>
<b>Features&#160;Provided Beyond The&#160;AUTOSAR&#160;Standard&#160;<br/></b>Enabling&#160;or&#160;disabling&#160;of&#160;User&#160;Mode Notification per&#160;COMM&#160;user&#160;(ComMUserModeNotification)&#160;<br/>Optional&#160;inclusion&#160;of&#160;a&#160;user&#160;configuration&#160;file&#160;(ComMUserConfigurationFile)&#160;<br/>Development&#160;Error&#160;Reporting&#160;is&#160;extended by&#160;COMM_E_NOSUPPORTED_MODECHANGE,&#160;<br/>COMM_E_ERROR_IN_PROV_SERVICE,&#160;COMM_E_DIAGNOSTIC_NOT_SUPPORTED&#160;<br/>Memory&#160;Initialization&#160;<br/>Post-Build Loadable,&#160;see&#160;chapter<a href="TechnicalReference_ComMs.html#17">&#160;3.1.2.2&#160;<br/></a>As&#160;a compatibility&#160;feature,&#160;the&#160;Client-Server-Interface&#160;ComM_ChannelWakeUp&#160;can&#160;omit&#160;the&#160;<br/>operation&#160;GetInhibitionStatus,&#160;see&#160;chapter<a href="TechnicalReference_ComMs.html#65">&#160;6.1.1.1.3&#160;<br/></a>Possibility&#160;to assign&#160;COMM&#160;users&#160;to COMM&#160;channels&#160;with Nm&#160;variant&#160;PASSIVE.&#160;Communication&#160;<br/>Requests&#160;of&#160;such users&#160;will&#160;be&#160;ignored.&#160;A&#160;possible use&#160;case is&#160;triggering&#160;a&#160;runnable via RTE&#160;<br/>mode switch interface<a href="TechnicalReference_ComMs.html#66">&#160;ComM_CurrentMode.</a>&#160;<br/>Timer-based&#160;shutdown synchronization via&#160;Silent&#160;state,&#160;see chapter<a href="TechnicalReference_ComMs.html#17">&#160;3.1.2.3&#160;<br/></a>Partial&#160;Network&#160;Cluster&#160;ID&#160;counting&#160;is&#160;supported&#160;accordingly&#160;to&#160;Autosar&#160;version 4.0.x&#160;and 4.1.x&#160;<br/>as well.&#160;Refer&#160;to&#160;the&#160;description of&#160;parameter&#160;‘Pnc Id&#160;Counting’&#160;for&#160;more&#160;information.&#160;<br/>NvM&#160;support&#160;is&#160;optional&#160;when using&#160;Mode Limitation.&#160;Refer&#160;to&#160;the&#160;description&#160;of&#160;parameter&#160;<br/>‘Global&#160;NvM&#160;Block&#160;Descriptor’&#160;for&#160;more information.&#160;<br/>MICROSAR&#160;Identity&#160;Manager&#160;using&#160;Post-Build Selectable&#160;<br/>Support&#160;of&#160;channel-specific&#160;Minimum&#160;Full&#160;Com&#160;Mode&#160;timer,&#160;see&#160;chapter<a href="TechnicalReference_ComMs.html#17">&#160;3.1.2.4&#160;<br/></a><a href="TechnicalReference_ComMs.html#18">Pnc to&#160;Channel&#160;Routing&#160;Limitation&#160;<br/></a>Extended RAM&#160;Check,&#160;see&#160;chapter<a href="TechnicalReference_ComMs.html#20">&#160;3.1.2.6&#160;</a><br/>
Table&#160;3-3&#160;&#160;&#160;Features&#160;provided&#160;beyond&#160;the&#160;AUTOSAR&#160;standard&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
16&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=17></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-17_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>3.1.2.1&#160;</b><br/>
<b>Memory&#160;Initialization&#160;</b><br/>
Not&#160;every&#160;start-up&#160;code&#160;of&#160;embedded&#160;targets&#160;and&#160;neither&#160;CANoe&#160;provide&#160;initialized&#160;RAM.&#160;<br/>It&#160;thus&#160;may&#160;happen&#160;that&#160;the&#160;state&#160;of&#160;a&#160;variable&#160;that&#160;needs initialized&#160;RAM may&#160;not&#160;be&#160;set&#160;to&#160;<br/>the&#160;&#160;expected&#160;&#160;initial&#160;&#160;value.&#160;&#160;Therefore&#160;&#160;an&#160;&#160;explicit&#160;&#160;initialization&#160;&#160;of&#160;&#160;such&#160;&#160;variables&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;<br/>provided&#160;at&#160;start-up&#160;by&#160;calling&#160;the&#160;additional&#160;function&#160;ComM_InitMemory.&#160;<br/>
For more&#160;information&#160;refer to&#160;chapte<a href="TechnicalReference_ComMs.html#21">r&#160;3.2&#160;‘Initialization’.</a>&#160;<br/>
<b>3.1.2.2&#160;</b><br/>
<b>Post-Build Loadable&#160;</b><br/>
In&#160;&#160;the&#160;&#160;Variant&#160;&#160;Post-Build-Loadable,&#160;&#160;the&#160;&#160;configuration&#160;&#160;parameters&#160;&#160;‘ComMChannelPerPnc’&#160;<br/>and&#160;&#160;‘ComMUserPerPnc’&#160;&#160;are&#160;&#160;also&#160;&#160;changeable&#160;&#160;during&#160;&#160;the&#160;&#160;post-build&#160;&#160;phase&#160;&#160;as&#160;&#160;addition&#160;&#160;to&#160;<br/>the&#160;post-build-changeable&#160;parameter&#160;ComMPncEnabled&#160;required&#160;by<a href="TechnicalReference_ComMs.html#5">&#160;[1].</a>&#160;<br/>The&#160;following&#160;use&#160;cases are supported&#160;in&#160;post-build&#160;phase&#160;in&#160;addition&#160;to<a href="TechnicalReference_ComMs.html#5">&#160;[1]:</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>Assign&#160;a&#160;non-coordinated&#160;PNC&#160;to&#160;another channel&#160;on&#160;an&#160;ECU&#160;with&#160;multiple&#160;channels.&#160;<br/>
<b>&gt;&#160;&#160;</b>Assign&#160;a&#160;coordinated&#160;PNC&#160;to&#160;other channels.&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>Remove&#160;or add&#160;one&#160;or&#160;more&#160;users to&#160;a&#160;PNC.&#160;It&#160;is allowed&#160;that&#160;a&#160;user&#160;is not&#160;assigned&#160;<br/>
to&#160;any&#160;PNC&#160;anymore.&#160;<br/>
There are&#160;following&#160;limitations&#160;to&#160;be&#160;taken&#160;into&#160;account:&#160;<br/>
<b>&gt;&#160;&#160;</b>Coordination&#160;type&#160;of&#160;PNCs cannot&#160;be&#160;changed&#160;in&#160;post-build&#160;phase.&#160;If&#160;a&#160;PNC&#160;was&#160;<br/>
coordinated&#160;in&#160;pre-compile&#160;phase&#160;it&#160;shall&#160;remain&#160;coordinated&#160;in&#160;post-build&#160;phase&#160;and&#160;<br/>vice&#160;versa.&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;changing&#160;the&#160;assignment&#160;of&#160;PNC&#160;to&#160;channels, the&#160;PNC&#160;signal configuration&#160;made&#160;in&#160;<br/>
pre-compile&#160;phase&#160;(parameter ‘ComMPncComSignal’)&#160;must&#160;reference&#160;the&#160;channels,&#160;<br/>which&#160;are added&#160;in&#160;post-build&#160;phase.&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>PNCs cannot&#160;be&#160;added&#160;or removed&#160;in&#160;post-build&#160;phase.&#160;<br/>
<b>&gt;&#160;&#160;</b>Each&#160;PNC&#160;shall&#160;be&#160;assigned&#160;to&#160;at&#160;least&#160;one&#160;channel&#160;and&#160;to&#160;at&#160;least&#160;one&#160;user.&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;a&#160;COMM&#160;user was assigned&#160;to&#160;one&#160;or&#160;more&#160;channels in&#160;pre-compile&#160;phase,&#160;it&#160;cannot&#160;<br/>
be&#160;assigned&#160;to&#160;PNCs in&#160;post-build&#160;phase&#160;and&#160;vice&#160;versa.&#160;<br/>
<b>&gt;&#160;&#160;</b>COMM&#160;users cannot&#160;be&#160;created&#160;or deleted&#160;in&#160;post-build&#160;phase.&#160;<br/>
<b>3.1.2.3&#160;</b><br/>
<b>Timer-based&#160;Shutdown&#160;Synchronization via&#160;Silent&#160;State&#160;</b><br/>
‘Nm&#160;&#160;Light&#160;&#160;Silent&#160;&#160;Timeout’&#160;&#160;timer&#160;&#160;specifies&#160;&#160;the&#160;&#160;time&#160;&#160;duration&#160;&#160;spent&#160;&#160;in&#160;&#160;the&#160;&#160;state&#160;<br/>COMM_SILENT_COMMUNICATION&#160;&#160;after&#160;&#160;leaving&#160;&#160;COMM_FULL_COM_READY_SLEEP&#160;<br/>state&#160;&#160;and&#160;&#160;before&#160;&#160;entering&#160;&#160;COMM_NO_COMMUNICATION&#160;&#160;state.&#160;&#160;This&#160;&#160;is&#160;&#160;similar&#160;&#160;to&#160;&#160;the&#160;<br/>Prepare&#160;Bus&#160;Sleep&#160;Phase&#160;when&#160;Network&#160;Management&#160;is&#160;used.&#160;This&#160;timer&#160;is&#160;only&#160;available&#160;<br/>for channels with&#160;Bus&#160;Type&#160;CAN&#160;and&#160;Nm Variant&#160;LIGHT.&#160;<br/>
<b>3.1.2.4&#160;</b><br/>
<b>Channel-specific&#160;Minimum Full&#160;Com Mode&#160;Timer&#160;</b><br/>
The&#160;&#160;optional&#160;&#160;channel-specific&#160;&#160;parameter&#160;&#160;‘TMin&#160;&#160;Full&#160;&#160;Com&#160;&#160;Mode&#160;&#160;Duration&#160;&#160;Of&#160;&#160;Channel’&#160;&#160;is&#160;<br/>used&#160;to&#160;initialize&#160;the&#160;Minimum&#160;Full&#160;Com&#160;Mode&#160;timer&#160;of&#160;a&#160;channel.&#160;It&#160;specifies&#160;the&#160;minimum&#160;<br/>time&#160;<br/>
duration,&#160;<br/>
spent&#160;<br/>
in&#160;<br/>
the&#160;<br/>
COMM_FULL_COMMUNICATION&#160;<br/>
sub-state&#160;<br/>
COMM_FULL_COM_NETWORK_REQUESTED.&#160;&#160;The&#160;&#160;parameter&#160;&#160;is&#160;&#160;only&#160;&#160;available&#160;&#160;for&#160;<br/>channels with&#160;Nm&#160;Variants&#160;LIGHT&#160;and&#160;FULL.&#160;<br/>If&#160;the&#160;channel has&#160;Nm&#160;Variant&#160;LIGHT:&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
17&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=18></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-18_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;parameter is used&#160;instead&#160;of&#160;the&#160;global ‘TMin&#160;Full Com&#160;Mode&#160;Duration’.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;Minimum&#160;Full Com&#160;Mode&#160;timer is started&#160;when&#160;entering&#160;the&#160;state&#160;<br/>
COMM_FULL_COMMUNICATION.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;Minimum&#160;Full&#160;Com&#160;Mode&#160;timer is cancelled&#160;if&#160;a&#160;user or Dcm&#160;requests&#160;<br/>
communication.&#160;<br/>
If&#160;the&#160;channel has&#160;Nm&#160;Variant&#160;FULL:&#160;<br/>
<b>&gt;&#160;&#160;</b>It&#160;is recommended&#160;to&#160;use&#160;this&#160;parameter if&#160;the&#160;corresponding&#160;BusNm&#160;does&#160;not&#160;support&#160;<br/>
the&#160;Repeat&#160;Message&#160;Time&#160;functionality&#160;(e.g.&#160;NmOsek).&#160;<br/>
<b>&gt;&#160;&#160;</b>It&#160;is not&#160;recommended&#160;to&#160;use&#160;this&#160;parameter if&#160;the&#160;corresponding&#160;BusNm&#160;supports&#160;the&#160;<br/>
Repeat&#160;Message&#160;Time&#160;functionality&#160;(e.g.&#160;CanNm,&#160;FrNm&#160;or UdpNm).&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;Minimum&#160;Full&#160;Com&#160;Mode&#160;timer is started&#160;when&#160;entering&#160;the&#160;state&#160;<br/>
COMM_FULL_COMMUNICATION.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;Minimum&#160;Full&#160;Com&#160;Mode&#160;timer cannot&#160;be&#160;cancelled.&#160;<br/>
<b>3.1.2.5&#160;</b><br/>
<b>Pnc&#160;to&#160;Channel&#160;Routing Limitation&#160;</b><br/>
This&#160;feature&#160;allows a&#160;selective&#160;limitation&#160;of&#160;Partial Network Routing&#160;at&#160;runtime.&#160;<br/>The&#160;&#160;feature&#160;&#160;is&#160;&#160;de-activated&#160;&#160;per&#160;&#160;default.&#160;&#160;In&#160;&#160;this&#160;&#160;case&#160;&#160;ComM&#160;&#160;will&#160;&#160;route&#160;&#160;Partial&#160;&#160;Network&#160;<br/>requests&#160;&#160;to&#160;&#160;all&#160;&#160;channels&#160;&#160;mapped&#160;&#160;to&#160;&#160;the&#160;&#160;Partial&#160;&#160;Network&#160;&#160;according&#160;&#160;to&#160;&#160;AUTOSAR&#160;<br/>specification<a href="TechnicalReference_ComMs.html#5">&#160;[1].</a>&#160;<br/>If&#160;the&#160;feature&#160;is&#160;activated,&#160;it&#160;is&#160;possible&#160;to&#160;limit&#160;the&#160;routing&#160;of&#160;Partial&#160;Network&#160;requests&#160;on&#160;<br/>particular&#160;&#160;channels&#160;&#160;using&#160;&#160;the&#160;&#160;API&#160;&#160;<a href="TechnicalReference_ComMs.html#52">ComM_LimitPncToChannelRouting()</a>.&#160;&#160;The&#160;&#160;Routing&#160;<br/>Limitation&#160;can&#160;be&#160;applied&#160;to&#160;channels&#160;with&#160;both&#160;active&#160;and&#160;passive&#160;gateway&#160;(coordination)&#160;<br/>types.&#160;There&#160;are&#160;three&#160;states&#160;of&#160;Routing&#160;Limitation&#160;on&#160;a&#160;channel&#160;that&#160;are&#160;described&#160;in&#160;the&#160;<br/><a href="TechnicalReference_ComMs.html#18">Table&#160;3-4.</a>&#160;<br/>
<b>State&#160;of&#160;Partial&#160;Network Routing&#160;Limitation&#160;</b><br/>
<b>GW&#160;routes&#160;</b><br/>
<b>GW&#160;keeps&#160;</b><br/>
<b>on&#160;the&#160;channel&#160;</b><br/>
<b>PNC&#160;requests&#160;&#160;the&#160;channel&#160;<br/>to the&#160;channel&#160;&#160;awake&#160;&#160;</b><br/>
<b>Disabled</b>&#160;in&#160;one of&#160;the&#160;following&#160;cases:&#160;<br/>
<b>&gt;&#160;&#160;</b>Disabled&#160;temporarily&#160;as long&#160;as a&#160;ComM&#160;user&#160;mapped&#160;to&#160;the&#160;<br/>
channel&#160;(not&#160;to PNC)&#160;requests&#160;FULL_COM&#160;or&#160;<br/>
<b>&gt;&#160;&#160;</b>Disabled&#160;temporarily&#160;as long&#160;as ERA&#160;signal&#160;containing&#160;a&#160;PNC&#160;<br/>
&#160;<br/>
&#160;<br/>
request&#160;is&#160;received&#160;on&#160;the channel&#160;or&#160;<br/>
<b>&gt;&#160;&#160;</b>A&#160;PNC&#160;is&#160;requested&#160;by&#160;a ComM&#160;user&#160;or&#160;by&#160;another&#160;ECU&#160;and&#160;<br/>
the&#160;routing&#160;of&#160;this&#160;PNC&#160;to the&#160;channel&#160;is&#160;<b>not</b>&#160;limited.&#160;<br/>
<b>Partly&#160;disabled</b>&#160;if&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>None of&#160;above applies and&#160;&#160;<br/>
<br/>
<b>&gt;&#160;&#160;</b>As&#160;long as&#160;Network&#160;Management&#160;is&#160;in state ‘Repeat&#160;Message’&#160;<br/>
&#160;<br/>
&#160;<br/>
on&#160;the&#160;channel&#160;(e.g.&#160;after&#160;receiving&#160;Nm&#160;message&#160;in state&#160;<br/>‘Prepare&#160;Bus&#160;Sleep’).&#160;<br/>
<b>Enabled</b>&#160;if&#160;none&#160;of&#160;the&#160;above applies.&#160;<br/>
&#160;<br/>
&#160;<br/>
Table&#160;3-4&#160;&#160;&#160;States&#160;of&#160;Routing&#160;Limitation&#160;on&#160;a&#160;channel&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
18&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=19></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-19_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
The&#160;&#160;states&#160;&#160;of&#160;&#160;Routing&#160;&#160;Limitation&#160;&#160;determine&#160;&#160;whether&#160;&#160;the&#160;&#160;GW&#160;&#160;routes&#160;&#160;PNC&#160;&#160;requests&#160;&#160;to&#160;&#160;a&#160;<br/>particular&#160;channel&#160;and&#160;whether&#160;the&#160;GW&#160;keeps&#160;the&#160;channel&#160;awake&#160;by&#160;sending&#160;its&#160;own&#160;Nm&#160;<br/>message.&#160;The&#160;basic&#160;rule&#160;is&#160;that&#160;the&#160;PNC&#160;requests&#160;are&#160;to&#160;be&#160;routed&#160;to&#160;a&#160;channel&#160;if&#160;the&#160;GW&#160;<br/>sends its&#160;Nm&#160;message&#160;on&#160;it.&#160;<br/>The&#160;Routing&#160;Limitation&#160;states&#160;are&#160;exclusive&#160;and&#160;have&#160;the&#160;following&#160;meaning:&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;Routing&#160;Limitation&#160;is&#160;<b>disabled</b>&#160;on&#160;a&#160;channel,&#160;ComM&#160;will keep&#160;the&#160;channel awake&#160;and&#160;<br/>
route&#160;the&#160;request&#160;to&#160;it.&#160;Nm&#160;will set&#160;the&#160;corresponding&#160;bits&#160;to&#160;1&#160;within&#160;PNC&#160;vector in&#160;the&#160;<br/>Nm&#160;message&#160;sent&#160;by&#160;the&#160;GW.&#160;<br/>
<b>&gt;&#160;&#160;</b>Otherwise&#160;if&#160;Routing&#160;Limitation&#160;is&#160;<b>partly&#160;disabled</b>&#160;on&#160;a&#160;channel, ComM&#160;will not&#160;keep&#160;<br/>
the&#160;channel awake&#160;but&#160;will route&#160;the&#160;request&#160;to&#160;it.&#160;Nm will set&#160;the&#160;corresponding&#160;bits to&#160;<br/>1&#160;within&#160;PNC&#160;vector in&#160;the&#160;Nm&#160;message&#160;sent&#160;by&#160;the&#160;GW.&#160;<br/>
<b>&gt;&#160;&#160;</b>Otherwise&#160;if&#160;Routing&#160;Limitation&#160;is&#160;<b>enabled</b>&#160;on&#160;a&#160;channel,&#160;ComM&#160;will&#160;not&#160;keep&#160;the&#160;<br/>
channel awake&#160;and&#160;there is&#160;no&#160;Nm&#160;messages sent&#160;by&#160;the&#160;GW.&#160;<br/>
The&#160;&#160;feature&#160;&#160;introduces&#160;&#160;an&#160;&#160;additional&#160;&#160;condition&#160;&#160;for&#160;&#160;a&#160;&#160;PNC&#160;&#160;to&#160;&#160;enter&#160;&#160;the&#160;&#160;state&#160;<br/>PNC_REQUESTED.&#160;If&#160;a&#160;ComM&#160;user&#160;mapped&#160;to&#160;the&#160;PNC&#160;requests&#160;FULL_COM,&#160;the&#160;PNC&#160;<br/>is&#160;allowed&#160;to&#160;enter&#160;PNC_REQUESTED&#160;if&#160;at&#160;least&#160;one&#160;channel&#160;mapped&#160;to&#160;the&#160;PNC&#160;has&#160;the&#160;<br/>Routing&#160;Limitation&#160;<b>disabled</b>&#160;or&#160;<b>partly&#160;disabled</b>.&#160;If&#160;all&#160;channels&#160;have&#160;the&#160;Routing&#160;Limitation&#160;<br/><b>enabled</b>,&#160;the&#160;request&#160;is stored&#160;but&#160;inhibited.&#160;<br/>The&#160;following&#160;use&#160;cases are aimed&#160;to&#160;illustrate&#160;the&#160;rules&#160;described&#160;above:&#160;<br/>
<b>&gt;&#160;&#160;</b>PNC&#160;user requests&#160;FULL_COM,&#160;but&#160;Routing&#160;Limitation&#160;is&#160;<b>enabled</b>&#160;on&#160;all&#160;channels&#160;<br/>
mapped&#160;to&#160;the&#160;PNC.&#160;The&#160;request&#160;is stored&#160;but&#160;not&#160;granted.&#160;<br/>
<b>&gt;&#160;&#160;</b>PNC&#160;user requests&#160;FULL_COM&#160;and&#160;there&#160;is&#160;at&#160;least&#160;one&#160;channel&#160;mapped&#160;to&#160;the&#160;PNC&#160;<br/>
having&#160;Routing&#160;Limitation&#160;<b>disabled</b>&#160;or&#160;<b>partly&#160;disabled</b>.&#160;ComM&#160;will execute&#160;the&#160;request&#160;<br/>and&#160;PNC&#160;will enter PNC_REQUESTED state.&#160;ComM&#160;will notify&#160;BswM.&#160;<br/>
<b>&gt;&#160;&#160;</b>Requests&#160;via&#160;ERA=1&#160;are always&#160;granted&#160;because&#160;Routing&#160;Limitation&#160;is&#160;<b>disabled</b>&#160;<br/>
temporarily&#160;on&#160;the&#160;channel where ERA&#160;was received&#160;as long&#160;as the&#160;value&#160;of&#160;ERA&#160;is&#160;1.&#160;<br/>
<b>&gt;&#160;&#160;</b>Routing&#160;Limitation&#160;on&#160;a&#160;channel can&#160;be&#160;<b>disabled</b>&#160;or&#160;<b>partly&#160;disabled</b>&#160;while&#160;the&#160;channel&#160;<br/>
is mapped&#160;to&#160;a&#160;PNC&#160;which&#160;is in&#160;state&#160;PNC_REQUESTED. Nm&#160;will set&#160;corresponding&#160;<br/>bits to&#160;1&#160;within&#160;PNC&#160;vector of&#160;the&#160;Nm&#160;message&#160;sent&#160;by&#160;the&#160;GW.&#160;<br/>
<b>&gt;&#160;&#160;</b>Routing&#160;Limitation&#160;on&#160;a&#160;channel can&#160;be&#160;<b>enabled</b>&#160;while&#160;the&#160;channel is&#160;mapped&#160;to&#160;a&#160;<br/>
PNC&#160;which&#160;is in&#160;state&#160;PNC_REQUESTED.&#160;GW&#160;will stop&#160;sending&#160;the&#160;Nm&#160;message&#160;on&#160;<br/>the&#160;channel.&#160;Other&#160;ECU’s on&#160;the&#160;channel will&#160;release&#160;the&#160;PNC&#160;due&#160;to&#160;timeout&#160;of&#160;‘Pn&#160;<br/>Reset&#160;Time’&#160;in&#160;Nm.&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;a&#160;PNC&#160;is in&#160;state&#160;PNC_REQUESTED because&#160;a&#160;user requests&#160;FULL_COM&#160;and&#160;<br/>
Routing&#160;Limitation&#160;is&#160;<b>enabled</b>&#160;on&#160;all&#160;channels,&#160;the&#160;PNC&#160;will enter&#160;<br/>PNC_READY_SLEEP&#160;state.&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
19&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=20></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-20_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-20_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-20_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>It&#160;is&#160;ensured&#160;that&#160;the&#160;content&#160;of&#160;PNC&#160;vector&#160;is&#160;consistent&#160;among all&#160;Nm&#160;messages&#160;that&#160;<br/>
<b>&#160;&#160;</b>GW&#160;sends&#160;on&#160;particular&#160;channels.&#160;The&#160;content&#160;of&#160;PNC&#160;vector&#160;considers&#160;the mapping&#160;of&#160;<br/>
Partial&#160;Networks&#160;to channels&#160;defined in&#160;the&#160;configuration.&#160;Therefore&#160;the&#160;content&#160;of&#160;PNC&#160;<br/>vector&#160;can&#160;differ&#160;on&#160;channels&#160;if&#160;there&#160;are&#160;PNCs&#160;that&#160;are not&#160;mapped&#160;to&#160;all&#160;channels.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>The&#160;State Change&#160;Indication&#160;callback&#160;must&#160;be&#160;configured&#160;within Nm&#160;Interface&#160;and&#160;the&#160;<br/>
<b>&#160;&#160;</b>related&#160;BusNm&#160;modules:&#160;<br/>
<b>&gt;&#160;&#160;</b>‘State&#160;Change&#160;Ind&#160;Enabled’&#160;functionality&#160;must&#160;be&#160;activated&#160;in each&#160;related&#160;BusNm.&#160;<br/>
<b>&gt;&#160;&#160;</b>‘Callbacks&#160;Prototype&#160;Header’&#160;of&#160;Nm&#160;Interface&#160;must&#160;be&#160;set&#160;to ‘ComM_Nm.h’.&#160;<br/>
<b>&gt;&#160;&#160;</b>‘State&#160;Change&#160;Indication&#160;Callback’&#160;of&#160;Nm&#160;Interface must&#160;be&#160;set&#160;to&#160;<br/>
<a href="TechnicalReference_ComMs.html#60">ComM_Nm_StateChangeNotification.</a>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.1.2.6&#160;</b><br/>
<b>Extended RAM&#160;Check&#160;</b><br/>
ComM&#160;&#160;supports&#160;&#160;Extended&#160;&#160;RAM&#160;&#160;check&#160;&#160;of&#160;&#160;the&#160;&#160;CAN&#160;&#160;registers&#160;&#160;and&#160;&#160;Message&#160;&#160;Boxes.&#160;&#160;If&#160;&#160;the&#160;<br/>feature&#160;is activated,&#160;ComM&#160;evaluates&#160;RAM&#160;Check&#160;status&#160;before&#160;starting&#160;communication&#160;on&#160;<br/>a&#160;&#160;CAN&#160;&#160;channel.&#160;&#160;If&#160;&#160;Extended&#160;&#160;RAM&#160;&#160;Check&#160;&#160;fails&#160;&#160;on&#160;&#160;a&#160;&#160;CAN&#160;&#160;channel&#160;&#160;communication&#160;&#160;is&#160;&#160;not&#160;<br/>started.&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
20&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=21></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-21_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>3.1.3&#160;</b><br/>
<b>Limitations&#160;</b><br/>
<b>3.1.3.1&#160;</b><br/>
<b>Non-volatile&#160;Data&#160;Handling&#160;</b><br/>
COMM&#160;uses only&#160;the&#160;NVM global block&#160;descriptor to&#160;handle&#160;the&#160;COMM&#160;non-volatile&#160;data.&#160;<br/>
<b>3.1.3.2&#160;</b><br/>
<b>Assignment&#160;of Users&#160;to Channels&#160;and&#160;PNCs&#160;</b><br/>
COMM&#160;does&#160;not&#160;support&#160;assigning&#160;a&#160;COMM&#160;user&#160;to&#160;Channel(s)&#160;and&#160;PNC(s)&#160;at&#160;the&#160;same&#160;<br/>time.&#160;&#160;Instead,&#160;&#160;it&#160;&#160;is&#160;&#160;recommended&#160;&#160;to&#160;&#160;create&#160;&#160;two&#160;&#160;COMM&#160;&#160;users&#160;&#160;in&#160;&#160;this&#160;&#160;case,&#160;&#160;assigning&#160;&#160;the&#160;<br/>first&#160;one&#160;to&#160;Channel(s)&#160;and&#160;the&#160;second&#160;one&#160;to&#160;PNC(s).&#160;<br/>
<b>3.2&#160;</b><br/>
<b>Initialization&#160;</b><br/>
Before&#160;&#160;calling&#160;&#160;any&#160;&#160;other&#160;&#160;functionality&#160;&#160;of&#160;&#160;the&#160;&#160;COMM&#160;&#160;module&#160;&#160;the&#160;&#160;initialization&#160;&#160;function&#160;<br/>ComM_Init()&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;called&#160;&#160;by&#160;&#160;the&#160;&#160;application.&#160;The&#160;&#160;initialization&#160;&#160;call&#160;&#160;shall&#160;&#160;take&#160;&#160;place&#160;<br/>after initializing&#160;the&#160;BusSM and&#160;Nm&#160;modules.&#160;<br/>For&#160;API&#160;details refer to&#160;chapte<a href="TechnicalReference_ComMs.html#41">r&#160;5.2.2&#160;‘ComM_Init’</a>.&#160;<br/>The&#160;&#160;COMM&#160;&#160;module&#160;&#160;assumes&#160;&#160;that&#160;&#160;some&#160;&#160;variables&#160;&#160;are&#160;&#160;initialized&#160;&#160;with&#160;&#160;certain&#160;&#160;values&#160;&#160;at&#160;<br/>start-up.&#160;As&#160;not&#160;all&#160;embedded&#160;targets&#160;support&#160;the&#160;initialization&#160;of&#160;RAM&#160;within&#160;the&#160;start-up&#160;<br/>code&#160;the&#160;COMM&#160;module&#160;provides&#160;the&#160;function&#160;ComM_InitMemory().&#160;This function&#160;has&#160;to&#160;<br/>be&#160;called&#160;during&#160;start-up&#160;and&#160;before&#160;ComM_Init()&#160;is called.&#160;Refer also&#160;to&#160;chapte<a href="TechnicalReference_ComMs.html#17">r&#160;3.1.2.1.</a>&#160;<br/>
For&#160;API&#160;details refer to&#160;chapter<a href="TechnicalReference_ComMs.html#41">&#160;5.2.1&#160;‘ComM_InitMemory’’.</a>&#160;<br/>
<b>3.3&#160;</b><br/>
<b>States&#160;</b><br/>
<a href="TechnicalReference_ComMs.html#22">Figure&#160;&#160;3-1&#160;&#160;</a>shows&#160;&#160;the&#160;&#160;COMM&#160;&#160;state&#160;&#160;machine,&#160;&#160;which&#160;&#160;consists&#160;&#160;of&#160;&#160;three&#160;&#160;main&#160;&#160;states&#160;<br/>representing&#160;&#160;abstracted&#160;&#160;status&#160;&#160;of&#160;&#160;communication&#160;&#160;capabilities&#160;&#160;per&#160;&#160;channel.&#160;&#160;These&#160;&#160;states&#160;<br/>correspond&#160;to&#160;the&#160;Communication&#160;Modes,&#160;which&#160;are in&#160;focus of&#160;the&#160;users’&#160;interests:&#160;<br/>
<b>&gt;&#160;&#160;</b>COMM_NO_COMMUNICATION,&#160;<br/>
<b>&gt;&#160;&#160;</b>COMM_SILENT_COMMUNICATION,&#160;<br/>
<b>&gt;&#160;&#160;</b>COMM_FULL_COMMUNICATION.&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
21&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=22></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-22_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>&#160;stm&#160;ComM&#160;Main&#160;States</b><br/>
<b>COMM_FULL_COMMUNICATION</b><br/>
Full&#160;Communication&#160;requested&#160;Minimum&#160;FullCom&#160;Mode<br/>[Nm&#160;Variant&#160;LIGHT]<br/>
Timer&#160;running&#160;[Nm<br/>
/cancel&#160;Minimum&#160;FullCom<br/>
Variant&#160;LIGHT&#160;or&#160;FULL]<br/>
No&#160;Communication&#160;requested&#160;and&#160;Minimum<br/>
Mode&#160;Timer<br/>
FullCom&#160;Mode&#160;Timer&#160;expired&#160;[Nm&#160;Variant&#160;FULL]<br/>
Active<br/>
<b>COMM_FULL_COM_NETWORK_REQUESTED</b><br/>
No&#160;Communication&#160;requested&#160;[Nm&#160;Variant&#160;PASSIVE]<br/>
<b>COMM_FULL_COM_READY_SLEEP</b><br/>
Diagnostic<br/>
Minimum&#160;FullCom&#160;Mode&#160;Timer&#160;expired&#160;[Nm&#160;Variant&#160;LIGHT]<br/>
Full&#160;Comunication&#160;requested&#160;[Nm&#160;Variant&#160;LIGHT&#160;or&#160;FULL]<br/>
Active&#160;Diagnostic&#160;indication&#160;[Nm&#160;Variant&#160;LIGHT&#160;or&#160;FULL]<br/>
Network&#160;mode<br/>
Prepare&#160;Bus&#160;Sleep&#160;Mode<br/>
Full&#160;Communication<br/>
indication<br/>
indication&#160;[Nm&#160;Variant<br/>
Nm&#160;Light&#160;Timeout&#160;expired<br/>
requested<br/>
FULL&#160;or&#160;PASSIVE]<br/>
[Nm&#160;Variant&#160;LIGHT]<br/>
<b>COMM_SILENT_COMMUNICATION</b><br/>
[CommunicationAllowed&#160;==&#160;TRUE]<br/>
Nm&#160;Light&#160;Silent&#160;Timeout<br/>
Bus&#160;Sleep&#160;Mode&#160;indication<br/>
expired&#160;[Nm&#160;Variant&#160;LIGHT]<br/>
[Nm&#160;Variant&#160;FULL&#160;or&#160;PASSIVE]<br/>
<b>COMM_NO_COMMUNICATION</b><br/>
[CommunicationAllowed&#160;==&#160;FALSE]<br/>
FullCom&#160;requested&#160;[Mode&#160;Limitation&#160;is&#160;deactivated]<br/>
<b>COMM_NO_COM_REQUEST_PENDING</b><br/>
Active&#160;Diagnostic&#160;Indication<br/>
<b>COMM_NO_COM_NO_PENDING_REQUEST</b><br/>
Passive&#160;Wake-up&#160;indication<br/>
Pending&#160;FullCom&#160;request&#160;canceled<br/>
Inactive&#160;Diagnostic&#160;indication<br/>
ComM_Init()<br/>
Request&#160;NoCom<br/>
Start-up&#160;code&#160;or<br/>ComM_InitMemory()<br/>
<b>COMM_UNINIT</b><br/>
Power&#160;Off<br/>
&#160;&#160;<br/>
Figure&#160;3-1&#160;&#160;COMM&#160;channel&#160;state&#160;machine&#160;<br/>
The&#160;sub-states&#160;described&#160;below&#160;represent&#160;intermediate&#160;states,&#160;which&#160;perform&#160;activities&#160;to&#160;<br/>support&#160;&#160;a&#160;&#160;synchronized&#160;&#160;transition&#160;&#160;with&#160;&#160;external&#160;&#160;partners&#160;&#160;and&#160;&#160;managing&#160;&#160;protocols&#160;&#160;(e.g.&#160;<br/>Nm).&#160;The&#160;state&#160;machine&#160;is implemented&#160;for each&#160;communication&#160;channel independently.&#160;&#160;<br/>
<b>COMM_UNINIT&#160;</b><br/>
Before&#160;&#160;the&#160;&#160;COMM&#160;&#160;is&#160;&#160;initialized&#160;&#160;it&#160;&#160;stays&#160;&#160;in&#160;&#160;this&#160;&#160;state.&#160;&#160;The&#160;&#160;COMM&#160;&#160;functionality&#160;&#160;cannot&#160;&#160;be&#160;<br/>used.&#160;<br/>
<b>COMM_NO_COMMUNICATION&#160;</b><br/>
The&#160;&#160;state&#160;&#160;COMM_NO_COMMUNICATION&#160;&#160;represents&#160;&#160;the&#160;&#160;lowest&#160;&#160;state&#160;&#160;of&#160;&#160;the&#160;&#160;COMM.&#160;<br/>Inside&#160;this&#160;state&#160;no&#160;communication&#160;capability&#160;is&#160;available.&#160;The&#160;state&#160;consists&#160;of&#160;two&#160;sub-<br/>states&#160;described&#160;below.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
22&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=23></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-23_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-23_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>COMM_NO_COM_NO_PENDING_REQUEST&#160;</b><br/>
This state&#160;is the&#160;default state&#160;after the&#160;initialization&#160;of&#160;the&#160;COMM.&#160;<br/>The&#160;&#160;COMM&#160;&#160;resides&#160;&#160;in&#160;&#160;this&#160;&#160;state&#160;&#160;until&#160;&#160;the&#160;&#160;state&#160;&#160;COMM_FULL_COMMUNCIATION&#160;&#160;is&#160;<br/>requested.&#160;There&#160;are different&#160;triggers to&#160;start&#160;communication:&#160;<br/>
<b>&gt;&#160;&#160;</b>A&#160;user request&#160;COMM_FULL_COMMUNCIATION&#160;and&#160;no&#160;Mode&#160;Inhibition&#160;is active&#160;or&#160;<br/>
<b>&gt;&#160;&#160;</b>DCM&#160;notification&#160;of&#160;an&#160;active&#160;diagnostic session&#160;or&#160;<br/>
<b>&gt;&#160;&#160;</b>A&#160;Passive&#160;Wake-up&#160;indication&#160;from&#160;ECUM&#160;or&#160;NM.&#160;If&#160;Synchronous&#160;Wake-up&#160;is enabled,&#160;<br/>
the&#160;indication&#160;is propagated&#160;to&#160;all&#160;channels,&#160;which&#160;are not&#160;already&#160;in&#160;<br/>COMM_FULL_COMMUNCIATION state.&#160;<br/>
<b>COMM_NO_COM_REQUEST_PENDING&#160;</b><br/>
The&#160;&#160;COMM&#160;&#160;resides&#160;&#160;in&#160;&#160;this&#160;&#160;state&#160;&#160;until&#160;&#160;the&#160;&#160;communication&#160;&#160;will&#160;&#160;be&#160;&#160;allowed&#160;&#160;on&#160;&#160;the&#160;&#160;channel&#160;<br/>with&#160;&#160;means&#160;&#160;of&#160;&#160;the&#160;&#160;ComM_CommunicationAllowed(TRUE)&#160;&#160;indication&#160;&#160;or&#160;&#160;the&#160;&#160;requests&#160;&#160;for&#160;<br/>COMM_FULL_COMMUNCIATION&#160;<br/>
are&#160;<br/>
rejected,&#160;<br/>
i.e.&#160;<br/>
COMM&#160;<br/>
user&#160;<br/>
requests&#160;<br/>
COMM_NO_COMMUNICATION&#160;or DCM&#160;indicates an&#160;inactive&#160;diagnostic session.&#160;<br/>
<b>COMM_SILENT_COMMUNICATION&#160;</b><br/>
The&#160;COMM&#160;uses&#160;this&#160;state&#160;to&#160;support&#160;the&#160;sleep&#160;process&#160;of&#160;the&#160;network&#160;management.&#160;The&#160;<br/>state&#160;&#160;represents&#160;&#160;the&#160;&#160;prepare&#160;&#160;bus&#160;&#160;sleep&#160;&#160;phase&#160;&#160;of&#160;&#160;the&#160;&#160;network.&#160;&#160;The&#160;&#160;COMM&#160;&#160;changes&#160;&#160;into&#160;<br/>this&#160;&#160;state&#160;&#160;if&#160;&#160;the&#160;&#160;network&#160;&#160;management&#160;&#160;triggers&#160;&#160;the&#160;&#160;sleep&#160;&#160;process&#160;&#160;and&#160;&#160;changes&#160;&#160;into&#160;&#160;the&#160;<br/>prepare&#160;bus sleep&#160;mode.&#160;&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note</b>&#160;<br/>
&#160;&#160;<b>&gt;&#160;</b><br/>
Users cannot&#160;request&#160;this state&#160;directly.&#160;<br/>
<b>&gt;&#160;&#160;</b>This state&#160;is available&#160;for Nm&#160;Variants&#160;FULL&#160;and&#160;PASSIVE&#160;with&#160;bus types&#160;<br/>
CAN and&#160;Ethernet&#160;only.&#160;For other bus types,&#160;it&#160;is skipped.&#160;<br/>
<b>&gt;&#160;&#160;</b>This state&#160;is available&#160;for Nm&#160;Variant&#160;LIGHT&#160;and&#160;bus type&#160;CAN&#160;if&#160;Nm&#160;Light&#160;<br/>
Silent&#160;Timeout&#160;is configured.&#160;<br/>
<b>&gt;&#160;&#160;</b>Note&#160;that&#160;Ethernet&#160;State&#160;Manager ignores&#160;requests&#160;for&#160;<br/>
COMM_SILENT_COMMUNICATION&#160;mode,&#160;see<a href="TechnicalReference_ComMs.html#5">&#160;[4].&#160;</a>COMM&#160;requests it&#160;for&#160;<br/>the&#160;sake&#160;of&#160;consistency&#160;when&#160;UDP&#160;Network Management&#160;indicates&#160;prepare&#160;<br/>bus sleep&#160;mode,&#160;see<a href="TechnicalReference_ComMs.html#5">&#160;[5].</a><b>&#160;&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
The&#160;COMM&#160;resides in&#160;this state&#160;until:&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;Network&#160;Management&#160;indicates&#160;a&#160;restart&#160;after&#160;receiving&#160;a&#160;NM message&#160;or&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;Network Management&#160;indicates&#160;bus sleep&#160;mode&#160;or&#160;<br/>
<b>&gt;&#160;&#160;</b>A&#160;user requests&#160;COMM_FULL_COMMUNICATION again&#160;or&#160;<br/>
<b>&gt;&#160;&#160;</b>DCM&#160;indicates an&#160;active&#160;diagnostic session.&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
23&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=24></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-24_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>COMM_FULL_COMMUNICATION&#160;</b><br/>
The&#160;&#160;state&#160;&#160;COMM_FULL_COMMUNICATION&#160;&#160;represents&#160;&#160;the&#160;&#160;highest&#160;&#160;state&#160;&#160;of&#160;&#160;the&#160;&#160;COMM.&#160;<br/>Inside&#160;this&#160;state&#160;the&#160;communication&#160;capability&#160;is&#160;available.&#160;The&#160;state&#160;consists&#160;of&#160;two&#160;sub-<br/>states&#160;described&#160;below.&#160;<br/>
<b>COMM_FULL_COM_NETWORK_REQUESTED&#160;</b><br/>
The&#160;activity&#160;in&#160;this state&#160;depends on&#160;the&#160;configured&#160;COMM&#160;NM&#160;Variant:&#160;<br/>
<b>&gt;&#160;&#160;</b>NM&#160;Variant&#160;FULL&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;network management&#160;is set&#160;into&#160;the&#160;“Normal Operation” state.&#160;<br/>
<b>&gt;&#160;&#160;</b>COMM&#160;resides in&#160;this&#160;state&#160;until&#160;the&#160;following&#160;conditions&#160;are&#160;fulfilled:&#160;<br/>
<b>&gt;&#160;&#160;</b>All&#160;users request&#160;No&#160;Communication&#160;and&#160;DCM&#160;indicated&#160;no&#160;active&#160;diagnostic&#160;<br/>
session.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;optional channel-specific Minimum&#160;Full Com&#160;Mode&#160;timer&#160;is&#160;expired,&#160;refer to&#160;<br/>
chapte<a href="TechnicalReference_ComMs.html#17">r&#160;3.1.2.4.</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>NM&#160;Variant&#160;PASSIVE&#160;<br/>
<b>&gt;&#160;&#160;</b>COMM&#160;enters COMM_FULL_COM_READY_SLEEP&#160;state&#160;directly.&#160;<br/>
<b>&gt;&#160;&#160;</b>NM&#160;Variant&#160;LIGHT&#160;<br/>
<b>&gt;&#160;&#160;</b>Case&#160;1:&#160;transition&#160;from&#160;COMM_NO_COM_REQUEST_PENDING&#160;to&#160;<br/>
COMM_FULL_COM_NETWORK_REQUESTED is triggered&#160;by&#160;a&#160;Passive&#160;Wake-up&#160;<br/>event.&#160;All&#160;users request&#160;No&#160;Communication&#160;and&#160;DCM&#160;indicates no&#160;active&#160;session.&#160;<br/>
<b>&gt;&#160;&#160;</b>COMM&#160;starts the&#160;“Minimum&#160;Full&#160;Communication&#160;Mode&#160;Timer”,&#160;<br/>
<b>&gt;&#160;&#160;</b>COMM&#160;resides in&#160;this&#160;state&#160;until “Minimum&#160;Full&#160;Communication&#160;Mode&#160;Time” is&#160;<br/>
expired.&#160;<br/>
<b>&gt;&#160;&#160;</b>Case&#160;2:&#160;a&#160;user requests Full&#160;Communication&#160;or DCM&#160;indicates&#160;an&#160;active&#160;diagnostic&#160;<br/>
session&#160;<br/>
<b>&gt;&#160;&#160;</b>COMM&#160;cancels the&#160;“Minimum&#160;Full&#160;Communication&#160;Mode&#160;Timer”&#160;if the&#160;timer is&#160;<br/>
started.&#160;<br/>
<b>&gt;&#160;&#160;</b>COMM&#160;resides in&#160;this&#160;state&#160;until&#160;all&#160;users request&#160;No&#160;Communication&#160;and&#160;DCM&#160;<br/>
indicated&#160;no&#160;active&#160;diagnostic session.&#160;<br/>
<b>&gt;&#160;&#160;</b>NM&#160;Variant&#160;NONE&#160;<br/>
<b>&gt;&#160;&#160;</b>COMM&#160;resides in&#160;this&#160;state.&#160;Shutdown&#160;of&#160;communication&#160;is&#160;done&#160;by&#160;an&#160;ECU&#160;reset&#160;or&#160;<br/>
power off.&#160;<br/>
<b>COMM_FULL_COM_READY_SLEEP&#160;</b><br/>
The&#160;activity&#160;inside&#160;this&#160;state&#160;depends on&#160;the&#160;configured&#160;COMM&#160;NM&#160;Variant:&#160;<br/>
<b>&gt;&#160;&#160;</b>NM&#160;Variant&#160;FULL&#160;and&#160;PASSIVE&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;network management&#160;is set&#160;into&#160;the&#160;Ready&#160;Sleep&#160;state.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
24&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=25></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-25_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>&gt;&#160;&#160;</b>COMM&#160;resides in&#160;this&#160;state&#160;until the&#160;NM&#160;triggers&#160;the&#160;sleep&#160;process&#160;or a&#160;user requests&#160;<br/>
Full Communication&#160;again&#160;or DCM&#160;indicates an&#160;active&#160;diagnostic session.&#160;<br/>
<b>&gt;&#160;&#160;</b>NM&#160;Variant&#160;LIGHT&#160;<br/>
<b>&gt;&#160;&#160;</b>COMM&#160;starts the&#160;Nm&#160;Light&#160;Timeout&#160;timer&#160;if&#160;the&#160;value&#160;configured&#160;is greater&#160;than&#160;0s.&#160;<br/>
<b>&gt;&#160;&#160;</b>It&#160;resides in&#160;this state&#160;until the&#160;Nm&#160;Light&#160;Timeout&#160;timer expires or a&#160;user requests&#160;Full&#160;<br/>
Communication&#160;or DCM&#160;indicates&#160;an&#160;active&#160;diagnostic session.&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;the&#160;optional Nm&#160;Light&#160;Silent&#160;Timeout&#160;is configured&#160;greater than&#160;0s,&#160;COMM&#160;enters&#160;<br/>
COMM_SILENT_COMMUNICATION.&#160;Otherwise&#160;the&#160;next&#160;state&#160;is&#160;<br/>COMM_NO_COM_NO_PENDING_REQUEST.&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;Nm&#160;Light&#160;Timeout&#160;timer is&#160;configured&#160;to&#160;0s,&#160;COMM&#160;omits&#160;the&#160;state&#160;and&#160;enters&#160;the&#160;<br/>
next&#160;state&#160;directly.&#160;<br/>
<b>&gt;&#160;&#160;</b>NM&#160;Variant&#160;NONE&#160;<br/>
<b>&gt;&#160;&#160;</b>This state&#160;is not&#160;available&#160;for this NM&#160;variant.&#160;<br/>
<b>3.4&#160;</b><br/>
<b>Partial&#160;Network&#160;States&#160;</b><br/>
<b>stm&#160;ComM&#160;PNC&#160;State&#160;Machine</b><br/>
<b>PNC_FULL_COMMUNICATION</b><br/>
ComM_RequestComMode()&#160;OR&#160;ComM_COMCbk()<br/>
<b>PNC_REQUESTED</b><br/>
[ComMUser&#160;=&#160;FullCom&#160;OR&#160;(PNC&#160;bit&#160;within&#160;ERAn&#160;=&#160;1<br/>AND&#160;ComMPncGatewayEnabled&#160;=&#160;TRUE)&#160;]<br/>/BswM_ComM_CurrentPncState()<br/>Com_SendSignal()<br/>Channel&#160;Full&#160;Communication&#160;Request()<br/>Stop&#160;ComMPncPrepareSleepTimer<br/>
ComM_RequestComMode()&#160;OR&#160;ComM_COMCbk()<br/>
ComM_RequestComMode()&#160;OR&#160;ComM_COMCbk()<br/>
[ComMUser&#160;=&#160;NoCom&#160;AND&#160;(NOT&#160;(PNC&#160;bit&#160;within<br/>
[ComMUser&#160;=&#160;FullCom&#160;OR&#160;(PNC&#160;bit&#160;within&#160;ERAn&#160;=&#160;1<br/>
ERAn&#160;=&#160;1&#160;AND&#160;ComMPncGatewayEnabled&#160;=&#160;TRUE))]<br/>
AND&#160;ComMPncGatewayEnabled&#160;=&#160;TRUE)&#160;]<br/>
/BswM_ComM_CurrentPncState()<br/>
/BswM_ComM_CurrentPncState()<br/>
Com_SendSignal()<br/>
Com_SendSignal()<br/>Channel&#160;Full&#160;Communication&#160;Request()<br/>
ComM_COMCbk()&#160;[PNC&#160;bit&#160;within&#160;EIRA&#160;=&#160;0]<br/>
<b>PNC_READY_SLEEP</b><br/>
/BswM_ComM_CurrentPncState()<br/>
<b>PNC_PREPARE_SLEEP</b><br/>
Start&#160;ComMPncPrepareSleepTimer<br/>
ComM_COMCbk()&#160;[PNC&#160;bit&#160;within&#160;EIRA&#160;=&#160;1]<br/>/BswM_ComM_CurrentPncState()<br/>Stop&#160;ComMPncPrepareSleepTimer<br/>
ComM_RequestComMode()&#160;OR&#160;ComM_COMCbk()<br/>[ComMUser&#160;=&#160;FullCom&#160;OR&#160;(PNC&#160;bit&#160;within&#160;ERAn&#160;=&#160;1<br/>AND&#160;ComMPncGatewayEnabled&#160;=&#160;TRUE)&#160;]<br/>
ComM_EcuM_WakeUpIndication()<br/>
ComMPncPrepareSleepTimer<br/>
ComM_COMCbk()&#160;[PNC&#160;bit&#160;within&#160;EIRA&#160;=&#160;1]<br/>
/BswM_ComM_CurrentPncState()<br/>
[ComMSynchronousWakeUp&#160;=&#160;TRUE]<br/>
[expired]<br/>
/BswM_ComM_CurrentPncState()<br/>
Com_SendSignal()<br/>
/BswM_ComM_CurrentPncState()<br/>
/BswM_ComM_CurrentPncState()<br/>
Channel&#160;Full&#160;Communication&#160;Request()<br/>
Start&#160;ComMPncPrepareSleepTimer<br/>
<b>PNC_NO_COMMUNICATION</b><br/>
PowerOff<br/>
&#160;<br/>
Figure&#160;3-2&#160;&#160;COMM&#160;Partial&#160;Network&#160;Cluster&#160;state&#160;machine&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
25&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=26></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-26_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
As shown&#160;in<a href="TechnicalReference_ComMs.html#25">&#160;Figure&#160;3-2&#160;&#160;&#160;</a>the&#160;&#160;COMM&#160;&#160;partial&#160;&#160;network&#160;&#160;state&#160;&#160;machine&#160;&#160;consists&#160;&#160;of&#160;&#160;two&#160;&#160;main&#160;<br/>states&#160;&#160;representing&#160;&#160;the&#160;&#160;abstract&#160;&#160;status&#160;&#160;of&#160;&#160;the&#160;&#160;partial&#160;&#160;network&#160;&#160;cluster&#160;&#160;(PNC).&#160;&#160;The&#160;&#160;state&#160;<br/>machine&#160;exists per partial network.&#160;<br/>COMM&#160;&#160;uses&#160;&#160;two&#160;&#160;types&#160;&#160;of&#160;&#160;bit&#160;&#160;vector&#160;&#160;named&#160;&#160;EIRA&#160;&#160;and&#160;&#160;ERA&#160;&#160;to&#160;&#160;exchange&#160;&#160;PNC&#160;&#160;status&#160;<br/>information&#160;with&#160;other&#160;ECUs.&#160;Note&#160;that&#160;ERA&#160;is&#160;only&#160;evaluated&#160;if&#160;PNC&#160;Gateway&#160;feature&#160;is&#160;<br/>enabled&#160;and&#160;only&#160;for&#160;PNCs&#160;which&#160;are&#160;coordinated,&#160;i.e.&#160;assigned&#160;to&#160;more&#160;than&#160;one&#160;COMM&#160;<br/>channel.&#160;Each&#160;PNC&#160;uses&#160;the&#160;same&#160;bit&#160;position&#160;within&#160;the&#160;bit&#160;vectors,&#160;which&#160;is&#160;defined&#160;by&#160;<br/>the&#160;PNC&#160;ID.&#160;The&#160;status of&#160;a&#160;PNC&#160;within&#160;a&#160;bit&#160;vector (signal)&#160;can&#160;be&#160;<br/>
<b>&gt;&#160;&#160;active</b>&#160;if&#160;the&#160;bit&#160;position&#160;of&#160;the&#160;PNC&#160;is&#160;1&#160;or&#160;<br/>
<b>&gt;&#160;&#160;inactive</b>&#160;if&#160;the&#160;bit position&#160;of&#160;the&#160;PNC&#160;is&#160;0.&#160;<br/>
&#160;<br/>
<b>PNC_NO_COMMUNICATION&#160;</b><br/>
This state&#160;is the&#160;default state&#160;after the&#160;initialization&#160;of&#160;the&#160;COMM.&#160;&#160;<br/>The&#160;partial network&#160;leaves&#160;this state&#160;if&#160;one&#160;of&#160;the&#160;following&#160;events&#160;occurs:&#160;<br/>
<b>&gt;&#160;&#160;</b>A&#160;user requests&#160;the&#160;state&#160;Full&#160;Communication&#160;for a&#160;partial network or&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>EcuM&#160;or NM&#160;inform&#160;COMM&#160;about&#160;an&#160;external wake-up&#160;event&#160;and&#160;&#160;<br/>
ComMPncPrepareSleepTimer is configured&#160;with&#160;a&#160;value&#160;&gt;&#160;0&#160;and&#160;‘Synchronous&#160;Wake-<br/>Up’&#160;feature&#160;is enabled&#160;or&#160;<br/>
<b>&gt;&#160;&#160;</b>COMM&#160;receives an&#160;EIRA&#160;or ERA&#160;signal which&#160;signalized&#160;the&#160;activation&#160;of&#160;the&#160;partial&#160;<br/>
network.&#160;<br/>
&#160;<br/>
<b>PNC_FULL_COMMUNICATION&#160;</b><br/>
The&#160;state&#160;consists&#160;of&#160;three&#160;sub-states described&#160;below.&#160;<br/>
<b>PNC_REQUESTED&#160;</b><br/>
The&#160;partial network reaches this state&#160;if&#160;one&#160;of&#160;the&#160;following&#160;events&#160;occurs:&#160;<br/>
<b>&gt;&#160;&#160;</b>COMM&#160;user requests&#160;COMM_FULL_COMMUNICATION&#160;for this partial network&#160;or&#160;<br/>
<b>&gt;&#160;&#160;</b>An&#160;ERA&#160;signal with&#160;partial network =&#160;active&#160;is received&#160;and&#160;the&#160;partial network is&#160;<br/>
coordinated.&#160;<br/>
The&#160;&#160;state&#160;&#160;will&#160;&#160;be&#160;&#160;left&#160;&#160;if&#160;&#160;all&#160;&#160;COMM&#160;&#160;users&#160;&#160;for&#160;&#160;the&#160;&#160;corresponding&#160;&#160;partial&#160;&#160;network&#160;&#160;request&#160;<br/>COMM_NO_COMMUNICATION&#160;&#160;and&#160;&#160;the&#160;&#160;ERA&#160;&#160;signals&#160;&#160;for&#160;&#160;the&#160;&#160;corresponding&#160;&#160;partial&#160;<br/>network are&#160;received&#160;with&#160;status&#160;inactive.&#160;<br/>
<b>PNC_READY_SLEEP&#160;</b><br/>
The&#160;partial network reaches this state&#160;if&#160;the&#160;following&#160;events&#160;occurred:&#160;<br/>
<b>&gt;&#160;&#160;</b>All&#160;COMM&#160;users&#160;for the&#160;partial&#160;network request&#160;COMM_NO_COMMUNICATION&#160;and&#160;<br/>
<b>&gt;&#160;&#160;</b>An&#160;EIRA&#160;signal&#160;is&#160;received&#160;with&#160;partial network =&#160;active&#160;and&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
26&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=27></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-27_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>&gt;&#160;&#160;</b>All&#160;ERA&#160;signals&#160;are&#160;received&#160;with&#160;partial network =&#160;inactive&#160;and&#160;the&#160;partial network&#160;is&#160;<br/>
coordinated.&#160;<br/>
The&#160;state&#160;will&#160;be&#160;left&#160;if&#160;a&#160;COMM&#160;user&#160;for&#160;PNC&#160;requests&#160;COMM_FULL_COMMUNCIATION&#160;<br/>or&#160;EIRA&#160;is&#160;received&#160;with&#160;partial network&#160;=&#160;inactive&#160;or&#160;ERA&#160;is&#160;received&#160;with&#160;partial&#160;network =&#160;<br/>active.&#160;<br/>
<b>PNC_PREPARE_SLEEP&#160;</b><br/>
The&#160;partial network reaches this state&#160;if&#160;one&#160;of&#160;the&#160;following&#160;events&#160;occurs:&#160;<br/>
<b>&gt;&#160;&#160;</b>An&#160;EIRA&#160;signal&#160;is&#160;received&#160;with&#160;partial network =&#160;inactive&#160;or&#160;<br/>
<b>&gt;&#160;&#160;</b>EcuM&#160;notified&#160;a&#160;passive&#160;wake-up&#160;event&#160;and&#160;‘Synchronous&#160;Wake-Up’&#160;feature is&#160;<br/>
enabled&#160;and&#160;ComMPncPrepareSleepTimer is&#160;configured&#160;with&#160;a&#160;value&#160;&gt;&#160;0.&#160;<br/>
The&#160;state&#160;will&#160;be&#160;left&#160;if&#160;a&#160;COMM&#160;user&#160;for&#160;PNC&#160;requests&#160;COMM_FULL_COMMUNCIATION&#160;<br/>or&#160;&#160;EIRA/ERA&#160;&#160;signals&#160;&#160;are&#160;&#160;received&#160;&#160;with&#160;&#160;partial&#160;&#160;network&#160;&#160;=&#160;&#160;active&#160;&#160;or&#160;&#160;the&#160;<br/>ComMPncPrepareSleepTimer is expired.&#160;<br/>If&#160;ComMPncPrepareSleepTimer is configured&#160;with&#160;0,&#160;the&#160;state&#160;PNC_PREPARE_SLEEP&#160;is&#160;<br/>omitted&#160;when&#160;de-activating&#160;the&#160;partial&#160;network but&#160;it&#160;is still notified&#160;to&#160;BswM&#160;for the&#160;sake&#160;of&#160;<br/>completeness.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
27&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=28></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-28_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-28_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-28_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>PNC&#160;Prepare&#160;Sleep&#160;Timer&#160;shall&#160;expire before&#160;Network&#160;Management&#160;leaves&#160;Ready&#160;<br/>
<b>&#160;&#160;</b>Sleep&#160;state&#160;when shutting down the&#160;communication.&#160;<br/>
The&#160;crucial&#160;time&#160;is&#160;the&#160;time between indication of&#160;EIRA&#160;signal&#160;with PNC&#160;status&#160;=&#160;<br/>inactive and indication of&#160;Prepare&#160;Bus Sleep&#160;on&#160;CAN&#160;or&#160;Bus&#160;Sleep on&#160;FlexRay.&#160;The&#160;<br/>calculation of&#160;the&#160;exact&#160;time value&#160;depends&#160;on&#160;the bus&#160;type.&#160;<br/>
<b>&#160;</b><br/>
<b>&gt;&#160;&#160;</b>On&#160;CAN:&#160;<br/>CanNm&#160;Timeout&#160;Time&#160;(lowest&#160;of&#160;all&#160;CAN&#160;channels)&#160;–&#160;CanNm&#160;PNC&#160;Reset&#160;Time&#160;<br/>
<b>&#160;</b><br/>
<b>&gt;&#160;&#160;</b>On&#160;FlexRay:&#160;<br/>((Ready&#160;Sleep Count+1)*Repetition&#160;Cycle*&lt;Duration&#160;of&#160;FlexRay&#160;Cycles&gt;)&#160;–&#160;FrNm&#160;PNC&#160;<br/>Reset&#160;Time&#160;<br/>
&#160;<br/>
<b>&gt;&#160;&#160;</b>On Ethernet:&#160;<br/>UdpNm&#160;Timeout&#160;Time&#160;(lowest&#160;of&#160;all&#160;Ethernet&#160;channels)&#160;–&#160;UdpNm&#160;PNC&#160;Reset&#160;Time&#160;<br/>
&#160;<br/>Calculate&#160;the&#160;lowest&#160;BusNm&#160;specific&#160;Timeout&#160;Time according to&#160;the&#160;rules&#160;given&#160;above.&#160;<br/>Then&#160;choose&#160;the&#160;PNC&#160;Prepare&#160;Sleep&#160;Timer&#160;to&#160;be&#160;less than&#160;(lowest&#160;BusNm&#160;specific&#160;<br/>Timeout&#160;Time)&#160;–&#160;(COMM&#160;Main&#160;Function Period&#160;of&#160;Channel&#160;with ID&#160;0).&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>Only&#160;the&#160;COMM&#160;module is allowed&#160;to write&#160;the&#160;TX&#160;EIRA&#160;signals.&#160;The&#160;application must&#160;<br/>
<b>&#160;&#160;</b>not&#160;write&#160;the&#160;TX&#160;EIRA&#160;signals&#160;by&#160;its&#160;own.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>3.5&#160;</b><br/>
<b>Main Functions&#160;</b><br/>
This&#160;chapter&#160;describes&#160;how&#160;the&#160;Communication&#160;Manager&#160;features&#160;are&#160;to&#160;be&#160;used&#160;by&#160;upper&#160;<br/>software layers or application&#160;software and&#160;shows the&#160;interaction&#160;with&#160;other&#160;modules.&#160;<br/>
<b>3.5.1&#160;</b><br/>
<b>Communication Control&#160;Handling&#160;</b><br/>
The&#160;&#160;communication&#160;&#160;control&#160;&#160;handling&#160;&#160;is&#160;&#160;the&#160;&#160;main&#160;&#160;functionality&#160;&#160;of&#160;&#160;the&#160;&#160;communication&#160;<br/>manager.&#160;This&#160;functionality&#160;contains&#160;the&#160;following&#160;parts:&#160;<br/>
<b>&gt;&#160;&#160;</b>Collection&#160;of&#160;the&#160;network wake-up&#160;events,&#160;means bus wake-up,&#160;user&#160;and&#160;DCM&#160;<br/>
communication&#160;requests&#160;<br/>
<b>&gt;&#160;&#160;</b>Verification&#160;of&#160;the&#160;network wake-up&#160;events&#160;and&#160;start&#160;of&#160;the&#160;corresponding&#160;network with&#160;<br/>
regarding&#160;of&#160;the&#160;used&#160;NM&#160;variant.&#160;<br/>
The&#160;COMM&#160;supports the&#160;following&#160;NM&#160;variants:&#160;<br/>
<b>&gt;&#160;&#160;FULL</b>,&#160;AUTOSAR&#160;NM&#160;is used.&#160;Also&#160;it&#160;is designed&#160;to&#160;support LIN NM&#160;and&#160;J1939&#160;NM.&#160;<br/>
<b>&gt;&#160;&#160;PASSIVE</b>,&#160;AUTOSAR&#160;NM&#160;is used,&#160;but&#160;the&#160;ECU&#160;is not&#160;allowed&#160;to&#160;keep&#160;the&#160;network&#160;<br/>
awake.&#160;COMM&#160;ignores&#160;communication&#160;requests&#160;from&#160;users&#160;and&#160;DCM&#160;on&#160;this&#160;channel;&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
28&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=29></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-29_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-29_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-29_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
refer to&#160;chapters<a href="TechnicalReference_ComMs.html#16">&#160;3.1.2,</a><a href="TechnicalReference_ComMs.html#56">&#160;5.4.4&#160;</a>and<a href="TechnicalReference_ComMs.html#57">&#160;5.4.5.</a>&#160;The&#160;parameter ComMNoCom&#160;has to&#160;be&#160;set&#160;to&#160;<br/>true.&#160;<br/>
<b>&gt;&#160;&#160;LIGHT</b>,&#160;no&#160;AUTOSAR&#160;NM&#160;is used,&#160;but&#160;the&#160;shutdown&#160;is synchronized&#160;via&#160;timeout,&#160;<br/>
which&#160;is configured&#160;with&#160;the&#160;parameter ComMNmLightTimeout.&#160;<br/>
<b>&gt;&#160;&#160;NONE</b>,&#160;no&#160;AUTOSAR&#160;NM&#160;is used&#160;and&#160;no&#160;shutdown&#160;synchronization&#160;is available.&#160;I.e.&#160;<br/>
once&#160;a&#160;channel reached&#160;the&#160;COMM_FULL_COMMUNICATION&#160;mode,&#160;it will never&#160;<br/>leave&#160;it.&#160;Stop&#160;of&#160;communication&#160;is done&#160;via&#160;power&#160;off&#160;or reset.&#160;COMM&#160;ignores&#160;user&#160;<br/>requests&#160;of&#160;COMM_NO_COMMUNICATION&#160;mode&#160;and&#160;requests&#160;for No&#160;<br/>Communication&#160;Mode&#160;Limitation;&#160;refer to&#160;chapte<a href="TechnicalReference_ComMs.html#47">rs&#160;5.2.11&#160;</a>and<a href="TechnicalReference_ComMs.html#48">&#160;5.2.12.</a>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>If&#160;LIN NM&#160;is&#160;used&#160;on&#160;a&#160;COMM&#160;channel,&#160;its&#160;NM&#160;Variant&#160;shall&#160;be&#160;‘FULL’.&#160;<br/>
<b>&#160;&#160;</b>LIN NM&#160;does not&#160;trigger&#160;communication&#160;shutdown after&#160;COMM&#160;called&#160;<br/>
Nm_PassiveStartUp.&#160;This&#160;can&#160;prevent&#160;the&#160;ECU&#160;from&#160;entering&#160;the&#160;sleep state.&#160;To&#160;<br/>avoid this,&#160;apply&#160;one of&#160;the&#160;workarounds&#160;described&#160;in the&#160;Technical&#160;Reference of&#160;<br/>MICROSAR&#160;LIN Network&#160;Management<a href="TechnicalReference_ComMs.html#5">&#160;[6].</a>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>If&#160;J1939&#160;NM&#160;is&#160;used on&#160;a&#160;COMM&#160;&#160;channel,&#160;its&#160;NM&#160;Variant&#160;shall&#160;be&#160;‘FULL’.&#160;<br/>
<b>&#160;&#160;</b>J1939&#160;NM&#160;does not&#160;provide&#160;Nm_PassiveStartUp&#160;API.&#160;Therefore&#160;channels&#160;with&#160;<br/>
J1939&#160;NM&#160;cannot&#160;be&#160;woken&#160;up&#160;externally.&#160;Ensure that&#160;parameter&#160;‘Synchronous&#160;Wake&#160;<br/>Up’&#160;is&#160;disabled&#160;in the&#160;COMM&#160;module configuration (see&#160;chapter<a href="TechnicalReference_ComMs.html#30">&#160;3.5.3)</a>.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
COMM_BUS_TYPE_INTERNAL&#160;&#160;shall&#160;&#160;be&#160;&#160;configured&#160;&#160;if&#160;&#160;a&#160;&#160;channel&#160;&#160;is&#160;&#160;used&#160;&#160;for&#160;&#160;internal&#160;<br/>communication&#160;only.&#160;Such&#160;channels have&#160;no&#160;corresponding&#160;bus interface.&#160;Only&#160;NM Variant&#160;<br/>LIGHT&#160;is supported&#160;for&#160;channels with&#160;COMM_BUS_TYPE_INTERNAL.&#160;<br/>
<b>3.5.2&#160;</b><br/>
<b>Mode&#160;Limitation&#160;</b><br/>
Mode&#160;&#160;limitation&#160;&#160;is&#160;a&#160;&#160;mechanism&#160;&#160;to&#160;&#160;restrict&#160;&#160;the&#160;&#160;actions&#160;&#160;of&#160;&#160;the&#160;&#160;COMM&#160;&#160;user,&#160;&#160;especially&#160;&#160;the&#160;<br/>requesting&#160;&#160;of&#160;&#160;communication&#160;&#160;modes.&#160;&#160;The&#160;&#160;COMM&#160;&#160;supports&#160;&#160;2&#160;&#160;different&#160;&#160;mode&#160;&#160;limitation&#160;<br/>mechanisms:&#160;<br/>
<b>&gt;&#160;&#160;</b>No&#160;Communication&#160;mode&#160;limitation&#160;and&#160;<br/>
<b>&gt;&#160;&#160;</b>Prevent&#160;Wake-up.&#160;<br/>
The&#160;&#160;mode&#160;&#160;limitation&#160;&#160;mechanism&#160;&#160;can&#160;&#160;be&#160;&#160;used&#160;&#160;to&#160;&#160;restrict&#160;&#160;the&#160;&#160;communication&#160;&#160;requests&#160;&#160;of&#160;<br/>ECUs which&#160;wrongly&#160;keep&#160;the&#160;bus&#160;awake.&#160;<br/>
<b>3.5.2.1&#160;</b><br/>
<b>Mode&#160;Limitation&#160;to&#160;NO_COM&#160;</b><br/>
This&#160;mechanism&#160;can&#160;be&#160;used&#160;to&#160;force&#160;COMM&#160;channel(s)&#160;into&#160;the&#160;sleep&#160;mode&#160;although&#160;one&#160;<br/>or&#160;&#160;more&#160;&#160;COMM&#160;&#160;user&#160;&#160;requests&#160;&#160;COMM_FULL_COMMUNICATION.&#160;&#160;Note&#160;&#160;that&#160;&#160;this&#160;&#160;is&#160;&#160;not&#160;<br/>supported&#160;for Nm&#160;Variant&#160;NONE.&#160;<br/>The&#160;limitation&#160;can&#160;be&#160;activated/deactivated&#160;via&#160;&#160;ComM_LimitChannelToNoComMode(),&#160;for&#160;<br/>a&#160;specific&#160;channel,&#160;or via&#160;ComM_LimitECUToNoComMode()&#160;for the&#160;whole&#160;ECU.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
29&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=30></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-30_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-30_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
If&#160;Mode&#160;Limitation&#160;is&#160;active,&#160;COMM&#160;ignores&#160;new&#160;COMM_FULL_COMMUNICATION&#160;mode&#160;<br/>requests&#160;and&#160;triggers&#160;communication&#160;shutdown&#160;on&#160;the&#160;channel.&#160;<br/>When&#160;&#160;a&#160;&#160;channel&#160;&#160;switches&#160;&#160;to&#160;&#160;NO_COM&#160;&#160;mode&#160;&#160;due&#160;&#160;to&#160;&#160;an&#160;&#160;active&#160;&#160;Mode&#160;&#160;Limitation,&#160;&#160;COMM&#160;<br/>clears&#160;&#160;all&#160;&#160;COMM_FULL_COMMUNICATION&#160;&#160;requests&#160;&#160;of&#160;&#160;users&#160;&#160;that&#160;&#160;are&#160;&#160;mapped&#160;&#160;to&#160;&#160;the&#160;<br/>channel&#160;&#160;directly&#160;&#160;or&#160;&#160;via&#160;&#160;PNC.&#160;&#160;New&#160;&#160;COMM_FULL_COMMUNICATION&#160;&#160;mode&#160;&#160;requests&#160;&#160;are&#160;<br/>stored&#160;but&#160;not&#160;performed&#160;as&#160;long&#160;as&#160;Mode&#160;Limitation&#160;is&#160;active.&#160;The&#160;requests&#160;are&#160;performed&#160;<br/>if&#160;Mode&#160;Limitation&#160;is&#160;deactivated.&#160;<br/>
<b>Reset after&#160;Forcing NO_COM&#160;functionality&#160;</b><br/>
When&#160;a&#160;channel&#160;switches&#160;to&#160;NO_COM&#160;mode&#160;due&#160;to&#160;an&#160;active&#160;Mode&#160;Limitation&#160;(i.e.&#160;BusSM&#160;<br/>indicates&#160;NO_COM),&#160;COMM&#160;requests&#160;an&#160;ECU&#160;reset&#160;by&#160;calling<a href="TechnicalReference_ComMs.html#64">&#160;BswM_ComM_InitiateReset&#160;<br/></a>if&#160;the&#160;following&#160;conditions are&#160;fulfilled:&#160;<br/>
1.&#160;&#160;Reset&#160;after&#160;Forcing&#160;NO_COM&#160;functionality&#160;is&#160;enabled&#160;and&#160;&#160;<br/>
2.&#160;&#160;BusSM indicated&#160;NO_COM&#160;for&#160;all&#160;channels&#160;and&#160;<br/>
3.&#160;&#160;All&#160;channels are&#160;in&#160;NO_COM&#160;mode.&#160;Possible&#160;bus wake-ups&#160;are&#160;ignored&#160;in&#160;order to&#160;<br/>
trigger a&#160;reset&#160;as soon&#160;as possible.&#160;<br/>
Notes:&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;purpose&#160;of&#160;conditions 2&#160;and&#160;3&#160;is to&#160;ensure&#160;a&#160;controlled&#160;reset,&#160;i.e.&#160;to&#160;avoid&#160;that&#160;a&#160;<br/>
reset&#160;is performed&#160;during&#160;active&#160;bus communication.&#160;<br/>
<b>&gt;&#160;&#160;</b>Conditions&#160;2&#160;and&#160;3&#160;are&#160;not&#160;applicable&#160;for channels with&#160;Nm&#160;Variant&#160;NONE.&#160;<br/>
<b>3.5.2.2&#160;</b><br/>
<b>Prevent&#160;Wake-Up&#160;</b><br/>
Prevent&#160;&#160;Wake-Up&#160;&#160;is&#160;&#160;the&#160;&#160;second&#160;&#160;mode&#160;&#160;limitation&#160;&#160;mechanism;&#160;&#160;it&#160;&#160;avoids&#160;&#160;that&#160;&#160;COMM&#160;<br/>channels&#160;can&#160;be&#160;woken&#160;up&#160;via&#160;a&#160;COMM_FULL_COMMUNICATION&#160;request&#160;&#160;by&#160;a&#160;COMM&#160;<br/>user.&#160;Prevent&#160;wake-up&#160;can&#160;be&#160;activated/deactivated&#160;via&#160;ComM_PreventWakeUp()&#160;but&#160;the&#160;<br/>limitation&#160;&#160;is&#160;&#160;only&#160;&#160;performed&#160;&#160;if&#160;&#160;the&#160;&#160;current&#160;&#160;state&#160;&#160;of&#160;&#160;the&#160;&#160;COMM&#160;&#160;channel&#160;&#160;is&#160;<br/>COMM_NO_COMMUNCIATION&#160;&#160;or&#160;&#160;COMM_SILENT_COMMUNCIATION.&#160;&#160;User&#160;&#160;requests&#160;<br/>for&#160;&#160;COMM_FULL_COMMUNCIATION&#160;&#160;are&#160;&#160;stored&#160;&#160;but&#160;&#160;not&#160;&#160;performed.&#160;&#160;The&#160;&#160;requests&#160;&#160;are&#160;<br/>performed&#160;if&#160;Prevent&#160;Wake-up&#160;is deactivated.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>The&#160;prevent&#160;wake-up&#160;state&#160;is&#160;stored&#160;in&#160;the&#160;non-volatile&#160;memory.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>3.5.3&#160;</b><br/>
<b>Synchronous&#160;Wake-Up&#160;</b><br/>
Synchronous&#160;wake-up&#160;means,&#160;that&#160;the&#160;COMM&#160;triggers&#160;a&#160;wake-up&#160;of&#160;all&#160;COMM&#160;busses&#160;as&#160;<br/>soon&#160;as&#160;one&#160;COMM&#160;bus&#160;notifies&#160;an&#160;external&#160;wake–up,&#160;e.g.&#160;via&#160;ECUM&#160;wake-up&#160;notification&#160;<br/>or via&#160;the&#160;notification&#160;of&#160;the&#160;configured&#160;NM.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
30&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=31></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-31_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-31_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>Synchronous&#160;wake-up&#160;does only&#160;trigger&#160;the&#160;wake-up&#160;but&#160;is&#160;not&#160;responsible to&#160;keep all&#160;<br/>
<b>&#160;&#160;</b>busses&#160;awake&#160;or&#160;responsible&#160;for&#160;a synchronous&#160;shutdown of&#160;these busses.&#160;<br/>
Synchronous&#160;shutdown&#160;of&#160;multiple channels&#160;is&#160;the&#160;responsibility&#160;of&#160;Nm&#160;coordinator.&#160;<br/>If&#160;<b>J1939</b>&#160;NM&#160;is&#160;used on&#160;a&#160;channel,&#160;Synchronous&#160;wake-up&#160;must&#160;be&#160;disabled in&#160;the&#160;<br/>COMM&#160;module configuration,&#160;consider&#160;the&#160;notes&#160;in chapter<a href="TechnicalReference_ComMs.html#28">&#160;3.5.1.</a>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>3.6&#160;</b><br/>
<b>Error&#160;Handling&#160;</b><br/>
<b>3.6.1&#160;</b><br/>
<b>Development&#160;Error&#160;Reporting&#160;</b><br/>
Development&#160;errors&#160;are&#160;reported&#160;to&#160;the&#160;DET&#160;using&#160;the&#160;service&#160;&#160;Det_ReportError()&#160;as&#160;<br/>specified&#160;&#160;in&#160;&#160;[2],&#160;&#160;if&#160;&#160;development&#160;&#160;error&#160;&#160;reporting&#160;&#160;is&#160;&#160;enabled&#160;&#160;(i.e.&#160;&#160;pre-compile&#160;&#160;parameter&#160;<br/>COMM_DEV_ERROR_DETECT==STD_ON).&#160;<br/>
The&#160;reported&#160;COMM&#160;ID is&#160;12&#160;decimal.&#160;<br/>The&#160;&#160;reported&#160;&#160;service&#160;&#160;IDs&#160;&#160;identify&#160;&#160;the&#160;&#160;services&#160;&#160;which&#160;&#160;are&#160;&#160;described&#160;&#160;in&#160;&#160;<a href="TechnicalReference_ComMs.html#32">Table&#160;&#160;3-5.&#160;&#160;</a>The&#160;<br/>following&#160;table&#160;presents the&#160;service&#160;IDs and&#160;the&#160;related&#160;services:&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
<b>Service&#160;</b><br/>
0x01&#160;<br/>
ComM_Init&#160;<br/>
0x02&#160;<br/>
ComM_DeInit&#160;<br/>
0x03&#160;<br/>
ComM_GetStatus&#160;<br/>
0x04&#160;<br/>
ComM_GetInhibitionStatus&#160;<br/>
0x05&#160;<br/>
ComM_RequestComMode&#160;<br/>
0x06&#160;<br/>
ComM_GetMaxComMode&#160;<br/>
0x07&#160;<br/>
ComM_GetRequestedComMode&#160;<br/>
0x08&#160;<br/>
ComM_GetCurrentComMode&#160;<br/>
0x09&#160;<br/>
ComM_PreventWakeUp&#160;<br/>
0x0b&#160;<br/>
ComM_LimitChannelToNoComMode&#160;<br/>
0x0c&#160;<br/>
ComM_LimitECUToNoComMode&#160;<br/>
0x0d&#160;<br/>
ComM_ReadInhibitCounter&#160;<br/>
0x0e&#160;<br/>
ComM_ResetInhibitCounter&#160;<br/>
0x0f&#160;<br/>
ComM_SetECUGroupClassification&#160;<br/>
0x10&#160;<br/>
ComM_GetVersionInfo&#160;<br/>
0x15&#160;<br/>
ComM_Nm_NetworkStartIndication&#160;<br/>
0x18&#160;<br/>
ComM_Nm_NetworkMode&#160;<br/>
0x19&#160;<br/>
ComM_Nm_PrepareBusSleepMode&#160;<br/>
0x1a&#160;<br/>
ComM_Nm_BusSleepMode&#160;<br/>
0x1b&#160;<br/>
ComM_Nm_RestartIndication&#160;<br/>
0x1f&#160;<br/>
ComM_DCM_ActiveDiagnostic&#160;<br/>
0x20&#160;<br/>
ComM_DCM_InactiveDiagnostic&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
31&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=32></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-32_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
<b>Service&#160;</b><br/>
0x2a&#160;<br/>
ComM_EcuM_WakeUpIndication&#160;<br/>
0x33&#160;<br/>
ComM_BusSM_ModeIndication&#160;<br/>
0x34&#160;<br/>
ComM_GetState&#160;<br/>
0x35&#160;<br/>
ComM_CommunicationAllowed&#160;<br/>
0x36&#160;<br/>
ComM_LimitPncToChannelRouting&#160;<br/>
0x60&#160;<br/>
ComM_MainFunction&#160;<br/>
0x37&#160;<br/>
ComM_GetDcmRequestStatus&#160;<br/>
0x38&#160;<br/>
ComM_GetMinFullComModeTimerStatus&#160;<br/>
Table&#160;3-5&#160;&#160;&#160;Service&#160;IDs&#160;<br/>
The&#160;errors reported&#160;to&#160;DET&#160;are&#160;described&#160;in&#160;the&#160;following&#160;table:&#160;<br/>
<b>Error&#160;Code&#160;</b><br/>
<b>Description&#160;</b><br/>
0x01&#160;&#160;COMM_E_NOT_INITED&#160;<br/>
API&#160;service used&#160;without&#160;module&#160;<br/>initialization&#160;<br/>
0x02&#160;&#160;COMM_E_WRONG_PARAMETERS&#160;<br/>
API&#160;service used&#160;with wrong parameters&#160;<br/>
0x03&#160;&#160;COMM_E_ERROR_IN_PROV_SERVICE&#160;<br/>
Provided&#160;API&#160;service of&#160;other&#160;modules&#160;<br/>returned&#160;with an&#160;error&#160;<br/>
0x04&#160;&#160;COMM_E_NOSUPPORTED_MODECHANGE&#160;&#160;COMM&#160;tries&#160;to&#160;perform&#160;a&#160;not&#160;allowed&#160;<br/>
state&#160;change&#160;<br/>
0x05&#160;&#160;COMM_E_DIAGNOSTIC_NOT_SUPPORTED&#160;&#160;Diagnostic&#160;communication is requested&#160;<br/>
or&#160;released&#160;on&#160;a&#160;channel&#160;where&#160;<br/>diagnostic&#160;is&#160;not&#160;supported.&#160;This&#160;happens&#160;<br/>when&#160;Nm&#160;Variant&#160;PASSIVE&#160;is&#160;configured&#160;<br/>on&#160;the&#160;channel.&#160;<br/>
0x06&#160;&#160;COMM_E_ALREADY_INITIALIZED&#160;<br/>
The&#160;service ComM_Init&#160;is&#160;called&#160;while the&#160;<br/>module is already&#160;initialized&#160;<br/>
Table&#160;3-6&#160;&#160;&#160;Errors&#160;reported&#160;to&#160;DET&#160;<br/>
<b>3.6.1.1&#160;</b><br/>
<b>Parameter&#160;Checking&#160;</b><br/>
AUTOSAR&#160;requires&#160;that&#160;API&#160;functions&#160;check the&#160;validity&#160;of&#160;their&#160;parameters.&#160;The&#160;checks&#160;in&#160;<br/><a href="TechnicalReference_ComMs.html#34">Table&#160;&#160;3-7&#160;&#160;</a>are&#160;&#160;internal&#160;&#160;parameter&#160;&#160;checks&#160;&#160;of&#160;&#160;the&#160;&#160;API&#160;&#160;functions.&#160;&#160;These&#160;&#160;checks&#160;&#160;are&#160;&#160;for&#160;<br/>development&#160;&#160;error&#160;&#160;reporting&#160;&#160;and&#160;&#160;can&#160;&#160;be&#160;&#160;enabled&#160;&#160;or&#160;&#160;disabled&#160;&#160;via&#160;&#160;the&#160;&#160;parameter&#160;<br/>COMM_DEV_ERROR_DETECT.&#160;<br/>
&#160;<br/>The&#160;following&#160;table&#160;shows&#160;which&#160;parameter checks are&#160;performed&#160;on&#160;which&#160;services:&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
32&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=33></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-33_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
&#160;<br/>
<b>Check</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
E<br/>
&#160;<br/>
CE<br/>
D<br/>
&#160;<br/>
I<br/>
E<br/>
V<br/>
NG<br/>
T<br/>
R<br/>
R<br/>
&#160;<br/>
E<br/>
HA<br/>C<br/>
O<br/>P<br/>
&#160;<br/>
&#160;<br/>
P<br/>
RS<br/>
D_S<br/>
DE<br/>
U<br/>
<b>Service&#160;</b><br/>
E<br/>T<br/>
IDE<br/>
MO<br/>
_S<br/>
V<br/>
T<br/>
ME<br/>
O<br/>
D_<br/>
A<br/>
R<br/>
E<br/>
NO<br/>
&#160;<br/>
T<br/>
D<br/>
R<br/>
P<br/>
A<br/>
R<br/>
IC_<br/>
P<br/>
O<br/>
T<br/>
_<br/>
IN_<br/>
P<br/>
S<br/>
INITE<br/>
R_<br/>
UP<br/>
_<br/>
NG<br/>
S<br/>
NO<br/>
T<br/>
G<br/>
RO<br/>
T<br/>
RRO<br/>
A<br/>
W<br/>
E<br/>
_NO<br/>
_<br/>
_<br/>
_NO<br/>
_DI<br/>
E<br/>
E<br/>
E<br/>
E<br/>
E<br/>
_<br/>
_<br/>
_<br/>
_<br/>
_<br/>
MM<br/>
MM<br/>
MM<br/>
MM<br/>
MM<br/>
CO<br/>
CO<br/>
CO<br/>
CO<br/>
CO<br/>
ComM_Init&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_DeInit&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_GetStatus&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_GetState&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_GetInhibitionStatus&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_RequestComMode&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_GetMaxComMode&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_GetRequestedComMode&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_GetCurrentComMode&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_PreventWakeUp&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_LimitChannelToNoComMode&#160;&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_LimitECUToNoComMode&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_ReadInhibitCounter&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_ResetInhibitCounter&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_SetECUGroupClassification&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_GetVersionInfo&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_MainFunction&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_CommunicationAllowed&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_Nm_NetworkStartIndication&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_Nm_NetworkMode&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_Nm_PrepareBusSleepMode&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_Nm_BusSleepMode&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_Nm_RestartIndication&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_DCM_ActiveDiagnostic&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_DCM_InactiveDiagnostic&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
33&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=34></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-34_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
&#160;<br/>
<b>Check</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
E<br/>
&#160;<br/>
CE<br/>
D<br/>
&#160;<br/>
I<br/>
E<br/>
V<br/>
NG<br/>
T<br/>
R<br/>
R<br/>
&#160;<br/>
E<br/>
HA<br/>C<br/>
O<br/>P<br/>
&#160;<br/>
&#160;<br/>
P<br/>
RS<br/>
D_S<br/>
DE<br/>
U<br/>
<b>Service&#160;</b><br/>
E<br/>T<br/>
IDE<br/>
MO<br/>
_S<br/>
V<br/>
T<br/>
ME<br/>
O<br/>
D_<br/>
A<br/>
R<br/>
E<br/>
NO<br/>
&#160;<br/>
T<br/>
D<br/>
R<br/>
P<br/>
A<br/>
R<br/>
IC_<br/>
P<br/>
O<br/>
T<br/>
_<br/>
IN_<br/>
P<br/>
S<br/>
INITE<br/>
R_<br/>
UP<br/>
_<br/>
NG<br/>
S<br/>
NO<br/>
T<br/>
G<br/>
RO<br/>
T<br/>
RRO<br/>
A<br/>
W<br/>
E<br/>
_NO<br/>
_<br/>
_<br/>
_NO<br/>
_DI<br/>
E<br/>
E<br/>
E<br/>
E<br/>
E<br/>
_<br/>
_<br/>
_<br/>
_<br/>
_<br/>
MM<br/>
MM<br/>
MM<br/>
MM<br/>
MM<br/>
CO<br/>
CO<br/>
CO<br/>
CO<br/>
CO<br/>
ComM_EcuM_WakeUpIndication&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_BusSM_ModeIndication&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_TF_NoCom_NetReq&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_TF_ReadyS_NetReq&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ComM_TF_NetReq_ReadyS&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Table&#160;3-7&#160;&#160;&#160;Development&#160;Error&#160;Reporting:&#160;Assignment&#160;of&#160;checks&#160;to&#160;services&#160;<br/>
<b>3.6.2&#160;</b><br/>
<b>Production Code&#160;Error Reporting&#160;</b><br/>
COMM&#160;does not&#160;report&#160;any&#160;production&#160;errors.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
34&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=35></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-35_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>4&#160;&#160;Integration&#160;</b><br/>
This&#160;chapter&#160;gives&#160;necessary&#160;information&#160;for&#160;the&#160;integration&#160;of&#160;the&#160;MICROSAR&#160;COMM&#160;into&#160;<br/>an&#160;application&#160;environment&#160;of&#160;an&#160;ECU.&#160;<br/>
<b>4.1&#160;</b><br/>
<b>Scope&#160;of&#160;Delivery&#160;</b><br/>
The&#160;delivery&#160;of&#160;the&#160;COMM&#160;contains&#160;the&#160;files&#160;which&#160;are described&#160;in&#160;the&#160;following&#160;chapters.&#160;<br/>
<b>4.1.1&#160;</b><br/>
<b>Static&#160;Files&#160;</b><br/>
<b>File&#160;Name&#160;</b><br/>
<b>Source&#160;</b><br/>
<b>Object&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>Code&#160;</b><br/>
<b>Code&#160;</b><br/>
<b>Delivery&#160;&#160;Delivery&#160;</b><br/>
ComM.c&#160;&#160;<br/>
This&#160;is&#160;the&#160;source&#160;file of&#160;the&#160;COMM.&#160;It&#160;contains&#160;the&#160;<br/>
&#160;<br/>
&#160;<br/>
implementation&#160;of&#160;the&#160;main&#160;functionality.&#160;<br/>
ComM.h&#160;<br/>
This&#160;is&#160;the&#160;header&#160;file of&#160;the&#160;COMM,&#160;which is the&#160;<br/>
&#160;<br/>
&#160;<br/>
interface&#160;for&#160;upper&#160;layers&#160;to&#160;the&#160;services of&#160;the&#160;<br/>COMM.&#160;<br/>
ComM_Types.h&#160;&#160;<br/>
Header&#160;File which includes&#160;COMM&#160;specific&#160;data&#160;<br/>
&#160;<br/>
&#160;<br/>
types.&#160;<br/>
ComM_BusSM.h&#160;<br/>
Header&#160;File which includes the&#160;external&#160;<br/>
&#160;<br/>
&#160;<br/>
declarations&#160;of&#160;the&#160;Bus&#160;State&#160;Manager&#160;callback&#160;<br/>functions.&#160;<br/>
ComM_EcuMBswM.h&#160;<br/>
Header&#160;File which includes the&#160;external&#160;<br/>
&#160;<br/>
&#160;<br/>
declarations&#160;of&#160;the&#160;EcuM&#160;and BswM&#160;callback&#160;<br/>functions.&#160;<br/>
ComM_Nm.h&#160;<br/>
Header&#160;File&#160;which includes the&#160;external&#160;<br/>
&#160;<br/>
&#160;<br/>
declarations&#160;of&#160;the&#160;Nm&#160;callback&#160;functions.&#160;<br/>
ComM_Dcm.h&#160;<br/>
Header&#160;File which includes the&#160;external&#160;<br/>
&#160;<br/>
&#160;<br/>
declarations&#160;of&#160;the&#160;Dcm&#160;callback&#160;functions.&#160;<br/>
Table&#160;4-1&#160;&#160;&#160;Static&#160;files&#160;<br/>
<b>4.1.2&#160;</b><br/>
<b>Dynamic&#160;Files&#160;</b><br/>
The&#160;dynamic&#160;files are&#160;generated&#160;by&#160;the&#160;configuration&#160;tool&#160;DaVinci Configurator 5.&#160;<br/>
<b>File&#160;Name&#160;</b><br/>
<b>Description&#160;</b><br/>
ComM_Lcfg.c&#160;&#160;<br/>
This&#160;is&#160;the&#160;link time configuration source&#160;file.&#160;It&#160;contains all&#160;link time&#160;<br/>configuration&#160;settings.&#160;<br/>
ComM_Lcfg.h&#160;&#160;<br/>
This&#160;is&#160;the&#160;link time configuration header&#160;file.&#160;<br/>
ComM_Cfg.h&#160;<br/>
This&#160;is&#160;the&#160;COMM&#160;configuration header&#160;file.&#160;<br/>
ComM_GenTypes.h&#160;<br/>
This&#160;file contains&#160;the&#160;generated&#160;type&#160;definitions&#160;of&#160;the&#160;COMM.&#160;<br/>
ComM_PBcfg.h&#160;<br/>
Post-build variant&#160;configuration header&#160;file.&#160;<br/>
ComM_PBcfg.c&#160;<br/>
Post-build variant&#160;configuration source&#160;file.&#160;<br/>
ComM_Private_Cfg.h&#160;&#160;This&#160;file contains&#160;generated&#160;types,&#160;macros,&#160;and&#160;#includes which are&#160;<br/>
needed&#160;by&#160;COMM&#160;implementation&#160;but&#160;not&#160;exposed&#160;through ComM.h&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
35&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=36></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-36_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
Table&#160;4-2&#160;&#160;&#160;Generated&#160;files&#160;<br/>
<b>4.2&#160;</b><br/>
<b>Include&#160;Structure&#160;</b><br/>
&#160;&#160;<br/>
<b>&#160;class&#160;IncludeStructure</b><br/>
NvM.h<br/>
SchM_ComM.h<br/>
ComM_Nm.h<br/>
Nm.h<br/>
Det.h<br/>
CanSM_ComM.h<br/>
Dcm_Cbk.h<br/>
«include»<br/>
«include»<br/>
«include»&#160;«include»&#160;«include»<br/>
«include»<br/>
«include»<br/>
CanSM.h<br/>
«include»<br/>
ComM_Dcm.h<br/>
«include»<br/>
«include»<br/>
ComM.c<br/>
ComM_Lcfg.c<br/>
«include»<br/>
«include»<br/>
EthSM.h<br/>
ComM_BusSM.h<br/>
«include»<br/>
«include»<br/>
«include»<br/>
«include»<br/>
«include»&#160;«include»<br/>
ComM_Private_Cfg.h<br/>
«include»<br/>
«include»<br/>
ComM_EcuMBswM.h<br/>
FrSM.h<br/>
«include»<br/>
EcuM_Error.h<br/>
BswM_ComM.h<br/>
Rte_ComM.h<br/>
LinSM.h<br/>
ComM.h<br/>
If&#160;Configuration&#160;Variant&#160;<br/>is&#160;Post&#160;Build&#160;Loadable<br/>
«include»<br/>
«include»<br/>
«include»<br/>
ComM_PBcfg.c<br/>
ComM_PBcfg.h<br/>
ComM_Lcfg.h<br/>
Rte_ComM_Type.h<br/>
«include»<br/>
«include»<br/>
«include»<br/>
«include»<br/>
Com.h<br/>
ComM_Cfg.h<br/>
«include»<br/>
ComM_GenTypes.h<br/>
«include»<br/>
Appl_Cbk.h<br/>
«include»<br/>
«include»<br/>
If&#160;ComMPncSupport&#160;<br/>is&#160;true<br/>
ComM_Types.h<br/>
ComStack_Types.h<br/>
«include»<br/>
&#160;<br/>
Figure&#160;4-1&#160;&#160;Include&#160;structure&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
36&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=37></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-37_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-37_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>4.3&#160;</b><br/>
<b>Critical&#160;Sections&#160;</b><br/>
COMM&#160;requires the&#160;following&#160;critical code&#160;sections:&#160;<br/>
<b>COMM_EXCLUSIVE_AREA_0&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Configuration:&#160;This critical section&#160;must&#160;lock&#160;task interrupts&#160;and&#160;interrupt&#160;sources.&#160;<br/>
<b>&gt;&#160;&#160;</b>Purpose:&#160;This critical section&#160;protects&#160;the&#160;channel state&#160;and&#160;user request&#160;status.&#160;<br/>
<b>&gt;&#160;&#160;</b>This critical section&#160;covers calls to&#160;several sub-functions and&#160;can&#160;have&#160;a&#160;long&#160;run-time.&#160;<br/>
<b>COMM_EXCLUSIVE_AREA_1&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Configuration:&#160;This critical section&#160;must&#160;lock&#160;task interrupts&#160;if&#160;ComM_MainFunction()&#160;<br/>
can&#160;be&#160;interrupted&#160;by&#160;one&#160;of&#160;the&#160;following&#160;BSW&#160;Module&#160;tasks.&#160;Otherwise&#160;no&#160;interrupt&#160;<br/>lock&#160;is necessary.&#160;<br/>
<b>&gt;&#160;&#160;</b>Nm_MainFunction()&#160;<br/>
<b>&gt;&#160;&#160;</b>BusNm_MainFunction(), e.g.&#160;CanNm_MainFunction()&#160;<br/>
<b>&gt;&#160;&#160;</b>BusSM_MainFunction(),&#160;e.g.&#160;CanSM_MainFunction()&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;‘Pnc&#160;Support’&#160;is enabled&#160;in&#160;the&#160;module&#160;configuration,&#160;it&#160;must&#160;be&#160;ensured&#160;that&#160;<br/>
ComM_MainFunction()&#160;is not&#160;interrupted&#160;by&#160;ComM_RequestComMode().&#160;If&#160;an&#160;<br/>interruption&#160;is possible,&#160;the&#160;section&#160;requires global interrupt&#160;lock.&#160;<br/>
<b>&gt;&#160;&#160;</b>Purpose:&#160;This critical section&#160;protects&#160;the&#160;channel state.&#160;<br/>
<b>&gt;&#160;&#160;</b>This critical section&#160;covers calls to&#160;several sub-functions and&#160;can&#160;have&#160;a&#160;long&#160;run-time.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>It&#160;is&#160;recommended&#160;to&#160;use OS&#160;Resources&#160;for&#160;these exclusive areas&#160;to prevent&#160;priority&#160;<br/>
&#160;&#160;inversions and deadlocks.&#160;<br/>
Using&#160;OS&#160;Resources&#160;for&#160;COMM_EXCLUSIVE_AREA_0&#160;is&#160;not&#160;possible if&#160;‘Pnc Support’&#160;<br/>is&#160;enabled&#160;in the&#160;module&#160;configuration.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>4.4&#160;</b><br/>
<b>Handling of&#160;non-volatile&#160;Data&#160;</b><br/>
The&#160;non-volatile&#160;data&#160;is&#160;handled&#160;via&#160;the&#160;AUTOSAR&#160;NvRAM&#160;Manager.&#160;The&#160;COMM&#160;uses&#160;the&#160;<br/>following&#160;NvRAM Manager&#160;API:&#160;<br/>
<b>&gt;&#160;&#160;</b>NvM_GetErrorStatus(..)&#160;The&#160;non-volatile&#160;data&#160;must&#160;be&#160;loaded&#160;and&#160;stored&#160;in&#160;the&#160;<br/>
below&#160;listed&#160;variable&#160;before the&#160;COMM&#160;is initialized&#160;via&#160;ComM_Init().&#160;The&#160;COMM&#160;<br/>checks with&#160;the&#160;function&#160;NvM_GetErrorStatus(..) if&#160;the&#160;COMM&#160;data&#160;is loaded&#160;or&#160;not.&#160;If&#160;<br/>not&#160;then&#160;the&#160;COMM&#160;works with&#160;the&#160;configured&#160;values of&#160;the&#160;ECU&#160;Group&#160;Classification&#160;<br/>and&#160;prevent&#160;wake-up&#160;state.&#160;Additionally&#160;the&#160;COMM&#160;resets&#160;the&#160;inhibition&#160;counter to&#160;0.&#160;<br/>
<b>&gt;&#160;&#160;</b>NvM_SetRamBlockStatus(..)&#160;This&#160;function&#160;is used&#160;to&#160;trigger the&#160;storage&#160;of&#160;the&#160;<br/>
non-volatile&#160;data.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
37&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=38></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-38_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-38_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
The&#160;&#160;non-volatile&#160;&#160;data&#160;&#160;of&#160;&#160;the&#160;&#160;COMM&#160;&#160;are&#160;&#160;grouped&#160;&#160;inside&#160;&#160;the&#160;&#160;structure&#160;&#160;called&#160;<br/>ComM_Inhibition.&#160;&#160;The&#160;&#160;structure&#160;&#160;contains&#160;&#160;the&#160;&#160;following&#160;&#160;elements&#160;&#160;(order&#160;&#160;of&#160;&#160;elements&#160;<br/>equal to&#160;the&#160;structure&#160;element&#160;order):&#160;<br/>
<b>&gt;&#160;&#160;</b>ComM_ECUGroupClassification&#160;<br/>
<b>&gt;&#160;&#160;</b>size:&#160;1&#160;Byte&#160;<br/>
<b>&gt;&#160;&#160;</b>stores&#160;the&#160;ECU&#160;Group&#160;classification&#160;<br/>
<b>&gt;&#160;&#160;</b>ComM_InhibitCnt&#160;<br/>
<b>&gt;&#160;&#160;</b>size:&#160;2&#160;Byte&#160;<br/>
<b>&gt;&#160;&#160;</b>stores&#160;the&#160;inhibition&#160;counter&#160;<br/>
<b>&gt;&#160;&#160;</b>ComM_InhibitionStatus[&lt;COMM_ACTIVE_CHANNEL&gt;]&#160;<br/>
<b>&gt;&#160;&#160;</b>size:&#160;1&#160;Byte&#160;per COMM&#160;channel&#160;<br/>
<b>&gt;&#160;&#160;</b>stores&#160;the&#160;prevent&#160;wake&#160;up&#160;state&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>The&#160;COMM&#160;non-volatile data&#160;must&#160;be&#160;loaded and&#160;stored&#160;inside&#160;the&#160;above listed&#160;<br/>
<b>&#160;&#160;</b>variables before&#160;the&#160;COMM&#160;is&#160;initialized&#160;via&#160;ComM_Init().&#160;If&#160;not,&#160;COMM&#160;will&#160;use&#160;the&#160;<br/>
configured&#160;values.&#160;&#160;<br/>The&#160;non-volatile data handling&#160;is&#160;only&#160;necessary&#160;if&#160;at&#160;least&#160;one&#160;of&#160;the&#160;COMM&#160;<br/>configuration&#160;options&#160;Mode&#160;Limitation&#160;or&#160;Wake-up&#160;Inhibition&#160;is&#160;enabled.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
38&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=39></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-39_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>5&#160;&#160;API&#160;Description&#160;</b><br/>
For an&#160;interfaces overview&#160;please&#160;see<a href="TechnicalReference_ComMs.html#14">&#160;Figure&#160;2-2.</a>&#160;<br/>
<b>5.1&#160;</b><br/>
<b>Type&#160;Definitions&#160;</b><br/>
The&#160;types defined&#160;by&#160;the&#160;COMM&#160;are&#160;described&#160;in&#160;this chapter.&#160;<br/>
<b>Type&#160;Name&#160;</b><br/>
<b>C-</b><br/>
<b>Description&#160;</b><br/>
<b>Value&#160;Range&#160;</b><br/>
<b>Type&#160;</b><br/>
ComM_InitStatusType&#160;<br/>
uint8&#160;&#160;Initialization&#160;<br/>
COMM_UNINIT&#160;<br/>
status&#160;of&#160;<br/>
COMM&#160;is&#160;not&#160;initialized&#160;<br/>
COMM.&#160;<br/>
COMM_INIT&#160;<br/>COMM&#160;is&#160;initialized&#160;and usable&#160;<br/>
ComM_InhibitionStatusType&#160;&#160;uint8&#160;&#160;Inhibition&#160;<br/>
Bit&#160;0&#160;(LSB):&#160;<br/>
status&#160;of&#160;<br/>
0&#160;-&#160;Wake-up&#160;Inhibition&#160;is&#160;not&#160;active&#160;<br/>
COMM&#160;<br/>
1&#160;-&#160;Wake-up&#160;Inhibition&#160;is&#160;active&#160;<br/>Bit&#160;1:&#160;<br/>0&#160;-&#160;Mode Limitation is&#160;not&#160;active&#160;<br/>1&#160;-&#160;Mode Limitation is active&#160;<br/>
ComM_UserHandleType&#160;<br/>
uint8&#160;&#160;Handle to&#160;<br/>
0..255&#160;<br/>
identify&#160;a&#160;<br/>
Note:&#160;ID&#160;255&#160;is&#160;reserved&#160;<br/>
COMM&#160;user&#160;<br/>
ComM_BusType&#160;<br/>
uint8&#160;&#160;Configured&#160;<br/>
COMM_BUS_TYPE_CAN&#160;<br/>
Bus&#160;Type&#160;of&#160;a&#160;&#160;The&#160;channel&#160;is&#160;a&#160;CAN&#160;Channel&#160;<br/>COMM&#160;<br/>
COMM_BUS_TYPE_FR&#160;<br/>
Channel&#160;<br/>
The&#160;channel&#160;is&#160;a&#160;FlexRay&#160;channel&#160;<br/>COMM_BUS_TYPE_LIN&#160;<br/>The&#160;channel&#160;is&#160;a&#160;LIN&#160;channel&#160;<br/>COMM_BUS_TYPE_ETH&#160;<br/>The&#160;channel&#160;is&#160;an&#160;Ethernet&#160;channel&#160;<br/>COMM_BUS_TYPE_INTERNAL&#160;<br/>The&#160;channel&#160;is&#160;an&#160;INTERNAL&#160;channel&#160;<br/>
ComM_ModeType&#160;<br/>
uint8&#160;&#160;Current&#160;<br/>
COMM_NO_COMMUNICATION&#160;&#160;&#160;<br/>
COMM&#160;mode&#160;&#160;COMM&#160;is&#160;in the&#160;state&#160;No Communication&#160;<br/>
(main state of&#160;&#160;COMM_SILENT_COMMUNICATION&#160;<br/>
the&#160;state&#160;<br/>machine)<br/>
COMM&#160;is&#160;in state&#160;Silent&#160;Communication<br/>
&#160;<br/>
&#160;<br/>
COMM_FULL_COMMUNICATION&#160;<br/>COMM&#160;is&#160;in state&#160;Full&#160;Communication&#160;<br/>
ComM_PncModeType&#160;<br/>
uint8&#160;&#160;Current&#160;mode&#160;&#160;COMM_PNC_NO_COMMUNICATION&#160;&#160;<br/>
of&#160;a&#160;PNC&#160;<br/>
PNC&#160;is&#160;in the&#160;state No&#160;Communication&#160;<br/>COMM_PNC_PREPARE_SLEEP&#160;<br/>PNC&#160;is&#160;in state Prepare&#160;Sleep&#160;<br/>COMM_PNC_READY_SLEEP&#160;<br/>PNC&#160;is&#160;in state Ready&#160;Sleep&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
39&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=40></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-40_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>Type&#160;Name&#160;</b><br/>
<b>C-</b><br/>
<b>Description&#160;</b><br/>
<b>Value&#160;Range&#160;</b><br/>
<b>Type&#160;</b><br/>
COMM_PNC_REQUESTED&#160;<br/>PNC&#160;is&#160;in state Requested&#160;<br/>
ComM_StateType&#160;<br/>
uint8&#160;&#160;State&#160;and&#160;<br/>
COMM_NO_COM_NO_PENDING_REQUEST&#160;<br/>
sub-state&#160;of&#160;<br/>
COMM_NO_COM_REQUEST_PENDING&#160;<br/>
COMM&#160;state&#160;<br/>machine<br/>
COMM_FULL_COM_NETWORK_REQUESTED&#160;<br/>
&#160;<br/>
COMM_FULL_COM_READY_SLEEP&#160;<br/>
COMM_SILENT_COM&#160;<br/>
ComM_ConfigType&#160;<br/>
struct&#160;&#160;Post-build&#160;<br/>
-&#160;<br/>
configuration&#160;<br/>structure&#160;<br/>
Table&#160;5-1&#160;&#160;&#160;Type&#160;definitions&#160;<br/>
<b>ComM_InhibitionType&#160;</b><br/>
This&#160;structure contains current&#160;inhibition&#160;status.&#160;It&#160;is&#160;stored&#160;non-volatile.&#160;<br/>&#160;<br/>
<b>Struct&#160;Element&#160;Name&#160;</b><br/>
<b>C-</b><br/>
<b>Description&#160;</b><br/>
<b>Value&#160;Range&#160;</b><br/>
<b>Type&#160;</b><br/>
ComM_ECUGroupClassification&#160;&#160;uint8&#160;<br/>
Current&#160;ECU&#160;<br/>
0&#160;<br/>
group&#160;<br/>
ECU&#160;is&#160;not&#160;affected&#160;by&#160;mode&#160;<br/>
classification&#160;<br/>
inhibition&#160;<br/>1&#160;<br/>ECU&#160;is&#160;affected&#160;by&#160;Wake-up&#160;<br/>Inhibition&#160;only&#160;<br/>2&#160;<br/>ECU&#160;is&#160;affected&#160;by&#160;Mode Limitation&#160;<br/>only&#160;<br/>3&#160;<br/>ECU&#160;is&#160;affected&#160;by&#160;both inhibition&#160;<br/>types&#160;<br/>
ComM_InhibitCnt&#160;<br/>
uint16&#160;&#160;Inhibition&#160;<br/>
0..65535&#160;<br/>
counter&#160;<br/>
ComM_InhibitionStatus&#160;<br/>
uint8[]&#160;&#160;Inhibition&#160;status&#160;&#160;0..3&#160;<br/>
per&#160;COMM&#160;<br/>
Refer&#160;to description&#160;of&#160;<br/>
channel&#160;<br/>
ComM_InhibitionStatusType&#160;<br/>
Table&#160;5-2&#160;&#160;&#160;ComM_InhibitionType&#160;<br/>
<b>ComM_UserHandleArrayType&#160;</b><br/>
This&#160;structure contains&#160;the&#160;set&#160;of&#160;COMM&#160;users&#160;requesting&#160;Full&#160;Communication&#160;for&#160;a&#160;channel.&#160;<br/>&#160;<br/>
<b>Struct&#160;Element&#160;Name&#160;&#160;C-Type&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>Value&#160;Range&#160;</b><br/>
numberOfRequesters&#160;&#160;uint8&#160;<br/>
Number&#160;of&#160;valid user&#160;handles in&#160;the&#160;<br/>
0..254&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
40&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=41></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-41_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>Struct&#160;Element&#160;Name&#160;&#160;C-Type&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>Value&#160;Range&#160;</b><br/>
handleArray&#160;member.&#160;The value&#160;is&#160;<br/>zero&#160;if&#160;no&#160;user&#160;keeps&#160;the&#160;channel&#160;<br/>requested.&#160;<br/>
handleArray&#160;<br/>
ComM_UserHan&#160;User&#160;handles of&#160;the&#160;users&#160;which keep&#160;&#160;&#160;<br/>dleType[]&#160;<br/>
the&#160;channel&#160;requested&#160;(if&#160;any),&#160;<br/>starting&#160;in its&#160;first&#160;entries.&#160;The&#160;size of&#160;<br/>the&#160;array&#160;is&#160;the&#160;number&#160;of&#160;users&#160;<br/>configured&#160;on&#160;the&#160;channel.&#160;<br/>
Table&#160;5-3&#160;&#160;&#160;ComM_UserHandleArrayType&#160;<br/>
<b>5.2&#160;</b><br/>
<b>Services&#160;provided by&#160;COMM&#160;</b><br/>
<b>5.2.1&#160;</b><br/>
<b>ComM_InitMemory&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>ComM_InitMemory</b>&#160;( void )&#160;<br/>
<b>Parameter&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
If&#160;RAM is&#160;not&#160;automatically&#160;initialized at&#160;start-up,&#160;this&#160;function&#160;must be called&#160;from&#160;start-up&#160;code&#160;to&#160;ensure&#160;<br/>that&#160;variables&#160;which must be initialized&#160;with a&#160;certain&#160;value (e.g.&#160;initialization&#160;status&#160;with&#160;COMM_UNINIT&#160;<br/>value)&#160;are set&#160;to those values.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;a&#160;Vector&#160;Extension.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;has&#160;to&#160;be&#160;called&#160;once during&#160;start-up&#160;and before&#160;ComM_Init()&#160;is&#160;called.&#160;<br/>
Table&#160;5-4&#160;&#160;&#160;ComM_InitMemory&#160;<br/>
<b>5.2.2&#160;</b><br/>
<b>ComM_Init&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>ComM_Init</b>&#160;(&#160;void&#160;)&#160;<br/>void&#160;<b>ComM_Init</b>&#160;(&#160;ComM_ConfigType*&#160;ConfigPtr&#160;)&#160;<br/>
<b>Parameter&#160;</b><br/>
ConfigPtr&#160;<br/>
Configuration pointer is&#160;needed&#160;if&#160;MICROSAR Identity&#160;Manager&#160;Post-Build&#160;<br/>Selectable&#160;or Post-Build&#160;Loadable&#160;is&#160;used. Otherwise the&#160;function has&#160;no&#160;<br/>parameter.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
41&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=42></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-42_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;initializes&#160;the&#160;COMM.&#160;All&#160;variables&#160;are&#160;set to&#160;default&#160;values.&#160;The&#160;COMM&#160;initialization&#160;state is&#160;<br/>set&#160;to&#160;COMM_INIT&#160;and&#160;the&#160;COMM&#160;main state&#160;is&#160;set&#160;to&#160;COMM_NO_COM_NO_PENDING_REQUEST.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function is non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;Mode Limitation or&#160;Wake-up&#160;Inhibition&#160;is&#160;enabled,&#160;the&#160;non-volatile values&#160;must&#160;be&#160;loaded&#160;<br/>
and stored&#160;before&#160;this&#160;function is called&#160;(refer&#160;to&#160;chapter&#160;<a href="TechnicalReference_ComMs.html#37">‘Handling&#160;of&#160;non-volatile&#160;Data’</a>).&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;to be&#160;called&#160;once during&#160;start-up&#160;after&#160;ComM_InitMemory()&#160;is&#160;called.&#160;<br/>
Table&#160;5-5&#160;&#160;&#160;ComM_Init&#160;<br/>
<b>5.2.3&#160;</b><br/>
<b>ComM_DeInit&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>ComM_DeInit</b>&#160;(&#160;void&#160;)&#160;<br/>
<b>Parameter&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;de-initializes&#160;COMM&#160;and&#160;sets&#160;the&#160;initialization status&#160;to&#160;COMM_UNINIT. It&#160;stores&#160;non-volatile&#160;<br/>values&#160;in NVRAM (refer to&#160;chapter&#160;<a href="TechnicalReference_ComMs.html#37">‘Handling of&#160;non-volatile&#160;Data’</a>).&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;executed&#160;if&#160;all&#160;COMM&#160;channels&#160;are&#160;in state&#160;<br/>
COMM_NO_COM_NO_PENDING_REQUEST.&#160;Otherwise calling&#160;the&#160;function&#160;has no&#160;effect.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context&#160;&#160;<br/>
Table&#160;5-6&#160;&#160;&#160;ComM_DeInit&#160;<br/>
<b>5.2.4&#160;</b><br/>
<b>ComM_GetStatus&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>ComM_GetStatus</b>&#160;( ComM_InitStatusType* Status )&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
42&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=43></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-43_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>Parameter&#160;</b><br/>
Status&#160;<br/>
Pointer&#160;where&#160;the&#160;COMM&#160;initialization&#160;status&#160;shall&#160;be&#160;stored&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
E_OK&#160;<br/>
ComM_GetStatus&#160;has&#160;performed&#160;<br/>
E_NOT_OK&#160;<br/>
Invalid parameter&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;gets&#160;the&#160;initialization&#160;status&#160;of&#160;the&#160;COMM.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context&#160;<br/>
Table&#160;5-7&#160;&#160;&#160;ComM_GetStatus&#160;<br/>
<b>5.2.5&#160;</b><br/>
<b>ComM_GetInhibitionStatus&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>ComM_GetInhibitionStatus</b>&#160;( NetworkHandleType Channel,&#160;<br/>ComM_InihibitionStatusType* Status )&#160;<br/>
<b>Parameter&#160;</b><br/>
Channel&#160;<br/>
Index&#160;of&#160;the system&#160;channel&#160;<br/>
Status&#160;<br/>
Pointer&#160;where&#160;the&#160;COMM&#160;inhibition&#160;status&#160;shall&#160;be&#160;stored&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
E_OK&#160;<br/>
Successfully&#160;returned Inhibition&#160;Status&#160;<br/>
E_NOT_OK&#160;<br/>
Invalid parameter&#160;<br/>
COMM_E_UNINIT&#160;<br/>
COMM&#160;is&#160;not&#160;initialized&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;gets&#160;the&#160;current&#160;COMM&#160;inhibition status&#160;of&#160;the given&#160;channel.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context&#160;<br/>
Table&#160;5-8&#160;&#160;&#160;ComM_GetInhibitionStatus&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
43&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=44></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-44_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>5.2.6&#160;</b><br/>
<b>ComM_RequestComMode&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>ComM_RequestComMode</b>&#160;( ComM_UserHandleType User, ComM_ModeType&#160;<br/>ComMode )&#160;<br/>
<b>Parameter&#160;</b><br/>
User&#160;<br/>
Index&#160;of&#160;the User,&#160;the&#160;user&#160;handles&#160;are generated&#160;and&#160;can&#160;be&#160;found&#160;in the&#160;<br/>ComM_Lcfg.h&#160;file&#160;<br/>
ComMode&#160;<br/>
The&#160;requested&#160;communication&#160;mode:&#160;<br/>COMM_FULL_COMMUNICATION&#160;<br/>COMM_NO_COMMUNICATION&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
E_OK&#160;<br/>
Request is&#160;accepted&#160;<br/>
E_NOT_OK&#160;<br/>
Invalid parameter&#160;<br/>
COMM_E_UNINIT&#160;<br/>
COMM&#160;is&#160;not&#160;initialized&#160;<br/>
COMM_E_MODE_LIMITATI&#160;Requested&#160;was&#160;successful&#160;but mode cannot&#160;be granted because of&#160;mode&#160;<br/>ON&#160;<br/>
inhibition&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;is&#160;used by&#160;upper&#160;layer modules&#160;or application to&#160;request the given&#160;communication&#160;mode.&#160;The&#160;<br/>communication&#160;mode request is&#160;stored&#160;and&#160;will&#160;be&#160;processed&#160;in the&#160;ComM_MainFunction().&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;asynchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context&#160;<br/>
Table&#160;5-9&#160;&#160;&#160;ComM_RequestComMode&#160;<br/>
<b>5.2.7&#160;</b><br/>
<b>ComM_GetMaxComMode&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>ComM_GetMaxComMode</b>&#160;( ComM_UserHandleType User, ComM_ModeType*&#160;<br/>ComMode )&#160;<br/>
<b>Parameter&#160;</b><br/>
User&#160;<br/>
Index&#160;of&#160;the User,&#160;the&#160;user&#160;handles&#160;are generated&#160;and&#160;can&#160;be&#160;found&#160;in the&#160;<br/>ComM_Lcfg.h&#160;file&#160;<br/>
ComMode&#160;<br/>
Pointer&#160;where&#160;the&#160;maximal&#160;communication&#160;mode of&#160;the given user shall&#160;be&#160;<br/>stored&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
E_OK&#160;<br/>
Request is&#160;accepted&#160;<br/>
E_NOT_OK&#160;<br/>
Invalid parameter&#160;<br/>
COMM_E_UNINIT&#160;<br/>
COMM&#160;is&#160;not&#160;initialized&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
44&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=45></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-45_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;queries&#160;the&#160;maximum&#160;allowed&#160;communication mode of&#160;the corresponding&#160;user.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context&#160;<br/>
Table&#160;5-10&#160;&#160;&#160;ComM_GetMaxComMode&#160;<br/>
<b>5.2.8&#160;</b><br/>
<b>ComM_GetRequestedComMode&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>ComM_GetRequestedComMode</b>&#160;( ComM_UserHandleType User,&#160;<br/>ComM_ModeType* ComMode )&#160;<br/>
<b>Parameter&#160;</b><br/>
User&#160;<br/>
Index&#160;of&#160;the User,&#160;the&#160;user&#160;handles&#160;are generated&#160;and&#160;can&#160;be&#160;found&#160;in the&#160;<br/>ComM_Lcfg.h&#160;file&#160;<br/>
ComMode&#160;<br/>
Pointer&#160;where&#160;the&#160;requested communication&#160;mode of&#160;the&#160;given&#160;user&#160;shall&#160;be&#160;<br/>stored&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
E_OK&#160;<br/>
Request is&#160;accepted&#160;<br/>
E_NOT_OK&#160;<br/>
Invalid parameter&#160;<br/>
COMM_E_UNINIT&#160;<br/>
COMM&#160;is&#160;not&#160;initialized&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;queries&#160;the&#160;requested communication&#160;mode of&#160;the&#160;corresponding user.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Function&#160;can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context&#160;<br/>
Table&#160;5-11&#160;&#160;&#160;ComM_GetRequestedComMode&#160;<br/>
<b>5.2.9&#160;</b><br/>
<b>ComM_GetCurrentComMode&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>ComM_GetCurrentComMode</b>&#160;( ComM_UserHandleType User,&#160;<br/>ComM_ModeType* ComMode )&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
45&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=46></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-46_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>Parameter&#160;</b><br/>
User&#160;<br/>
Index&#160;of&#160;the User,&#160;the&#160;user&#160;handles&#160;are generated&#160;and&#160;can&#160;be&#160;found&#160;in the&#160;<br/>ComM_Lcfg.h&#160;file&#160;<br/>
ComMode&#160;<br/>
Pointer&#160;where&#160;the&#160;current&#160;communication&#160;mode of&#160;the&#160;given&#160;user shall&#160;be&#160;<br/>stored&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
E_OK&#160;<br/>
Request is&#160;accepted&#160;<br/>
E_NOT_OK&#160;<br/>
Invalid parameter&#160;<br/>
COMM_E_UNINIT&#160;<br/>
COMM&#160;is&#160;not&#160;initialized&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;queries&#160;the&#160;current communication&#160;mode&#160;of&#160;the corresponding user. If&#160;the user is&#160;assigned to&#160;<br/>more than one&#160;communication&#160;channel,&#160;then always&#160;the lowest communication&#160;mode&#160;is&#160;returned.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context&#160;<br/>
Table&#160;5-12&#160;&#160;&#160;ComM_GetCurrentComMode&#160;<br/>
<b>5.2.10&#160;&#160;ComM_PreventWakeUp&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>ComM_PreventWakeUp</b>&#160;( NetworkHandleType Channel, boolean Status )&#160;<br/>
<b>Parameter&#160;</b><br/>
Channel&#160;<br/>
Index&#160;of&#160;the system&#160;channel&#160;<br/>
Status&#160;<br/>
TRUE:&#160;Wake Up&#160;Inhibition is&#160;switched&#160;on&#160;<br/>FALSE:&#160;Wake Up&#160;Inhibition&#160;is&#160;switched off&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
E_OK&#160;<br/>
Request is&#160;accepted&#160;<br/>
E_NOT_OK&#160;<br/>
Request is&#160;ignored&#160;if&#160;one of&#160;the following&#160;occurs&#160;<br/>
&gt;&#160;&#160;Channel&#160;parameter&#160;is&#160;invalid or&#160;<br/>
&gt;&#160;&#160;'Wake-Up&#160;Inhibition&#160;Enabled‘&#160;is&#160;de-activated&#160;in&#160;the&#160;module configuration&#160;or&#160;<br/>
&gt;&#160;&#160;‘ECU&#160;Group&#160;Classification’&#160;does&#160;not&#160;support&#160;Prevent&#160;Wake-Up (refer to&#160;<br/>
chapter<a href="TechnicalReference_ComMs.html#49">&#160;5.2.15).</a>&#160;<br/>
COMM_E_UNINIT&#160;<br/>
COMM&#160;is&#160;not&#160;initialized&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;changes&#160;the inhibition&#160;status&#160;ComMNoWakeUp&#160;of&#160;the&#160;COMM&#160;for the&#160;given&#160;channel.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
46&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=47></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-47_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>A&#160;proper&#160;ECU&#160;Group&#160;Classification&#160;shall&#160;be&#160;set&#160;before&#160;using this&#160;API&#160;(refer&#160;to chapter<a href="TechnicalReference_ComMs.html#49">&#160;5.2.15).</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context&#160;<br/>
Table&#160;5-13&#160;&#160;&#160;ComM_PreventWakeUp&#160;<br/>
<b>5.2.11&#160;&#160;ComM_LimitChannelToNoComMode&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>ComM_LimitChannelToNoComMode</b>&#160;( NetworkHandleType Channel,&#160;<br/>boolean Status )&#160;<br/>
<b>Parameter&#160;</b><br/>
Channel&#160;<br/>
Index&#160;of&#160;the&#160;system&#160;channel&#160;<br/>
Status&#160;<br/>
TRUE:&#160;limitation&#160;to COMM_NO_COMMUNCIATION is&#160;ON&#160;<br/>FALSE: limitation to&#160;COMM_NO_COMMUNCIATION is&#160;OFF&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
E_OK&#160;<br/>
Request is&#160;accepted&#160;<br/>
E_NOT_OK&#160;<br/>
Request is&#160;ignored&#160;if&#160;one of&#160;the following&#160;occurs&#160;<br/>
&gt;&#160;&#160;Channel&#160;parameter&#160;is&#160;invalid or&#160;<br/>
&gt;&#160;&#160;'Mode&#160;Limitation&#160;Enabled‘&#160;is&#160;de-activated&#160;in the&#160;module configuration&#160;or&#160;<br/>
&gt;&#160;&#160;‘ECU&#160;Group&#160;Classification’&#160;does&#160;not&#160;support&#160;Mode&#160;Limitation&#160;(refer to&#160;<br/>
chapter<a href="TechnicalReference_ComMs.html#49">&#160;5.2.15)</a>&#160;or&#160;<br/>
&gt;&#160;&#160;The&#160;current state of&#160;the&#160;COMM&#160;channel&#160;is&#160;not&#160;<br/>
COMM_FULL_COM_NETWORK_REQUESTED&#160;or&#160;<br/>
&gt;&#160;&#160;Nm&#160;Variant&#160;NONE&#160;is&#160;configured on the channel.&#160;<br/>
COMM_E_UNINIT&#160;<br/>
COMM&#160;is&#160;not&#160;initialized&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;changes&#160;the inhibition&#160;status&#160;ComMNoCom&#160;of&#160;the&#160;COMM&#160;for the&#160;given channel.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>A&#160;proper&#160;ECU&#160;Group&#160;Classification&#160;shall&#160;be&#160;set&#160;before&#160;using&#160;this&#160;API&#160;(refer&#160;to chapter<a href="TechnicalReference_ComMs.html#49">&#160;5.2.15).</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context&#160;<br/>
Table&#160;5-14&#160;&#160;&#160;ComM_LimitChannelToNoComMode&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
47&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=48></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-48_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>5.2.12&#160;&#160;ComM_LimitECUToNoComMode&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>ComM_LimitECUToNoComMode</b>&#160;( boolean Status )&#160;<br/>
<b>Parameter&#160;</b><br/>
Status&#160;<br/>
TRUE:&#160;limitation&#160;to COMM_NO_COMMUNCIATION is&#160;ON&#160;<br/>FALSE: limitation to&#160;COMM_NO_COMMUNCIATION is&#160;OFF&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
E_OK&#160;<br/>
Request is&#160;accepted&#160;<br/>
E_NOT_OK&#160;<br/>
Request is&#160;ignored&#160;if&#160;one of&#160;the following&#160;occurs&#160;<br/>
&gt;&#160;&#160;'Mode&#160;Limitation&#160;Enabled‘&#160;is&#160;de-activated&#160;in the&#160;module configuration&#160;or&#160;<br/>
&gt;&#160;&#160;‘ECU&#160;Group&#160;Classification’&#160;does&#160;not&#160;support Mode&#160;Limitation&#160;(refer to&#160;<br/>
chapter<a href="TechnicalReference_ComMs.html#49">&#160;5.2.15)</a>&#160;or&#160;<br/>
&gt;&#160;&#160;The&#160;API<a href="TechnicalReference_ComMs.html#47">&#160;ComM_LimitChannelToNoComMode&#160;</a>returned E_NOT_OK&#160;for at&#160;<br/>
least&#160;one channel.&#160;<br/>
COMM_E_UNINIT&#160;<br/>
COMM&#160;is&#160;not&#160;initialized&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;changes&#160;the inhibition&#160;status&#160;ComMNoCom&#160;of&#160;the&#160;COMM&#160;for&#160;all&#160;channels.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>A&#160;proper&#160;ECU&#160;Group&#160;Classification&#160;shall&#160;be&#160;set&#160;before&#160;using&#160;this&#160;API&#160;(refer&#160;to chapter<a href="TechnicalReference_ComMs.html#49">&#160;5.2.15)</a>.&#160;<br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context&#160;<br/>
Table&#160;5-15&#160;&#160;&#160;ComM_LimitECUToNoComMode&#160;<br/>
<b>5.2.13&#160;&#160;ComM_ReadInhibitCounter&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>ComM_ReadInhibitCounter</b>&#160;( uint16* CounterValue )&#160;<br/>
<b>Parameter&#160;</b><br/>
CounterValue&#160;<br/>
Pointer&#160;where&#160;the&#160;value of&#160;the&#160;COMM&#160;mode inhibition&#160;counter shall&#160;be&#160;stored&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
E_OK&#160;<br/>
Request is&#160;accepted&#160;<br/>
E_NOT_OK&#160;<br/>
Invalid parameter&#160;<br/>
COMM_E_UNINIT&#160;<br/>
COMM&#160;is&#160;not&#160;initialized&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;returns&#160;the&#160;amount&#160;of&#160;rejected&#160;Full&#160;Communication&#160;user requests.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
48&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=49></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-49_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context&#160;<br/>
Table&#160;5-16&#160;&#160;&#160;ComM_ReadInhibitCounter&#160;<br/>
<b>5.2.14&#160;&#160;ComM_ResetInhibitCounter&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>ComM_ReadInhibitCounter</b>&#160;( void )&#160;<br/>
<b>Parameter&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
E_OK&#160;<br/>
Request is&#160;accepted&#160;<br/>
COMM_E_UNINIT&#160;<br/>
COMM&#160;is&#160;not&#160;initialized&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;resets&#160;the counter&#160;of&#160;rejected&#160;Full&#160;Communication user requests.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context&#160;<br/>
Table&#160;5-17&#160;&#160;&#160;ComM_ResetInhibitCounter&#160;<br/>
<b>5.2.15&#160;&#160;ComM_SetECUGroupClassification&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>ComM_SetECUGroupClassificatio</b>n ( ComM_InhibitionStatusType&#160;<br/>Status )&#160;<br/>
<b>Parameter&#160;</b><br/>
Status&#160;<br/>
Defines&#160;Mode&#160;Inhibition&#160;types&#160;the&#160;ECU&#160;is&#160;affected&#160;by:&#160;<br/>0&#160;-&#160;ECU&#160;is&#160;not&#160;affected&#160;by&#160;mode inhibition&#160;<br/>1&#160;-&#160;ECU&#160;is&#160;affected&#160;by&#160;Wake-up&#160;Inhibition only&#160;<br/>2&#160;-&#160;ECU&#160;is&#160;affected&#160;by&#160;Mode Limitation&#160;only&#160;<br/>3&#160;-&#160;ECU&#160;is&#160;affected&#160;by&#160;both&#160;inhibition&#160;types&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
E_OK&#160;<br/>
Request is&#160;accepted&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
49&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=50></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-50_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
E_NOT_OK&#160;<br/>
Invalid parameter&#160;<br/>
COMM_E_UNINIT&#160;<br/>
COMM&#160;is&#160;not&#160;initialized&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;changes&#160;the&#160;ECU group classification&#160;status&#160;during&#160;runtime.&#160;The&#160;value&#160;is&#160;stored&#160;non-volatile.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context&#160;<br/>
Table&#160;5-18&#160;&#160;&#160;ComM_SetECUGroupClassification&#160;<br/>
<b>5.2.16&#160;&#160;ComM_GetVersionInfo&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>ComM_GetVersionInfo</b>&#160;( Std_versionInfoType* versioninfo )&#160;<br/>
<b>Parameter&#160;</b><br/>
versioninfo&#160;<br/>
Pointer&#160;where&#160;the&#160;version&#160;information&#160;shall&#160;be&#160;stored.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;is&#160;called to&#160;get the&#160;version&#160;information&#160;of&#160;the&#160;COMM.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;Function is&#160;only&#160;available if&#160;it&#160;is&#160;enabled&#160;during pre-compile time&#160;<br/>
(COMM_VERSION_INFO_API&#160;==&#160;STD_ON)&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context&#160;<br/>
Table&#160;5-19&#160;&#160;&#160;ComM_GetVersionInfo&#160;<br/>
<b>5.2.17&#160;&#160;ComM_MainFunction&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>ComM_MainFunction_&lt;Channel_ID&gt;</b>&#160;( void )&#160;<br/>(Channel_ID 0..255)&#160;<br/>
<b>Parameter&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
50&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=51></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-51_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;must be called cyclically&#160;with the configured&#160;COMM&#160;cycle&#160;time.&#160;Within this&#160;function&#160;COMM&#160;<br/>performs&#160;the channel&#160;specific&#160;state transitions&#160;and&#160;state change&#160;notifications&#160;to&#160;users&#160;and&#160;BswM.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Function&#160;must&#160;be&#160;called&#160;in task&#160;context&#160;and&#160;not&#160;in&#160;a reentrant&#160;way&#160;<br/>
Table&#160;5-20&#160;&#160;&#160;ComM_MainFunction&#160;<br/>
<b>5.2.18&#160;&#160;ComM_GetState&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>ComM_GetState</b>&#160;( NetworkHandleType Channel, ComM_StateType* State&#160;<br/>)&#160;<br/>
<b>Parameter&#160;</b><br/>
Channel&#160;<br/>
Index&#160;of&#160;the system&#160;channel&#160;<br/>
State&#160;<br/>
Pointer&#160;where&#160;the&#160;current&#160;COMM&#160;state shall&#160;be&#160;stored&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
E_OK&#160;<br/>
Request is&#160;accepted&#160;<br/>
E_NOT_OK&#160;<br/>
Invalid parameter&#160;<br/>
COMM_E_UNINIT&#160;<br/>
COMM&#160;is&#160;not&#160;initialized&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;queries&#160;the&#160;current communication&#160;state&#160;of&#160;the corresponding channel.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>COMM&#160;must&#160;be&#160;initialized.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context&#160;<br/>
Table&#160;5-21&#160;&#160;&#160;ComM_GetState&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
51&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=52></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-52_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>5.2.19&#160;&#160;ComM_LimitPncToChannelRouting&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>ComM_LimitPncToChannelRouting</b>( PNCHandleType Pnc,&#160;<br/>NetworkHandleType Channel, boolean Status )&#160;<br/>
<b>Parameter&#160;</b><br/>
Pnc&#160;<br/>
Handle&#160;of&#160;the&#160;PNC to set&#160;the limitation&#160;status&#160;for.&#160;Handles&#160;can&#160;be&#160;found in&#160;<br/>ComM_Lcfg.h&#160;file.&#160;<br/>
Channel&#160;<br/>
Handle&#160;of&#160;the system&#160;channel&#160;to&#160;set&#160;the&#160;limitation&#160;status&#160;for. Handles&#160;can&#160;be&#160;<br/>found&#160;in ComM_Lcfg.h&#160;file.&#160;<br/>
Status&#160;<br/>
TRUE:&#160;activate&#160;the&#160;Routing&#160;Limitation of&#160;the&#160;PNC on&#160;the channel.&#160;<br/>FALSE: de-activate&#160;the&#160;Routing Limitation of&#160;the&#160;PNC&#160;on&#160;the channel.&#160;This&#160;is&#160;<br/>the&#160;default status&#160;set&#160;after initialization&#160;of&#160;ComM&#160;module.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
E_OK&#160;<br/>
The&#160;Routing&#160;Limitation status&#160;is&#160;accepted,&#160;parameters&#160;are correct and ComM&#160;<br/>module is&#160;initialized.&#160;<br/>
E_NOT_OK&#160;<br/>
The&#160;Routing&#160;Limitation status&#160;is&#160;not&#160;accepted if&#160;one of&#160;following&#160;occurs:&#160;<br/>
<b>&gt;&#160;&#160;</b>ComM&#160;module is not&#160;initialized&#160;or&#160;<br/>
<b>&gt;&#160;&#160;</b>One&#160;of&#160;the&#160;parameters&#160;is&#160;out&#160;of&#160;range&#160;or&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;‘Pnc Gateway&#160;Type’&#160;of&#160;the&#160;system&#160;channel&#160;provided is&#160;<br/>
COMM_GATEWAY_TYPE_NONE.&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;function&#160;stores&#160;the limitation status&#160;for the&#160;given&#160;PNC and Channel.&#160;The&#160;status&#160;will&#160;be&#160;used&#160;in&#160;<br/>combination&#160;with some other conditions&#160;(current Nm&#160;state,&#160;receiving of&#160;ERA&#160;signal)&#160;to&#160;decide&#160;whether&#160;the&#160;<br/>routing of&#160;PNC information&#160;on&#160;the channel&#160;is&#160;active&#160;or not.&#160;The&#160;decision&#160;and&#160;corresponding&#160;actions&#160;are&#160;<br/>taken&#160;in the&#160;next ComM_MainFunction()&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>COMM&#160;must&#160;be&#160;initialized.&#160;<br/>
Call&#160;context&#160;<br/>
<b>&gt;&#160;&#160;</b>Function can&#160;be&#160;called&#160;in task&#160;and interrupt&#160;context&#160;<br/>
Table&#160;5-22&#160;&#160;ComM_LimitPncToChannelRouting&#160;<br/>
<b>5.2.20&#160;&#160;ComM_GetDcmRequestStatus&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>ComM_GetDcmRequestStatus&#160;</b>(NetworkHandleType Channel, boolean&#160;<br/>*Status)&#160;<br/>
<b>Parameter&#160;</b><br/>
Channel [in]&#160;<br/>
Valid channel&#160;identifier (network&#160;handle)&#160;<br/>
Status [out]&#160;<br/>
Valid&#160;pointer&#160;where&#160;the&#160;request status&#160;shall&#160;be&#160;stored&#160;<br/>TRUE:&#160;DCM&#160;indicated active diagnostic&#160;<br/>FALSE: otherwise&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
52&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=53></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-53_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
E_OK&#160;<br/>
Request is&#160;accepted&#160;<br/>
E_NOT_OK&#160;<br/>
Invalid parameter&#160;<br/>
COMM_E_UNINIT&#160;<br/>
COMM&#160;is&#160;not&#160;initialized&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Queries&#160;the status&#160;of&#160;DCM&#160;active diagnostic&#160;request&#160;of&#160;the corresponding&#160;channel.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;function&#160;is&#160;only&#160;available if&#160;DCM&#160;module is&#160;present&#160;(COMM_DCM_INDICATION&#160;==&#160;<br/>
STD_ON)&#160;<br/>
Call&#160;context&#160;<br/>
&gt;&#160;&#160;Function can&#160;be&#160;called&#160;in task&#160;and interrupt&#160;context&#160;<br/>
Table&#160;5-23&#160;&#160;&#160;ComM_GetDcmRequestStatus&#160;<br/>
<b>5.2.21&#160;&#160;ComM_GetMinFullComModeTimerStatus&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>ComM_GetMinFullComModeTimerStatus&#160;</b>(NetworkHandleType Channel,&#160;<br/>boolean *Status)&#160;<br/>
<b>Parameter&#160;</b><br/>
Channel [in]&#160;<br/>
Valid channel&#160;identifier (network&#160;handle)&#160;<br/>
Status [out]&#160;<br/>
Valid&#160;pointer&#160;where&#160;the&#160;timer status&#160;shall&#160;be&#160;stored&#160;<br/>TRUE:&#160;Min&#160;Full&#160;Com&#160;Mode&#160;Timer is&#160;running&#160;<br/>FALSE: otherwise&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
E_OK&#160;<br/>
Request is&#160;accepted&#160;<br/>
E_NOT_OK&#160;<br/>
Invalid parameter&#160;<br/>
COMM_E_UNINIT&#160;<br/>
COMM&#160;is&#160;not&#160;initialized&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Queries&#160;the status&#160;of&#160;Min&#160;Full&#160;Com&#160;Mode&#160;Timer of&#160;the corresponding&#160;channel.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;function&#160;is&#160;only&#160;available if&#160;at&#160;least&#160;one&#160;channel&#160;has&#160;Min Full&#160;Com&#160;Mode&#160;Timer&#160;<br/>
(COMM_MINFULLCOMTIMEOFCHANNEL&#160;==&#160;STD_ON)&#160;<br/>
Call&#160;context&#160;<br/>
&gt;&#160;&#160;Function can&#160;be&#160;called&#160;in task&#160;and interrupt&#160;context&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
53&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=54></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-54_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
Table&#160;5-24&#160;&#160;&#160;ComM_GetMinFullComModeTimerStatus&#160;<br/>
<b>5.3&#160;</b><br/>
<b>Services&#160;used&#160;by&#160;COMM&#160;</b><br/>
In&#160;&#160;the&#160;&#160;following&#160;&#160;table&#160;&#160;services&#160;&#160;provided&#160;&#160;by&#160;&#160;other&#160;&#160;components,&#160;&#160;which&#160;&#160;are&#160;&#160;used&#160;&#160;by&#160;&#160;the&#160;<br/>COMM&#160;are&#160;listed.&#160;For&#160;details&#160;about&#160;prototype&#160;and&#160;functionality&#160;refer&#160;to&#160;the&#160;documentation&#160;<br/>of&#160;the&#160;providing&#160;component.&#160;<br/>
<b>Component&#160;</b><br/>
<b>API&#160;</b><br/>
DET&#160;<br/>
Det_ReportError&#160;<br/>
CanSM&#160;<br/>
CanSM_RequestComMode&#160;&#160;<br/>
CanSM&#160;<br/>
CanSM_GetCurrentComMode&#160;<br/>
LinSM&#160;<br/>
LinSM_RequestComMode&#160;&#160;<br/>
LinSM&#160;<br/>
LinSM_GetCurrentComMode&#160;<br/>
FrSM&#160;<br/>
FrSM_RequestComMode&#160;&#160;<br/>
FrSM&#160;<br/>
FrSM_GetCurrentComMode&#160;<br/>
EthSM&#160;<br/>
EthSM_RequestComMode&#160;<br/>
EthSM&#160;<br/>
EthSM_GetCurrentComMode&#160;<br/>
NvM&#160;<br/>
NvM_GetErrorStatus&#160;<br/>
NvM&#160;<br/>
NvM_SetRamBlockStatus&#160;<br/>
Nm&#160;<br/>
Nm_PassiveStartUp&#160;<br/>
Nm&#160;<br/>
Nm_NetworkRequest&#160;<br/>
Nm&#160;<br/>
Nm_NetworkRelease&#160;<br/>
BswM&#160;<br/>
BswM_ComM_CurrentMode&#160;<br/>
BswM&#160;<br/>
BswM_ComM_CurrentPNCMode&#160;<br/>
BswM&#160;<br/>
BswM_ComM_InitiateReset&#160;<br/>
SchM&#160;<br/>
SchM_Enter_ComM_COMM_EXCLUSIVE_AREA_0&#160;<br/>
SchM&#160;<br/>
SchM_Exit_ComM_COMM_EXCLUSIVE_AREA_0&#160;<br/>
SchM&#160;<br/>
SchM_Enter_ComM_COMM_EXCLUSIVE_AREA_1&#160;<br/>
SchM&#160;<br/>
SchM_Exit_ComM_COMM_EXCLUSIVE_AREA_1&#160;<br/>
COM&#160;<br/>
Com_SendSignal&#160;<br/>
COM&#160;<br/>
Com_ReceiveSignal&#160;<br/>
Table&#160;5-25&#160;&#160;&#160;Services&#160;used&#160;by&#160;the&#160;COMM&#160;<br/>
<b>5.4&#160;</b><br/>
<b>Callback&#160;Functions&#160;</b><br/>
This&#160;chapter&#160;describes&#160;the&#160;callback&#160;functions&#160;that&#160;are&#160;implemented&#160;by&#160;the&#160;COMM&#160;and&#160;can&#160;<br/>be&#160;invoked&#160;by&#160;other&#160;modules.&#160;The&#160;prototypes&#160;of&#160;the&#160;callback&#160;functions&#160;are&#160;provided&#160;in&#160;the&#160;<br/>header&#160;files&#160;ComM_BusSM.h,&#160;ComM_Dcm.h,&#160;ComM_EcuMBswM.h&#160;and&#160;ComM_Nm.h.&#160;<br/>
<b>5.4.1&#160;</b><br/>
<b>ComM_CommunicationAllowed&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>ComM_CommunicationAllowed</b>&#160;( NetworkHandleType Channel, boolean Allowed )&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
54&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=55></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-55_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>Parameter&#160;</b><br/>
Channel&#160;<br/>
Index&#160;of&#160;the system&#160;channel&#160;<br/>
Allowed&#160;<br/>
TRUE:&#160;Communication&#160;is&#160;allowed&#160;<br/>FALSE: Communication is&#160;not allowed (default after COMM&#160;initialization)&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;function&#160;indicates&#160;to&#160;COMM&#160;when&#160;communication&#160;is&#160;allowed.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>COMM&#160;must&#160;be&#160;initialized&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;communication&#160;allowed&#160;state&#160;is&#160;only&#160;evaluated&#160;in the&#160;COMM&#160;state&#160;<br/>
COMM_NO_COM_REQUEST_PENDING&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context&#160;<br/>
Table&#160;5-26&#160;&#160;&#160;ComM_CommunicationAllowed&#160;<br/>
<b>5.4.2&#160;</b><br/>
<b>ComM_EcuM_WakeUpIndication&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>ComM_EcuM_WakeUpIndication</b>&#160;( const NetworkHandleType Channel )&#160;<br/>
<b>Parameter&#160;</b><br/>
Channel&#160;<br/>
Index&#160;of&#160;the system&#160;channel&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;notifies&#160;the&#160;COMM&#160;about&#160;a&#160;valid&#160;bus&#160;wake-up&#160;event.&#160;The&#160;COMM&#160;stores&#160;this&#160;event&#160;and&#160;start&#160;<br/>up&#160;the corresponding&#160;channel.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;asynchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>COMM&#160;must&#160;be&#160;initialized.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context&#160;<br/>
Table&#160;5-27&#160;&#160;&#160;ComM_EcuM_WakeUpIndication&#160;&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
55&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=56></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-56_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>5.4.3&#160;</b><br/>
<b>ComM_BusSM_ModeIndication&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>ComM_BusSM_ModeIndicatio</b>n ( const NetworkHandleType Channel,&#160;<br/>ComM_ModeType* ComM_Mode )&#160;<br/>
<b>Parameter&#160;</b><br/>
Channel&#160;<br/>
Index&#160;of&#160;the system&#160;channel&#160;<br/>
ComM_Mode&#160;<br/>
Pointer&#160;to&#160;variable&#160;which contains&#160;the&#160;new BusSM communication&#160;mode&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;notifies&#160;the COMM&#160;about&#160;a&#160;state change&#160;of&#160;the BusSM.&#160;The&#160;COMM&#160;performs&#160;corresponding&#160;<br/>actions&#160;dependent&#160;on&#160;the&#160;given&#160;ComM_Mode.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;asynchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>COMM&#160;must&#160;be&#160;initialized.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context&#160;<br/>
Table&#160;5-28&#160;&#160;&#160;ComM_BusSM_ModeIndication&#160;<br/>
<b>5.4.4&#160;</b><br/>
<b>ComM_DCM_ActiveDiagnostic&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>ComM_DCM_ActiveDiagnostic</b>&#160;( NetworkHandleType Channel )&#160;<br/>
<b>Parameter&#160;</b><br/>
Channel&#160;<br/>
Index&#160;of&#160;the system&#160;channel&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;notifies&#160;the COMM&#160;about&#160;the&#160;start of&#160;an&#160;active diagnostic&#160;session&#160;for&#160;the given&#160;channel.&#160;The&#160;<br/>COMM&#160;starts&#160;the communication&#160;for this&#160;channel&#160;as&#160;long&#160;as&#160;the&#160;DCM informs&#160;the COMM&#160;about the end of&#160;<br/>this&#160;session. If&#160;more channels&#160;needed for diagnostic&#160;purpose,&#160;DCM needs&#160;to indicate&#160;it&#160;for each channel.&#160;<br/>If&#160;the Nm&#160;Variant&#160;configured on&#160;the&#160;channel&#160;is&#160;PASSIVE&#160;<br/>
&gt;&#160;&#160;COMM&#160;ignores&#160;the&#160;indication&#160;and&#160;<br/>
&gt;&#160;&#160;Reports&#160;a&#160;DET&#160;error with&#160;error code COMM_E_DIAGNOSTIC_NOT_SUPPORTED.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
56&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=57></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-57_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;asynchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>COMM&#160;must&#160;be&#160;initialized.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context&#160;<br/>
Table&#160;5-29&#160;&#160;&#160;ComM_DCM_ActiveDiagnostic&#160;<br/>
<b>5.4.5&#160;</b><br/>
<b>ComM_DCM_InactiveDiagnostic&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>ComM_DCM_InactiveDiagnostic</b>&#160;(NetworkHandleType Channel )&#160;<br/>
<b>Parameter&#160;</b><br/>
Channel&#160;<br/>
Index&#160;of&#160;the system&#160;channel&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;notifies&#160;the COMM&#160;about&#160;the&#160;end of&#160;the&#160;DCM diagnostic&#160;session&#160;for the&#160;given&#160;channel.&#160;The&#160;<br/>COMM&#160;triggers&#160;the&#160;network&#160;shutdown for this&#160;channel&#160;if&#160;all&#160;COMM users&#160;assigned&#160;to&#160;it&#160;request the COMM&#160;<br/>state No&#160;Communication.&#160;<br/>If&#160;the Nm&#160;Variant&#160;configured on&#160;the&#160;channel&#160;is&#160;PASSIVE&#160;<br/>
&gt;&#160;&#160;COMM&#160;ignores&#160;the&#160;indication&#160;and&#160;<br/>
&gt;&#160;&#160;Reports&#160;a&#160;DET&#160;error with&#160;error code COMM_E_DIAGNOSTIC_NOT_SUPPORTED.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;asynchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>COMM&#160;must&#160;be&#160;initialized.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context&#160;<br/>
Table&#160;5-30&#160;&#160;&#160;ComM_DCM_InactiveDiagnostic&#160;<br/>
<b>5.4.6&#160;</b><br/>
<b>ComM_Nm_NetworkStartIndication&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>ComM_Nm_NetworkStartIndication</b>&#160;( NetworkHandleType Channel )&#160;<br/>
<b>Parameter&#160;</b><br/>
Channel&#160;<br/>
Index&#160;of&#160;the system&#160;channel,&#160;which has&#160;already&#160;entered Bus-Sleep&#160;Mode&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
57&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=58></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-58_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;notifies&#160;the&#160;COMM&#160;about&#160;a&#160;restart&#160;of&#160;the&#160;network&#160;management.&#160;The&#160;restart&#160;was&#160;triggered by&#160;<br/>receiving an&#160;Nm&#160;message&#160;when&#160;Nm&#160;was&#160;in&#160;Bus-Sleep&#160;Mode.&#160;COMM&#160;stores&#160;the&#160;event and starts&#160;up&#160;the&#160;<br/>corresponding&#160;network&#160;in the&#160;next ComM_MainFunction.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;asynchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>COMM&#160;must&#160;be&#160;initialized.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context&#160;<br/>
Table&#160;5-31&#160;&#160;&#160;ComM_Nm_NetworkStartIndication&#160;<br/>
<b>5.4.7&#160;</b><br/>
<b>ComM_Nm_NetworkMode&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>ComM_Nm_NetworkMode</b>&#160;( NetworkHandleType Channel )&#160;<br/>
<b>Parameter&#160;</b><br/>
Channel&#160;<br/>
Index&#160;of&#160;the system&#160;channel&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;notifies&#160;the&#160;COMM&#160;that&#160;the Nm&#160;entered&#160;the&#160;Network&#160;Mode.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;asynchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>COMM&#160;must&#160;be&#160;initialized.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context&#160;<br/>
Table&#160;5-32&#160;&#160;&#160;ComM_Nm_NetworkMode&#160;<br/>
<b>5.4.8&#160;</b><br/>
<b>ComM_Nm_PrepareBusSleep&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>ComM_Nm_PrepareBusSleep</b>&#160;( NetworkHandleType Channel )&#160;<br/>
<b>Parameter&#160;</b><br/>
Channel&#160;<br/>
Index&#160;of&#160;the system&#160;channel&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
58&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=59></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-59_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;notifies&#160;the COMM&#160;that&#160;the NM has&#160;entered&#160;Prepare&#160;Bus-Sleep Mode.&#160;The&#160;COMM&#160;uses&#160;this&#160;<br/>function&#160;as&#160;synchronization&#160;for the&#160;network&#160;shutdown.&#160;Inside&#160;this&#160;function&#160;the&#160;COMM&#160;sets&#160;the&#160;<br/>corresponding&#160;Bus&#160;state Manager into&#160;the&#160;COMM&#160;mode Silent&#160;Communication&#160;and&#160;the COMM itself&#160;<br/>changes&#160;the&#160;state&#160;to Silent&#160;Communication.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant&#160;(but&#160;not&#160;for&#160;the&#160;same Nm&#160;channel).&#160;<br/>
<b>&gt;&#160;&#160;</b>COMM&#160;must&#160;be&#160;initialized.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context&#160;<br/>
Table&#160;5-33&#160;&#160;&#160;ComM_Nm_PrepareBusSleep&#160;<br/>
<b>5.4.9&#160;</b><br/>
<b>ComM_Nm_BusSleepMode&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>ComM_Nm_BusSleepMode</b>&#160;( NetworkHandleType Channel )&#160;<br/>
<b>Parameter&#160;</b><br/>
Channel&#160;<br/>
Index&#160;of&#160;the system&#160;channel&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;notifies&#160;the COMM&#160;that&#160;the NM ends&#160;the&#160;prepare&#160;bus&#160;sleep&#160;phase and&#160;has&#160;entered&#160;Bus-Sleep&#160;<br/>Mode.&#160;The&#160;COMM&#160;uses&#160;this&#160;function&#160;as&#160;synchronization&#160;for the&#160;network&#160;shutdown. Inside&#160;this&#160;function&#160;the&#160;<br/>COMM&#160;sets&#160;the&#160;corresponding&#160;Bus&#160;state Manager&#160;into&#160;the&#160;COMM mode No&#160;Communication&#160;and&#160;the&#160;<br/>COMM&#160;itself&#160;changes&#160;the&#160;state to&#160;No&#160;Communication.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant&#160;(but&#160;not&#160;for&#160;the&#160;same Nm&#160;channel).&#160;<br/>
<b>&gt;&#160;&#160;</b>COMM&#160;must&#160;be&#160;initialized.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context&#160;<br/>
Table&#160;5-34&#160;&#160;&#160;ComM_Nm_BusSleepMode&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
59&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=60></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-60_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>5.4.10&#160;&#160;ComM_Nm_RestartIndication&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>ComM_Nm_RestartIndication</b>&#160;( NetworkHandleType Channel )&#160;<br/>
<b>Parameter&#160;</b><br/>
Channel&#160;<br/>
Index&#160;of&#160;the system&#160;channel,&#160;which has&#160;already&#160;entered Bus-Sleep&#160;Mode&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
NmIf&#160;notifies&#160;COMM&#160;that&#160;NmIf&#160;has&#160;started&#160;to&#160;shut down the&#160;coordinated&#160;busses,&#160;and&#160;not&#160;all&#160;coordinated&#160;<br/>busses&#160;have&#160;indicated Bus-Sleep&#160;Mode,&#160;and&#160;on&#160;at least one&#160;of&#160;the coordinated busses&#160;Nm&#160;is&#160;restarted.&#160;<br/>COMM&#160;stores&#160;the&#160;event&#160;and starts&#160;up&#160;the&#160;corresponding&#160;network&#160;in the next ComM_MainFunction.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_ComMs.html#32">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;asynchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>COMM&#160;must&#160;be&#160;initialized.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context&#160;<br/>
Table&#160;5-35&#160;&#160;&#160;ComM_Nm_RestartIndication&#160;<br/>
<b>5.4.11&#160;&#160;ComM_Nm_StateChangeNotification&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>ComM_Nm_StateChangeNotification&#160;</b>(&#160;const&#160;NetworkHandleType Channel,&#160;const&#160;<br/>Nm_StateType NmPreviousState,&#160;const&#160;Nm_StateType NmCurrentState )&#160;<br/>
<b>Parameter&#160;</b><br/>
Channel&#160;<br/>
Valid channel&#160;identifier (network&#160;handle)&#160;<br/>
NmPreviousState&#160;<br/>
Previous&#160;state&#160;of&#160;Nm&#160;<br/>
NmCurrentState&#160;<br/>
Current state of&#160;Nm&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
None&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Notification&#160;that&#160;the&#160;Nm&#160;state has&#160;changed.&#160;The&#160;Pnc&#160;Routing&#160;Limitation&#160;state is&#160;updated depending&#160;on&#160;Nm&#160;<br/>has&#160;left or&#160;entered the state&#160;NM_STATE_REPEAT_MESSAGE.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;The&#160;function&#160;is&#160;available&#160;if<a href="TechnicalReference_ComMs.html#18">&#160;Pnc&#160;to&#160;Channel&#160;Routing&#160;Limitation&#160;</a>feature&#160;is&#160;activated.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;synchronous.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;not&#160;reentrant.&#160;<br/>
Call&#160;context&#160;<br/>
&gt;&#160;&#160;Function can&#160;be&#160;called&#160;in task&#160;or interrupt&#160;context&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
60&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=61></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-61_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
Table&#160;5-36&#160;&#160;&#160;ComM_Nm_StateChangeNotification&#160;<br/>
<b>5.4.12&#160;&#160;ComM_ComCbk_&lt;SignalName&gt;&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>ComM_ComCbk_&lt;SignalName&gt;&#160;</b>( void )&#160;<br/>
<b>Parameter&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
None&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Notification&#160;that&#160;ComSignal&#160;data&#160;which is&#160;used to&#160;transport the partial&#160;network&#160;channel&#160;request information&#160;<br/>has&#160;changed.&#160;SignalName is&#160;the name of&#160;the corresponding&#160;EIRA_RX&#160;or&#160;ERA&#160;ComSignal.&#160;The&#160;function is&#160;<br/>generated.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;The&#160;function&#160;is&#160;available&#160;if&#160;support of&#160;Partial&#160;Networking&#160;is&#160;enabled.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;synchronous.&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;not&#160;reentrant.&#160;<br/>
Call&#160;context&#160;<br/>
&gt;&#160;&#160;Function can&#160;be&#160;called&#160;in task&#160;context&#160;<br/>
Table&#160;5-37&#160;&#160;&#160;ComM_ComCbk_&lt;SignalName&gt;&#160;<br/>
<b>5.5&#160;</b><br/>
<b>Configurable&#160;Interfaces&#160;</b><br/>
<b>5.5.1&#160;</b><br/>
<b>Notifications&#160;</b><br/>
At&#160;&#160;its&#160;&#160;configurable&#160;&#160;interfaces&#160;&#160;the&#160;&#160;COMM&#160;&#160;defines&#160;&#160;notifications&#160;&#160;that&#160;&#160;can&#160;&#160;be&#160;&#160;mapped&#160;&#160;to&#160;<br/>callback&#160;functions&#160;provided&#160;by&#160;other&#160;modules.&#160;The&#160;mapping&#160;is&#160;not&#160;statically&#160;defined&#160;by&#160;the&#160;<br/>COMM&#160;&#160;but&#160;&#160;can&#160;&#160;be&#160;&#160;performed&#160;&#160;at&#160;&#160;configuration&#160;&#160;time.&#160;The&#160;&#160;function&#160;&#160;prototypes&#160;&#160;that&#160;&#160;can&#160;&#160;be&#160;<br/>used&#160;&#160;for&#160;&#160;the&#160;&#160;configuration&#160;&#160;have&#160;&#160;to&#160;&#160;match&#160;&#160;the&#160;&#160;appropriate&#160;&#160;function&#160;&#160;prototype&#160;&#160;signatures,&#160;<br/>which&#160;are described&#160;in&#160;the&#160;following&#160;sub-chapters.&#160;&#160;<br/>
<b>5.5.1.1&#160;</b><br/>
<b>Dcm_ComM_FullComModeEntered&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Dcm_ComM_FullComModeEntered</b>&#160;( NetworkHandleType Channel )&#160;<br/>
<b>Parameter&#160;</b><br/>
Channel&#160;<br/>
Index&#160;of&#160;the system&#160;channel&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;callback&#160;function&#160;informs&#160;the DCM&#160;about&#160;the COMM&#160;state change&#160;into Full&#160;Communication.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
61&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=62></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-62_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;callback&#160;function&#160;is&#160;only&#160;available if&#160;the&#160;DCM&#160;module is&#160;activated&#160;in&#160;the ECU&#160;<br/>
configuration.&#160;<br/>
Call&#160;context&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;function&#160;is&#160;called&#160;in the&#160;context&#160;of&#160;ComM_BusSM_ModeIndication&#160;<br/>
Table&#160;5-38&#160;&#160;&#160;Dcm_ComM_FullComModeEntered&#160;&#160;<br/>
<b>5.5.1.2&#160;</b><br/>
<b>Dcm_ComM_SilentComModeEntered&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Dcm_ComM_SilentComModeEntered</b>&#160;( NetworkHandleType Channel )&#160;<br/>
<b>Parameter&#160;</b><br/>
Channel&#160;<br/>
Index&#160;of&#160;the system&#160;channel&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;callback&#160;function&#160;informs&#160;the DCM&#160;about&#160;the COMM&#160;state change&#160;into&#160;Silent Communication.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;callback&#160;function&#160;is&#160;only&#160;available if&#160;the&#160;DCM&#160;module is&#160;activated&#160;in&#160;the ECU&#160;<br/>
configuration.&#160;<br/>
Call&#160;context&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;function&#160;is&#160;called&#160;in the&#160;context&#160;of&#160;ComM_BusSM_ModeIndication&#160;<br/>
Table&#160;5-39&#160;&#160;&#160;Dcm_ComM_SilentComModeEntered&#160;&#160;<br/>
<b>5.5.1.3&#160;</b><br/>
<b>Dcm_ComM_NoComModeEntered&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Dcm_ComM_NoComModeEntered</b>&#160;( NetworkHandleType Channel )&#160;<br/>
<b>Parameter&#160;</b><br/>
Channel&#160;<br/>
Index&#160;of&#160;the system&#160;channel&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;callback&#160;function&#160;informs&#160;the DCM&#160;about&#160;the COMM&#160;state change&#160;into No&#160;Communication.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;callback&#160;function&#160;is&#160;only&#160;available if&#160;the&#160;DCM&#160;module is&#160;activated&#160;in&#160;the ECU&#160;<br/>
configuration.&#160;<br/>
Call&#160;context&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;function&#160;is&#160;called&#160;in the&#160;context&#160;of&#160;ComM_BusSM_ModeIndication&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
62&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=63></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-63_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
Table&#160;5-40&#160;&#160;&#160;Dcm_ComM_NoComModeEntered&#160;<br/>
<b>5.5.1.4&#160;</b><br/>
<b>BswM_ComM_CurrentMode&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>BswM_ComM_CurrentMode</b>&#160;( NetworkHandleType Network, ComM_ModeType&#160;<br/>RequestedMode )&#160;<br/>
<b>Parameter&#160;</b><br/>
Network&#160;<br/>
Index&#160;of&#160;the system&#160;channel&#160;<br/>
RequestedMode&#160;<br/>
Current&#160;Communication&#160;Mode,&#160;where&#160;COMM&#160;changed&#160;to&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
COMM&#160;indicates&#160;every&#160;main state change to&#160;BswM.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>-&#160;<br/>
Call&#160;context&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;function&#160;is&#160;called&#160;in&#160;the&#160;context&#160;of&#160;ComM_BusSM_ModeIndication&#160;<br/>
Table&#160;5-41&#160;&#160;&#160;BswM_ComM_CurrentMode&#160;<br/>
<b>5.5.1.5&#160;</b><br/>
<b>BswM_ComM_CurrentPNCMode&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>BswM_ComM_CurrentPNCMode</b>&#160;( PNCHandleType Pnc, ComM_PncModeType&#160;<br/>RequestedMode )&#160;<br/>
<b>Parameter&#160;</b><br/>
Pnc&#160;<br/>
Partial&#160;network&#160;identifier&#160;<br/>
RequestedMode&#160;<br/>
Partial&#160;network&#160;state where&#160;the&#160;COMM&#160;changed&#160;to&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
COMM&#160;indicates&#160;every&#160;partial&#160;network&#160;state&#160;change&#160;to&#160;BswM.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;callback&#160;function&#160;is&#160;only&#160;available if&#160;Partial&#160;Network&#160;functionality&#160;is&#160;activated&#160;in the&#160;ECU&#160;<br/>
configuration.&#160;<br/>
Call&#160;context&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;function&#160;is&#160;called&#160;in the&#160;context&#160;of&#160;ComM_MainFunction&#160;<br/>
Table&#160;5-42&#160;&#160;&#160;BswM_ComM_CurrentPNCMode&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
63&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=64></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-64_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>5.5.1.6&#160;</b><br/>
<b>BswM_ComM_InitiateReset&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>BswM_ComM_InitiateReset</b>&#160;(&#160;void&#160;)&#160;<br/>
<b>Parameter&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
COMM&#160;indicates&#160;a&#160;need&#160;for an&#160;ECU reset&#160;to&#160;BswM, see chapt<a href="TechnicalReference_ComMs.html#29">er ‘Mode Limitation&#160;to&#160;NO_COM’&#160;f</a>or details.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;callback&#160;function&#160;is&#160;only&#160;available if&#160;BswM&#160;has&#160;a&#160;Mode Request&#160;Port&#160;with the&#160;Source&#160;<br/>
BswMComMInitiateReset.&#160;<br/>
Call&#160;context&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;function&#160;is&#160;called&#160;in&#160;the&#160;context&#160;of<a href="TechnicalReference_ComMs.html#56">&#160;ComM_BusSM_ModeIndication&#160;</a><br/>
Table&#160;5-43&#160;&#160;&#160;BswM_ComM_InitiateReset&#160;<br/>
<b>5.5.1.7&#160;</b><br/>
<b>Rte_Switch_ComM_&lt;UserName&gt;_currentMode&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>Rte_Switch_ComM_&lt;UserName&gt;_currentMode</b>&#160;(Rte_ModeType_ComMMode&#160;<br/>mode)&#160;<br/>
<b>Parameter&#160;</b><br/>
mode&#160;<br/>
&gt;&#160;&#160;RTE_MODE_ComMMode_NO_COMMUNICATION, no communication&#160;is&#160;<br/>
entered&#160;<br/>
&gt;&#160;&#160;RTE_MODE_ComMMode_SILENT_COMMUNICATION, silent&#160;<br/>
communication&#160;is&#160;entered&#160;<br/>
&gt;&#160;&#160;RTE_MODE_ComMMode_FULL_COMMUNICATION, full&#160;communication&#160;<br/>
is&#160;entered&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Std_ReturnType&#160;<br/>
&gt;&#160;&#160;RTE_E_OK, the&#160;SW-C notified&#160;&#160;<br/>
&gt;&#160;&#160;RTE_E_LIMIT, the SW-C does&#160;not&#160;notified&#160;the&#160;mode&#160;and&#160;the&#160;COMM&#160;shall&#160;<br/>
informed&#160;again&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;callback&#160;functions&#160;inform&#160;the SW-C about&#160;a mode change of&#160;a&#160;COMM&#160;user.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;This&#160;callback&#160;function&#160;is&#160;only&#160;available&#160;for users&#160;with parameter&#160;ComMUserModeNotification&#160;set to&#160;true.&#160;<br/>
Call&#160;context&#160;<br/>
&gt;&#160;&#160;The&#160;function&#160;is&#160;called&#160;in the&#160;context of&#160;ComM_MainFunction&#160;<br/>
Table&#160;5-44&#160;&#160;&#160;Rte_Switch_ComM_&lt;UserName&gt;_currentMode&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
64&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=65></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-65_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>6&#160;&#160;Service&#160;Ports&#160;</b><br/>
<b>6.1.1&#160;</b><br/>
<b>Client&#160;Server Interface&#160;</b><br/>
A&#160;client&#160;server&#160;interface&#160;is&#160;related&#160;to&#160;a&#160;Provide&#160;Port&#160;at&#160;the&#160;server&#160;side&#160;and&#160;a&#160;Require&#160;Port&#160;<br/>at&#160;client&#160;side.&#160;<br/>
<b>6.1.1.1&#160;</b><br/>
<b>Provide&#160;Ports&#160;on&#160;COMM&#160;Side&#160;</b><br/>
At&#160;the&#160;Provide&#160;Ports&#160;of&#160;the&#160;COMM&#160;the&#160;API&#160;functions&#160;described&#160;in&#160;chapter<a href="TechnicalReference_ComMs.html#41">&#160;5.2&#160;</a>are&#160;available&#160;<br/>as&#160;&#160;Runnable&#160;&#160;Entities.&#160;&#160;The&#160;&#160;Runnable&#160;&#160;Entities&#160;&#160;are&#160;&#160;invoked&#160;&#160;via&#160;&#160;Operations.&#160;&#160;The&#160;&#160;mapping&#160;<br/>from&#160;a&#160;SWC&#160;client&#160;call&#160;to&#160;an&#160;Operation&#160;is&#160;performed&#160;by&#160;the&#160;RTE.&#160;In&#160;this&#160;mapping&#160;the&#160;RTE&#160;<br/>adds&#160;Port Defined&#160;Argument&#160;Values to&#160;the&#160;client&#160;call&#160;of&#160;the&#160;SWC,&#160;if&#160;configured.&#160;<br/>The&#160;&#160;following&#160;&#160;sub-chapters&#160;&#160;present&#160;&#160;the&#160;&#160;Provide&#160;&#160;Ports&#160;&#160;defined&#160;&#160;for&#160;&#160;the&#160;&#160;COMM&#160;&#160;and&#160;&#160;the&#160;<br/>Operations&#160;defined&#160;for&#160;the&#160;Provide&#160;Ports,&#160;the&#160;API&#160;functions&#160;related&#160;to&#160;the&#160;Operations&#160;and&#160;<br/>the&#160;Port Defined&#160;Argument&#160;Values to&#160;be&#160;added&#160;by&#160;the&#160;RTE.&#160;<br/>
<b>6.1.1.1.1&#160;</b><br/>
<b>ComM_UserRequest&#160;</b><br/>
<b>Operation&#160;</b><br/>
<b>API&#160;Function&#160;</b><br/>
<b>Port&#160;Defined&#160;Argument&#160;Values&#160;</b><br/>
RequestComMode&#160;<br/>
ComM_RequestComMode&#160;<br/>
ComM_UserHandleType&#160;UserHandle&#160;<br/>
GetCurrentComMode&#160;<br/>
ComM_GetCurrentComMode&#160;<br/>
ComM_UserHandleType&#160;UserHandle&#160;<br/>
GetMaxComMode&#160;<br/>
ComM_GetMaxComMode&#160;<br/>
ComM_UserHandleType&#160;UserHandle&#160;<br/>
GetRequestedComMode&#160;<br/>
ComM_GetRequestedComMode&#160;&#160;ComM_UserHandleType&#160;UserHandle&#160;<br/>
Table&#160;6-1&#160;&#160;&#160;ComM_UserRequest&#160;<br/>
The&#160;naming&#160;rule&#160;for&#160;corresponding&#160;ports is UR_&lt;user_name&gt;,&#160;e.g.&#160;UR_ComMUser_000.&#160;<br/>
<b>6.1.1.1.2&#160;</b><br/>
<b>ComM_ECUModeLimitation&#160;</b><br/>
<b>Operation&#160;</b><br/>
<b>API&#160;Function&#160;</b><br/>
LimitECUToNoComMode&#160;<br/>
ComM_LimitECUToNoComMode&#160;<br/>
ReadInhibitCounter&#160;<br/>
ComM_ReadInhibitCounter&#160;<br/>
ResetInhibitCounter&#160;<br/>
ComM_ResetInhibitCounter&#160;<br/>
SetECUGroupClassification&#160;<br/>
ComM_SetECUGroupClassification&#160;<br/>
Table&#160;6-2&#160;&#160;&#160;ComM_ECUModeLimitation&#160;<br/>
The&#160;naming&#160;rule&#160;for the&#160;corresponding&#160;port is&#160;modeLimitation.&#160;<br/>
<b>6.1.1.1.3&#160;</b><br/>
<b>ComM_ChannelWakeUp&#160;</b><br/>
<b>Operation&#160;</b><br/>
<b>API&#160;Function&#160;</b><br/>
<b>Port&#160;Defined&#160;Argument&#160;Values&#160;</b><br/>
PreventWakeUp&#160;<br/>
ComM_PreventWakeUp&#160;<br/>
NetworkHandleType&#160;Channel&#160;<br/>
GetInhibitionStatus&#160;(optional,&#160;&#160;ComM_GetInhibitionStatus&#160;<br/>
NetworkHandleType&#160;Channel&#160;<br/>
see&#160;below)&#160;<br/>
Table&#160;6-3&#160;&#160;&#160;ComM_ChannelWakeUp&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
65&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=66></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-66_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
For&#160;compatibility,&#160;&#160;the&#160;operation&#160;GetInhibitionStatus&#160;can&#160;be&#160;omitted&#160;from&#160;this&#160;interface.&#160;Its&#160;<br/>presence&#160;&#160;depends&#160;&#160;on&#160;&#160;the&#160;&#160;value&#160;&#160;of&#160;&#160;the&#160;&#160;optional&#160;&#160;configuration&#160;&#160;parameter&#160;<br/>ComMOperationGetInhibitionStatusEnabled:&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;the&#160;parameter does not&#160;exist&#160;or&#160;is&#160;set&#160;to&#160;‘true’,&#160;the&#160;interface&#160;contains&#160;the&#160;operation&#160;<br/>
GetInhibitionStatus.&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;&#160;the&#160;&#160;parameter&#160;&#160;exists&#160;&#160;and&#160;&#160;is&#160;&#160;set&#160;&#160;to&#160;&#160;‘false’,&#160;&#160;the&#160;&#160;interface&#160;&#160;does&#160;&#160;not&#160;&#160;expose&#160;&#160;the&#160;<br/>
operation&#160;GetInhibitionStatus.&#160;<br/>
Note&#160;that&#160;the&#160;COMM&#160;API&#160;Function&#160;ComM_GetInhibitionStatus&#160;exists&#160;in&#160;both&#160;cases&#160;and&#160;is&#160;<br/>also&#160;&#160;exposed&#160;through&#160;the&#160;Client&#160;&#160;Server&#160;Interface&#160;ComM_ChannelLimitation&#160;as&#160;described&#160;<br/>in&#160;chapte<a href="TechnicalReference_ComMs.html#66">r&#160;6.1.1.1.4.</a>&#160;<br/>The&#160;&#160;naming&#160;<br/>
rule&#160;<br/>
for&#160;<br/>
corresponding&#160;<br/>
ports&#160;<br/>
is&#160;<br/>
CW_&lt;channel_name&gt;,&#160;<br/>
e.g.&#160;<br/>
CW_ComMChannel_CAN0.&#160;<br/>
&#160;<br/>
<b>6.1.1.1.4&#160;</b><br/>
<b>ComM_ChannelLimitation&#160;</b><br/>
<b>Operation&#160;</b><br/>
<b>API&#160;Function&#160;</b><br/>
<b>Port&#160;Defined&#160;Argument&#160;Values&#160;</b><br/>
LimitChannelToNoComMode&#160;<br/>
ComM_LimitChannelToNoComMode&#160;&#160;NetworkHandleType&#160;Channel&#160;<br/>
GetInhibitionStatus&#160;<br/>
ComM_GetInhibitionStatus&#160;<br/>
NetworkHandleType&#160;Channel&#160;<br/>
Table&#160;6-4&#160;&#160;&#160;ComM_ChannelLimitation&#160;<br/>
The&#160;<br/>
naming&#160;<br/>
rule&#160;<br/>
for&#160;<br/>
corresponding&#160;<br/>
ports&#160;<br/>
is&#160;<br/>
CL_&lt;channel_name&gt;,&#160;<br/>
e.g.&#160;<br/>
CL_ComMChannel_CAN0.&#160;<br/>
<b>6.1.1.2&#160;</b><br/>
<b>Require&#160;Ports&#160;on&#160;COMM&#160;Side&#160;</b><br/>
COMM&#160;does not&#160;require&#160;any&#160;Ports&#160;providing&#160;Client&#160;Server Interface.&#160;<br/>
<b>6.1.2&#160;</b><br/>
<b>Mode&#160;Switch&#160;Interface&#160;</b><br/>
<b>6.1.2.1&#160;</b><br/>
<b>ComM_CurrentMode&#160;</b><br/>
The&#160;&#160;interface&#160;&#160;is&#160;&#160;optional.&#160;&#160;It&#160;&#160;can&#160;&#160;be&#160;&#160;activated&#160;&#160;or&#160;&#160;de-activated&#160;&#160;for&#160;&#160;each&#160;&#160;configured&#160;&#160;COMM&#160;<br/>user separately&#160;using&#160;the&#160;parameter ComMUserModeNotification.&#160;<br/>The&#160;purpose&#160;of&#160;this interface&#160;is to&#160;inform&#160;an&#160;SW-C about&#160;the&#160;current&#160;COMM&#160;mode&#160;for each&#160;<br/>configured&#160;&#160;COMM&#160;&#160;user,&#160;&#160;to&#160;&#160;which&#160;&#160;an&#160;&#160;SW-C&#160;&#160;is&#160;&#160;connected.&#160;&#160;For&#160;&#160;each&#160;&#160;configured&#160;&#160;interface&#160;<br/>COMM&#160;&#160;requires&#160;&#160;a&#160;&#160;notification&#160;&#160;callback&#160;&#160;function,&#160;&#160;which&#160;&#160;is&#160;&#160;provided&#160;&#160;by&#160;&#160;the&#160;&#160;RTE&#160;&#160;and&#160;<br/>described&#160;in<a href="TechnicalReference_ComMs.html#64">&#160;5.5.1.7.</a>&#160;<br/>
<b>Operation&#160;</b><br/>
<b>Rte Interface&#160;</b><br/>
<b>Mode Declaration&#160;Group&#160;</b><br/>
currentMode&#160;<br/>
Rte_Switch_ComM_UM_&lt;UserName&gt;_current<br/>
RTE_MODE_ComMMode_COMM_FUL<br/>
Mode&#160;<br/>
L_COMMUNICATION&#160;<br/>
e.g.&#160;<br/>
RTE_MODE_ComMMode_COMM_NO_<br/>
Rte_Switch_ComM_UM_ComMUser_000_curr<br/>
COMMUNICATION&#160;<br/>
entMode&#160;<br/>
RTE_MODE_ComMMode_COMM_SILE<br/>NT_COMMUNICATION&#160;<br/>
Table&#160;6-5&#160;&#160;&#160;ComM_CurrentMode&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
66&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=67></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-67_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
The&#160;naming&#160;rule&#160;for corresponding&#160;ports is UM_&lt;user_name&gt;,&#160;e.g.&#160;UM_ComMUser_000.&#160;<br/>
<b>6.1.3&#160;</b><br/>
<b>Sender&#160;Receiver Interface&#160;</b><br/>
<b>6.1.3.1&#160;</b><br/>
<b>ComM_CurrentChannelRequest&#160;</b><br/>
The&#160;&#160;interface&#160;&#160;is&#160;&#160;optional.&#160;&#160;It&#160;&#160;can&#160;&#160;be&#160;&#160;activated&#160;&#160;or&#160;&#160;de-activated&#160;&#160;for&#160;&#160;each&#160;&#160;configured&#160;&#160;COMM&#160;<br/>channel separately&#160;using&#160;the&#160;parameter ComMFullCommRequestNotificationEnabled.&#160;<br/>The&#160;purpose&#160;of&#160;this interface&#160;is to&#160;inform&#160;an&#160;SW-C about&#160;COMM&#160;users requesting&#160;Full&#160;<br/>Communication&#160;for a&#160;channel.&#160;Whenever the&#160;set&#160;of&#160;COMM&#160;users&#160;that&#160;are&#160;currently&#160;<br/>requesting&#160;Full&#160;Communication&#160;for&#160;a&#160;channel&#160;changes,&#160;COMM&#160;updates the&#160;data&#160;element&#160;<br/>ComM_FullComRequesters_CR_&lt;channel_name&gt;.&#160;A&#160;change&#160;updates the&#160;data&#160;element&#160;<br/>only,&#160;when&#160;COMM&#160;accepts&#160;the&#160;communication&#160;request&#160;of&#160;the&#160;COMM&#160;user.&#160;If&#160;a&#160;Mode&#160;<br/>Inhibition&#160;is active&#160;on&#160;a&#160;channel,&#160;this set&#160;is empty&#160;because&#160;no&#160;user is allowed&#160;to&#160;keep&#160;the&#160;<br/>communication&#160;on&#160;the&#160;channel&#160;awake.&#160;<br/>&#160;<br/>
<b>Rte Interface&#160;</b><br/>
<b>Data&#160;element&#160;</b><br/>
Rte_Write_ComM_CR_&lt;channel_name&gt;_full<br/>
ComM_UserHandleArrayType_&lt;channel_name&gt;&#160;<br/>
ComRequestors&#160;<br/>
Table&#160;6-6&#160;&#160;&#160;ComM_CurrentChannelRequest&#160;<br/>
The&#160;type&#160;ComM_UserHandleArrayType_&lt;channel_name&gt;&#160;exists for each&#160;channel where&#160;<br/>the&#160;sender receiver interface&#160;is&#160;enabled.&#160;Refer to&#160;the<a href="TechnicalReference_ComMs.html#41">&#160;Table&#160;5-3&#160;</a>for&#160;details.&#160;<br/>Please&#160;note&#160;that&#160;COMM&#160;only&#160;informs about&#160;COMM&#160;users requesting&#160;Full&#160;Communication&#160;<br/>for users which&#160;are&#160;directly&#160;assigned&#160;to&#160;the&#160;COMM&#160;channel.&#160;COMM&#160;will&#160;not&#160;inform&#160;about&#160;<br/>COMM&#160;users&#160;requesting&#160;a&#160;Partial Network, even&#160;if&#160;the&#160;channel&#160;is&#160;in&#160;Full Communication&#160;<br/>mode&#160;because&#160;the&#160;Partial Network&#160;is&#160;requested&#160;by&#160;such&#160;a&#160;COMM&#160;user.&#160;<br/>The&#160;naming&#160;rule&#160;for corresponding&#160;ports is CR_&lt;channel_name&gt;,&#160;e.g.&#160;<br/>CR_ComMChannel_CAN0.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
67&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=68></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-68_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-68_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Example&#160;<br/></b>Assumptions:&#160;<br/>
&#160;&#160;One&#160;CAN&#160;channel&#160;with&#160;enabled&#160;interface ComM_CurrentChannelRequest,&#160;Channel&#160;ID&#160;<br/>
‘0’&#160;and Channel&#160;name&#160;‘CAN0’.&#160;<br/>There are 2&#160;COMM&#160;users&#160;configured&#160;on&#160;the&#160;channel&#160;‘CAN0’&#160;having&#160;user&#160;handles:&#160;<br/>
<b>&gt;&#160;&#160;</b>ComMConf_ComMUser_000&#160;(value&#160;=&#160;0)&#160;and&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>ComMConf_ComMUser_001&#160;(value&#160;=&#160;1).&#160;&#160;<br/>
The&#160;corresponding&#160;define macro is&#160;COMM_MAX_CR_CAN0 = 2&#160;<br/>
&#160;<br/>Example Sequence:&#160;<br/>The&#160;channel&#160;is&#160;in COMM_NO_COMMUNICATION&#160;mode.&#160;The&#160;application&#160;calls&#160;<br/>ComM_RequestComMode(ComMConf_ComMUser_000,&#160;<br/>&#160; &#160;COMM_FULL_COMMUNICATION)&#160;&#160;<br/>COMM&#160;will&#160;call&#160;the&#160;following&#160;RTE&#160;interface&#160;in&#160;the&#160;next&#160;ComM_MainFunction_0():&#160;<br/>Rte_Write_ComM_CR_CAN0_fullComRequestors(&#160;<br/>&#160; &#160;ComM_FullComRequesters_CR_CAN0)&#160;<br/>&#160;<br/>The&#160;structure passed&#160;to&#160;the&#160;interface&#160;contains&#160;the&#160;following&#160;values:&#160;<br/>/* a single user keeps the channel requested */&#160;<br/>ComM_FullComRequesters_CR_CAN0.numberOfRequesters =&#160;1&#160;<br/>/* user with&#160;handle&#160;ComMConf_ComMUser_000&#160;keeps the channel&#160;<br/>&#160; &#160;requested */&#160;<br/>ComM_FullComRequesters_CR_CAN0.handleArray[0] =&#160;<br/>&#160; &#160;ComMConf_ComMUser_000&#160;<br/>/* the 2nd&#160;element contains&#160;the invalid user handle&#160;*/&#160;<br/>ComM_FullComRequesters_CR_CAN0.handleArray[1]&#160;= 0xff&#160;<br/>
&#160;<br/>&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
68&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=69></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-69_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>7&#160;&#160;Abbreviations&#160;</b><br/>
<b>7.1&#160;</b><br/>
<b>Abbreviations&#160;</b><br/>
<b>Abbreviation&#160;</b><br/>
<b>Description&#160;</b><br/>
API&#160;<br/>
Application Programming Interface&#160;&#160;&#160;<br/>
AUTOSAR&#160;<br/>
Automotive Open System&#160;Architecture&#160;<br/>
BSW&#160;<br/>
Basis&#160;Software&#160;<br/>
DCM&#160;<br/>
Diagnostic&#160;Communication&#160;Manager&#160;<br/>
DEM&#160;<br/>
Diagnostic&#160;Event&#160;Manager&#160;<br/>
DET&#160;<br/>
Development&#160;Error&#160;Tracer&#160;<br/>
ECU&#160;<br/>
Electronic&#160;Control&#160;Unit&#160;<br/>
HIS&#160;<br/>
Hersteller&#160;Initiative Software&#160;<br/>
ISR&#160;<br/>
Interrupt&#160;Service Routine&#160;<br/>
MICROSAR&#160;<br/>
Microcontroller&#160;Open&#160;System&#160;Architecture&#160;(the&#160;Vector&#160;AUTOSAR&#160;<br/>solution)&#160;<br/>
PNC&#160;<br/>
Partial&#160;Network&#160;Cluster&#160;<br/>
PPort&#160;<br/>
Provide&#160;Port&#160;<br/>
RPort&#160;<br/>
Require Port&#160;<br/>
RTE&#160;<br/>
Runtime Environment&#160;<br/>
SRS&#160;<br/>
Software&#160;Requirement&#160;Specification&#160;<br/>
SWC&#160;<br/>
Software&#160;Component&#160;<br/>
SWS&#160;<br/>
Software&#160;Specification&#160;<br/>
Table&#160;7-1&#160;&#160;&#160;Abbreviations&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
69&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=70></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/ComM/doc/TechnicalReference_ComM-70_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;Communication&#160;Manager&#160;<br/>
<b>8&#160;&#160;Contact&#160;</b><br/>
Visit&#160;our website&#160;for&#160;more information&#160;on&#160;<br/>&#160;<br/><b>&gt;&#160;&#160;</b>News&#160;<br/>
<b>&gt;&#160;&#160;</b>Products&#160;<br/>
<b>&gt;&#160;&#160;</b>Demo&#160;software&#160;<br/>
<b>&gt;&#160;&#160;</b>Support&#160;<br/>
<b>&gt;&#160;&#160;</b>Training&#160;data&#160;<br/>
<b>&gt;&#160;&#160;</b>Addresses&#160;<br/>
&#160;<br/>www.vector.com&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;8.00.00&#160;<br/>
70&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name="outline"></a><h1>Document Outline</h1>
<ul>
<li><a href="TechnicalReference_ComMs.html#11">1 Component History</a></li>
<li><a href="TechnicalReference_ComMs.html#12">2 Introduction</a>
<ul>
<li><a href="TechnicalReference_ComMs.html#13">2.1 Architecture Overview</a></li>
</ul>
</li>
<li><a href="TechnicalReference_ComMs.html#15">3 Functional Description</a>
<ul>
<li><a href="TechnicalReference_ComMs.html#15">3.1 Features</a>
<ul>
<li><a href="TechnicalReference_ComMs.html#16">3.1.1 Deviations</a>
<ul>
<li><a href="TechnicalReference_ComMs.html#16">3.1.1.1 Variant Post-Build</a></li>
</ul>
</li>
<li><a href="TechnicalReference_ComMs.html#16">3.1.2 Additions/ Extensions</a>
<ul>
<li><a href="TechnicalReference_ComMs.html#17">3.1.2.1 Memory Initialization</a></li>
<li><a href="TechnicalReference_ComMs.html#17">3.1.2.2 Post-Build Loadable</a></li>
<li><a href="TechnicalReference_ComMs.html#17">3.1.2.3 Timer-based Shutdown Synchronization via Silent State</a></li>
<li><a href="TechnicalReference_ComMs.html#17">3.1.2.4 Channel-specific Minimum Full Com Mode Timer</a></li>
<li><a href="TechnicalReference_ComMs.html#18">3.1.2.5 Pnc to Channel Routing Limitation</a></li>
<li><a href="TechnicalReference_ComMs.html#20">3.1.2.6 Extended RAM Check</a></li>
</ul>
</li>
<li><a href="TechnicalReference_ComMs.html#21">3.1.3 Limitations</a>
<ul>
<li><a href="TechnicalReference_ComMs.html#21">3.1.3.1 Non-volatile Data Handling</a></li>
<li><a href="TechnicalReference_ComMs.html#21">3.1.3.2 Assignment of Users to Channels and PNCs</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_ComMs.html#21">3.2 Initialization</a></li>
<li><a href="TechnicalReference_ComMs.html#21">3.3 States</a></li>
<li><a href="TechnicalReference_ComMs.html#25">3.4 Partial Network States</a></li>
<li><a href="TechnicalReference_ComMs.html#28">3.5 Main Functions</a>
<ul>
<li><a href="TechnicalReference_ComMs.html#28">3.5.1 Communication Control Handling</a></li>
<li><a href="TechnicalReference_ComMs.html#29">3.5.2 Mode Limitation</a>
<ul>
<li><a href="TechnicalReference_ComMs.html#29">3.5.2.1 Mode Limitation to NO_COM</a></li>
<li><a href="TechnicalReference_ComMs.html#30">3.5.2.2 Prevent Wake-Up</a></li>
</ul>
</li>
<li><a href="TechnicalReference_ComMs.html#30">3.5.3 Synchronous Wake-Up</a></li>
</ul>
</li>
<li><a href="TechnicalReference_ComMs.html#31">3.6 Error Handling</a>
<ul>
<li><a href="TechnicalReference_ComMs.html#31">3.6.1 Development Error Reporting</a>
<ul>
<li><a href="TechnicalReference_ComMs.html#32">3.6.1.1 Parameter Checking</a></li>
</ul>
</li>
<li><a href="TechnicalReference_ComMs.html#34">3.6.2 Production Code Error Reporting</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_ComMs.html#35">4 Integration</a>
<ul>
<li><a href="TechnicalReference_ComMs.html#35">4.1 Scope of Delivery</a>
<ul>
<li><a href="TechnicalReference_ComMs.html#35">4.1.1 Static Files</a></li>
<li><a href="TechnicalReference_ComMs.html#35">4.1.2 Dynamic Files</a></li>
</ul>
</li>
<li><a href="TechnicalReference_ComMs.html#36">4.2 Include Structure</a></li>
<li><a href="TechnicalReference_ComMs.html#37">4.3 Critical Sections</a></li>
<li><a href="TechnicalReference_ComMs.html#37">4.4 Handling of non-volatile Data</a></li>
</ul>
</li>
<li><a href="TechnicalReference_ComMs.html#39">5 API Description</a>
<ul>
<li><a href="TechnicalReference_ComMs.html#39">5.1 Type Definitions</a></li>
<li><a href="TechnicalReference_ComMs.html#41">5.2 Services provided by COMM</a>
<ul>
<li><a href="TechnicalReference_ComMs.html#41">5.2.1 ComM_InitMemory</a></li>
<li><a href="TechnicalReference_ComMs.html#41">5.2.2 ComM_Init</a></li>
<li><a href="TechnicalReference_ComMs.html#42">5.2.3 ComM_DeInit</a></li>
<li><a href="TechnicalReference_ComMs.html#42">5.2.4 ComM_GetStatus</a></li>
<li><a href="TechnicalReference_ComMs.html#43">5.2.5 ComM_GetInhibitionStatus</a></li>
<li><a href="TechnicalReference_ComMs.html#44">5.2.6 ComM_RequestComMode</a></li>
<li><a href="TechnicalReference_ComMs.html#44">5.2.7 ComM_GetMaxComMode</a></li>
<li><a href="TechnicalReference_ComMs.html#45">5.2.8 ComM_GetRequestedComMode</a></li>
<li><a href="TechnicalReference_ComMs.html#45">5.2.9 ComM_GetCurrentComMode</a></li>
<li><a href="TechnicalReference_ComMs.html#46">5.2.10 ComM_PreventWakeUp</a></li>
<li><a href="TechnicalReference_ComMs.html#47">5.2.11 ComM_LimitChannelToNoComMode</a></li>
<li><a href="TechnicalReference_ComMs.html#48">5.2.12 ComM_LimitECUToNoComMode</a></li>
<li><a href="TechnicalReference_ComMs.html#48">5.2.13 ComM_ReadInhibitCounter</a></li>
<li><a href="TechnicalReference_ComMs.html#49">5.2.14 ComM_ResetInhibitCounter</a></li>
<li><a href="TechnicalReference_ComMs.html#49">5.2.15 ComM_SetECUGroupClassification</a></li>
<li><a href="TechnicalReference_ComMs.html#50">5.2.16 ComM_GetVersionInfo</a></li>
<li><a href="TechnicalReference_ComMs.html#50">5.2.17 ComM_MainFunction</a></li>
<li><a href="TechnicalReference_ComMs.html#51">5.2.18 ComM_GetState</a></li>
<li><a href="TechnicalReference_ComMs.html#52">5.2.19 ComM_LimitPncToChannelRouting</a></li>
<li><a href="TechnicalReference_ComMs.html#52">5.2.20 ComM_GetDcmRequestStatus</a></li>
<li><a href="TechnicalReference_ComMs.html#53">5.2.21 ComM_GetMinFullComModeTimerStatus</a></li>
</ul>
</li>
<li><a href="TechnicalReference_ComMs.html#54">5.3 Services used by COMM</a></li>
<li><a href="TechnicalReference_ComMs.html#54">5.4 Callback Functions</a>
<ul>
<li><a href="TechnicalReference_ComMs.html#54">5.4.1 ComM_CommunicationAllowed</a></li>
<li><a href="TechnicalReference_ComMs.html#55">5.4.2 ComM_EcuM_WakeUpIndication</a></li>
<li><a href="TechnicalReference_ComMs.html#56">5.4.3 ComM_BusSM_ModeIndication</a></li>
<li><a href="TechnicalReference_ComMs.html#56">5.4.4 ComM_DCM_ActiveDiagnostic</a></li>
<li><a href="TechnicalReference_ComMs.html#57">5.4.5 ComM_DCM_InactiveDiagnostic</a></li>
<li><a href="TechnicalReference_ComMs.html#57">5.4.6 ComM_Nm_NetworkStartIndication</a></li>
<li><a href="TechnicalReference_ComMs.html#58">5.4.7 ComM_Nm_NetworkMode</a></li>
<li><a href="TechnicalReference_ComMs.html#58">5.4.8 ComM_Nm_PrepareBusSleep</a></li>
<li><a href="TechnicalReference_ComMs.html#59">5.4.9 ComM_Nm_BusSleepMode</a></li>
<li><a href="TechnicalReference_ComMs.html#60">5.4.10 ComM_Nm_RestartIndication</a></li>
<li><a href="TechnicalReference_ComMs.html#60">5.4.11 ComM_Nm_StateChangeNotification</a></li>
<li><a href="TechnicalReference_ComMs.html#61">5.4.12 ComM_ComCbk_&lt;SignalName&gt;</a></li>
</ul>
</li>
<li><a href="TechnicalReference_ComMs.html#61">5.5 Configurable Interfaces</a>
<ul>
<li><a href="TechnicalReference_ComMs.html#61">5.5.1 Notifications</a>
<ul>
<li><a href="TechnicalReference_ComMs.html#61">5.5.1.1 Dcm_ComM_FullComModeEntered</a></li>
<li><a href="TechnicalReference_ComMs.html#62">5.5.1.2 Dcm_ComM_SilentComModeEntered</a></li>
<li><a href="TechnicalReference_ComMs.html#62">5.5.1.3 Dcm_ComM_NoComModeEntered</a></li>
<li><a href="TechnicalReference_ComMs.html#63">5.5.1.4 BswM_ComM_CurrentMode</a></li>
<li><a href="TechnicalReference_ComMs.html#63">5.5.1.5 BswM_ComM_CurrentPNCMode</a></li>
<li><a href="TechnicalReference_ComMs.html#64">5.5.1.6 BswM_ComM_InitiateReset</a></li>
<li><a href="TechnicalReference_ComMs.html#64">5.5.1.7 Rte_Switch_ComM_&lt;UserName&gt;_currentMode</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_ComMs.html#65">6 Service Ports</a>
<ul>
<li><a href="TechnicalReference_ComMs.html#65">6.1.1 Client Server Interface</a>
<ul>
<li><a href="TechnicalReference_ComMs.html#65">6.1.1.1 Provide Ports on COMM Side</a>
<ul>
<li><a href="TechnicalReference_ComMs.html#65">6.1.1.1.1 ComM_UserRequest</a></li>
<li><a href="TechnicalReference_ComMs.html#65">6.1.1.1.2 ComM_ECUModeLimitation</a></li>
<li><a href="TechnicalReference_ComMs.html#65">6.1.1.1.3 ComM_ChannelWakeUp</a></li>
<li><a href="TechnicalReference_ComMs.html#66">6.1.1.1.4 ComM_ChannelLimitation</a></li>
</ul>
</li>
<li><a href="TechnicalReference_ComMs.html#66">6.1.1.2 Require Ports on COMM Side</a></li>
</ul>
</li>
<li><a href="TechnicalReference_ComMs.html#66">6.1.2 Mode Switch Interface</a>
<ul>
<li><a href="TechnicalReference_ComMs.html#66">6.1.2.1 ComM_CurrentMode</a></li>
</ul>
</li>
<li><a href="TechnicalReference_ComMs.html#67">6.1.3 Sender Receiver Interface</a>
<ul>
<li><a href="TechnicalReference_ComMs.html#67">6.1.3.1 ComM_CurrentChannelRequest</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_ComMs.html#69">7 Abbreviations</a>
<ul>
<li><a href="TechnicalReference_ComMs.html#69">7.1 Abbreviations</a></li>
</ul>
</li>
<li><a href="TechnicalReference_ComMs.html#70">8 Contact</a></li>
</ul>
<hr/>
</body>
</html>
