---
title: TechnicalReference_CanNms
linkTitle: TechnicalReference_CanNms
weight: 6
---

<!DOCTYPE html><html>
<head>
<title></title>
<style type="text/css">
<!--
.xflip {
    -moz-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    -o-transform: scaleX(-1);
    transform: scaleX(-1);
    filter: fliph;
}
.yflip {
    -moz-transform: scaleY(-1);
    -webkit-transform: scaleY(-1);
    -o-transform: scaleY(-1);
    transform: scaleY(-1);
    filter: flipv;
}
.xyflip {
    -moz-transform: scaleX(-1) scaleY(-1);
    -webkit-transform: scaleX(-1) scaleY(-1);
    -o-transform: scaleX(-1) scaleY(-1);
    transform: scaleX(-1) scaleY(-1);
    filter: fliph + flipv;
}
-->
</style>
</head>
<body>
<a name=1></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-1_1.png"/><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/><b>MICROSAR CAN Network&#160;Management&#160;<br/></b>Technical Reference&#160;<br/>&#160;<br/>Nm_Asr4NmCan&#160;<br/>Version&#160;6.02.00&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
Authors&#160;<br/>
Markus Schuster&#160;<br/>
Status&#160;<br/>
Released&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
<hr/>
<a name=2></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-2_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>Document&#160;Information&#160;</b><br/>
<b>History&#160;</b><br/>
<b>Author&#160;</b><br/>
<b>Date&#160;</b><br/>
<b>Version&#160;</b><br/>
<b>Remarks&#160;</b><br/>
Markus Schuster&#160;<br/>
2012-08-08&#160;<br/>
1.00.00&#160;<br/>
ESCAN00058396&#160;Creation&#160;<br/>
Markus Drescher&#160;<br/>
2013-05-10&#160;<br/>
1.01.00&#160;<br/>
ESCAN00063144 Updated&#160;Architecture&#160;<br/>Overview&#160;<br/>ESCAN00064972&#160;Support&#160;of&#160;Variant&#160;Post-<br/>Build-Loadable&#160;<br/>ESCAN00065301&#160;Improved&#160;send behavior&#160;<br/>descriptions in&#160;chapter<a href="TechnicalReference_CanNms.html#25">&#160;3.6.3&#160;</a>and&#160;<br/>Immediate&#160;Nm&#160;Transmission&#160;feature&#160;<br/>descriptions in&#160;chapter<a href="TechnicalReference_CanNms.html#34">s&#160;3.15&#160;</a>and<a href="TechnicalReference_CanNms.html#36">&#160;3.16&#160;<br/></a>ESCAN00065574&#160;Extended chapter<a href="TechnicalReference_CanNms.html#32">&#160;3.13&#160;<br/></a>ESCAN00067271&#160;Merged chapter&#160;<br/>‘AUTOSAR&#160;Standard Compliance’&#160;with&#160;<br/>chapter<a href="TechnicalReference_CanNms.html#14">&#160;3,</a>&#160;removed&#160;‘Compiler&#160;Abstraction&#160;<br/>and Memory&#160;Mapping’&#160;chapter,&#160;various&#160;<br/>improvements&#160;<br/>ESCAN00067277&#160;Adapted&#160;chapter<a href="TechnicalReference_CanNms.html#46">&#160;5.3.1.1&#160;<br/></a>ESCAN00067278&#160;Replaced&#160;<br/>Nm_PrepareBusSleep by&#160;<br/>Nm_PrepareBusSleepMode&#160;<br/>
Markus Drescher&#160;<br/>
2013-10-01&#160;<br/>
2.00.00&#160;<br/>
ESCAN00067700&#160;Added&#160;Runtime&#160;<br/>Measurement&#160;Support&#160;to&#160;‘Features&#160;Beyond&#160;<br/>the&#160;AUTOSAR&#160;Standard’&#160;<br/>ESCAN00070810&#160;Updated&#160;Architecture&#160;<br/>Overview&#160;<br/>
Markus Drescher&#160;<br/>
2014-02-24&#160;<br/>
2.01.00&#160;<br/>
ESCAN00072375&#160;Adapted&#160;condition&#160;for&#160;<br/>usage&#160;of&#160;CanSM_TxTimeoutException&#160;in&#160;<br/>chapter<a href="TechnicalReference_CanNms.html#58">&#160;5.4&#160;<br/></a>ESCAN00073874&#160;Updated&#160;Architecture&#160;<br/>Overview&#160;<br/>
Markus Schuster&#160;<br/>
2014-05-12&#160;<br/>
3.00.00&#160;<br/>
ESCAN00075248&#160;Add&#160;description of&#160;<br/>dependency&#160;of&#160;Bus&#160;Load&#160;Reduction&#160;and&#160;<br/>Partial&#160;Networking&#160;feature on&#160;the&#160;same&#160;<br/>channel&#160;in chapter<a href="TechnicalReference_CanNms.html#26">&#160;3.6.4&#160;</a><br/>
Markus Schuster&#160;<br/>
2014-10-09&#160;<br/>
4.00.00&#160;<br/>
ESCAN00076763&#160;Added&#160;description&#160;in&#160;<br/>chapter<a href="TechnicalReference_CanNms.html#10">&#160;1,&#160;</a><a href="TechnicalReference_CanNms.html#15">3.1.2&#160;</a>an<a href="TechnicalReference_CanNms.html#46">d&#160;5.3.1.1.</a>&#160;Removed&#160;<br/>chapter&#160;5.2&#160;‘Type&#160;Definitions’&#160;<br/>ESCAN00078817&#160;Added&#160;description&#160;in&#160;<br/>chapter<a href="TechnicalReference_CanNms.html#15">&#160;3.1.1&#160;</a><br/>
Markus Schuster&#160;<br/>
2015-06-03&#160;<br/>
5.00.00&#160;<br/>
ESCAN00082408&#160;Upd<a href="TechnicalReference_CanNms.html#15">ated&#160;Table&#160;3-1&#160;</a>and&#160;<br/><a href="TechnicalReference_CanNms.html#16">Table&#160;3-3,&#160;</a><a href="TechnicalReference_CanNms.html#31">Table&#160;3-7&#160;</a><br/>
Markus Schuster&#160;<br/>
2016-03-02&#160;<br/>
6.00.00&#160;<br/>
ESCAN00086897&#160;Adapted&#160;chapter<a href="TechnicalReference_CanNms.html#19">&#160;3.4&#160;<br/></a>ESCAN00087953&#160;Adapted&#160;chapter<a href="TechnicalReference_CanNms.html#28">&#160;3.8&#160;<br/></a>ESCAN00087415&#160;Adapted&#160;chapter<a href="TechnicalReference_CanNms.html#15">&#160;3.1.1&#160;</a><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
2&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=3></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-3_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-3_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
Markus Schuster&#160;<br/>
2016-05-09&#160;<br/>
6.01.00&#160;<br/>
ESCAN00089821&#160;Adapted&#160;chapter<a href="TechnicalReference_CanNms.html#14">&#160;3.1&#160;<br/></a>ESCAN00090105&#160;Adapted&#160;chapter<a href="TechnicalReference_CanNms.html#38">&#160;3.18.3&#160;<br/></a>ESCAN00090927&#160;Added&#160;chapter<a href="TechnicalReference_CanNms.html#22">&#160;3.5.2.1&#160;</a><br/>
Markus Schuster&#160;<br/>
2016-11-17&#160;<br/>
6.02.00&#160;<br/>
FEATC-58&#160;Adapted&#160;chapter<a href="TechnicalReference_CanNms.html#29">&#160;3.11&#160;</a><br/>
<b>Reference&#160;Documents&#160;</b><br/>
<b>No.&#160;</b><br/>
<b>Source&#160;</b><br/>
<b>Title&#160;</b><br/>
<b>Version&#160;</b><br/>
[1]&#160;&#160;&#160;AUTOSAR&#160;<br/>
AUTOSAR_SRS_NetworkManagement.pdf&#160;<br/>
3.0.0&#160;<br/>
[2]&#160;&#160;&#160;AUTOSAR&#160;<br/>
AUTOSAR_SWS_CANInterface.pdf&#160;<br/>
5.0.0&#160;<br/>
[3]&#160;&#160;&#160;AUTOSAR&#160;<br/>
AUTOSAR_SWS_CANNetworkManagement.pdf&#160;<br/>
3.3.0&#160;<br/>
[4]&#160;&#160;&#160;AUTOSAR&#160;<br/>
AUTOSAR_SWS_DiagnosticEventManager.pdf&#160;<br/>
4.2.0&#160;<br/>
[5]&#160;&#160;&#160;AUTOSAR&#160;<br/>
AUTOSAR_SWS_DevelopmentErrorTracer.pdf&#160;<br/>
3.2.0&#160;<br/>
[6]&#160;&#160;&#160;AUTOSAR&#160;<br/>
AUTOSAR_TR_BSWModuleList.pdf&#160;<br/>
1.6.0&#160;<br/>
[7]&#160;&#160;&#160;AUTOSAR&#160;<br/>
AUTOSAR_SWS_RTE.pdf&#160;<br/>
3.2.0&#160;<br/>
[8]&#160;&#160;&#160;Vector&#160;<br/>
Technical&#160;Reference&#160;MICROSAR&#160;PDU&#160;Router&#160;<br/>
See&#160;<br/>delivery&#160;<br/>
Table&#160;1-1&#160;&#160;&#160;Reference&#160;Documents&#160;<br/>
Scope&#160;of&#160;the&#160;Document<b>&#160;&#160;</b><br/>
This technical reference&#160;describes the&#160;specific use&#160;of&#160;the&#160;CAN&#160;Network Management&#160;<br/>basic software.&#160;<br/>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>We&#160;have configured&#160;the&#160;programs&#160;in&#160;accordance&#160;with your&#160;specifications&#160;in the&#160;<br/>
<b>&#160;&#160;</b>questionnaire.&#160;Whereas&#160;the&#160;programs&#160;do&#160;support&#160;other&#160;configurations&#160;than&#160;the&#160;one&#160;<br/>
specified&#160;in your&#160;questionnaire,&#160;Vector’s&#160;release&#160;of&#160;the&#160;programs&#160;delivered to&#160;your&#160;<br/>company&#160;is&#160;expressly&#160;restricted&#160;to&#160;the&#160;configuration&#160;you&#160;have specified&#160;in&#160;the&#160;<br/>questionnaire.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
3&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=4></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-4_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>Contents&#160;</b><br/>
<a href="TechnicalReference_CanNms.html#10"><b>1.</b>&#160;&#160;<b>Component&#160;History&#160;......................................................................................................&#160;10</b>&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#11"><b>2.</b>&#160;&#160;<b>Introduction&#160;..................................................................................................................&#160;11</b>&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#11">2.1&#160;&#160;Naming Conventions&#160;..............................................................................................&#160;11&#160;<br/></a><a href="TechnicalReference_CanNms.html#12">2.2&#160;&#160;Architecture&#160;Overview&#160;............................................................................................&#160;12&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#12">2.2.1&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#12">Architecture of&#160;AUTOSAR&#160;Network&#160;Management&#160;..........................................&#160;12&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#14"><b>3.</b>&#160;&#160;<b>Functional&#160;Description&#160;................................................................................................&#160;14</b>&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#14">3.1&#160;&#160;Features&#160;.................................................................................................................&#160;14&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#15">3.1.1&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#15">Deviations&#160;Against&#160;AUTOSAR&#160;.......................................................................&#160;15&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#15">3.1.1.1&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#15">RAM&#160;Initialization&#160;....................................................................................&#160;15&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#15">3.1.1.2&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#15">Additional&#160;Configuration&#160;Dependencies&#160;..................................................&#160;15&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#15">3.1.1.3&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#15">Variant&#160;Post-Build&#160;...................................................................................&#160;15&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#15">3.1.2&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#15">Additions/&#160;Extensions&#160;....................................................................................&#160;15&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#16">3.1.2.1&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#16">Single Channel&#160;Optimization&#160;..................................................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#16">3.1.2.2&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#16">Memory&#160;Initialization&#160;...............................................................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#16">3.1.2.3&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#16">Disable&#160;Transmission&#160;Error&#160;Reporting&#160;....................................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#16">3.1.2.4&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#16">Calling&#160;CanNm_PassiveStartUp&#160;in Prepare Bus&#160;Sleep&#160;...........................&#160;16&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#16">3.1.2.5&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#16">Additional&#160;Development&#160;Error&#160;Codes&#160;......................................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#16">3.1.2.6&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#16">Variable DLC&#160;Support&#160;.............................................................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#17">3.1.2.7&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#17">Changeability&#160;of&#160;Additional&#160;Parameters&#160;During&#160;the&#160;Post-Build Phase&#160;.....&#160;17&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#17">3.1.3&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#17">Limitations&#160;.....................................................................................................&#160;17&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#17">3.1.3.1&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#17">Ranges&#160;of&#160;Timers&#160;...................................................................................&#160;17&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#17">3.1.3.2&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#17">Effects&#160;of&#160;CanNm_DisableCommunication&#160;.............................................&#160;17&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#17">3.1.3.3&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#17">CANNM_E_NET_START_IND&#160;Development&#160;Error&#160;.................................&#160;17&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#17">3.2&#160;&#160;Network&#160;Management&#160;Mechanism&#160;.........................................................................&#160;17&#160;<br/></a><a href="TechnicalReference_CanNms.html#19">3.3&#160;&#160;Initialization&#160;............................................................................................................&#160;19&#160;<br/>3.4&#160;&#160;Passive&#160;Mode&#160;.........................................................................................................&#160;19&#160;<br/>3.5&#160;&#160;Operation&#160;Modes and States&#160;..................................................................................&#160;19&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#20">3.5.1&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#20">Network&#160;Mode&#160;...............................................................................................&#160;20&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#21">3.5.1.1&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#21">Repeat&#160;Message State&#160;...........................................................................&#160;21&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#21">3.5.1.2&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#21">Normal&#160;Operation&#160;State&#160;..........................................................................&#160;21&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#21">3.5.1.3&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#21">Ready&#160;Sleep State&#160;.................................................................................&#160;21&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#21">3.5.2&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#21">Prepare&#160;Bus-Sleep Mode&#160;..............................................................................&#160;21&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#22">3.5.2.1&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#22">Wait&#160;Bus Sleep Extensions&#160;.....................................................................&#160;22&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#23">3.5.3&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#23">Bus-Sleep&#160;Mode&#160;............................................................................................&#160;23&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#23">3.5.4&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#23">Wake-up&#160;Registration&#160;....................................................................................&#160;23&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#23">3.5.5&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#23">User&#160;Data&#160;Handling&#160;.......................................................................................&#160;23&#160;</a><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
4&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=5></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-5_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<a href="TechnicalReference_CanNms.html#24">3.6&#160;&#160;Network&#160;Management&#160;Message&#160;Transmission&#160;and Reception&#160;...............................&#160;24&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#24">3.6.1&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#24">AUTOSAR&#160;CAN&#160;Interface..............................................................................&#160;24&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#24">3.6.2&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#24">PDU&#160;Message Layout&#160;...................................................................................&#160;24&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#25">3.6.3&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#25">Message&#160;Transmissions&#160;................................................................................&#160;25&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#26">3.6.4&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#26">Bus Load&#160;Reduction&#160;......................................................................................&#160;26&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#26">3.6.5&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#26">Support&#160;for&#160;RX&#160;PDUs&#160;with Different&#160;Lengths&#160;.................................................&#160;26&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#27">3.7&#160;&#160;Node Detection&#160;......................................................................................................&#160;27&#160;<br/></a><a href="TechnicalReference_CanNms.html#28">3.8&#160;&#160;NM&#160;PDU&#160;Receive Indication&#160;...................................................................................&#160;28&#160;<br/>3.9&#160;&#160;Communication&#160;Control&#160;..........................................................................................&#160;28&#160;<br/>3.10&#160;&#160;Gateway&#160;Functionality&#160;............................................................................................&#160;28&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#28">3.10.1&#160;&#160;Remote&#160;Sleep Indication&#160;and Cancellation&#160;....................................................&#160;28&#160;<br/></a><a href="TechnicalReference_CanNms.html#29">3.10.2&#160;&#160;Bus Synchronization&#160;.....................................................................................&#160;29&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#29">3.11&#160;&#160;Coordinator&#160;Synchronization&#160;Support&#160;.....................................................................&#160;29&#160;<br/>3.12&#160;&#160;Error&#160;Handling&#160;........................................................................................................&#160;29&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#29">3.12.1&#160;&#160;Development&#160;Error&#160;Detection&#160;........................................................................&#160;29&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#30">3.12.1.1&#160;&#160;Det_ReportError&#160;.....................................................................................&#160;30&#160;<br/></a><a href="TechnicalReference_CanNms.html#31">3.12.1.2&#160;&#160;Parameter&#160;Checking&#160;...............................................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#32">3.12.2&#160;&#160;Production Code&#160;Error&#160;Reporting&#160;..................................................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#32">3.13&#160;&#160;Com&#160;User&#160;Data&#160;Support&#160;.........................................................................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#33">3.13.1&#160;&#160;Configuration Preconditions&#160;in an&#160;AUTOSAR&#160;ECU&#160;Configuration&#160;..................&#160;33&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#34">3.14&#160;&#160;Active&#160;Wake-up&#160;Handling&#160;.......................................................................................&#160;34&#160;<br/>3.15&#160;&#160;Immediate&#160;Nm&#160;Transmissions&#160;................................................................................&#160;34&#160;<br/></a><a href="TechnicalReference_CanNms.html#36">3.16&#160;&#160;Immediate&#160;Restart&#160;Enabled&#160;....................................................................................&#160;36&#160;<br/></a><a href="TechnicalReference_CanNms.html#37">3.17&#160;&#160;Car&#160;Wake-up&#160;..........................................................................................................&#160;37&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#37">3.17.1&#160;&#160;Rx-Path&#160;.........................................................................................................&#160;37&#160;<br/>3.17.2&#160;&#160;Tx-Path&#160;.........................................................................................................&#160;37&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#37">3.18&#160;&#160;Partial&#160;Networking&#160;..................................................................................................&#160;37&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#38">3.18.1&#160;&#160;Availability&#160;of&#160;Partial&#160;Network&#160;Request&#160;Information&#160;.......................................&#160;38&#160;<br/>3.18.2&#160;&#160;Transmission&#160;of&#160;the&#160;CRI&#160;Bit&#160;in the&#160;NM&#160;User&#160;Data&#160;..........................................&#160;38&#160;<br/>3.18.3&#160;&#160;Filter&#160;Algorithm&#160;for&#160;Received&#160;NM&#160;Messages&#160;..................................................&#160;38&#160;<br/>3.18.4&#160;&#160;Aggregation&#160;of&#160;Requested Partial&#160;Networks&#160;..................................................&#160;38&#160;<br/></a><a href="TechnicalReference_CanNms.html#39">3.18.5&#160;&#160;Spontaneous Sending&#160;of&#160;NM&#160;Messages........................................................&#160;39&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#39">3.18.5.1&#160;&#160;Using&#160;Com&#160;Transmission&#160;on&#160;Change Mechanism&#160;..................................&#160;39&#160;<br/>3.18.5.2&#160;&#160;Using&#160;NM&#160;Request&#160;and&#160;Immediate&#160;Nm&#160;Transmission&#160;.............................&#160;39&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#40"><b>4.</b>&#160;&#160;<b>Integration&#160;....................................................................................................................&#160;40</b>&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#40">4.1&#160;&#160;Scope of&#160;Delivery&#160;...................................................................................................&#160;40&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#40">4.1.1&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#40">Static Files&#160;....................................................................................................&#160;40&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#40">4.1.2&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#40">Dynamic&#160;Files&#160;...............................................................................................&#160;40&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#41">4.2&#160;&#160;Include Structure&#160;....................................................................................................&#160;41&#160;<br/></a><a href="TechnicalReference_CanNms.html#42">4.3&#160;&#160;Main Functions&#160;.......................................................................................................&#160;42&#160;</a><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
5&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=6></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-6_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<a href="TechnicalReference_CanNms.html#42">4.4&#160;&#160;Critical&#160;Sections&#160;.....................................................................................................&#160;42&#160;<br/>4.5&#160;&#160;Critical&#160;Section Codes&#160;............................................................................................&#160;42&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#44"><b>5.</b>&#160;&#160;<b>API&#160;Description&#160;............................................................................................................&#160;44</b>&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#44">5.1&#160;&#160;Data&#160;Types&#160;.............................................................................................................&#160;44&#160;<br/>5.2&#160;&#160;Global&#160;Constants&#160;....................................................................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#44">5.2.1&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#44">AUTOSAR&#160;Specification&#160;Version&#160;...................................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#44">5.2.2&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#44">Component&#160;Versions&#160;.....................................................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#44">5.2.3&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#44">Vendor&#160;and&#160;Module ID&#160;...................................................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#46">5.3&#160;&#160;Services Provided by&#160;CANNM&#160;................................................................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#46">5.3.1&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#46">Administrative Functions&#160;...............................................................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#46">5.3.1.1&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#46">CanNm_Init:&#160;Initialization&#160;of&#160;CAN&#160;NM&#160;.....................................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#46">5.3.1.2&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#46">CanNm_MainFunction:&#160;Main Function&#160;for&#160;All&#160;Channel&#160;Instances&#160;............&#160;46&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#47">5.3.1.3&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#47">CanNm_InitMemory:&#160;Memory&#160;Initialization&#160;.............................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#47">5.3.2&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#47">Service Functions&#160;..........................................................................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#47">5.3.2.1&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#47">CanNm_GetVersionInfo:&#160;Version Information&#160;API&#160;...................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#48">5.3.2.2&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#48">CanNm_GetState:&#160;Get&#160;the&#160;State of&#160;the&#160;Network&#160;Management&#160;...............&#160;48&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#49">5.3.2.3&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#49">CanNm_PassiveStartUp:&#160;Wake up&#160;the&#160;Network&#160;Management................&#160;49&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#49">5.3.2.4&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#49">Wake-up&#160;Registration&#160;.............................................................................&#160;49&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#49">5.3.2.4.1&#160;&#160;CanNm_NetworkRequest:&#160;Request&#160;the&#160;Network&#160;.............................&#160;49&#160;<br/></a><a href="TechnicalReference_CanNms.html#50">5.3.2.4.2&#160;&#160;CanNm_NetworkRelease:&#160;Release&#160;the&#160;Network&#160;..............................&#160;50&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#50">5.3.2.5&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#50">User&#160;Data&#160;Handling&#160;................................................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#50">5.3.2.5.1&#160;&#160;CanNm_SetUserData:&#160;Set&#160;User&#160;Data&#160;..............................................&#160;50&#160;<br/></a><a href="TechnicalReference_CanNms.html#51">5.3.2.5.2&#160;&#160;CanNm_GetUserData:&#160;Get&#160;User&#160;Data&#160;.............................................&#160;51&#160;<br/>5.3.2.5.3&#160;&#160;CanNm_GetPduData:&#160;Get&#160;NM&#160;PDU&#160;Data&#160;........................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#52">5.3.2.6&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#52">Node Detection.......................................................................................&#160;52&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#52">5.3.2.6.1&#160;&#160;CanNm_RepeatMessageRequest:&#160;Set&#160;Repeat&#160;Message&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#52">Request&#160;Bit&#160;......................................................................................&#160;52&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#53">5.3.2.6.2&#160;&#160;CanNm_GetNodeIdentifier:&#160;Get&#160;Node&#160;Identifier&#160;...............................&#160;53&#160;<br/>5.3.2.6.3&#160;&#160;CanNm_GetLocalNodeIdentifier:&#160;Get&#160;Local&#160;Node&#160;Identifier&#160;.............&#160;53&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#54">5.3.2.7&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#54">Bus Synchronization&#160;...............................................................................&#160;54&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#54">5.3.2.7.1&#160;&#160;CanNm_RequestBusSynchronization:&#160;Synchronization of&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#54">Networks&#160;.........................................................................................&#160;54&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#54">5.3.2.8&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#54">Remote&#160;Sleep Indication&#160;........................................................................&#160;54&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#54">5.3.2.8.1&#160;&#160;CanNm_CheckRemoteSleepIndication:&#160;Check&#160;for&#160;Remote&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#54">Sleep Indication&#160;...............................................................................&#160;54&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#55">5.3.2.9&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#55">NM&#160;Message&#160;Transmission&#160;Request&#160;......................................................&#160;55&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#55">5.3.2.9.1&#160;&#160;CanNm_Transmit:&#160;Spontaneous NM&#160;Message&#160;Transmission&#160;..........&#160;55&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#56">5.3.2.10&#160;&#160;Communication&#160;Control&#160;Service&#160;.............................................................&#160;56&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#56">5.3.2.10.1&#160;&#160;CanNm_DisableCommunication:&#160;Disable NM&#160;Message&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#56">Transmission&#160;...................................................................................&#160;56&#160;</a><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
6&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=7></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-7_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<a href="TechnicalReference_CanNms.html#56">5.3.2.10.2&#160;&#160;CanNm_EnableCommunication:&#160;Enabled&#160;NM&#160;Message&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#56">Transmission&#160;...................................................................................&#160;56&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#57">5.3.2.11&#160;&#160;Coordinator&#160;Synchronization&#160;Support&#160;.....................................................&#160;57&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#57">5.3.2.11.1&#160;&#160;CanNm_SetSleepReadyBit:&#160;Set&#160;Sleep Ready&#160;Bit&#160;in the&#160;CBV&#160;..........&#160;57&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#58">5.4&#160;&#160;Services Used by&#160;CANNM&#160;.....................................................................................&#160;58&#160;<br/></a><a href="TechnicalReference_CanNms.html#59">5.5&#160;&#160;Callback&#160;Functions&#160;.................................................................................................&#160;59&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#59">5.5.1&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#59">Callback&#160;Functions&#160;from&#160;CAN&#160;Interface&#160;.........................................................&#160;59&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#59">5.5.1.1&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#59">CanNm_TxConfirmation:&#160;NM&#160;Message Confirmation&#160;Function&#160;...............&#160;59&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#59">5.5.1.2&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#59">CanNm_RxIndication:&#160;NM&#160;Message Indication&#160;.......................................&#160;59&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#60">5.5.2&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#60">Callback&#160;Function&#160;from&#160;CAN&#160;State&#160;Manager&#160;.................................................&#160;60&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#60">5.5.2.1&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#60">CanNm_ConfirmPnAvailability:&#160;Notification&#160;for&#160;Activating&#160;the&#160;PN&#160;Filter&#160;<br/>Functionality&#160;...........................................................................................&#160;60&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#61"><b>6.</b>&#160;&#160;<b>Glossary&#160;and&#160;Abbreviations&#160;........................................................................................&#160;61</b>&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#61">6.1&#160;&#160;Glossary&#160;.................................................................................................................&#160;61&#160;<br/>6.2&#160;&#160;Abbreviations&#160;.........................................................................................................&#160;61&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#63"><b>7.</b>&#160;&#160;<b>Contact..........................................................................................................................&#160;63</b>&#160;<br/></a>&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
7&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=8></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-8_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>Illustrations&#160;</b><br/>
<a href="TechnicalReference_CanNms.html#12">Figure&#160;2-1&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#12">AUTOSAR&#160;4.x&#160;Architecture&#160;Overview&#160;.......................................................&#160;12&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#13">Figure&#160;2-2&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#13">Interfaces&#160;to adjacent&#160;modules of&#160;the&#160;CANNM&#160;.........................................&#160;13&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#18">Figure&#160;3-1&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#18">State&#160;Diagram&#160;of&#160;CAN&#160;NM&#160;from&#160;SWS&#160;CAN&#160;NM&#160;[3]&#160;...................................&#160;18&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#25">Figure&#160;3-2&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#25">Usual&#160;Behavior&#160;of&#160;NM&#160;Transmissions&#160;when Repeat&#160;Message&#160;is&#160;entered&#160;..&#160;25&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#33">Figure&#160;3-3&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#33">Immediate&#160;Transmission&#160;due to&#160;Signal&#160;Change&#160;inside&#160;User&#160;Data&#160;I-PDU&#160;..&#160;33&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#35">Figure&#160;3-4&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#35">Immediate&#160;Nm&#160;Transmissions&#160;...................................................................&#160;35&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#36">Figure&#160;3-5&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#36">Behavior&#160;for&#160;NM&#160;Transmissions&#160;if&#160;Immediate&#160;Restart&#160;Enabled&#160;is&#160;ON&#160;........&#160;36&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#41">Figure&#160;4-1&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#41">Include structure&#160;.......................................................................................&#160;41&#160;</a><br/>
<b>&#160;</b><br/>
<b>Tables&#160;<br/></b><a href="TechnicalReference_CanNms.html#3">Table&#160;1-1&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#3">Reference&#160;Documents&#160;................................................................................&#160;3&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#10">Table&#160;1-1&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#10">Component&#160;history....................................................................................&#160;10&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#11">Table&#160;2-1&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#11">Naming Conventions&#160;................................................................................&#160;11&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#15">Table&#160;3-1&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#15">Supported&#160;AUTOSAR&#160;standard conform&#160;features&#160;.....................................&#160;15&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#15">Table&#160;3-2&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#15">Not&#160;supported&#160;AUTOSAR&#160;standard conform&#160;features&#160;...............................&#160;15&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#16">Table&#160;3-3&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#16">Features&#160;provided beyond the&#160;AUTOSAR&#160;standard&#160;..................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#24">Table&#160;3-4&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#24">PDU&#160;NM&#160;Message Layout&#160;........................................................................&#160;24&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#25">Table&#160;3-5&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#25">Control&#160;Bit&#160;Vector&#160;......................................................................................&#160;25&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#30">Table&#160;3-6&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#30">Service IDs&#160;...............................................................................................&#160;30&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#31">Table&#160;3-7&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#31">Errors&#160;reported&#160;to DET&#160;.............................................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#32">Table&#160;3-8&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#32">Development&#160;Error&#160;Reporting:&#160;Assignment&#160;of&#160;checks&#160;to services&#160;.............&#160;32&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#32">Table&#160;3-9&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#32">Errors&#160;reported&#160;to DEM&#160;.............................................................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#34">Table&#160;3-10&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#34">Configuration Precondition&#160;Overview&#160;for&#160;AUTOSAR&#160;ECU&#160;Configurations&#160;.&#160;34&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#40">Table&#160;4-1&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#40">Static&#160;files&#160;.................................................................................................&#160;40&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#40">Table&#160;4-2&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#40">Generated&#160;files&#160;.........................................................................................&#160;40&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#43">Table&#160;4-3&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#43">Critical&#160;Section&#160;Codes&#160;..............................................................................&#160;43&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#44">Table&#160;5-1&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#44">Specification&#160;Version&#160;API&#160;Data&#160;.................................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#44">Table&#160;5-2&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#44">Component&#160;Version&#160;API&#160;Data&#160;...................................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#45">Table&#160;5-3&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#45">Vendor/Module ID&#160;.....................................................................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#46">Table&#160;5-4&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#46">CanNm_Init&#160;..............................................................................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#47">Table&#160;5-5&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#47">CanNm_MainFunction&#160;..............................................................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#47">Table&#160;5-6&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#47">CanNm_InitMemory&#160;..................................................................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#48">Table&#160;5-7&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#48">CanNm_GetVersionInfo&#160;............................................................................&#160;48&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#48">Table&#160;5-8&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#48">CanNm_GetState&#160;.....................................................................................&#160;48&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#49">Table&#160;5-9&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#49">CanNm_PassiveStartUp&#160;...........................................................................&#160;49&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#50">Table&#160;5-10&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#50">CanNm_NetworkRequest&#160;.........................................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#50">Table&#160;5-11&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#50">CanNm_NetworkRelease&#160;.........................................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#51">Table&#160;5-12&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#51">CanNm_SetUserData&#160;...............................................................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#51">Table&#160;5-13&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#51">CanNm_GetUserData&#160;...............................................................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#52">Table&#160;5-14&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#52">CanNm_GetPduData&#160;................................................................................&#160;52&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#52">Table&#160;5-15&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#52">CanNm_RepeatMessageRequest&#160;............................................................&#160;52&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#53">Table&#160;5-16&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#53">CanNm_GetNodeIdentifier........................................................................&#160;53&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#54">Table&#160;5-17&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#54">CanNm_GetLocalNodeIdentifier&#160;...............................................................&#160;54&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#54">Table&#160;5-18&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#54">CanNm_RequestBusSynchronization&#160;.......................................................&#160;54&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#55">Table&#160;5-19&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#55">CanNm_CheckRemoteSleepIndication&#160;.....................................................&#160;55&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#56">Table&#160;5-20&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#56">CanNm_Transmit&#160;......................................................................................&#160;56&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#56">Table&#160;5-21&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#56">CanNm_DisableCommunication&#160;...............................................................&#160;56&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#57">Table&#160;5-22&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#57">CanNm_EnableCommunication&#160;................................................................&#160;57&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#57">Table&#160;5-23&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#57">CanNm_SetSleepReadyBit&#160;.......................................................................&#160;57&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#58">Table&#160;5-24&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#58">Services&#160;used by&#160;the&#160;CANNM&#160;..................................................................&#160;58&#160;</a><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
8&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=9></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-9_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<a href="TechnicalReference_CanNms.html#59">Table&#160;5-25&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#59">CanNm_TxConfirmation&#160;...........................................................................&#160;59&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#60">Table&#160;5-26&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#60">CanNm_RxIndication&#160;................................................................................&#160;60&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#60">Table&#160;5-27&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#60">CanNm_ConfirmPnAvailability&#160;..................................................................&#160;60&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#61">Table&#160;6-1&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#61">Glossary&#160;...................................................................................................&#160;61&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#62">Table&#160;6-2&#160;&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#62">Abbreviations&#160;............................................................................................&#160;62&#160;</a><br/>
&#160;<br/>&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
9&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=10></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-10_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>1.&#160;&#160;Component&#160;History&#160;</b><br/>
The&#160;&#160;component&#160;&#160;history&#160;&#160;gives&#160;&#160;an&#160;&#160;overview&#160;&#160;over&#160;&#160;the&#160;&#160;important&#160;&#160;milestones&#160;&#160;that&#160;&#160;are&#160;<br/>supported&#160;in&#160;the&#160;different&#160;versions of&#160;the&#160;component.&#160;&#160;<br/>
<b>Component&#160;Version&#160;&#160;New&#160;Features&#160;<br/></b>1.00.00&#160;<br/>
Adaption to&#160;AUTOSAR&#160;Release 4&#160;<br/>
1.02.00&#160;<br/>
Support&#160;Variant&#160;Post-Build-Loadable&#160;<br/>
2.00.00&#160;<br/>
Added&#160;Runtime&#160;Measurement&#160;Support&#160;<br/>
3.00.00&#160;<br/>
Support&#160;Variant&#160;Post-Build-Selectable&#160;<br/>
Table&#160;1-1&#160;&#160;&#160;Component&#160;history&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
10&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=11></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-11_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>2.&#160;&#160;Introduction&#160;</b><br/>
This&#160;&#160;document&#160;&#160;describes&#160;&#160;the&#160;&#160;functionality,&#160;API&#160;&#160;and&#160;&#160;configuration&#160;&#160;of&#160;&#160;the&#160;AUTOSAR&#160;&#160;BSW&#160;<br/>module&#160;&#160;CANNM&#160;&#160;as&#160;&#160;specified&#160;&#160;in&#160;&#160;<a href="TechnicalReference_CanNms.html#3">[1]&#160;&#160;</a>and&#160;&#160;<a href="TechnicalReference_CanNms.html#3">[3].&#160;&#160;</a>Also&#160;&#160;the&#160;&#160;integration&#160;&#160;of&#160;&#160;the&#160;&#160;Network&#160;<br/>Management&#160;into&#160;the&#160;AUTOSAR stack is covered&#160;by&#160;this document.&#160;<br/>The&#160;&#160;FlexRay&#160;&#160;Network&#160;&#160;Management,&#160;&#160;LIN&#160;&#160;Network&#160;&#160;Management&#160;&#160;and&#160;&#160;the&#160;&#160;UDP&#160;&#160;Network&#160;<br/>Management&#160;are&#160;not&#160;covered&#160;by&#160;this document.&#160;<br/>
&#160;<br/>
Please&#160;&#160;note&#160;&#160;that&#160;&#160;in&#160;&#160;this&#160;&#160;document&#160;&#160;the&#160;&#160;term&#160;&#160;Application&#160;&#160;is&#160;&#160;not&#160;&#160;used&#160;&#160;strictly&#160;&#160;for&#160;&#160;the&#160;&#160;user&#160;<br/>software&#160;&#160;but&#160;&#160;also&#160;&#160;for&#160;&#160;any&#160;&#160;higher&#160;&#160;software&#160;&#160;layer,&#160;&#160;like&#160;&#160;e.g.&#160;&#160;the&#160;&#160;Communication&#160;&#160;Manager&#160;<br/>(ComM).&#160;Therefore,&#160;Application&#160;refers&#160;to&#160;any&#160;of&#160;the&#160;software&#160;components&#160;using&#160;the&#160;&#160;CAN&#160;<br/>NM.&#160;<br/>
&#160;<br/>
For&#160;further&#160;information&#160;please&#160;also&#160;refer&#160;to&#160;the&#160;AUTOSAR&#160;SWS&#160;specifications,&#160;referenced&#160;<br/>at&#160;the&#160;beginning&#160;of&#160;this&#160;document&#160;in&#160;Table:&#160;<a href="TechnicalReference_CanNms.html#3">‘Reference&#160;Documents’.</a>&#160;<br/>
&#160;<br/>
<b>Supported&#160;AUTOSAR&#160;R<a href="TechnicalReference_CanNms.html#11">elease*:</a></b><b>&#160;</b><br/>
4&#160;<br/>
<b>Supported&#160;Configuration&#160;Variants:&#160;</b><br/>
pre-compile,&#160;post-build-loadable,&#160;post-build-selectable&#160;<br/>
<b>Vendor&#160;ID:&#160;</b><br/>
CANNM_VENDOR_ID&#160;<br/>
30&#160;decimal&#160;<br/>(=&#160;Vector-Informatik,&#160;<br/>according&#160;to&#160;HIS)&#160;<br/>
<b>Module&#160;ID:&#160;</b><br/>
CANNM_MODULE_ID &#160;&#160;<br/>
31&#160;decimal&#160;<br/>(According&#160;to&#160;ref<a href="TechnicalReference_CanNms.html#3">.[6])</a>&#160;<br/>
*&#160;For the&#160;precise&#160;AUTOSAR Release&#160;4.x&#160;please see the&#160;release specific&#160;documentation.&#160;&#160;<br/>&#160;<br/>
<b>2.1&#160;</b><br/>
<b>Naming Conventions&#160;</b><br/>
The&#160;&#160;names&#160;&#160;of&#160;&#160;the&#160;&#160;service&#160;&#160;functions&#160;&#160;provided&#160;&#160;by&#160;&#160;the&#160;&#160;NM&#160;&#160;Interface&#160;&#160;and&#160;&#160;CAN&#160;&#160;NM&#160;&#160;always&#160;<br/>start&#160;with&#160;a&#160;prefix&#160;that&#160;denominates&#160;the&#160;module&#160;where&#160;the&#160;service&#160;is&#160;located.&#160;E.g.&#160;a&#160;service&#160;<br/>that&#160;starts with&#160;‘CanNm_’&#160;is implemented&#160;within&#160;the&#160;CAN&#160;NM.&#160;<br/>
&#160;<br/>
<b>Naming&#160;conventions&#160;<br/></b>Nm_&#160;<br/>
Services of&#160;NM&#160;Interface.&#160;<br/>
CanNm_&#160;<br/>
Services of&#160;CAN&#160;NM.&#160;<br/>
Det_&#160;<br/>
Services of&#160;Development&#160;Error&#160;Tracer.&#160;<br/>
Dem_&#160;<br/>
Services of&#160;Diagnostic&#160;Event&#160;Manager.&#160;<br/>
Table&#160;2-1&#160;&#160;&#160;Naming&#160;Conventions&#160;<br/>
Nodes&#160;&#160;which&#160;&#160;are&#160;&#160;configured&#160;&#160;to&#160;&#160;be&#160;&#160;passive&#160;&#160;will&#160;&#160;be&#160;&#160;also&#160;&#160;referred&#160;&#160;to&#160;&#160;as&#160;&#160;passive&#160;&#160;nodes.&#160;<br/>Accordingly&#160;nodes that&#160;are not&#160;passive&#160;will be&#160;termed&#160;as active&#160;nodes.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
11&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=12></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-12_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-12_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>2.2&#160;</b><br/>
<b>Architecture&#160;Overview&#160;</b><br/>
The&#160;following&#160;figure shows&#160;where the&#160;CANNM&#160;is located&#160;in&#160;the&#160;AUTOSAR&#160;architecture.&#160;<br/>
&#160;<br/>
Figure&#160;2-1&#160;&#160;AUTOSAR&#160;4.x&#160;Architecture&#160;Overview&#160;&#160;&#160;<br/>
<b>2.2.1&#160;</b><br/>
<b>Architecture&#160;of&#160;AUTOSAR Network&#160;Management&#160;</b><br/>
In&#160;&#160;the&#160;&#160;current&#160;&#160;AUTOSAR&#160;&#160;Release&#160;&#160;the&#160;&#160;standard&#160;&#160;AUTOSAR&#160;&#160;Network&#160;&#160;Management&#160;&#160;may&#160;<br/>consist of&#160;up&#160;to&#160;five&#160;modules:&#160;<br/>
<b>&gt;&#160;&#160;</b>NM&#160;Interface1&#160;<br/>
<b>&gt;&#160;&#160;</b>CAN NM&#160;<br/>
<b>&gt;&#160;&#160;</b>FlexRay<a href="TechnicalReference_CanNms.html#12">&#160;NM1&#160;</a><br/>
<b>&gt;&#160;&#160;</b>LIN&#160;<a href="TechnicalReference_CanNms.html#12">NM1&#160;</a><br/>
<b>&gt;&#160;&#160;</b>UDP&#160;<a href="TechnicalReference_CanNms.html#12">NM1&#160;</a><br/>
The&#160;&#160;NM&#160;&#160;Interface&#160;&#160;schedules&#160;function&#160;&#160;calls&#160;from&#160;&#160;the&#160;&#160;application&#160;&#160;to&#160;&#160;the&#160;&#160;respective&#160;&#160;module&#160;<br/>for&#160;&#160;each&#160;&#160;channel,&#160;&#160;e.g.&#160;&#160;for&#160;&#160;a&#160;&#160;CAN&#160;&#160;channel&#160;&#160;the&#160;&#160;corresponding&#160;&#160;CAN&#160;&#160;NM&#160;&#160;function&#160;&#160;will&#160;&#160;be&#160;<br/>called.&#160;CAN NM&#160;exclusively&#160;interacts with&#160;the&#160;NM&#160;Interface.&#160;<br/>The&#160;&#160;communication&#160;&#160;bus&#160;&#160;specific&#160;&#160;functionality&#160;&#160;is&#160;&#160;incorporated&#160;&#160;in&#160;&#160;the&#160;&#160;corresponding&#160;&#160;bus-<br/>specific&#160;NM.&#160;The&#160;CAN-specific&#160;part&#160;implements&#160;the&#160;network&#160;management&#160;algorithm&#160;and&#160;is&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160;&#160;<br/>
1&#160;Not covered&#160;by&#160;this&#160;document.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
12&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=13></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-13_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
responsible&#160;for&#160;the&#160;transmission&#160;of&#160;NM&#160;messages&#160;on&#160;the&#160;communication&#160;bus&#160;by&#160;interacting&#160;<br/>with&#160;the&#160;AUTOSAR CAN&#160;Interface.&#160;<br/>
&#160;<br/>
The&#160;&#160;next&#160;&#160;figure&#160;&#160;shows&#160;&#160;the&#160;&#160;interfaces&#160;&#160;to&#160;&#160;adjacent&#160;&#160;modules&#160;&#160;of&#160;&#160;the&#160;&#160;CAN&#160;&#160;NM.&#160;&#160;These&#160;<br/>interfaces&#160;are&#160;described&#160;in&#160;chapte<a href="TechnicalReference_CanNms.html#44">r&#160;5&#160;‘API&#160;Description’</a>.&#160;<br/>
<b>&#160;cmp&#160;Interfaces</b><br/>
<b>Nm::Nm</b><br/>
<b>PduR::PduR</b><br/>
P<br/>
N<br/>
d<br/>
m<br/>
u<br/>
_<br/>
R<br/>
C<br/>
_<br/>
b<br/>
C<br/>
k<br/>
a<br/>n<br/>N<br/>m<br/>
m<br/>N<br/>n<br/>a<br/>C<br/>
CanNm_ConfirmPnAvailability<br/>
<b>CanNm::CanNm</b><br/>
<b>CanSM::CanSM</b><br/>
CanSM_TxTimeoutException<br/>
Det_ReportError<br/>
<b>Det::Det</b><br/>
<b>SchM::SchM</b><br/>
SchM_CanNm<br/>
C<br/>a<br/>n<br/>N<br/>m<br/>_<br/>C<br/>b<br/>k<br/>
If<br/>n<br/>a<br/>C<br/>
<b>CanIf::CanIf</b><br/>
&#160;<br/>
Figure&#160;2-2&#160;&#160;Interfaces&#160;to&#160;adjacent&#160;modules&#160;of&#160;the&#160;CANNM&#160;<br/>
Applications&#160;do&#160;not&#160;access&#160;the&#160;services&#160;of&#160;the&#160;BSW&#160;modules&#160;directly.&#160;They&#160;use&#160;the&#160;service&#160;<br/>ports&#160;provided&#160;by&#160;the&#160;BSW&#160;modules&#160;via&#160;the&#160;RTE.&#160;Since&#160;the&#160;CAN&#160;NM&#160;has&#160;no&#160;service&#160;ports,&#160;<br/>the&#160;CAN&#160;NM&#160;cannot&#160;be&#160;accessed&#160;via&#160;RTE&#160;by&#160;the&#160;application.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
13&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=14></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-14_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>3.&#160;&#160;Functional&#160;Description&#160;</b><br/>
<b>3.1&#160;</b><br/>
<b>Features&#160;</b><br/>
The&#160;Network&#160;Management&#160;is&#160;a&#160;network&#160;comprehensive&#160;protocol&#160;that&#160;provides&#160;services&#160;for&#160;<br/>the&#160;organization&#160;of&#160;the&#160;network.&#160;It&#160;is&#160;a&#160;decentralized&#160;and&#160;direct&#160;network&#160;management.&#160;That&#160;<br/>means&#160;&#160;that&#160;&#160;every&#160;&#160;ECU&#160;&#160;transmits&#160;&#160;a&#160;&#160;special&#160;&#160;network&#160;&#160;management&#160;&#160;message,&#160;&#160;which&#160;&#160;is&#160;<br/>reserved&#160;for the&#160;network management&#160;only.&#160;<br/>The&#160;features&#160;listed&#160;in&#160;the&#160;following&#160;tables&#160;cover&#160;the&#160;complete&#160;functionality&#160;specified&#160;for&#160;the&#160;<br/>CanNm.&#160;<br/>The&#160;AUTOSAR&#160;&#160;standard&#160;&#160;functionality&#160;&#160;is&#160;&#160;specified&#160;&#160;<a href="TechnicalReference_CanNms.html#3">in&#160;&#160;[3],</a>&#160;&#160;the&#160;&#160;corresponding&#160;&#160;features&#160;&#160;are&#160;<br/>listed&#160;in&#160;the&#160;tables&#160;<br/>
<b>&gt;&#160;&#160;</b><a href="TechnicalReference_CanNms.html#15">Table&#160;3-1&#160;&#160;&#160;Supported&#160;AUTOSAR&#160;standard conform&#160;features&#160;</a><br/>
<b>&gt;&#160;&#160;</b><a href="TechnicalReference_CanNms.html#15">Table&#160;3-2&#160;&#160;&#160;Not&#160;supported&#160;AUTOSAR standard conform&#160;features&#160;</a><br/>
Vector&#160;&#160;Informatik&#160;&#160;provides&#160;&#160;further&#160;&#160;CanNm&#160;&#160;functionality&#160;&#160;beyond&#160;&#160;the&#160;AUTOSAR&#160;&#160;standard.&#160;<br/>The&#160;corresponding&#160;features&#160;are&#160;listed&#160;in&#160;the&#160;table&#160;<br/>
<b>&gt;&#160;&#160;</b><a href="TechnicalReference_CanNms.html#16">Table&#160;3-3&#160;&#160;&#160;Features&#160;provided&#160;beyond&#160;the&#160;AUTOSAR standard&#160;</a><br/>
&#160;<br/>
The&#160;following&#160;features&#160;specified&#160;in<a href="TechnicalReference_CanNms.html#3">&#160;[3]&#160;</a>are&#160;supported:&#160;<br/>
<b>Supported&#160;AUTOSAR&#160;Standard&#160;Conform&#160;Features&#160;<br/></b>Controlled&#160;transition&#160;of&#160;all&#160;ECU’s&#160;to bus-sleep mode&#160;and vice versa.&#160;<br/>User&#160;Data&#160;Handling&#160;<br/>Node Detection&#160;<br/>Remote&#160;Sleep Indication&#160;<br/>Coordinator&#160;Synchronization&#160;Support&#160;<br/>Bus Synchronization&#160;<br/>Bus Load&#160;Reduction&#160;<br/>Immediate&#160;Tx&#160;Confirmation&#160;<br/>Passive&#160;Mode Support&#160;<br/>Immediate&#160;Restart&#160;<br/>Pdu&#160;Rx&#160;Indication&#160;<br/>State&#160;Change&#160;Indication&#160;<br/>Repeat&#160;Message&#160;Indication&#160;<br/>Com&#160;User&#160;Data&#160;Support&#160;<br/>Active&#160;Wake-up&#160;Bit&#160;<br/>Immediate&#160;Nm&#160;Transmissions&#160;<br/>Car&#160;Wake-up&#160;<br/>Partial&#160;Networking&#160;<br/><b>Post-Build Loadable&#160;</b><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
14&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=15></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-15_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>Supported&#160;AUTOSAR&#160;Standard&#160;Conform&#160;Features&#160;<br/>MICROSAR&#160;Identity&#160;Manager&#160;using&#160;Post-Build&#160;Selectable&#160;</b><br/>
Table&#160;3-1&#160;&#160;&#160;Supported&#160;AUTOSAR&#160;standard&#160;conform&#160;features&#160;<br/>
<b>3.1.1&#160;</b><br/>
<b>Deviations&#160;Against&#160;AUTOSAR&#160;&#160;</b><br/>
The&#160;following&#160;features&#160;specified&#160;in<a href="TechnicalReference_CanNms.html#3">&#160;[3]&#160;</a>are&#160;not&#160;supported:&#160;<br/>
<b>Category&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>ASR&#160;<br/>Version&#160;</b><br/>
Functional&#160;<br/>
Communication&#160;Scheduling&#160;ch.&#160;7.6:&#160;The&#160;CanNmMsgCycleOffset&#160;is&#160;&#160;4.0.3&#160;<br/>not&#160;applied&#160;when all&#160;NM&#160;messages&#160;have been&#160;transmitted&#160;with&#160;<br/>CanNmImmediateNmCycleTime.[CANNM335]&#160;<br/>
Functional&#160;<br/>
Initialization ch.&#160;7.4.&#160;A&#160;call&#160;of&#160;CanNm_PassiveStartUp()&#160;in&#160;<br/>
4.0.3&#160;<br/>
PrepareBusSleep leads&#160;to a&#160;transition&#160;to&#160;Repeat&#160;Message state.&#160;<br/>[CANNM147]&#160;<br/>
Functional/Co&#160;Error&#160;Notification&#160;ch.&#160;7.16.&#160;CANNM_E_NETWORK_TIMEOUT&#160;is&#160;<br/>
&gt;4.0.3&#160;<br/>
nfig&#160;<br/>
only&#160;reported&#160;if&#160;configuration&#160;switch&#160;<br/>CANNM_DISABLE_TX_ERROR_REPORT&#160;is&#160;<br/>enabled[CANNM193][CANNM194]&#160;<br/>
Functional&#160;<br/>
Debugging&#160;Concept&#160;ch.&#160;7.18.3&#160;Debugging&#160;is&#160;supported&#160;in&#160;<br/>
4.0.3&#160;<br/>
MICROSAR,&#160;but&#160;not&#160;as&#160;described in&#160;this&#160;chapter.[CANNM287]-<br/>[CANNM290]&#160;<br/>
Table&#160;3-2&#160;&#160;&#160;Not&#160;supported&#160;AUTOSAR&#160;standard&#160;conform&#160;features&#160;<br/>
<b>3.1.1.1&#160;</b><br/>
<b>RAM&#160;Initialization&#160;</b><br/>
If&#160;RAM is not&#160;implicitly&#160;initialized&#160;at&#160;start-up,&#160;the&#160;function&#160;CanNm_InitMemory&#160;has to&#160;be&#160;<br/>called.&#160;<br/>
<b>3.1.1.2&#160;</b><br/>
<b>Additional&#160;Configuration Dependencies&#160;</b><br/>
Following&#160;additional dependencies&#160;between&#160;configuration&#160;parameters are added&#160;to&#160;avoid&#160;<br/>bad&#160;configurations:&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>Com&#160;Control Enabled&#160;must&#160;be&#160;disabled&#160;for passive&#160;nodes.&#160;<br/>
<b>&gt;&#160;&#160;</b>Node&#160;Detection&#160;Enabled&#160;must&#160;be&#160;disabled&#160;for passive&#160;nodes.&#160;<br/>
<b>3.1.1.3&#160;</b><br/>
<b>Variant&#160;Post-Build&#160;</b><br/>
Instead&#160;&#160;of&#160;&#160;the&#160;&#160;Configuration&#160;&#160;Variant&#160;&#160;Post-Build,&#160;&#160;the&#160;&#160;Variant&#160;&#160;Post-Build-Loadable&#160;&#160;is&#160;<br/>supported.&#160;<br/>
<b>3.1.2&#160;</b><br/>
<b>Additions/&#160;Extensions&#160;</b><br/>
The&#160;following&#160;extensions&#160;of&#160;the&#160;CAN&#160;NM&#160;software&#160;specifications&#160;<a href="TechnicalReference_CanNms.html#3">([3])&#160;</a>are&#160;available&#160;within&#160;<br/>the&#160;&#160;Network&#160;&#160;Management&#160;&#160;embedded&#160;&#160;software&#160;&#160;components.&#160;&#160;If&#160;&#160;required,&#160;&#160;the&#160;&#160;extensions&#160;<br/>have&#160;to&#160;be&#160;enabled&#160;during&#160;configuration.&#160;<br/>
<b>Features&#160;Provided Beyond The&#160;AUTOSAR&#160;Standard&#160;<br/></b><a href="TechnicalReference_CanNms.html#16">Single Channel&#160;Optimization&#160;<br/>Memory&#160;Initialization&#160;</a><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
15&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=16></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-16_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-16_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>Features&#160;Provided Beyond The&#160;AUTOSAR&#160;Standard&#160;<br/></b><a href="TechnicalReference_CanNms.html#16">Disable&#160;Transmission&#160;Error&#160;Reporting&#160;<br/>Calling&#160;CanNm_PassiveStartUp&#160;in Prepare Bus&#160;Sleep&#160;<br/>Additional&#160;Development&#160;Error&#160;Codes&#160;<br/>Variable DLC&#160;Support&#160;<br/></a><a href="TechnicalReference_CanNms.html#17">Changeability&#160;of&#160;Additional&#160;Parameters&#160;During&#160;the&#160;Post-Build Phase&#160;<br/></a>Runtime Measurement&#160;Support&#160;<br/>
Table&#160;3-3&#160;&#160;&#160;Features&#160;provided&#160;beyond&#160;the&#160;AUTOSAR&#160;standard&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>Some&#160;additional&#160;non-AUTOSAR&#160;features&#160;are&#160;only&#160;available if&#160;they&#160;are explicitly&#160;<br/>
&#160;&#160;ordered&#160;by&#160;the&#160;customer.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.1.2.1&#160;</b><br/>
<b>Single&#160;Channel&#160;Optimization&#160;</b><br/>
For&#160;single&#160;channel&#160;systems&#160;it&#160;is&#160;possible&#160;to&#160;optimize&#160;the&#160;source&#160;code&#160;for&#160;saving&#160;precious&#160;<br/>resources&#160;&#160;(ROM,&#160;&#160;RAM&#160;&#160;and&#160;&#160;CPU&#160;&#160;load).&#160;&#160;This&#160;&#160;optimization&#160;&#160;is&#160;&#160;only&#160;&#160;possible&#160;&#160;when&#160;&#160;source&#160;<br/>code&#160;is&#160;available.&#160;<br/>Please&#160;&#160;note&#160;&#160;that&#160;&#160;single&#160;&#160;channel&#160;&#160;optimization&#160;&#160;can&#160;&#160;only&#160;&#160;be&#160;&#160;enabled&#160;&#160;in&#160;&#160;pre-compile&#160;<br/>configurations.&#160;&#160;<br/>
<b>3.1.2.2&#160;</b><br/>
<b>Memory&#160;Initialization&#160;</b><br/>
AUTOSAR&#160;&#160;expects&#160;&#160;the&#160;&#160;startup&#160;&#160;code&#160;&#160;to&#160;&#160;automatically&#160;&#160;initialize&#160;&#160;RAM.&#160;&#160;Not&#160;&#160;every&#160;&#160;startup&#160;<br/>code&#160;of&#160;embedded&#160;targets&#160;reinitializes&#160;all&#160;variables&#160;correctly&#160;it&#160;is&#160;possible&#160;that&#160;the&#160;state&#160;of&#160;<br/>a&#160;variable&#160;may&#160;not&#160;be&#160;initialized,&#160;as&#160;expected.&#160;To&#160;avoid&#160;this&#160;problem&#160;the&#160;Vector&#160;AUTOSAR&#160;<br/>NM&#160;provides additional&#160;functions to&#160;initialize&#160;the&#160;relevant&#160;variables&#160;of&#160;the&#160;CAN&#160;NM.&#160;<br/>Refer also&#160;to&#160;chapte<a href="TechnicalReference_CanNms.html#47">r&#160;5.3.1.3&#160;‘CanNm_InitMemory’.</a>&#160;<br/>
<b>3.1.2.3&#160;</b><br/>
<b>Disable&#160;Transmission Error&#160;Reporting&#160;</b><br/>
The&#160;error reporting&#160;for&#160;the&#160;following&#160;transmission&#160;errors can&#160;be&#160;disabled:&#160;<br/>
<b>&gt;&#160;&#160;</b>CANNM_E_DEV_NETWORK_TIMEOUT&#160;<br/>
<b>3.1.2.4&#160;</b><br/>
<b>Calling CanNm_PassiveStartUp in&#160;Prepare&#160;Bus&#160;Sleep&#160;</b><br/>
Calling&#160;CanNm_PassiveStartUp&#160;in&#160;Prepare&#160;Bus&#160;Sleep&#160;Mode&#160;has&#160;the&#160;same&#160;effects&#160;as&#160;if&#160;it&#160;<br/>was&#160;called&#160;in&#160;Bus&#160;Sleep&#160;Mode.&#160;This&#160;has&#160;been&#160;done&#160;to&#160;support&#160;the&#160;Synchronous&#160;Wake-up&#160;<br/>Feature&#160;in&#160;ComM.&#160;<br/>
<b>3.1.2.5&#160;</b><br/>
<b>Additional&#160;Development&#160;Error&#160;Codes&#160;</b><br/>
There&#160;&#160;are&#160;&#160;additional&#160;&#160;Development&#160;&#160;Error&#160;&#160;Codes&#160;&#160;provided&#160;&#160;as&#160;&#160;Vector&#160;&#160;extension.&#160;&#160;Refer&#160;&#160;to&#160;<br/>chapte<a href="TechnicalReference_CanNms.html#30">r&#160;3.12.1.1&#160;</a>for details.&#160;<br/>
<b>3.1.2.6&#160;</b><br/>
<b>Variable&#160;DLC&#160;Support&#160;</b><br/>
CanNm&#160;supports&#160;multiple&#160;DLCs&#160;for CAN NM&#160;messages.&#160;Refer&#160;to&#160;chapte<a href="TechnicalReference_CanNms.html#26">r&#160;3.6.5&#160;</a>for details.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
16&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=17></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-17_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>3.1.2.7&#160;</b><br/>
<b>Changeability&#160;of&#160;Additional&#160;Parameters&#160;During the&#160;Post-Build&#160;Phase&#160;</b><br/>
In&#160;the&#160;Variant&#160;&#160;Post-Build-Loadable,&#160;the&#160;configuration&#160;parameters&#160;‘Node&#160;Id’,&#160;‘Rx&#160;Pdu&#160;Ref’,&#160;<br/>‘Tx&#160;User&#160;Data&#160;Pdu&#160;Ref’,&#160;‘Pn&#160;Filter&#160;Mask&#160;Byte&#160;Index’&#160;and&#160;‘Pn&#160;Filter&#160;Mask&#160;Byte&#160;Value’&#160;&#160;are&#160;<br/>also&#160;&#160;changeable&#160;&#160;during&#160;&#160;the&#160;&#160;post-build&#160;&#160;phase&#160;&#160;as&#160;&#160;addition&#160;&#160;to&#160;&#160;the&#160;&#160;post-build-changeable&#160;<br/>parameters according&#160;to<a href="TechnicalReference_CanNms.html#3">&#160;[3].</a>&#160;<br/>
<b>3.1.3&#160;</b><br/>
<b>Limitations&#160;</b><br/>
<b>3.1.3.1&#160;</b><br/>
<b>Ranges&#160;of Timers&#160;</b><br/>
The&#160;range&#160;for the&#160;following&#160;timer is limited&#160;concerning&#160;the&#160;specified&#160;range:&#160;<br/>
<b>&gt;&#160;&#160;</b>Remote&#160;Sleep&#160;Indication&#160;Timer:&#160;0.001..65.535&#160;s&#160;(if&#160;remote&#160;sleep&#160;indication&#160;is&#160;enabled)&#160;<br/>
All&#160;timers should&#160;be&#160;multiples of&#160;the&#160;main&#160;functions cycle&#160;time.&#160;<br/>
<b>3.1.3.2&#160;</b><br/>
<b>Effects of CanNm_DisableCommunication&#160;</b><br/>
If&#160;CanNm_DisableCommunication&#160;was&#160;called,&#160;CanNm_NetworkRelease&#160;has&#160;the&#160;same&#160;<br/>effects&#160;as&#160;if&#160;CanNm_DisableCommunication&#160;was&#160;not&#160;called&#160;(contradicts&#160;to&#160;CANNM294&#160;<br/>of<a href="TechnicalReference_CanNms.html#3">&#160;[3]).&#160;</a>This&#160;was done&#160;to&#160;provide&#160;a&#160;more&#160;robust&#160;implementation.&#160;<br/>
<b>3.1.3.3&#160;</b><br/>
<b>CANNM_E_NET_START_IND&#160;Development&#160;Error&#160;</b><br/>
The&#160;&#160;CANNM_E_NET_START_IND&#160;&#160;development&#160;&#160;error&#160;&#160;code&#160;&#160;(CANNM336&#160;&#160;of&#160;&#160;<a href="TechnicalReference_CanNms.html#3">[3])&#160;&#160;</a>is&#160;&#160;not&#160;<br/>reported&#160;to&#160;the&#160;Det&#160;if&#160;an&#160;NM message&#160;has&#160;been&#160;received&#160;in&#160;Bus&#160;Sleep&#160;Mode.&#160;<br/>
&#160;<br/>
The&#160;following&#160;provides a&#160;detailed&#160;description&#160;of&#160;the&#160;functional scope.&#160;<br/>
<b>3.2&#160;</b><br/>
<b>Network&#160;Management Mechanism&#160;</b><br/>
As&#160;&#160;described&#160;&#160;above&#160;&#160;the&#160;AUTOSAR&#160;&#160;NM&#160;&#160;is&#160;&#160;a&#160;&#160;decentralized&#160;&#160;direct&#160;&#160;network&#160;&#160;management.&#160;<br/>This&#160;&#160;means&#160;&#160;that&#160;&#160;every&#160;&#160;network&#160;&#160;node&#160;&#160;has&#160;&#160;the&#160;&#160;same&#160;&#160;functionality&#160;&#160;and&#160;&#160;performs&#160;&#160;state&#160;&#160;and&#160;<br/>operation&#160;&#160;mode&#160;&#160;changes&#160;&#160;self-sufficient&#160;&#160;depending&#160;&#160;on&#160;&#160;the&#160;&#160;internal&#160;&#160;state&#160;&#160;and&#160;&#160;whether&#160;<br/>network management&#160;messages&#160;are still received.&#160;<br/>The&#160;network management&#160;mechanism&#160;is quite&#160;simple:&#160;<br/>
<b>&gt;&#160;&#160;</b>Every&#160;network node&#160;transmits&#160;its&#160;NM&#160;messages only&#160;as long&#160;as it&#160;needs&#160;to&#160;<br/>
communicate&#160;with&#160;other network nodes.&#160;Normally&#160;bus-communication&#160;is required&#160;as&#160;<br/>long&#160;as clamp15&#160;(ignition&#160;is turned&#160;on) is set&#160;or during&#160;follow-up.&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;there is&#160;no&#160;more&#160;network node&#160;in&#160;the&#160;whole&#160;network that&#160;need&#160;to&#160;communicate&#160;with&#160;<br/>
other&#160;network nodes,&#160;any&#160;node&#160;transmits no&#160;more NM&#160;messages.&#160;<br/>
<b>&gt;&#160;&#160;</b>Each&#160;network node&#160;performs a&#160;transition&#160;to&#160;bus-sleep&#160;mode&#160;a&#160;certain&#160;time&#160;after the&#160;<br/>
last&#160;NM message&#160;has&#160;been&#160;transmitted&#160;by&#160;any&#160;node.&#160;Therefore&#160;all&#160;nodes will go&#160;to&#160;<br/>bus-sleep&#160;mode&#160;together.&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;any&#160;network node&#160;requires bus-communication&#160;at&#160;any&#160;time&#160;it&#160;can&#160;wake&#160;up&#160;the&#160;whole&#160;<br/>
network by&#160;transmitting&#160;NM messages.&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
17&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=18></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-18_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-18_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-18_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>The&#160;transmission&#160;of&#160;application&#160;messages,&#160;e.g.&#160;transmitted&#160;by&#160;the&#160;Com,&#160;does&#160;not&#160;stop&#160;<br/>
<b>&#160;&#160;</b>immediately&#160;after&#160;the&#160;last&#160;NM&#160;message&#160;has&#160;been&#160;transmitted.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>FAQ&#160;<br/></b>The&#160;application is in&#160;charge&#160;of&#160;the&#160;decision&#160;whether&#160;the&#160;bus&#160;communication&#160;is&#160;required&#160;<br/>
&#160;&#160;or&#160;not.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
The&#160;following&#160;figure&#160;shows&#160;the&#160;state&#160;diagram&#160;of&#160;the&#160;CAN&#160;NM.&#160;The&#160;events&#160;are&#160;calls&#160;of&#160;CAN&#160;<br/>NM&#160;functions&#160;by&#160;the&#160;application&#160;or data&#160;link&#160;layer or the&#160;timeout&#160;of&#160;internal timers.&#160;<br/>
<b>&#160;stm&#160;State&#160;Machine</b><br/>
Nm&#160;Message&#160;received&#160;or&#160;transmitted<br/>/Restart&#160;NM&#160;Timeout&#160;Timer<br/>
<b>Netw&#160;ork&#160;Mode</b><br/>
<b>Ready&#160;Sleep</b><br/>
Repeat&#160;Message&#160;Timer&#160;expires&#160;[Network&#160;released]<br/>/Stop&#160;Transmission&#160;of&#160;NM<br/>
NM&#160;Timeout&#160;Timer&#160;expires<br/>/Start&#160;NM&#160;Timeout&#160;Timer<br/>Notify&#160;NetworkTimeout<br/>
Repeat&#160;Message&#160;Request&#160;or<br/>Repeat&#160;Msg&#160;Bit&#160;Indication<br/>
<b>Repeat&#160;Message</b><br/>
/Start&#160;Transmission&#160;of&#160;NM<br/>
Network&#160;released<br/>/Stop<br/>Transmission&#160;of<br/>NM<br/>
Network&#160;requested<br/>
Repeat&#160;Message&#160;Timer<br/>
/Start<br/>
expires&#160;[Network&#160;requested]<br/>
Transmission&#160;of<br/>NM<br/>
NM&#160;Timeout&#160;Timer<br/>expires<br/>
Repeat&#160;Message&#160;Request&#160;or<br/>
/Notify<br/>
Repeat&#160;Msg&#160;Bit&#160;Indication<br/>
<b>Normal&#160;Operation</b><br/>
PrepareBus-SleepMode<br/>
/Start&#160;Transmission&#160;of&#160;NM<br/>
Network&#160;requested&#160;or<br/>PassiveStartUp<br/>/Start&#160;NM&#160;Timeout&#160;Timer<br/>Notify&#160;NetworkMode<br/>
Network&#160;requested/PassiveStartUp/Rx&#160;Nm&#160;Msg<br/>
Start&#160;Transmission&#160;of&#160;NM<br/>
/Start&#160;NM&#160;Timeout&#160;Timer<br/>
messages<br/>
Notify&#160;NetworkMode<br/>Start&#160;Transmission&#160;of&#160;NM&#160;messages<br/>
NM&#160;Timeout&#160;Timer&#160;expires<br/>
Can_TriggerTransmission&#160;(immediate&#160;restart&#160;+<br/>
/Start&#160;NM&#160;Timeout&#160;Timer<br/>
Nw&#160;Req&#160;only)<br/>
Notify&#160;NetworkTimeout<br/>
<b>Bus-Sleep&#160;Mode</b><br/>
<b>Prepare-Bus-Sleep&#160;Mode</b><br/>
/Initialize&#160;NM<br/>
Power&#160;On<br/>
Wait&#160;Bus&#160;Sleep&#160;Timer&#160;expires<br/>/Notify&#160;Nm_BusSleep&#160;Mode<br/>
Power&#160;Off<br/>
Nm&#160;Msg&#160;received<br/>/Notify&#160;NetworkStart<br/>Indication<br/>
&#160;<br/>
Figure&#160;3-1&#160;&#160;State&#160;Diagram&#160;of&#160;CAN&#160;NM&#160;from&#160;SWS&#160;CAN&#160;NM<a href="TechnicalReference_CanNms.html#3">&#160;[3]&#160;</a><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
18&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=19></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-19_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-19_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-19_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>3.3&#160;&#160;Initialization&#160;</b><br/>
Before&#160;the&#160;CAN&#160;NM&#160;can&#160;be&#160;used&#160;it&#160;has&#160;to&#160;be&#160;initialized&#160;by&#160;the&#160;application.&#160;The&#160;initialization&#160;<br/>has&#160;&#160;to&#160;&#160;be&#160;&#160;carried&#160;&#160;out&#160;&#160;before&#160;&#160;any&#160;&#160;other&#160;&#160;functionality&#160;&#160;of&#160;&#160;the&#160;&#160;CAN&#160;&#160;NM&#160;&#160;is&#160;&#160;executed.&#160;&#160;It&#160;&#160;shall&#160;<br/>take&#160;&#160;place&#160;&#160;after&#160;&#160;initialization&#160;&#160;of&#160;&#160;the&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;and&#160;&#160;prior&#160;&#160;to&#160;&#160;initialization&#160;&#160;of&#160;&#160;the&#160;&#160;NM&#160;<br/>Interface.&#160;<br/>Also&#160;refer to&#160;chapte<a href="TechnicalReference_CanNms.html#46">r&#160;5.3.1.1&#160;‘CanNm_Init:&#160;Initialization&#160;of&#160;CAN&#160;NM’.</a>&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>The&#160;CAN&#160;NM&#160;assumes&#160;that&#160;some variables are initialized&#160;with zero&#160;at&#160;start-up.&#160;If&#160;the&#160;<br/>
<b>&#160;&#160;</b>embedded&#160;target&#160;does&#160;not&#160;initialize RAM&#160;within the&#160;start-up&#160;code&#160;the&#160;function&#160;<br/>
‘CanNm_InitMemory’&#160;has&#160;to&#160;be&#160;called&#160;during&#160;start-up&#160;and before&#160;the&#160;initialization&#160;is&#160;<br/>performed.&#160;Refer&#160;also to&#160;chapter<a href="TechnicalReference_CanNms.html#16">&#160;3.1.2.2&#160;‘Memory&#160;Initialization’</a>.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>In an&#160;AUTOSAR&#160;environment&#160;where the&#160;ECU&#160;Manager&#160;Fixed&#160;is&#160;used,&#160;the&#160;initialization&#160;<br/>
&#160;&#160;is&#160;performed within the&#160;ECU&#160;Manager.&#160;If&#160;the&#160;ECU&#160;Manager&#160;Flex&#160;is&#160;used,&#160;the&#160;<br/>
initialization is usually&#160;carried&#160;out&#160;by&#160;the&#160;BswM.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.4&#160;</b><br/>
<b>Passive&#160;Mode&#160;</b><br/>
Nodes&#160;in&#160;passive&#160;mode&#160;cannot&#160;transmit&#160;NM&#160;messages&#160;and&#160;therefore&#160;they&#160;do&#160;not&#160;actively&#160;<br/>participate&#160;in&#160;the&#160;network. Due&#160;to&#160;that,&#160;passive&#160;nodes cannot&#160;request&#160;the&#160;network.&#160;<br/>This&#160;&#160;mode&#160;&#160;can&#160;&#160;be&#160;&#160;used&#160;&#160;for&#160;&#160;nodes&#160;&#160;that&#160;&#160;do&#160;&#160;not&#160;&#160;need&#160;&#160;to&#160;&#160;keep&#160;&#160;the&#160;&#160;bus&#160;&#160;awake&#160;&#160;to&#160;&#160;save&#160;<br/>resources.&#160;<br/>By&#160;&#160;setting&#160;&#160;'Repeat&#160;&#160;Message&#160;&#160;Time'&#160;&#160;to&#160;&#160;a&#160;&#160;value&#160;&#160;equal&#160;&#160;to&#160;&#160;0,&#160;&#160;the&#160;&#160;Repeat&#160;&#160;Message&#160;&#160;state&#160;&#160;is&#160;<br/>skipped.&#160;The&#160;state&#160;does&#160;not&#160;make&#160;sense&#160;for&#160;passive&#160;nodes,&#160;since&#160;the&#160;node&#160;is&#160;only&#160;able&#160;to&#160;<br/>receive&#160;&#160;NM&#160;&#160;messages,&#160;&#160;not&#160;&#160;to&#160;&#160;send&#160;&#160;any.&#160;&#160;Usually,&#160;&#160;there&#160;&#160;is&#160;&#160;another&#160;&#160;node&#160;&#160;that&#160;&#160;sends&#160;&#160;NM&#160;<br/>messages&#160;&#160;in&#160;&#160;Repeat&#160;&#160;Message&#160;&#160;so&#160;&#160;there&#160;&#160;is&#160;&#160;no&#160;&#160;need&#160;&#160;for&#160;&#160;'Repeat&#160;&#160;Message&#160;&#160;Time'&#160;&#160;being&#160;<br/>greater than&#160;0&#160;for passive&#160;nodes.&#160;<br/>Nevertheless,&#160;&#160;if&#160;&#160;'Repeat&#160;&#160;Message&#160;&#160;Time'&#160;&#160;is&#160;&#160;configured&#160;&#160;to&#160;&#160;a&#160;&#160;value&#160;&#160;greater&#160;&#160;than&#160;&#160;0&#160;&#160;and&#160;<br/>‘Timeout&#160;&#160;Time’&#160;&#160;is&#160;&#160;greater&#160;&#160;than&#160;&#160;‘Repeat&#160;&#160;Message&#160;&#160;Time’&#160;&#160;and&#160;&#160;if&#160;&#160;'Passive&#160;&#160;Mode&#160;&#160;Enabled'&#160;&#160;is&#160;<br/>turned&#160;ON,&#160;the&#160;transition&#160;from&#160;Repeat&#160;Message&#160;to&#160;Prepare Bus&#160;Sleep&#160;only&#160;depends on&#160;the&#160;<br/>reception&#160;of&#160;NM&#160;messages.&#160;If&#160;there&#160;is&#160;no&#160;recently&#160;received&#160;NM&#160;message,&#160;the&#160;transition&#160;to&#160;<br/>Prepare&#160;Bus&#160;Sleep&#160;occurs after&#160;Timeout&#160;Time&#160;has elapsed.&#160;<br/>In&#160;&#160;case&#160;&#160;‘Repeat&#160;&#160;Message&#160;&#160;Time’&#160;&#160;is&#160;&#160;greater&#160;&#160;than&#160;&#160;‘Timeout&#160;&#160;Time’&#160;&#160;and&#160;&#160;no&#160;&#160;NM&#160;&#160;message&#160;&#160;is&#160;<br/>received&#160;&#160;a&#160;&#160;DET&#160;&#160;error&#160;&#160;will&#160;&#160;occur&#160;&#160;at&#160;&#160;least&#160;&#160;once&#160;&#160;when&#160;&#160;the&#160;&#160;Timeout&#160;&#160;Timer&#160;&#160;elapses&#160;&#160;within&#160;<br/>Repeat&#160;&#160;Message&#160;&#160;State.&#160;The&#160;&#160;transition&#160;&#160;to&#160;&#160;Prepare&#160;&#160;Bus&#160;&#160;Sleep&#160;&#160;occurs&#160;&#160;‘Timeout&#160;Time’&#160;&#160;after&#160;<br/>the&#160;last&#160;DET&#160;error call.&#160;<br/>
<b>3.5&#160;</b><br/>
<b>Operation Modes&#160;and&#160;States&#160;</b><br/>
The&#160;AUTOSAR NM&#160;consists of&#160;three&#160;operation&#160;modes:&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
19&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=20></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-20_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>&gt;&#160;&#160;</b>Network Mode&#160;<br/>
<b>&gt;&#160;&#160;</b>Prepare&#160;Bus-Sleep&#160;Mode&#160;<br/>
<b>&gt;&#160;&#160;</b>Bus-Sleep&#160;Mode&#160;<br/>
The&#160;NM&#160;Interface&#160;is&#160;notified&#160;about&#160;changes&#160;of&#160;the&#160;operation&#160;mode&#160;by&#160;calling&#160;the&#160;following&#160;<br/>functions:&#160;<br/>
Entering&#160;Bus-Sleep&#160;Mode:&#160;<br/>Nm_BusSleepMode()&#160;<br/>
<a href="TechnicalReference_CanNms.html#58">(5.4)</a>&#160;<br/>
Entering&#160;Network&#160;Mode:&#160;<br/>Nm_NetworkMode()&#160;<br/>
<a href="TechnicalReference_CanNms.html#58">(5.4)</a>&#160;<br/>
Leaving&#160;Network&#160;Mode:&#160;<br/>Nm_PrepareBusSleepMode()&#160;<br/>
<a href="TechnicalReference_CanNms.html#58">(5.4)</a>&#160;<br/>
Information&#160;&#160;about&#160;&#160;the&#160;&#160;current&#160;&#160;state&#160;&#160;and&#160;&#160;the&#160;&#160;current&#160;&#160;mode&#160;&#160;is&#160;&#160;provided&#160;&#160;by&#160;&#160;the&#160;&#160;service&#160;&#160;call&#160;<br/>CanNm_GetState&#160;(chapter<a href="TechnicalReference_CanNms.html#48">&#160;5.3.2.2).</a>&#160;<br/>
The&#160;&#160;CAN&#160;&#160;NM&#160;&#160;notifies&#160;&#160;changes&#160;&#160;of&#160;&#160;the&#160;&#160;current&#160;&#160;state&#160;&#160;to&#160;&#160;the&#160;&#160;NM&#160;&#160;Interface&#160;&#160;by&#160;&#160;calling&#160;&#160;the&#160;<br/>optional&#160;function&#160;<br/>
Nm_StateChangeNotification()&#160;<br/>
<a href="TechnicalReference_CanNms.html#58">(5.4)</a>&#160;<br/>
<b>3.5.1&#160;</b><br/>
<b>Network&#160;Mode&#160;</b><br/>
The&#160;Network Mode&#160;comprises three&#160;states:&#160;<br/>
<b>&gt;&#160;&#160;</b>Repeat&#160;Message&#160;<br/>
<b>&gt;&#160;&#160;</b>Normal Operation&#160;<br/>
<b>&gt;&#160;&#160;</b>Ready&#160;Sleep&#160;<br/>
This&#160;&#160;is&#160;&#160;the&#160;&#160;mode&#160;&#160;in&#160;&#160;that&#160;&#160;the&#160;&#160;ECU&#160;&#160;is&#160;&#160;‘online’&#160;&#160;and&#160;&#160;participates&#160;&#160;in&#160;&#160;the&#160;&#160;network.&#160;&#160;The&#160;<br/>participation&#160;in&#160;the&#160;network is active&#160;or passive&#160;depending&#160;on&#160;the&#160;state:&#160;<br/>
<b>&gt;&#160;&#160;</b>Active&#160;participation:&#160;a&#160;node&#160;keeps the&#160;network awake&#160;(Repeat&#160;message&#160;State&#160;and&#160;<br/>
Normal Operation&#160;State).&#160;<br/>
<b>&gt;&#160;&#160;</b>Passive&#160;participation:&#160;a&#160;node&#160;is ready&#160;for sleep&#160;(Ready&#160;Sleep&#160;State) and&#160;any&#160;other&#160;<br/>
node&#160;keeps the&#160;network alive.&#160;<br/>
The&#160;application&#160;is notified&#160;about&#160;entering&#160;the&#160;Network Mode&#160;by&#160;a&#160;call of&#160;the&#160;function:&#160;<br/>
<b>Nm_NetworkMode</b>()&#160;<br/>
<a href="TechnicalReference_CanNms.html#58">(5.4)</a>&#160;<br/>
The&#160;&#160;NM&#160;&#160;Interface&#160;&#160;notifies&#160;&#160;leaving&#160;&#160;the&#160;&#160;Network&#160;&#160;Mode&#160;&#160;to&#160;&#160;the&#160;&#160;application&#160;&#160;by&#160;&#160;a&#160;&#160;call&#160;&#160;of&#160;&#160;the&#160;<br/>function:&#160;<br/>
<b>Nm_PrepareBusSleepMode</b>()&#160;<br/>
<a href="TechnicalReference_CanNms.html#58">(5.4)</a>&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
20&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=21></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-21_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-21_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>Info</b>&#160;<br/>The&#160;Com&#160;is&#160;active during&#160;Network&#160;Mode.&#160;It&#160;is&#160;started&#160;upon&#160;entry&#160;and&#160;stopped&#160;upon&#160;exit&#160;<br/>
&#160;<br/>
of&#160;Network&#160;Mode.&#160;I.e.&#160;application messages&#160;are&#160;transmitted&#160;and&#160;received&#160;within Network&#160;<br/>Mode!&#160;<br/>
<b>3.5.1.1&#160;&#160;Repeat Message&#160;State&#160;<br/></b>The&#160;Repeat&#160;Message&#160;State&#160;is entered:&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;a&#160;NM&#160;message&#160;has&#160;been&#160;received&#160;in&#160;Prepare Bus-Sleep&#160;Mode.&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;the&#160;network has been&#160;requested&#160;by&#160;a&#160;call&#160;of&#160;CanNm_NetworkRequest()&#160;in&#160;Bus-<br/>
Sleep&#160;or Prepare Bus-Sleep&#160;Mode.&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;the&#160;network is woken&#160;up&#160;from&#160;Bus-Sleep&#160;Mode&#160;or&#160;from&#160;Prepare Bus-Sleep&#160;Mode&#160;by&#160;<br/>
a&#160;call&#160;of&#160;CanNm_PassiveStartUp().&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;any&#160;network node&#160;(including&#160;itself) has&#160;requested&#160;node&#160;detection&#160;in&#160;Ready&#160;Sleep&#160;or&#160;<br/>
Normal Operation&#160;State.&#160;<br/>
In&#160;Repeat&#160;Message&#160;State&#160;the&#160;NM&#160;messages&#160;are&#160;transmitted&#160;cyclically&#160;regardless&#160;whether&#160;<br/>bus load&#160;reduction&#160;is enabled&#160;or&#160;disabled.&#160;<br/>The&#160;Repeat&#160;Message&#160;State&#160;is left&#160;after a&#160;certain&#160;customizable&#160;time.&#160;<br/>Depending&#160;on&#160;the&#160;bus-communication&#160;need&#160;of&#160;the&#160;application&#160;Normal&#160;Operation&#160;State&#160;or&#160;<br/>Ready&#160;Sleep&#160;State&#160;is&#160;entered&#160;upon&#160;exit of&#160;Repeat&#160;Message&#160;State.&#160;<br/>
<b>3.5.1.2&#160;&#160;Normal&#160;Operation State&#160;<br/></b>The&#160;network&#160;management&#160;stays&#160;in&#160;Normal&#160;Operation&#160;State&#160;until&#160;the&#160;bus-communication&#160;is&#160;<br/>released.&#160;&#160;The&#160;&#160;local&#160;&#160;bus-communication&#160;&#160;request&#160;&#160;of&#160;&#160;the&#160;&#160;application&#160;&#160;is&#160;&#160;distributed&#160;&#160;in&#160;&#160;the&#160;<br/>network by&#160;the&#160;transmission&#160;of&#160;NM&#160;messages.&#160;<br/>
<b>3.5.1.3&#160;&#160;Ready&#160;Sleep State&#160;<br/></b>The&#160;network&#160;management&#160;stays&#160;in&#160;Ready&#160;Sleep&#160;State&#160;as&#160;long&#160;as&#160;the&#160;application&#160;does&#160;not&#160;<br/>request&#160;&#160;bus-communication&#160;&#160;and&#160;&#160;the&#160;&#160;application&#160;&#160;of&#160;&#160;any&#160;&#160;other&#160;&#160;node&#160;&#160;still&#160;&#160;requests&#160;&#160;bus-<br/>communication&#160;(by&#160;transmitting&#160;NM messages).&#160;<br/>A&#160;certain&#160;customizable&#160;time&#160;after&#160;the&#160;last&#160;network&#160;node&#160;has&#160;released&#160;bus-communication&#160;a&#160;<br/>transition&#160;to&#160;Prepare&#160;Bus-Sleep&#160;Mode&#160;is performed&#160;(i.e.&#160;Network Mode&#160;is left).&#160;<br/>
<b>3.5.2&#160;</b><br/>
<b>Prepare&#160;Bus-Sleep Mode&#160;</b><br/>
The&#160;&#160;transmission&#160;&#160;of&#160;&#160;application&#160;&#160;messages&#160;&#160;is&#160;&#160;stopped&#160;&#160;when&#160;&#160;entering&#160;&#160;Prepare&#160;&#160;Bus-Sleep&#160;<br/>Mode.&#160;&#160;The&#160;&#160;bus&#160;&#160;activity&#160;&#160;is&#160;&#160;calmed&#160;&#160;down&#160;&#160;(pending&#160;&#160;message&#160;&#160;are&#160;&#160;still&#160;&#160;transmitted)&#160;&#160;in&#160;&#160;this&#160;<br/>mode&#160;and&#160;finally&#160;there&#160;is no&#160;more&#160;activity&#160;on&#160;the&#160;bus.&#160;<br/>After&#160;the&#160;‘wait&#160;bus&#160;sleep&#160;time’&#160;the&#160;drop&#160;out&#160;of&#160;Prepare Bus-Sleep&#160;Mode&#160;to&#160;Bus-Sleep&#160;Mode&#160;<br/>the&#160;NM Interface&#160;is notified&#160;by&#160;the&#160;service&#160;call:&#160;<br/>
Nm_BusSleepMode()&#160;<br/>
<a href="TechnicalReference_CanNms.html#58">(5.4)</a>&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
21&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=22></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-22_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-22_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-22_3.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-22_4.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>When entering&#160;Bus-Sleep Mode the&#160;physical&#160;bus&#160;interface&#160;has&#160;to&#160;be&#160;put&#160;into&#160;sleep&#160;<br/>
<b>&#160;&#160;</b>mode.&#160;<br/>
On CAN&#160;channels&#160;the&#160;transceiver&#160;and the&#160;CAN-Controller&#160;have&#160;to be&#160;put&#160;in sleep&#160;<br/>mode.&#160;This&#160;information&#160;is&#160;forwarded by&#160;this&#160;callback to&#160;the ComM.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>If&#160;both&#160;NmOsek&#160;and CanNm&#160;are&#160;used&#160;on&#160;the&#160;same channel,&#160;CanNm&#160;is&#160;aware&#160;of&#160;the&#160;<br/>
&#160;&#160;prolonged&#160;shutdown of&#160;the&#160;NmOsek&#160;in case&#160;of&#160;a&#160;Limphome&#160;condition&#160;if&#160;the&#160;Wait&#160;Bus&#160;<br/>
Sleep Extensions&#160;feature&#160;is&#160;turned&#160;ON.&#160;For&#160;details&#160;see&#160;the&#160;following&#160;chapter<a href="TechnicalReference_CanNms.html#22">&#160;3.5.2.1.</a>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>&#160;<br/>
The&#160;Prepare&#160;Bus-Sleep&#160;Mode&#160;is&#160;left&#160;to&#160;Network&#160;Mode&#160;upon&#160;successful&#160;reception&#160;of&#160;a&#160;NM&#160;<br/>message&#160;or&#160;if&#160;the&#160;network&#160;has&#160;been&#160;requested&#160;by&#160;a&#160;call&#160;of&#160;&#160;CanNm_NetworkRequest()&#160;<br/>or if the&#160;network has been&#160;woken&#160;up&#160;by&#160;a&#160;call&#160;of&#160;CanNm_PassiveStartUp().&#160;<br/>
<b>3.5.2.1&#160;</b><br/>
<b>Wait&#160;Bus&#160;Sleep Extensions&#160;</b><br/>
If&#160;&#160;both&#160;&#160;NmOsek&#160;&#160;and&#160;&#160;CanNm&#160;&#160;are&#160;&#160;coordinated&#160;&#160;on&#160;&#160;the&#160;&#160;same&#160;&#160;channel,&#160;&#160;the&#160;&#160;internal&#160;&#160;state&#160;&#160;of&#160;<br/>NmOsek influences the&#160;shutdown&#160;behavior of&#160;the&#160;CanNm.&#160;<br/>
&#160;<br/>
<b>&gt;&#160;&#160;</b>NmOsek transitions&#160;from&#160;state&#160;NmNormal to&#160;NmWaitBusSleep&#160;<br/>
In&#160;this&#160;case&#160;the&#160;CanNm&#160;applies&#160;its&#160;normal&#160;shutdown&#160;time&#160;by&#160;using&#160;the&#160;CanNm’s&#160;“wait&#160;bus&#160;<br/>sleep&#160;time”.&#160;<br/>
<b>&gt;&#160;&#160;</b>NmOsek transitions&#160;from&#160;state&#160;NmLimpHome&#160;to&#160;NmWaitBusSleep&#160;<br/>
In&#160;&#160;this&#160;&#160;case&#160;&#160;the&#160;&#160;CanNm&#160;&#160;applies&#160;&#160;a&#160;&#160;longer&#160;&#160;shutdown&#160;&#160;time&#160;&#160;by&#160;&#160;using&#160;&#160;“TErrorWaitBusSleep”&#160;<br/>configured&#160;in&#160;NmOsek.&#160;<br/>
&#160;<br/>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>This&#160;feature&#160;is automatically&#160;enabled&#160;when&#160;NmOsek&#160;and&#160;CanNm&#160;are&#160;configured&#160;<br/>
&#160;&#160;on&#160;&#160;the&#160;&#160;same&#160;&#160;channel&#160;&#160;and&#160;&#160;“Wait&#160;&#160;Bus&#160;&#160;Sleep&#160;&#160;Extensions”&#160;&#160;feature&#160;&#160;is&#160;&#160;enabled&#160;&#160;in&#160;<br/>
NmOsek.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
22&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=23></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-23_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-23_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>3.5.3&#160;</b><br/>
<b>Bus-Sleep Mode&#160;</b><br/>
All&#160;network&#160;nodes&#160;perform&#160;a&#160;transition&#160;to&#160;bus-sleep&#160;mode&#160;at&#160;almost&#160;the&#160;same&#160;&#160;time,&#160;if&#160;no&#160;<br/>NM&#160;message&#160;is lost&#160;and&#160;there hasn’t&#160;been&#160;a&#160;wake-up&#160;by&#160;any&#160;node.&#160;<br/>The&#160;bus-sleep&#160;mode&#160;is left&#160;(wake-up) by&#160;a&#160;call of&#160;<br/>
CanNm_PassiveStartUp()&#160;<br/>
<a href="TechnicalReference_CanNms.html#49">(5.3.2.3)</a>&#160;<br/>
or if&#160;the&#160;network has been&#160;requested&#160;by&#160;a&#160;call of&#160;<br/>
CanNm_NetworkRequest()&#160;<br/>
<a href="TechnicalReference_CanNms.html#49">(5.3.2.4.1)</a>&#160;<br/>
In&#160;both&#160;cases Repeat&#160;Message&#160;State&#160;will be&#160;entered&#160;(see&#160;Chapte<a href="TechnicalReference_CanNms.html#21">r&#160;3.5.1.1&#160;‘Repeat&#160;<br/>Message&#160;State’)</a>.&#160;<br/>If&#160;a&#160;NM&#160;message&#160;is received&#160;in&#160;Bus-Sleep&#160;Mode&#160;the&#160;service&#160;<br/>
Nm_NetworkStartIndication()&#160;<br/>
<a href="TechnicalReference_CanNms.html#58">(5.4)</a>&#160;<br/>
is called&#160;by&#160;CAN&#160;NM.&#160;<br/>
<b>3.5.4&#160;</b><br/>
<b>Wake-up Registration&#160;</b><br/>
The&#160;&#160;network&#160;&#160;management&#160;&#160;needs&#160;&#160;to&#160;&#160;know&#160;&#160;whether&#160;&#160;the&#160;&#160;application&#160;&#160;requires&#160;&#160;bus&#160;<br/>communication.&#160;Per&#160;default&#160;the&#160;network&#160;management&#160;does&#160;not&#160;actively&#160;participate&#160;in&#160;the&#160;<br/>network.&#160;The&#160;active&#160;participation&#160;in&#160;the&#160;network is requested&#160;by&#160;the&#160;service&#160;<br/>
CanNm_NetworkRequest()&#160;<br/>
&#160;<a href="TechnicalReference_CanNms.html#49">(5.3.2.4.1)</a>&#160;<br/>
Calling&#160;&#160;this&#160;&#160;function&#160;&#160;in&#160;&#160;Bus-Sleep&#160;&#160;Mode&#160;&#160;starts&#160;&#160;the&#160;&#160;network&#160;&#160;and&#160;&#160;leads&#160;&#160;to&#160;&#160;a&#160;&#160;transition&#160;&#160;to&#160;<br/>Repeat&#160;Message&#160;State&#160;(see&#160;Chapte<a href="TechnicalReference_CanNms.html#23">r&#160;3.5.3&#160;‘Bus-Sleep&#160;Mode’)</a>.&#160;<br/>If&#160;bus&#160;communication&#160;is not&#160;required&#160;anymore it&#160;can&#160;be&#160;released&#160;with&#160;the&#160;service&#160;<br/>
CanNm_NetworkRelease()&#160;<br/>
<a href="TechnicalReference_CanNms.html#50">(5.3.2.4.2)</a>&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>When&#160;the&#160;communication control&#160;service is used&#160;the&#160;bus-communication&#160;shall&#160;not&#160;be&#160;<br/>
<b>&#160;&#160;</b>released&#160;as&#160;long as&#160;the&#160;NM&#160;message&#160;transmission&#160;ability&#160;is&#160;disabled.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>Note&#160;that&#160;a&#160;bus-communication&#160;request&#160;is&#160;handled&#160;within&#160;the&#160;next&#160;task.&#160;Nevertheless&#160;it&#160;is&#160;<br/>ensured&#160;that&#160;a&#160;communication&#160;request&#160;always&#160;leads&#160;to&#160;start-up&#160;even&#160;if&#160;the&#160;communication&#160;<br/>is&#160;&#160;released&#160;&#160;before&#160;&#160;the&#160;&#160;next&#160;&#160;task&#160;&#160;is&#160;&#160;executed.&#160;&#160;Within&#160;&#160;Network&#160;&#160;Mode&#160;&#160;a&#160;&#160;fast&#160;&#160;toggling&#160;&#160;(i.e.&#160;<br/>without&#160;&#160;task&#160;&#160;execution&#160;&#160;in&#160;&#160;between)&#160;&#160;of&#160;&#160;the&#160;&#160;communication&#160;&#160;status&#160;&#160;does&#160;&#160;not&#160;&#160;lead&#160;&#160;to&#160;&#160;any&#160;<br/>action.&#160;<br/>
<b>3.5.5&#160;</b><br/>
<b>User Data Handling&#160;</b><br/>
The&#160;user data&#160;for the&#160;NM&#160;message&#160;transmitted&#160;next&#160;on&#160;the&#160;bus can&#160;be&#160;set&#160;by&#160;the&#160;service:&#160;<br/>
CanNm_SetUserData()&#160;<br/>
<a href="TechnicalReference_CanNms.html#50">(5.3.2.5.1)</a>&#160;<br/>
The&#160;service&#160;&#160;<br/>
CanNm_GetUserData()&#160;<br/>
<a href="TechnicalReference_CanNms.html#51">(5.3.2.5.2)</a>&#160;<br/>
allows reading&#160;the&#160;user data&#160;of&#160;the&#160;last&#160;received&#160;message&#160;on&#160;the&#160;bus.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
23&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=24></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-24_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
As the&#160;NM PDU layout&#160;is completely&#160;configurable,&#160;the&#160;user&#160;data&#160;placement&#160;depends on&#160;<br/>the&#160;given&#160;configuration.&#160;&#160;<br/>The&#160;PDU&#160;layout&#160;and&#160;the&#160;content&#160;of&#160;the&#160;user data&#160;itself&#160;are&#160;OEM&#160;specific and&#160;therefore&#160;<br/>provided&#160;by&#160;the&#160;OEM.&#160;<br/>Note&#160;that&#160;for setting&#160;of&#160;NM&#160;user data&#160;a&#160;second&#160;possibility&#160;can&#160;be&#160;configured.&#160;Refer to&#160;<br/>chapte<a href="TechnicalReference_CanNms.html#32">r&#160;3.13&#160;‘Com&#160;User Data&#160;Support’&#160;</a>for&#160;more&#160;information.&#160;If&#160;the&#160;feature ‘Com&#160;User Data&#160;<br/>Support’&#160;is used&#160;the&#160;API&#160;CanNm_SetUserData()&#160;is not&#160;available.&#160;<br/>
<b>3.6&#160;</b><br/>
<b>Network&#160;Management Message&#160;Transmission and Reception&#160;</b><br/>
<b>3.6.1&#160;</b><br/>
<b>AUTOSAR CAN&#160;Interface&#160;</b><br/>
The&#160;&#160;network&#160;&#160;management&#160;&#160;requests&#160;&#160;the&#160;&#160;transmission&#160;&#160;of&#160;&#160;NM&#160;&#160;messages&#160;&#160;by&#160;&#160;calling&#160;&#160;the&#160;<br/>service&#160;&#160;CanIf_Transmit&#160;&#160;<a href="TechnicalReference_CanNms.html#3">[2].</a>&#160;&#160;The&#160;&#160;application&#160;&#160;has&#160;&#160;to&#160;&#160;take&#160;&#160;care&#160;&#160;of&#160;&#160;the&#160;&#160;user&#160;&#160;data.&#160;&#160;For&#160;<br/>details refer to&#160;chapte<a href="TechnicalReference_CanNms.html#23">r&#160;3.5.5&#160;‘User Data&#160;Handling’.</a>&#160;<br/>The&#160;successful&#160;transmission&#160;of&#160;every&#160;network&#160;management&#160;message&#160;is&#160;confirmed&#160;by&#160;the&#160;<br/>CAN Interface&#160;with&#160;the&#160;service&#160;<br/>
CanNm_TxConfirmation()&#160;<br/>
<a href="TechnicalReference_CanNms.html#59">(5.5.1.1)</a>&#160;<br/>
The&#160;CAN&#160;Interface&#160;indicates the&#160;reception&#160;of&#160;NM&#160;message&#160;by&#160;calling&#160;the&#160;service&#160;&#160;<br/>
CanNm_RxIndication()&#160;<br/>
<a href="TechnicalReference_CanNms.html#59">(5.5.1.2)</a>&#160;<br/>
<b>3.6.2&#160;</b><br/>
<b>PDU&#160;Message&#160;Layout&#160;</b><br/>
The&#160;default PDU&#160;Message&#160;Layout&#160;is&#160;described&#160;in&#160;the&#160;following&#160;table:&#160;<br/>
&#160;<br/>
Bit&#160;7&#160;<br/>
Bit&#160;6&#160;<br/>
Bit&#160;5&#160;<br/>
Bit&#160;4&#160;<br/>
Bit&#160;3&#160;<br/>
Bit&#160;2&#160;<br/>
Bit&#160;1&#160;<br/>
Bit&#160;0&#160;<br/>
Byte 7&#160;<br/>
User data&#160;5&#160;<br/>
Byte 6&#160;<br/>
User data&#160;4&#160;<br/>
Byte 5&#160;<br/>
User&#160;data&#160;3&#160;<br/>
Byte 4&#160;<br/>
User data&#160;2&#160;<br/>
Byte 3&#160;<br/>
User data&#160;1&#160;<br/>
Byte 2&#160;<br/>
User data&#160;0&#160;<br/>
Byte 1&#160;<br/>
Control&#160;Bit&#160;Vector&#160;<br/>
Byte 0&#160;<br/>
Source Node&#160;Identifier&#160;<br/>
Table&#160;3-4&#160;&#160;&#160;PDU&#160;NM&#160;Message&#160;Layout&#160;<br/>
The&#160;&#160;number&#160;&#160;of&#160;&#160;User&#160;&#160;Data&#160;&#160;Bytes&#160;&#160;as&#160;&#160;well&#160;&#160;as&#160;&#160;the&#160;&#160;positions&#160;&#160;of&#160;&#160;the&#160;&#160;Control&#160;&#160;Bit&#160;&#160;Vector&#160;&#160;and&#160;<br/>Source&#160;&#160;Node&#160;&#160;Identifier&#160;&#160;can&#160;&#160;be&#160;&#160;configured&#160;&#160;arbitrarily&#160;&#160;but&#160;&#160;depend&#160;&#160;on&#160;&#160;the&#160;availability&#160;&#160;of&#160;&#160;the&#160;<br/>corresponding&#160;features&#160;(User Data&#160;Support /&#160;Node&#160;Detection&#160;Enabled&#160;/&#160;Node&#160;Identifier).&#160;&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
24&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=25></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-25_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>&#160;</b><br/>
<b>Bit&#160;7&#160;</b><br/>
<b>Bit&#160;6&#160;</b><br/>
<b>Bit&#160;5&#160;</b><br/>
<b>Bit&#160;4&#160;</b><br/>
<b>Bit&#160;3&#160;</b><br/>
<b>Bit&#160;2&#160;</b><br/>
<b>Bit&#160;1&#160;</b><br/>
<b>Bit&#160;0&#160;</b><br/>
<b>Byte 1&#160;</b><br/>
Reserved&#160;&#160;Cluster&#160;<br/>
Reserved&#160;&#160;Active&#160;<br/>
NM&#160;<br/>
Reserved&#160;&#160;Reserved&#160;&#160;Repeat&#160;<br/>
<b>(default)&#160;</b><br/>
Request&#160;<br/>
Wake-up&#160;<br/>
Coordina<br/>
Message&#160;<br/>
Information&#160;<br/>
Bit&#160;<br/>
tor Sleep&#160;<br/>
Request&#160;<br/>
Bit2&#160;<br/>
Ready&#160;<br/>
Table&#160;3-5&#160;&#160;&#160;Control&#160;Bit&#160;Vector&#160;<br/>
The&#160;&#160;Repeat&#160;&#160;Message&#160;&#160;Request&#160;&#160;Bit&#160;&#160;is&#160;&#160;only&#160;&#160;used&#160;&#160;if&#160;&#160;the&#160;&#160;<a href="TechnicalReference_CanNms.html#27">‘Node&#160;&#160;Detection’</a>&#160;&#160;feature&#160;&#160;is&#160;&#160;active.&#160;<br/>Refer to&#160;chapte<a href="TechnicalReference_CanNms.html#27">r&#160;3.7&#160;</a>for more information.&#160;<br/>The&#160;&#160;NM&#160;&#160;Coordinator&#160;&#160;Sleep&#160;&#160;Ready&#160;&#160;Bit&#160;&#160;is&#160;&#160;only&#160;&#160;used&#160;&#160;if&#160;&#160;the&#160;&#160;<a href="TechnicalReference_CanNms.html#29">‘Coordinator&#160;&#160;Synchronization&#160;<br/>Support’</a>&#160;is active.&#160;See&#160;chapte<a href="TechnicalReference_CanNms.html#29">r&#160;3.11&#160;</a>for&#160;more&#160;details.&#160;<br/>The&#160;Active&#160;Wake-up&#160;Bit&#160;is used&#160;for the<a href="TechnicalReference_CanNms.html#34">&#160;‘Active&#160;Wake-up&#160;Handling’</a>&#160;(chapte<a href="TechnicalReference_CanNms.html#34">r&#160;3.14).</a>&#160;<br/>The&#160;Cluster Request&#160;Information&#160;Bit is&#160;used&#160;fo<a href="TechnicalReference_CanNms.html#37">r ‘Partial Networking’&#160;</a>(chapte<a href="TechnicalReference_CanNms.html#37">r&#160;3.18).</a>&#160;<br/>All&#160;bits&#160;inside&#160;the&#160;Control&#160;Bit&#160;Vector&#160;are&#160;optionally&#160;used&#160;and&#160;depend&#160;on&#160;the&#160;setting&#160;of&#160;these&#160;<br/>features.&#160;If&#160;the&#160;feature&#160;is not&#160;used,&#160;the&#160;bit&#160;value&#160;is 0.&#160;<br/>
<b>3.6.3&#160;</b><br/>
<b>Message&#160;Transmissions&#160;</b><br/>
A&#160;standard&#160;sequence&#160;for&#160;NM&#160;message&#160;transmissions&#160;when&#160;Repeat&#160;Message&#160;is&#160;entered&#160;is&#160;<br/>depicted&#160;in<a href="TechnicalReference_CanNms.html#25">&#160;Figure&#160;3-2.</a>&#160;<br/>
Usual behavior without immediate transmissions<br/>
Bus Sleep or<br/>
Repeat Message<br/>
t<br/>
Prepare Bus Sleep<br/>
0<br/>
CanNm_PassiveStartUp or<br/>
CanNm_NetworkRequest<br/>
...<br/>
Msg Cycle Offset<br/>
Msg Cycle Time<br/>
Msg Cycle Time<br/>
NM Message Transmissions<br/>
&#160;<br/>
Figure&#160;3-2&#160;&#160;Usual&#160;Behavior&#160;of&#160;NM&#160;Transmissions&#160;when&#160;Repeat&#160;Message&#160;is&#160;entered&#160;<br/>
The&#160;first&#160;NM&#160;message&#160;is&#160;transmitted&#160;when&#160;‘Msg&#160;Cycle&#160;Offset’&#160;ms&#160;has&#160;been&#160;elapsed&#160;after&#160;<br/>Repeat&#160;Message&#160;has&#160;been&#160;entered.&#160;The&#160;next&#160;NM&#160;message&#160;will&#160;be&#160;transmitted&#160;after&#160;Msg&#160;<br/>Cycle&#160;Time&#160;has&#160;been&#160;elapsed.&#160;The&#160;configuration&#160;settings that&#160;influence&#160;this&#160;behavior are:&#160;<br/>
<b>&gt;&#160;&#160;</b>‘Msg&#160;Cycle&#160;Offset’:&#160;time&#160;before the&#160;transmission&#160;of&#160;the&#160;first&#160;NM&#160;message&#160;<br/>
<b>&gt;&#160;&#160;</b>‘Msg&#160;Cycle&#160;Time’: time&#160;between&#160;each&#160;message&#160;transmission&#160;<br/>
<b>&gt;&#160;&#160;</b>‘Immediate&#160;Restart Enabled’:&#160;if&#160;enabled,&#160;an&#160;additional NM&#160;message&#160;will&#160;be&#160;sent&#160;<br/>
immediately&#160;upon&#160;an&#160;active&#160;request&#160;(CanNm_NetworkRequest&#160;was called)&#160;from&#160;<br/>Prepare&#160;Bus&#160;Sleep&#160;to&#160;Repeat&#160;Message&#160;(see&#160;also&#160;chapte<a href="TechnicalReference_CanNms.html#36">r&#160;3.16) in&#160;</a>case&#160;‘Msg&#160;Cycle&#160;<br/>Offset’&#160;is greater than&#160;zero&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160;&#160;<br/>
2&#160;This&#160;bit is&#160;also called&#160;‘Partial&#160;Network&#160;Information&#160;Bit’&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
25&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=26></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-26_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-26_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-26_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>&gt;&#160;&#160;</b>‘Immediate&#160;Nm&#160;Transmissions’: if&#160;this setting&#160;is greater than&#160;zero,&#160;an&#160;immediate&#160;NM&#160;<br/>
message&#160;will&#160;be&#160;sent&#160;when&#160;Repeat&#160;Message&#160;is entered&#160;due&#160;to&#160;an&#160;active&#160;request.&#160;The&#160;<br/>interval between&#160;NM messages will be&#160;different&#160;for&#160;the&#160;next&#160;(‘Immediate&#160;Nm&#160;<br/>Transmissions’&#160;-&#160;1) NM&#160;messages to&#160;be&#160;sent.&#160;Refer to&#160;chapte<a href="TechnicalReference_CanNms.html#34">r&#160;3.15&#160;</a>for more&#160;details.&#160;<br/>
<b>&gt;&#160;&#160;</b>‘Repeat&#160;Message&#160;Time’: this setting&#160;determines&#160;for how&#160;long&#160;CanNm&#160;shall&#160;keep&#160;the&#160;<br/>
Repeat&#160;Message&#160;state.&#160;If&#160;the&#160;node&#160;has been&#160;requested&#160;passively,&#160;the&#160;next&#160;state&#160;will be&#160;<br/>Ready&#160;Sleep.&#160;<br/>
Note&#160;that&#160;the&#160;NM&#160;message&#160;is&#160;sent&#160;as&#160;long&#160;as&#160;the&#160;NM&#160;state&#160;is&#160;‘Repeat&#160;Message’&#160;or&#160;‘Normal&#160;<br/>Operation’. For&#160;details about&#160;these&#160;states,&#160;see&#160;also&#160;chapter<a href="TechnicalReference_CanNms.html#20">&#160;3.5.1.</a>&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>The&#160;lower&#160;layer&#160;(e.g.&#160;CAN&#160;Interface)&#160;may&#160;reject&#160;the&#160;send&#160;request&#160;if&#160;Network&#160;Mode has&#160;<br/>
&#160;&#160;just&#160;been&#160;entered.&#160;<br/>
CanNm&#160;usually&#160;does not&#160;retry&#160;to&#160;issue&#160;the&#160;send&#160;request&#160;of&#160;the&#160;NM&#160;message.&#160;There&#160;are&#160;<br/>features,&#160;which may&#160;enable retries in&#160;certain&#160;conditions:&#160;<br/>If<a href="TechnicalReference_CanNms.html#34">&#160;‘Immediate&#160;Nm&#160;Transmissions’</a>&#160;are&#160;greater&#160;than zero,&#160;the&#160;rejected&#160;send&#160;request&#160;is&#160;not&#160;<br/>considered&#160;as&#160;‘Immediate&#160;Transmission’&#160;(see&#160;chapter<a href="TechnicalReference_CanNms.html#34">&#160;3.15).</a>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
<b>3.6.4&#160;</b><br/>
<b>Bus&#160;Load&#160;Reduction&#160;</b><br/>
The&#160;bus load&#160;reduction&#160;is started&#160;automatically&#160;if&#160;enabled&#160;and&#160;when&#160;Normal Operation&#160;<br/>state&#160;is&#160;entered.&#160;When&#160;Normal Operation&#160;state&#160;is left,&#160;bus&#160;load&#160;reduction&#160;algorithm&#160;is&#160;<br/>stopped.&#160;For more&#160;information&#160;refer&#160;to&#160;chapter 7.7&#160;o<a href="TechnicalReference_CanNms.html#3">f&#160;[3].</a>&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>Bus Load&#160;Reduction&#160;cannot&#160;be&#160;used on&#160;the channel&#160;if&#160;Partial&#160;Networking is used on&#160;the&#160;<br/>
&#160;&#160;same&#160;channel&#160;and vice versa.&#160;However&#160;setups&#160;like Bus Load&#160;Reduction is&#160;active on&#160;<br/>
the&#160;one&#160;channel&#160;and&#160;Partial&#160;Networking&#160;is&#160;active&#160;on&#160;the&#160;other&#160;channel&#160;is&#160;allowed.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.6.5&#160;</b><br/>
<b>Support for RX&#160;PDUs&#160;with Different&#160;Lengths&#160;</b><br/>
The&#160;&#160;CAN&#160;&#160;NM&#160;&#160;supports&#160;&#160;messages&#160;&#160;with&#160;&#160;different&#160;&#160;lengths&#160;&#160;(DLCs).&#160;&#160;This&#160;&#160;support&#160;&#160;can&#160;&#160;be&#160;<br/>enabled&#160;&#160;by&#160;&#160;disabling&#160;&#160;the&#160;&#160;‘CanIf&#160;&#160;Range&#160;&#160;Config&#160;&#160;DLC&#160;&#160;Check’&#160;&#160;setting&#160;&#160;in&#160;&#160;the&#160;&#160;module&#160;<br/>configuration.&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
26&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=27></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-27_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-27_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>The&#160;setting&#160;is&#160;enabled,&#160;if&#160;a macro definition&#160;of&#160;<br/>
&#160;&#160;CANNM_CANIF_RANGE_CONFIG_DLC_CHECK&#160;can&#160;be&#160;found&#160;in CanNm_Cfg.h.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
In&#160;&#160;case&#160;&#160;the&#160;&#160;‘CanIf&#160;&#160;Range&#160;&#160;Config&#160;&#160;DLC&#160;&#160;Check’&#160;&#160;setting&#160;&#160;is&#160;&#160;disabled,&#160;&#160;it&#160;&#160;is&#160;&#160;assumed&#160;&#160;that&#160;&#160;the&#160;<br/>CanIf&#160;&#160;module&#160;&#160;accepts&#160;&#160;NM&#160;&#160;messages&#160;&#160;with&#160;&#160;different&#160;&#160;DLCs.&#160;&#160;The&#160;&#160;minimum&#160;&#160;DLC&#160;&#160;for&#160;&#160;NM&#160;<br/>messages&#160;&#160;may&#160;&#160;be&#160;&#160;configured&#160;&#160;in&#160;&#160;the&#160;&#160;CanIf&#160;&#160;module,&#160;&#160;messages&#160;&#160;with&#160;&#160;a&#160;&#160;DLC&#160;&#160;less&#160;&#160;than&#160;&#160;the&#160;<br/>configured&#160;&#160;value&#160;&#160;for&#160;&#160;the&#160;&#160;DLC&#160;&#160;check&#160;&#160;will&#160;&#160;be&#160;&#160;discarded.&#160;&#160;Messages&#160;&#160;with&#160;&#160;the&#160;&#160;same&#160;&#160;DLC&#160;&#160;or&#160;<br/>greater DLC will be&#160;received&#160;and&#160;forwarded&#160;to&#160;CanNm.&#160;<br/>However,&#160;&#160;the&#160;maximum&#160;number&#160;of&#160;bytes&#160;that&#160;&#160;is&#160;evaluated&#160;from&#160;the&#160;received&#160;message&#160;is&#160;<br/>equal&#160;&#160;to&#160;&#160;the&#160;&#160;‘Pdu&#160;&#160;Length’&#160;&#160;setting&#160;&#160;of&#160;&#160;the&#160;&#160;corresponding&#160;&#160;channel.&#160;&#160;For&#160;&#160;messages&#160;&#160;with&#160;&#160;a&#160;<br/>length&#160;&#160;<i>n</i>&#160;&#160;smaller&#160;&#160;than&#160;&#160;‘Pdu&#160;&#160;Length’,&#160;&#160;the&#160;&#160;bytes&#160;&#160;<i>n</i>&#160;&#160;…&#160;&#160;(‘Pdu&#160;&#160;Length’&#160;&#160;-&#160;&#160;1)&#160;&#160;are&#160;&#160;considered&#160;&#160;as&#160;<br/>being&#160;zero.&#160;<br/>Examples:&#160;<br/>The&#160;length&#160;of&#160;a&#160;received&#160;message&#160;is&#160;8,&#160;‘Pdu&#160;Length’&#160;is&#160;configured&#160;to&#160;6.&#160;In&#160;this&#160;case,&#160;the&#160;<br/>last&#160;two&#160;user&#160;data&#160;bytes&#160;are&#160;not&#160;further&#160;processed&#160;by&#160;CanNm&#160;(e.g.&#160;CanNm_GetUserData&#160;<br/>does&#160;not&#160;return&#160;data&#160;for these&#160;two&#160;bytes).&#160;<br/>The&#160;length&#160;of&#160;a&#160;received&#160;message&#160;is&#160;4,&#160;‘Pdu&#160;Length’&#160;is&#160;configured&#160;to&#160;6.&#160;In&#160;this&#160;case,&#160;bytes&#160;<br/>4&#160;&#160;and&#160;&#160;5&#160;&#160;are&#160;&#160;considered&#160;&#160;as&#160;&#160;being&#160;&#160;zero&#160;&#160;(e.g.&#160;&#160;CanNm_GetUserData&#160;&#160;returns&#160;&#160;0&#160;&#160;for&#160;&#160;these&#160;<br/>bytes).&#160;<br/>The&#160;&#160;minimum&#160;&#160;required&#160;&#160;number&#160;&#160;of&#160;&#160;bytes&#160;&#160;for&#160;&#160;a&#160;&#160;received&#160;&#160;NM&#160;&#160;message&#160;&#160;that&#160;&#160;should&#160;&#160;be&#160;<br/>processed&#160;by&#160;CanNm&#160;may&#160;be&#160;configured&#160;by&#160;using&#160;the&#160;CanIf&#160;DLC Check&#160;featu<a href="TechnicalReference_CanNms.html#3">re&#160;[2].</a>&#160;<br/>If&#160;&#160;the&#160;&#160;‘CanIf&#160;&#160;Range&#160;&#160;Config&#160;&#160;DLC&#160;&#160;Check’&#160;&#160;setting&#160;&#160;is&#160;&#160;enabled,&#160;&#160;either&#160;&#160;the&#160;&#160;CanIf&#160;&#160;DLC&#160;&#160;feature&#160;<br/>must&#160;&#160;be&#160;&#160;enabled&#160;&#160;to&#160;&#160;accept&#160;&#160;only&#160;&#160;NM&#160;&#160;messages&#160;&#160;with&#160;&#160;a&#160;&#160;DLC&#160;&#160;greater&#160;&#160;than&#160;&#160;or&#160;&#160;equal&#160;&#160;to&#160;&#160;the&#160;<br/>‘Pdu&#160;Length’&#160;setting&#160;or&#160;there&#160;must&#160;not&#160;be&#160;any&#160;ECU&#160;that&#160;sends&#160;NM&#160;messages&#160;with&#160;a&#160;DLC&#160;<br/>less&#160;than&#160;the&#160;‘Pdu&#160;Length’&#160;setting.&#160;Otherwise,&#160;the&#160;behavior of&#160;the&#160;CanNm&#160;will be&#160;arbitrary.&#160;<br/>
<b>3.7&#160;</b><br/>
<b>Node&#160;Detection&#160;</b><br/>
In&#160;&#160;order&#160;&#160;to&#160;&#160;detect&#160;&#160;which&#160;&#160;nodes&#160;&#160;are&#160;&#160;currently&#160;&#160;present&#160;&#160;within&#160;&#160;the&#160;network,&#160;&#160;this&#160;mechanism&#160;<br/>can&#160;be&#160;used.&#160;If&#160;a&#160;network&#160;node&#160;requests&#160;node&#160;detection,&#160;the&#160;requesting&#160;node&#160;performs&#160;a&#160;<br/>transition&#160;to&#160;Repeat&#160;Message&#160;State&#160;and&#160;sets&#160;the&#160;Repeat&#160;Message&#160;Bit&#160;within&#160;the&#160;NM&#160;PDU.&#160;<br/>Upon&#160;&#160;reception&#160;&#160;of&#160;&#160;the&#160;&#160;Repeat&#160;&#160;Message&#160;&#160;Bit&#160;&#160;all&#160;&#160;network&#160;&#160;nodes&#160;&#160;perform&#160;&#160;a&#160;&#160;transition&#160;&#160;to&#160;<br/>Repeat&#160;&#160;Message&#160;&#160;State.&#160;&#160;This&#160;&#160;allows&#160;&#160;the&#160;&#160;requesting&#160;&#160;node&#160;&#160;to&#160;&#160;collect&#160;&#160;all&#160;&#160;source&#160;&#160;node&#160;<br/>identifiers&#160;from&#160;active&#160;nodes.&#160;<br/>The&#160;local source&#160;node&#160;identifier can&#160;be&#160;retrieved&#160;by&#160;the&#160;service&#160;<br/>
CanNm_GetLocalNodeIdentifier()&#160;<br/>
<a href="TechnicalReference_CanNms.html#53">(5.3.2.6.3)</a>&#160;<br/>
The&#160;source&#160;node&#160;identifier&#160;from&#160;the&#160;last&#160;received&#160;message&#160;can&#160;be&#160;retrieved&#160;by&#160;the&#160;service&#160;<br/>
CanNm_GetNodeIdentifier()&#160;<br/>
<a href="TechnicalReference_CanNms.html#53">(5.3.2.6.2)</a>&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
27&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=28></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-28_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-28_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>3.8&#160;</b><br/>
<b>NM&#160;PDU&#160;Receive&#160;Indication&#160;</b><br/>
The&#160;&#160;NM&#160;&#160;Interface&#160;&#160;is&#160;&#160;notified&#160;&#160;about&#160;&#160;the&#160;&#160;reception&#160;&#160;of&#160;&#160;an&#160;&#160;NM&#160;&#160;message&#160;&#160;by&#160;&#160;the&#160;&#160;optional&#160;<br/>function&#160;<br/>
Nm_PduRxIndication()&#160;<br/>
<a href="TechnicalReference_CanNms.html#58">(5.4)</a>&#160;<br/>
In&#160;&#160;case&#160;&#160;more&#160;&#160;than&#160;&#160;one&#160;&#160;BusNm&#160;&#160;is&#160;&#160;configured&#160;&#160;on&#160;&#160;the&#160;&#160;same&#160;&#160;channel,&#160;&#160;a&#160;&#160;BusNm&#160;&#160;specific&#160;<br/>reception&#160;notification&#160;is&#160;called.&#160;<br/>
Nm_CanNm_PduRxIndication()&#160;<br/>
<a href="TechnicalReference_CanNms.html#58">(5.4)</a>&#160;<br/>
The&#160;&#160;CAN&#160;&#160;NM&#160;&#160;notifies&#160;&#160;the&#160;&#160;callback&#160;directly&#160;&#160;to&#160;&#160;the&#160;&#160;NM&#160;&#160;Interface&#160;&#160;in&#160;&#160;context&#160;&#160;of&#160;&#160;the&#160;function&#160;<br/>CanNm_RxIndication&#160;(see&#160;chapter<a href="TechnicalReference_CanNms.html#59">&#160;5.5.1.2).</a>&#160;<br/>
<b>3.9&#160;</b><br/>
<b>Communication Control&#160;</b><br/>
In&#160;&#160;order&#160;&#160;to&#160;&#160;support&#160;&#160;ISO&#160;&#160;14229&#160;&#160;Communication&#160;&#160;Control&#160;&#160;Service&#160;&#160;$28&#160;&#160;the&#160;&#160;network&#160;<br/>management&#160;&#160;has&#160;&#160;a&#160;&#160;message&#160;&#160;transmission&#160;&#160;control&#160;&#160;status,&#160;&#160;which&#160;&#160;allows&#160;&#160;disabling&#160;&#160;the&#160;<br/>transmission&#160;&#160;of&#160;&#160;NM&#160;&#160;messages&#160;&#160;while&#160;&#160;bus-communication&#160;&#160;is&#160;&#160;requested.&#160;&#160;Therefore&#160;&#160;the&#160;<br/>function&#160;<br/>
CanNm_DisableCommunication()&#160;<br/>
<a href="TechnicalReference_CanNms.html#56">(5.3.2.10.1)</a>&#160;<br/>
can&#160;be&#160;called.&#160;The&#160;transmission&#160;of&#160;NM&#160;messages&#160;will&#160;be&#160;stopped&#160;within&#160;the&#160;next&#160;CAN&#160;NM&#160;<br/>main&#160;function&#160;call.&#160;<br/>The&#160;NM PDU transmission&#160;ability&#160;is enabled&#160;again&#160;by&#160;the&#160;service&#160;<br/>
CanNm_EnableCommunication()&#160;<br/>
<a href="TechnicalReference_CanNms.html#56">(5.3.2.10.2)</a>&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>An ECU&#160;shall&#160;not&#160;shut&#160;down if&#160;the&#160;NM&#160;PDU&#160;transmission&#160;ability&#160;is&#160;disabled.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.10&#160;&#160;Gateway&#160;Functionality&#160;</b><br/>
<b>3.10.1&#160;&#160;Remote&#160;Sleep Indication and Cancellation&#160;<br/></b>In&#160;&#160;order&#160;&#160;to&#160;&#160;synchronize&#160;&#160;networks&#160;&#160;it&#160;&#160;might&#160;&#160;be&#160;&#160;necessary&#160;&#160;to&#160;&#160;get&#160;&#160;an&#160;&#160;indication&#160;&#160;whether&#160;&#160;no&#160;<br/>more&#160;&#160;network&#160;&#160;nodes&#160;&#160;require&#160;&#160;bus-communication.&#160;&#160;This&#160;&#160;is&#160;&#160;the&#160;&#160;so-called&#160;&#160;‘Remote&#160;&#160;Sleep&#160;<br/>Indication’.&#160;The&#160;start&#160;of&#160;the&#160;remote&#160;sleep&#160;indication&#160;is indicated&#160;by&#160;<br/>
Nm_RemoteSleepIndication()&#160;<br/>
<a href="TechnicalReference_CanNms.html#58">(5.4)</a>&#160;<br/>
If&#160;any&#160;NM&#160;message&#160;is&#160;received&#160;during&#160;Normal&#160;Operation&#160;State&#160;or&#160;Ready&#160;Sleep&#160;State&#160;after&#160;<br/>the&#160;remote&#160;sleep&#160;indication&#160;the&#160;service&#160;‘Remote&#160;Sleep&#160;Cancellation’&#160;is called:&#160;<br/>
Nm_RemoteSleepCancellation()&#160;<br/>
<a href="TechnicalReference_CanNms.html#58">(5.4)</a>&#160;<br/>
It&#160;is also&#160;possible&#160;to&#160;retrieve&#160;the&#160;current&#160;remote&#160;sleep&#160;state&#160;by&#160;calling&#160;the&#160;service:&#160;<br/>
CanNm_CheckRemoteSleepIndication()&#160;<br/>
<a href="TechnicalReference_CanNms.html#54">(5.3.2.8.1)</a>&#160;<br/>
Remote&#160;sleep&#160;indication&#160;can&#160;only&#160;be&#160;checked&#160;in&#160;Ready&#160;Sleep&#160;state&#160;and&#160;Normal&#160;Operation&#160;<br/>state.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
28&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=29></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-29_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-29_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>3.10.2&#160;&#160;Bus&#160;Synchronization&#160;<br/></b>In&#160;&#160;order&#160;&#160;to&#160;&#160;synchronize&#160;&#160;networks&#160;&#160;for&#160;&#160;a&#160;&#160;synchronized&#160;&#160;shutdown&#160;&#160;it&#160;&#160;might&#160;&#160;be&#160;&#160;necessary&#160;&#160;to&#160;<br/>transmit&#160;an&#160;asynchronous&#160;NM&#160;message&#160;to&#160;reset&#160;the&#160;network&#160;timers.&#160;This&#160;can&#160;be&#160;done&#160;by&#160;<br/>calling&#160;the&#160;service:&#160;&#160;<br/>
CanNm_RequestBusSynchronization()&#160;<br/>
<a href="TechnicalReference_CanNms.html#54">(5.3.2.7.1)</a>&#160;<br/>
However this service&#160;shall&#160;only&#160;be&#160;called&#160;within&#160;Network Mode.&#160;<br/>
<b>3.11&#160;&#160;Coordinator&#160;Synchronization&#160;Support&#160;</b><br/>
For&#160;&#160;supporting&#160;&#160;the&#160;&#160;NM&#160;&#160;Interface&#160;&#160;Coordinator&#160;&#160;Synchronization&#160;&#160;with&#160;&#160;more&#160;&#160;than&#160;&#160;one&#160;<br/>coordinator&#160;connected&#160;to&#160;the&#160;same&#160;channel&#160;it&#160;is&#160;necessary&#160;to&#160;provide&#160;one&#160;additional&#160;bit&#160;in&#160;<br/>the&#160;CBV.&#160;Therefore&#160;the&#160;service&#160;call&#160;<br/>
CanNm_SetSleepReadyBit()&#160;<br/>
<a href="TechnicalReference_CanNms.html#57">(5.3.2.11.1)</a>&#160;<br/>
allows&#160;to&#160;set&#160;and&#160;clear&#160;the&#160;Nm&#160;Coordinator&#160;Sleep&#160;Ready&#160;Bit&#160;(see&#160;chapte<a href="TechnicalReference_CanNms.html#24">r&#160;3.6.2&#160;</a>for&#160;further&#160;<br/>information).&#160;Each&#160;call&#160;of&#160;this API&#160;triggers&#160;the&#160;immediate&#160;transmission&#160;of&#160;an&#160;NM&#160;message&#160;<br/>can&#160;be&#160;sent&#160;according&#160;to&#160;the&#160;current&#160;state&#160;in&#160;the&#160;CanNm&#160;State&#160;Machine&#160;(see<a href="TechnicalReference_CanNms.html#18">&#160;Figure&#160;3-1)</a>&#160;in&#160;<br/>order to&#160;propagate&#160;the&#160;change&#160;of&#160;the&#160;Sleep&#160;Ready&#160;Bit as soon&#160;as&#160;possible.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>The&#160;‘Coordinator&#160;Synchronization&#160;Support’&#160;requires the&#160;Control&#160;Bit&#160;Vector.&#160;<br/>
<b>&#160;&#160;</b>Therefore&#160;this&#160;feature has&#160;to&#160;be&#160;enabled&#160;if&#160;the&#160;Coordination&#160;Synchronization&#160;Support&#160;is&#160;<br/>
used.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.12&#160;&#160;Error&#160;Handling&#160;</b><br/>
<b>3.12.1&#160;&#160;Development&#160;Error&#160;Detection&#160;<br/></b>By&#160;&#160;default,&#160;&#160;development&#160;&#160;errors&#160;&#160;are&#160;&#160;reported&#160;&#160;to&#160;&#160;the&#160;&#160;DET&#160;&#160;using&#160;&#160;the&#160;&#160;service&#160;<br/>Det_ReportError()&#160;&#160;as&#160;&#160;specified&#160;&#160;in<a href="TechnicalReference_CanNms.html#3">&#160;&#160;[5],</a>&#160;&#160;if&#160;&#160;development&#160;&#160;error&#160;&#160;reporting&#160;&#160;is&#160;&#160;enabled&#160;&#160;(i.e.&#160;<br/>pre-compile&#160;parameter&#160;CANNM_DEV_ERROR_DETECT==STD_ON).&#160;<br/>
If&#160;&#160;another&#160;&#160;module&#160;&#160;is&#160;&#160;used&#160;&#160;for&#160;&#160;development&#160;&#160;error&#160;&#160;reporting,&#160;&#160;the&#160;&#160;function&#160;&#160;prototype&#160;&#160;for&#160;<br/>reporting&#160;the&#160;error&#160;can&#160;be&#160;configured&#160;by&#160;the&#160;integrator,&#160;but&#160;must&#160;have&#160;the&#160;same&#160;signature&#160;<br/>as the&#160;service&#160;Det_ReportError().&#160;<br/>
The&#160;reported&#160;CANNM&#160;ID is&#160;31.&#160;<br/>The&#160;&#160;reported&#160;&#160;service&#160;&#160;IDs&#160;&#160;identify&#160;&#160;the&#160;&#160;services&#160;&#160;which&#160;&#160;are&#160;&#160;described&#160;&#160;in&#160;&#160;<a href="TechnicalReference_CanNms.html#46">5.3&#160;&#160;</a>and<a href="TechnicalReference_CanNms.html#59">&#160;&#160;5.5.&#160;&#160;</a>The&#160;<br/>following&#160;table&#160;presents the&#160;service&#160;IDs and&#160;the&#160;related&#160;services:&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
<b>Service&#160;</b><br/>
0x00&#160;<br/>
CanNm_Init&#160;<br/>
0x01&#160;<br/>
CanNm_PassiveStartUp&#160;<br/>
0x02&#160;<br/>
CanNm_NetworkRequest&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
29&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=30></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-30_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
<b>Service&#160;</b><br/>
0x03&#160;<br/>
CanNm_NetworkRelease&#160;<br/>
0x04&#160;<br/>
CanNm_SetUserData&#160;<br/>
0x05&#160;<br/>
CanNm_GetUserData&#160;<br/>
0x06&#160;<br/>
CanNm_GetNodeIdentifier&#160;<br/>
0x07&#160;<br/>
CanNm_GetLocalNodeIdentifier&#160;<br/>
0x08&#160;<br/>
CanNm_RepeatMessageRequest&#160;<br/>
0x0A&#160;<br/>
CanNm_GetPduData&#160;<br/>
0x0B&#160;<br/>
CanNm_GetState&#160;<br/>
0x0C&#160;<br/>
CanNm_DisableCommunication&#160;<br/>
0x0D&#160;<br/>
CanNm_EnableCommunication&#160;<br/>
0x13&#160;<br/>
CanNm_MainFunction&#160;<br/>
0x14&#160;<br/>
CanNm_Transmit&#160;<br/>
0x16&#160;<br/>
CanNm_ConfirmPnAvailability&#160;<br/>
0x17&#160;<br/>
CanNm_SetSleepReadyBit&#160;<br/>
0x40&#160;<br/>
CanNm_TxConfirmation&#160;<br/>
0x42&#160;<br/>
CanNm_RxIndication&#160;<br/>
0xC0&#160;<br/>
CanNm_RequestBusSynchronization&#160;<br/>
0xD0&#160;<br/>
CanNm_CheckRemoteSleepIndication&#160;<br/>
0xF1&#160;<br/>
CanNm_GetVersionInfo&#160;<br/>
Table&#160;3-6&#160;&#160;&#160;Service&#160;IDs&#160;<br/>
<b>3.12.1.1&#160;&#160;Det_ReportError&#160;<br/></b>Development&#160;errors are&#160;reported&#160;by&#160;the&#160;service&#160;<br/>
Det_ReportError()&#160;<br/>
<a href="TechnicalReference_CanNms.html#58">(5.4)</a>&#160;<br/>
Please&#160;&#160;refer&#160;&#160;to&#160;&#160;the&#160;&#160;documentation&#160;&#160;of&#160;&#160;the&#160;&#160;development&#160;&#160;error&#160;&#160;tracer&#160;&#160;<a href="TechnicalReference_CanNms.html#3">[5]&#160;&#160;</a>for&#160;&#160;further&#160;<br/>information&#160;and&#160;a&#160;detailed&#160;description&#160;of&#160;the&#160;API.&#160;The&#160;module&#160;Id,&#160;API&#160;Ids&#160;and&#160;error&#160;Ids&#160;can&#160;<br/>be&#160;found&#160;within&#160;the&#160;software components’&#160;header&#160;file.&#160;<br/>The&#160;errors reported&#160;to&#160;DET&#160;are&#160;described&#160;in&#160;the&#160;following&#160;table:&#160;<br/>
<b>Error&#160;&#160;Code&#160;</b><br/>
<b>Description&#160;</b><br/>
0x01&#160;&#160;CANNM_E_NO_INIT&#160;<br/>
API&#160;service&#160;used&#160;without&#160;module&#160;initialization.&#160;<br/>
0x02&#160;&#160;CANNM_E_INVALID_CHANNEL&#160;<br/>
API&#160;service&#160;used&#160;with&#160;wrong&#160;channel handle.&#160;<br/>
0x03&#160;&#160;CANNM_E_INVALID_PDUID&#160;<br/>
API&#160;service&#160;used&#160;with&#160;wrong&#160;PDU&#160;ID&#160;<br/>
0x04&#160;&#160;CANNM_E_NET_START_IND&#160;<br/>
Reception&#160;of&#160;NM&#160;Message&#160;in&#160;Bus&#160;Sleep&#160;Mode&#160;<br/>
0x05&#160;&#160;CANNM_E_INIT_FAILED&#160;<br/>
CAN NM&#160;initialization&#160;has&#160;failed.&#160;<br/>
0x11&#160;&#160;CANNM_E_NETWORK_TIMEOUT&#160;<br/>
NM-Timeout&#160;Timer has&#160;abnormally&#160;expired&#160;<br/>outside&#160;of&#160;the&#160;Ready&#160;Sleep&#160;State.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
30&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=31></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-31_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>Error&#160;&#160;Code&#160;</b><br/>
<b>Description&#160;</b><br/>
0x12&#160;&#160;CANNM_E_PARAM_POINTER3&#160;<br/>
Null pointer&#160;has&#160;been&#160;passed&#160;as&#160;an&#160;argument.&#160;<br/>
0x20&#160;&#160;CANNM_E_RXINDICATION_DLC_ERROR4&#160;&#160;DLC of&#160;received&#160;NM&#160;message&#160;does not&#160;match&#160;<br/>
with&#160;configured&#160;PDU&#160;Length.&#160;<br/>
0x21&#160;&#160;<a href="TechnicalReference_CanNms.html#31">CANNM_E_PDUR_TRIGGERTX_ERROR4&#160;</a><br/>
Call of&#160;function&#160;PduR_TriggerTransmit&#160;failed.&#160;<br/>
0x22&#160;&#160;CANNM_E_ALREADY_INITIALIZED&#160;<br/>
CAN NM&#160;initialization&#160;done&#160;more&#160;than&#160;once.&#160;<br/>
0x33&#160;&#160;CANNM_E_INVALID_GENDATA&#160;<br/>
Invalid&#160;write&#160;access&#160;due&#160;to&#160;wrong&#160;<br/>configuration&#160;data.&#160;<br/>
Table&#160;3-7&#160;&#160;&#160;Errors&#160;reported&#160;to&#160;DET&#160;<br/>
<b>3.12.1.2&#160;&#160;Parameter&#160;Checking&#160;<br/></b>AUTOSAR&#160;requires&#160;that&#160;API&#160;functions&#160;check the&#160;validity&#160;of&#160;their&#160;parameters.&#160;The&#160;checks&#160;in&#160;<br/><a href="TechnicalReference_CanNms.html#32">Table&#160;&#160;3-8&#160;&#160;</a>are&#160;&#160;internal&#160;&#160;parameter&#160;&#160;checks&#160;&#160;of&#160;&#160;the&#160;&#160;API&#160;&#160;functions.&#160;&#160;These&#160;&#160;checks&#160;&#160;are&#160;&#160;for&#160;<br/>development&#160;error&#160;reporting.&#160;The&#160;error&#160;reporting&#160;of&#160;CANNM_E_NETWORK_TIMEOUT&#160;can&#160;be&#160;<br/>en-/disabled&#160;separately&#160;by&#160;the&#160;configuration&#160;switch&#160;‘Disable&#160;Tx&#160;Err&#160;Report’.&#160;The&#160;Parameter&#160;<br/>CANNM_DEV_ERROR_DETECT&#160;&#160;dis-/&#160;&#160;enables&#160;&#160;the&#160;&#160;call&#160;&#160;of&#160;&#160;Det_ReportError()&#160;&#160;for&#160;&#160;all&#160;&#160;checks&#160;<br/>globally.&#160;<br/>The&#160;following&#160;table&#160;shows&#160;which&#160;parameter checks are&#160;performed&#160;on&#160;which&#160;services:&#160;<br/>
<b>Check&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>Service&#160;</b><br/>
CANNM_E_NO_INIT<br/>
CANNM_E_INVALID_CHANNEL<br/>
CANNM_E_NULL_POINTER<br/>
CANNM_E_INVALID_PDUID<br/>
CANNM_E_NET_START_IND<br/>
CANNM_E_INIT_FAILED<br/>
CANNM_E_NETWORK_TIMEOUT<br/>
CANNM_E_RXINDICATION_DLC_<br/>
ERROR<br/>
CANNM_E_PDUR_TRIGGERTX_ER<br/>
ROR<br/>
CanNm_Init&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
5&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanNm_PassiveStartUp&#160;<br/>
&#160;<br/>
6&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanNm_NetworkRequest&#160;<br/>
&#160;<br/>
<a href="TechnicalReference_CanNms.html#31">6,7</a><a href="TechnicalReference_CanNms.html#32">&#160;</a><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanNm_NetworkRelease&#160;<br/>
&#160;<br/>
<a href="TechnicalReference_CanNms.html#31">6,7</a><a href="TechnicalReference_CanNms.html#32">&#160;</a><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanNm_SetUserData&#160;<br/>
<a href="TechnicalReference_CanNms.html#32">7&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#31">6,7</a><a href="TechnicalReference_CanNms.html#32">&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#32">7&#160;</a><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanNm_GetUserData&#160;<br/>
&#160;<br/>
<a href="TechnicalReference_CanNms.html#31">6,7</a><a href="TechnicalReference_CanNms.html#32">&#160;</a><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanNm_GetPduData&#160;<br/>
&#160;<br/>
<a href="TechnicalReference_CanNms.html#31">6,7</a><a href="TechnicalReference_CanNms.html#32">&#160;</a><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanNm_RepeatMessageRequest&#160;<br/>
<a href="TechnicalReference_CanNms.html#31">5,7</a><a href="TechnicalReference_CanNms.html#32">&#160;&#160;</a><a href="TechnicalReference_CanNms.html#31">6,7</a><a href="TechnicalReference_CanNms.html#32">&#160;</a><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanNm_GetNodeIdentifier&#160;<br/>
&#160;<br/>
<a href="TechnicalReference_CanNms.html#31">6,7</a><a href="TechnicalReference_CanNms.html#32">&#160;</a><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanNm_GetLocalNodeIdentifier&#160;<br/>
&#160;<br/>
<a href="TechnicalReference_CanNms.html#31">6,7</a><a href="TechnicalReference_CanNms.html#32">&#160;</a><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160;&#160;<br/>3&#160;Error does&#160;not&#160;apply&#160;to&#160;the&#160;function&#160;CanNm_Init.&#160;<br/>4&#160;Vector&#160;extension&#160;<br/>
5&#160;Only&#160;checked&#160;if&#160;CANNM_DEV_ERROR_DETECT&#160;is&#160;STD_ON&#160;<br/>
6&#160;Only&#160;checked&#160;if&#160;CANNM_OPTIMIZE_CHANNEL_ENABLED&#160;is&#160;not defined (‘Api&#160;Optimization’&#160;is&#160;OFF)&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
31&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=32></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-32_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>Check&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>Service&#160;</b><br/>
CANNM_E_NO_INIT<br/>
CANNM_E_INVALID_CHANNEL<br/>
CANNM_E_NULL_POINTER<br/>
CANNM_E_INVALID_PDUID<br/>
CANNM_E_NET_START_IND<br/>
CANNM_E_INIT_FAILED<br/>
CANNM_E_NETWORK_TIMEOUT<br/>
CANNM_E_RXINDICATION_DLC_<br/>
ERROR<br/>
CANNM_E_PDUR_TRIGGERTX_ER<br/>
ROR<br/>
CanNm_RequestBusSynchronization&#160;<br/>
<a href="TechnicalReference_CanNms.html#32">7&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#31">6,7</a><a href="TechnicalReference_CanNms.html#32">&#160;</a><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanNm_CheckRemoteSleepIndication&#160;<br/>
<a href="TechnicalReference_CanNms.html#32">7&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#31">6,7</a><a href="TechnicalReference_CanNms.html#32">&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#32">7&#160;</a><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanNm_GetState&#160;<br/>
&#160;<br/>
<a href="TechnicalReference_CanNms.html#31">6,7</a><a href="TechnicalReference_CanNms.html#32">&#160;</a><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanNm_GetVersionInfo&#160;<br/>
&#160;<br/>
&#160;<br/>
<a href="TechnicalReference_CanNms.html#31">5&#160;</a><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanNm_Transmit&#160;<br/>
<a href="TechnicalReference_CanNms.html#32">7&#160;</a><br/>
&#160;<br/>
<a href="TechnicalReference_CanNms.html#32">7&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#31">5,7</a><a href="TechnicalReference_CanNms.html#32">&#160;</a><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanNm_EnableCommunication&#160;<br/>
<a href="TechnicalReference_CanNms.html#32">7&#160;&#160;</a><a href="TechnicalReference_CanNms.html#31">6,7</a><a href="TechnicalReference_CanNms.html#32">,7</a>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanNm_DisableCommunication&#160;<br/>
<a href="TechnicalReference_CanNms.html#32">7&#160;</a><br/>
<a href="TechnicalReference_CanNms.html#31">6,7</a><a href="TechnicalReference_CanNms.html#32">&#160;</a><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanNm_ConfirmPnAvailability&#160;<br/>
&#160;<br/>
<a href="TechnicalReference_CanNms.html#31">6,7</a><a href="TechnicalReference_CanNms.html#32">&#160;</a><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanNm_SetSleepReadyBit&#160;<br/>
&#160;<br/>
<a href="TechnicalReference_CanNms.html#31">6,7</a><a href="TechnicalReference_CanNms.html#32">&#160;</a><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CanNm_RxIndication&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<a href="TechnicalReference_CanNms.html#31">5&#160;</a><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<a href="TechnicalReference_CanNms.html#31">5&#160;</a><br/>
&#160;<br/>
CanNm_MainFunction&#160;<br/>
&#160;<br/>
<a href="TechnicalReference_CanNms.html#31">6,7</a><a href="TechnicalReference_CanNms.html#32">&#160;</a><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<a href="TechnicalReference_CanNms.html#31">5&#160;</a><br/>
&#160;<br/>
<a href="TechnicalReference_CanNms.html#31">5&#160;</a><br/>
CanNm_TxConfirmation&#160;<br/>
<a href="TechnicalReference_CanNms.html#32">7&#160;</a><br/>
&#160;<br/>
&#160;<br/>
<a href="TechnicalReference_CanNms.html#31">5,7</a><a href="TechnicalReference_CanNms.html#32">&#160;</a><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Table&#160;3-8&#160;&#160;&#160;Development&#160;Error&#160;Reporting:&#160;Assignment&#160;of&#160;checks&#160;to&#160;services&#160;<br/>
<b>3.12.2&#160;&#160;Production Code&#160;Error Reporting&#160;<br/></b>By&#160;&#160;default,&#160;&#160;production&#160;&#160;code&#160;&#160;related&#160;&#160;errors&#160;&#160;are&#160;&#160;reported&#160;&#160;to&#160;&#160;the&#160;&#160;DEM&#160;&#160;using&#160;&#160;the&#160;&#160;service&#160;<br/>Dem_ReportErrorStatus()&#160;as specified&#160;in<a href="TechnicalReference_CanNms.html#3">&#160;[4],&#160;</a>if&#160;production&#160;error&#160;reporting&#160;is enabled.&#160;<br/>
If&#160;&#160;another&#160;&#160;module&#160;&#160;is&#160;&#160;used&#160;&#160;for&#160;&#160;production&#160;&#160;code&#160;&#160;error&#160;&#160;reporting,&#160;&#160;the&#160;&#160;function&#160;&#160;prototype&#160;&#160;for&#160;<br/>reporting&#160;the&#160;error&#160;can&#160;be&#160;configured&#160;by&#160;the&#160;integrator,&#160;but&#160;must&#160;have&#160;the&#160;same&#160;signature&#160;<br/>as the&#160;service&#160;Dem_ReportErrorStatus().&#160;<br/>
The&#160;errors reported&#160;to&#160;DEM are described&#160;in&#160;the&#160;following&#160;table:&#160;<br/>
<b>Error&#160;Code&#160;</b><br/>
<b>Description&#160;</b><br/>
N/A&#160;<br/>
Currently&#160;no&#160;DEM&#160;errors&#160;are&#160;specified&#160;<br/>
Table&#160;3-9&#160;&#160;&#160;Errors&#160;reported&#160;to&#160;DEM&#160;<br/>
<b>3.13&#160;&#160;Com User Data&#160;Support&#160;</b><br/>
The&#160;CAN&#160;NM&#160;supports&#160;the&#160;possibility&#160;to&#160;write&#160;the&#160;NM&#160;user data&#160;via&#160;Com&#160;signals.&#160;Therefore&#160;<br/>the&#160;signals&#160;have&#160;to&#160;be&#160;provided&#160;within&#160;an&#160;additional&#160;I-PDU&#160;in&#160;the&#160;configuration.&#160;The&#160;CAN&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160;&#160;<br/>
7&#160;Only&#160;checked&#160;if&#160;CANNM_PASSIVE_MODE_ENABLED is&#160;STD_OFF&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
32&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=33></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-33_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
NM&#160;&#160;updates&#160;&#160;its&#160;&#160;transmission&#160;&#160;buffer&#160;&#160;each&#160;&#160;time&#160;&#160;before&#160;&#160;sending&#160;&#160;a&#160;&#160;NM&#160;&#160;message&#160;&#160;with&#160;&#160;the&#160;<br/>current&#160;data.&#160;Therefore&#160;it&#160;calls the&#160;function:&#160;<br/>
PduR_CanNmTriggerTransmit()&#160;<br/>
<a href="TechnicalReference_CanNms.html#58">(5.4)</a>&#160;<br/>
When&#160;the&#160;NM&#160;message&#160;has&#160;been&#160;successfully&#160;transmitted&#160;the&#160;confirmation&#160;is&#160;forwarded&#160;to&#160;<br/>PduR&#160;by&#160;calling&#160;the&#160;function:&#160;<br/>
PduR_CanNmTxConfirmation()&#160;<br/>
<a href="TechnicalReference_CanNms.html#58">(5.4)</a>&#160;<br/>
Depending&#160;on&#160;the&#160;signal&#160;and&#160;I-PDU&#160;configuration&#160;a&#160;signal&#160;change&#160;can&#160;lead&#160;to&#160;a&#160;request&#160;for&#160;<br/>an&#160;immediate&#160;NM message&#160;transmission&#160;by&#160;calling&#160;the&#160;function&#160;<br/>
CanNm_Transmit()&#160;<br/>
<a href="TechnicalReference_CanNms.html#55">(5.3.2.9.1)</a>&#160;<br/>
The&#160;&#160;CAN&#160;&#160;NM&#160;&#160;then&#160;&#160;transmits&#160;&#160;the&#160;&#160;changed&#160;&#160;data&#160;&#160;in&#160;&#160;the&#160;&#160;next&#160;&#160;main&#160;&#160;function&#160;&#160;when&#160;&#160;the&#160;<br/>transmission&#160;of&#160;NM&#160;messages&#160;is&#160;allowed.&#160;Afterwards&#160;the&#160;message&#160;cycle&#160;timer&#160;is&#160;restarted,&#160;<br/>i.e.&#160;the&#160;cyclic message&#160;transmission&#160;raster changes.&#160;<br/>The&#160;&#160;spontaneous&#160;&#160;transmission&#160;&#160;through&#160;&#160;CanNm_Transmit&#160;&#160;is&#160;&#160;allowed&#160;&#160;in&#160;&#160;the&#160;&#160;NM&#160;&#160;states&#160;<br/>Repeat&#160;Message&#160;and&#160;Normal Operation&#160;if&#160;and&#160;only&#160;if&#160;<br/>
<b>&gt;&#160;&#160;</b>‘Pn&#160;Enabled’&#160;is ON and&#160;‘Pn&#160;Handle&#160;Multiple&#160;Network Requests’&#160;is OFF&#160;AND/OR&#160;<br/>
<b>&gt;&#160;&#160;</b>‘Car&#160;Wake&#160;Up&#160;Rx&#160;Enabled’&#160;is ON.&#160;<br/>
Behavior with CanNm_Transmit usage<br/>
...<br/>
Repeat Message<br/>
Normal Operation<br/>
t<br/>
0<br/>
CanNm_Transmit<br/>
CanNm_Transmit<br/>
...<br/>
Msg Cycle Offset<br/>
Msg Cycle Time<br/>
Msg Cycle Time<br/>
Msg Cycle Time<br/>
NM Message Transmissions<br/>
&#160;<br/>
Figure&#160;3-3&#160;&#160;Immediate&#160;Transmission&#160;due&#160;to&#160;Signal&#160;Change&#160;inside&#160;User&#160;Data&#160;I-PDU&#160;<br/>
The&#160;&#160;following&#160;&#160;chapters&#160;&#160;describe&#160;&#160;more&#160;&#160;detailed&#160;&#160;the&#160;&#160;configuration&#160;&#160;preconditions&#160;&#160;of&#160;&#160;this&#160;<br/>feature.&#160;<br/>Note&#160;that&#160;some&#160;additional&#160;configuration&#160;for&#160;this&#160;feature&#160;has&#160;to&#160;be&#160;done&#160;in&#160;the&#160;PDU&#160;Router.&#160;<br/>Refer to&#160;[10]&#160;for&#160;details.&#160;<br/>
<b>3.13.1&#160;&#160;Configuration Preconditions&#160;in an&#160;AUTOSAR&#160;ECU&#160;Configuration&#160;<br/></b>For&#160;&#160;using&#160;&#160;the&#160;&#160;feature&#160;&#160;‘Com&#160;&#160;User&#160;&#160;Data&#160;&#160;Support’&#160;&#160;some&#160;&#160;additional&#160;&#160;configuration&#160;&#160;content&#160;<br/>within&#160;&#160;the&#160;AUTOSAR&#160;system&#160;description&#160;&#160;/&#160;ECU&#160;&#160;Extract&#160;&#160;is&#160;necessary.&#160;The&#160;following&#160;table&#160;<br/>provides an&#160;overview&#160;of&#160;the&#160;items that&#160;have&#160;to&#160;be&#160;added&#160;to&#160;the&#160;system&#160;description.&#160;<br/>
<b>Configuration&#160;Element&#160;</b><br/>
<b>Description&#160;</b><br/>
Signal&#160;I-PDU&#160;<br/>
For&#160;each&#160;NM&#160;message one&#160;signal&#160;I-PDU&#160;must&#160;be&#160;configured.&#160;An&#160;<br/>appropriate&#160;signal&#160;mapping&#160;to&#160;the&#160;I-Signals&#160;has&#160;to&#160;be&#160;defined&#160;here.&#160;I-<br/>PDUs&#160;are&#160;defined&#160;in&#160;the&#160;ECU-specific&#160;part.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
33&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=34></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-34_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>Configuration&#160;Element&#160;</b><br/>
<b>Description&#160;</b><br/>
I-Signal&#160;<br/>
Multiple system&#160;signals&#160;can&#160;be&#160;defined&#160;for&#160;each NM&#160;message.&#160;At&#160;<br/>least&#160;one&#160;signal&#160;is&#160;required.&#160;I-Signals&#160;are&#160;defined&#160;in&#160;the&#160;ECU-specific&#160;<br/>part&#160;and&#160;refer&#160;to a&#160;system&#160;signal.&#160;<br/>
System&#160;Signal&#160;<br/>
For&#160;each&#160;I-Signal&#160;a corresponding&#160;system&#160;signal&#160;is&#160;necessary&#160;which&#160;<br/>defines&#160;length,&#160;data&#160;type&#160;and init&#160;value.&#160;<br/>
I-PDU&#160;Port&#160;<br/>
For&#160;each&#160;I-PDU&#160;an&#160;I-PDU&#160;port&#160;with the&#160;communication direction&#160;<br/>‘OUT’&#160;is&#160;required.&#160;<br/>
Signal&#160;Port&#160;<br/>
For&#160;each&#160;signal&#160;a signal&#160;port&#160;with the&#160;communication&#160;direction ‘OUT’&#160;<br/>is&#160;required.&#160;<br/>
I-PDU&#160;Triggering&#160;<br/>
For&#160;each&#160;I-PDU&#160;an&#160;I-PDU&#160;triggering is required&#160;that&#160;references&#160;to&#160;the&#160;<br/>corresponding I-PDU&#160;port&#160;and&#160;the&#160;signal&#160;I-PDU.&#160;<br/>
Signal&#160;Triggering&#160;<br/>
For&#160;each&#160;I-Signal&#160;a signal&#160;triggering is required&#160;that&#160;references&#160;to&#160;the&#160;<br/>corresponding signal&#160;port&#160;and&#160;I-Signal.&#160;<br/>
Table&#160;3-10&#160;&#160;&#160;Configuration&#160;Precondition&#160;Overview&#160;for&#160;AUTOSAR&#160;ECU&#160;Configurations&#160;<br/>
Additionally,&#160;a&#160;reference&#160;from&#160;the&#160;NM&#160;PDU&#160;to&#160;the&#160;related&#160;I-PDU&#160;with&#160;the&#160;signals&#160;must&#160;be&#160;<br/>established&#160;&#160;by&#160;&#160;adding&#160;&#160;‘ISignalToIPduMappings’&#160;&#160;to&#160;&#160;the&#160;&#160;NM&#160;&#160;PDU.&#160;&#160;The&#160;&#160;following&#160;&#160;example&#160;<br/>demonstrates&#160;how&#160;this should&#160;be&#160;done:&#160;<br/>&lt;NM-PDU&gt;&#160;<br/>&#160;&#160;&lt;SHORT-NAME&gt;NM_PDU&lt;/SHORT-NAME&gt;&#160;<br/>&#160;&#160;&lt;LENGTH&gt;8&lt;/LENGTH&gt;&#160;<br/>&#160;&#160;&lt;I-SIGNAL-TO-I-PDU-MAPPINGS&gt;&#160;<br/>&#160;&#160;&#160;<br/>
&lt;I-SIGNAL-TO-I-PDU-MAPPING&gt;&#160;<br/>
&#160;&#160;&#160;<br/>
&#160;<br/>
&lt;SHORT-NAME&gt;NM_USR_DT &lt;/SHORT-NAME&gt;&#160;<br/>
&#160;&#160;&#160;<br/>
&#160;<br/>
&lt;I-SIGNAL-REF DEST=&#34;I-<br/>
SIGNAL&#34;&gt;/ISignal/NM_USR_DT_SIGNAL&lt;/I-SIGNAL-REF&gt;&#160;<br/>&#160;&#160;&#160;<br/>
&#160;<br/>
&lt;PACKING-BYTE-ORDER&gt;MOST-SIGNIFICANT-BYTE-LAST&lt;/PACKING-<br/>
BYTE-ORDER&gt;&#160;<br/>&#160;&#160;&#160;<br/>
&#160;<br/>
&lt;START-POSITION&gt;32&lt;/START-POSITION&gt;&#160;<br/>
&#160;&#160;&#160;<br/>
&lt;/I-SIGNAL-TO-I-PDU-MAPPING&gt;&#160;<br/>
&#160;&#160;&lt;/I-SIGNAL-TO-I-PDU-MAPPINGS&gt;&#160;<br/>&lt;/NM-PDU&gt;&#160;<br/>
<b>3.14&#160;&#160;Active&#160;Wake-up Handling&#160;</b><br/>
The&#160;&#160;mode&#160;&#160;change&#160;&#160;from&#160;&#160;Bus-Sleep&#160;&#160;Mode&#160;&#160;or&#160;&#160;Prepare&#160;&#160;Bus-Sleep&#160;&#160;Mode&#160;&#160;to&#160;&#160;Network&#160;&#160;Mode&#160;<br/>triggered&#160;by&#160;CanNm_NetworkRequest()&#160;is&#160;specified&#160;as&#160;“Active&#160;Wake-up”.&#160;Upon&#160;an&#160;Active&#160;<br/>Wake-up&#160;&#160;the&#160;&#160;CAN&#160;&#160;NM&#160;&#160;sets&#160;&#160;the&#160;&#160;active&#160;&#160;wake-up&#160;&#160;bit&#160;&#160;within&#160;&#160;the&#160;&#160;Control&#160;&#160;Bit&#160;&#160;Vector&#160;&#160;at&#160;&#160;bit&#160;<br/>position&#160;4.&#160;<br/>This&#160;feature is&#160;optional&#160;and&#160;has&#160;to&#160;be&#160;configured.&#160;<br/>
<b>3.15&#160;&#160;Immediate&#160;Nm&#160;Transmissions&#160;</b><br/>
If&#160;an&#160;Active&#160;Wake-up&#160;occurs&#160;the&#160;CAN&#160;NM&#160;transmits&#160;the&#160;first&#160;NM&#160;message&#160;immediately&#160;(the&#160;<br/>NM&#160;&#160;message&#160;offset&#160;&#160;time&#160;&#160;is&#160;&#160;ignored)&#160;&#160;when&#160;entering&#160;&#160;Repeat&#160;&#160;Message&#160;&#160;State.&#160;&#160;For&#160;&#160;the&#160;&#160;next&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
34&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=35></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-35_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
NM&#160;&#160;messages&#160;&#160;CAN&#160;&#160;NM&#160;&#160;uses&#160;&#160;a&#160;&#160;faster&#160;&#160;NM&#160;&#160;message&#160;&#160;cycle&#160;&#160;time.&#160;&#160;Afterwards&#160;&#160;it&#160;&#160;uses&#160;&#160;the&#160;<br/>normal&#160;NM&#160;message&#160;cycle&#160;time.&#160;This behavior is illustrated&#160;in<a href="TechnicalReference_CanNms.html#35">&#160;Figure&#160;3-4.</a>&#160;<br/>
Behavior with&#160;n := Immediate Nm&#160;Transmissions &gt;&#160;0<br/>
Any state except<br/>
Repeat Message<br/>
t<br/>
Repeat Message<br/>
0<br/>
CanNm_NetworkRequest<br/>
1st<br/>
2nd<br/>
...<br/>
3rd<br/>
(n-1)th<br/>
nth<br/>
...<br/>
Immediate&#160;Nm<br/>
Immediate&#160;Nm<br/>
Immediate&#160;Nm<br/>
Msg&#160;Cycle Time<br/>
CycleTime<br/>
CycleTime<br/>
CycleTime<br/>
NM Message&#160;Transmissions<br/>
&#160;<br/>
Figure&#160;3-4&#160;&#160;Immediate&#160;Nm&#160;Transmissions&#160;<br/>
The&#160;&#160;number&#160;&#160;of&#160;&#160;‘Immediate&#160;&#160;Nm&#160;&#160;Transmissions’&#160;&#160;is&#160;&#160;the&#160;&#160;number&#160;&#160;that&#160;&#160;is&#160;&#160;configured&#160;&#160;for&#160;&#160;this&#160;<br/>parameter.&#160;As&#160;it&#160;can&#160;be&#160;seen&#160;in<a href="TechnicalReference_CanNms.html#35">&#160;Figure&#160;3-4,&#160;</a>after&#160;the&#160;first&#160;Immediate&#160;Nm&#160;Transmission&#160;the&#160;<br/>interval&#160;between&#160;the&#160;NM&#160;messages&#160;is&#160;‘Immediate&#160;Nm&#160;CycleTime’&#160;for&#160;<i>(n-1)</i>&#160;times.&#160;Then,&#160;the&#160;<br/>usual interval ‘Msg&#160;Cycle&#160;Time’&#160;is used&#160;again.&#160;<br/>Note&#160;&#160;that&#160;&#160;“Any&#160;&#160;state&#160;&#160;except&#160;&#160;Repeat&#160;&#160;Message”&#160;&#160;in&#160;&#160;<a href="TechnicalReference_CanNms.html#35">Figure&#160;&#160;3-4&#160;&#160;</a>refers&#160;&#160;to&#160;&#160;‘Bus&#160;&#160;Sleep’&#160;&#160;and&#160;<br/>‘Prepare&#160;&#160;Bus&#160;&#160;Sleep’.&#160;&#160;If&#160;&#160;the&#160;&#160;setting&#160;&#160;‘Pn&#160;&#160;Handle&#160;&#160;Multiple&#160;&#160;Network&#160;&#160;Requests’&#160;&#160;is&#160;&#160;ON,&#160;&#160;it&#160;&#160;also&#160;<br/>refers to&#160;‘Ready&#160;Sleep’&#160;and&#160;‘Normal Operation’.&#160;<br/>This&#160;&#160;feature&#160;&#160;is&#160;&#160;optional&#160;&#160;and&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;enabled&#160;&#160;in&#160;&#160;the&#160;&#160;configuration.&#160;&#160;The&#160;&#160;amount&#160;&#160;of&#160;<br/>messages&#160;&#160;that&#160;&#160;are&#160;&#160;transmitted&#160;&#160;faster&#160;&#160;(‘Immediate&#160;&#160;Nm&#160;&#160;Transmissions’)&#160;&#160;and&#160;&#160;the&#160;&#160;fast&#160;<br/>message&#160;cycle&#160;time&#160;(‘Immediate&#160;Nm&#160;Cycle&#160;Time’)&#160;can&#160;also&#160;be&#160;configured.&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
35&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=36></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-36_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-36_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-36_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>This&#160;feature&#160;should not&#160;be confused&#160;with the&#160;possibility&#160;for&#160;an&#160;immediate&#160;transmission&#160;if&#160;<br/>
&#160;&#160;the&#160;‘Com&#160;User&#160;Data&#160;Support’&#160;feature&#160;is&#160;on&#160;(chapt<a href="TechnicalReference_CanNms.html#32">er&#160;3.13)</a>&#160;and should&#160;also&#160;not&#160;be&#160;<br/>
confused with the&#160;<a href="TechnicalReference_CanNms.html#36">‘Immediate&#160;Restart&#160;Enabled’</a>&#160;feature&#160;described&#160;in the&#160;following&#160;<br/>chapter.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>If&#160;the&#160;send&#160;request&#160;of&#160;an&#160;‘immediate&#160;transmission’&#160;is&#160;rejected&#160;by&#160;the lower&#160;layer&#160;(e.g.&#160;<br/>
&#160;&#160;CanIf),&#160;the&#160;rejected&#160;send&#160;request&#160;is&#160;not&#160;considered as&#160;‘immediate&#160;transmission’.&#160;That&#160;<br/>
means&#160;that&#160;the&#160;counter&#160;that&#160;counts&#160;the&#160;number&#160;of&#160;‘immediate&#160;transmissions’&#160;<br/><i>ImmediateNmMsgCount</i>&#160;is&#160;not&#160;decremented.&#160;<br/>Example:&#160;Let&#160;‘Immediate&#160;Nm&#160;Transmissions’&#160;:=&#160;2.&#160;The&#160;initial&#160;counter&#160;value&#160;of&#160;<br/><i>ImmediateNmMsgCount</i>&#160;is&#160;1.&#160;<br/>
1.&#160;&#160;When Repeat&#160;Message&#160;has&#160;just&#160;been&#160;entered,&#160;the&#160;first&#160;transmission&#160;request&#160;<br/>
<i>TReqA</i>&#160;is&#160;rejected.&#160;<i>ImmediateNmMsgCount</i>&#160;is&#160;not&#160;decremented.&#160;<br/>
2.&#160;&#160;CanNm&#160;waits&#160;‘Immediate&#160;Msg&#160;CycleTime’&#160;(first&#160;interval&#160;<i>tint1st</i>).&#160;<br/>
3.&#160;&#160;CanNm&#160;sends&#160;the&#160;NM&#160;message&#160;successfully.&#160;<i>ImmediateNmMsgCount</i>&#160;is&#160;<br/>
decremented&#160;to&#160;0.&#160;<br/>
4.&#160;&#160;CanNm&#160;waits&#160;‘Immediate&#160;Msg&#160;CycleTime’&#160;again&#160;(second&#160;interval&#160;<i>tint2nd</i>).&#160;<br/>
5.&#160;&#160;CanNm&#160;sends&#160;the&#160;next&#160;NM&#160;message&#160;successfully.&#160;<br/>
6.&#160;&#160;Then&#160;‘Msg&#160;Cycle&#160;Time’&#160;is&#160;waited&#160;until&#160;the&#160;next&#160;NM&#160;message is&#160;sent&#160;because&#160;<br/>
<i>ImmediateNmMsgCount</i>&#160;is&#160;already&#160;0.&#160;<br/>
If&#160;the&#160;first&#160;NM&#160;transmission&#160;request&#160;<i>TReqA</i>&#160;was successful&#160;(step&#160;1),&#160;the&#160;second interval&#160;<br/>
time&#160;<i>tint2nd</i>&#160;would be&#160;‘Msg&#160;Cycle&#160;Time’&#160;instead of&#160;‘Immediate&#160;Msg&#160;CycleTime’.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>3.16&#160;&#160;Immediate&#160;Restart Enabled&#160;</b><br/>
This&#160;feature&#160;enables&#160;the&#160;possibility&#160;to&#160;send&#160;an&#160;additional&#160;NM&#160;message&#160;upon&#160;the&#160;transition&#160;<br/>from&#160;Prepare&#160;Bus&#160;Sleep&#160;to&#160;Repeat&#160;Message&#160;if&#160;and&#160;only&#160;if&#160;the&#160;network&#160;is&#160;requested&#160;actively&#160;<br/>(e.g.&#160;there is&#160;a&#160;request&#160;for Full Communication&#160;in&#160;ComM).&#160;<br/>
Behavior with&#160;Immediate Restart Enabled<br/>
Prepare Bus Sleep<br/>
Repeat Message<br/>
t<br/>
0<br/>
CanNm_NetworkRequest<br/>
...<br/>
Msg&#160;Cycle Offset<br/>
Msg&#160;Cycle Time<br/>
Msg&#160;Cycle Time<br/>
NM Message&#160;Transmissions<br/>
&#160;<br/>
Figure&#160;3-5&#160;&#160;Behavior&#160;for&#160;NM&#160;Transmissions&#160;if&#160;Immediate&#160;Restart&#160;Enabled&#160;is&#160;ON&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
36&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=37></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-37_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-37_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-37_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
This&#160;&#160;behavior&#160;&#160;is&#160;&#160;depicted&#160;&#160;in&#160;&#160;<a href="TechnicalReference_CanNms.html#36">Figure&#160;&#160;3-5.&#160;&#160;</a>Note&#160;&#160;that&#160;&#160;the&#160;&#160;only&#160;&#160;difference&#160;&#160;to&#160;&#160;the&#160;&#160;standard&#160;<br/>transmission&#160;&#160;behavior&#160;&#160;(i.e.&#160;&#160;‘Immediate&#160;&#160;Restart&#160;&#160;Enabled’&#160;&#160;would&#160;&#160;be&#160;&#160;OFF,&#160;&#160;for&#160;&#160;the&#160;&#160;behavior&#160;<br/>see&#160;&#160;also&#160;&#160;chapter&#160;&#160;<a href="TechnicalReference_CanNms.html#25">3.6.3)&#160;&#160;</a>is&#160;&#160;the&#160;&#160;additional&#160;&#160;NM&#160;&#160;message&#160;&#160;right&#160;&#160;after&#160;&#160;Repeat&#160;&#160;Message&#160;&#160;has&#160;<br/>been&#160;entered.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>The&#160;additional&#160;NM&#160;message&#160;is&#160;only&#160;sent&#160;if&#160;the&#160;‘Msg Cycle Offset’&#160;setting&#160;is&#160;greater&#160;than&#160;<br/>
&#160;&#160;0 and if&#160;‘Immediate&#160;Nm&#160;Transmissions’&#160;=&#160;0&#160;(refer&#160;to chapter<a href="TechnicalReference_CanNms.html#34">&#160;3.15&#160;</a>for&#160;details).&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.17&#160;&#160;Car&#160;Wake-up&#160;</b><br/>
Every&#160;&#160;ECU&#160;&#160;shall&#160;&#160;be&#160;&#160;able&#160;&#160;to&#160;&#160;wake&#160;&#160;up&#160;&#160;all&#160;&#160;other&#160;&#160;ECUs&#160;&#160;of&#160;&#160;the&#160;&#160;car.&#160;&#160;This&#160;&#160;wake-up&#160;&#160;request&#160;<br/>information&#160;&#160;is&#160;&#160;contained&#160;&#160;in&#160;&#160;the&#160;&#160;NM&#160;&#160;message&#160;&#160;user&#160;&#160;data&#160;&#160;of&#160;&#160;an&#160;&#160;ECU.&#160;&#160;The&#160;&#160;central&#160;&#160;gateway&#160;<br/>ECU&#160;&#160;evaluates&#160;&#160;the&#160;&#160;Car&#160;&#160;Wake-up&#160;&#160;request&#160;&#160;information&#160;&#160;and&#160;&#160;wakes&#160;&#160;up&#160;&#160;all&#160;&#160;connected&#160;<br/>communication&#160;channels.&#160;<br/>This&#160;feature is&#160;optional&#160;and&#160;has&#160;to&#160;be&#160;configured.&#160;<br/>
<b>3.17.1&#160;&#160;Rx-Path&#160;<br/></b>If&#160;&#160;the&#160;&#160;CAN&#160;&#160;NM&#160;&#160;receives&#160;&#160;a&#160;&#160;NM&#160;&#160;message&#160;&#160;it&#160;&#160;evaluates&#160;&#160;the&#160;&#160;user&#160;&#160;data&#160;&#160;content.&#160;&#160;If&#160;&#160;the&#160;&#160;Car&#160;<br/>Wake-up&#160;Bit&#160;is&#160;set&#160;and&#160;the&#160;Node&#160;ID&#160;passes&#160;a&#160;filter&#160;(if&#160;Node&#160;ID&#160;filter&#160;is&#160;enabled)&#160;the&#160;CAN&#160;<br/>NM&#160;notifies&#160;the&#160;NM via&#160;the&#160;following&#160;callback function:&#160;<br/>
Nm_CarWakeUpIndication()&#160;<br/>
<a href="TechnicalReference_CanNms.html#58">(5.4)</a>&#160;<br/>
&#160;<br/>
<b>3.17.2&#160;&#160;Tx-Path&#160;<br/></b>For&#160;the&#160;transmission&#160;of&#160;the&#160;Car&#160;Wake-up&#160;Bit&#160;it&#160;has&#160;to&#160;be&#160;set&#160;at&#160;the&#160;corresponding&#160;location&#160;<br/>within&#160;&#160;the&#160;&#160;NM&#160;&#160;user&#160;&#160;data.&#160;&#160;If&#160;&#160;the&#160;&#160;feature&#160;&#160;‘Com&#160;&#160;User&#160;&#160;Data&#160;&#160;Support’&#160;&#160;is&#160;&#160;used&#160;&#160;and&#160;&#160;the&#160;<br/>corresponding&#160;signal&#160;and&#160;I-PDU&#160;are&#160;configured&#160;for&#160;directly&#160;transmitting&#160;a&#160;changed&#160;signal&#160;<br/>the&#160;information&#160;is sent&#160;immediately.&#160;Refer also&#160;to&#160;chapte<a href="TechnicalReference_CanNms.html#32">r&#160;3.13&#160;‘Com User Data&#160;Support’.</a>&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Info&#160;<br/></b>It&#160;is&#160;recommended&#160;to&#160;use the&#160;feature&#160;‘Com&#160;User&#160;Data&#160;Support’&#160;for&#160;the&#160;transmission&#160;<br/>
&#160;&#160;path.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.18&#160;&#160;Partial&#160;Networking&#160;</b><br/>
To&#160;&#160;reduce&#160;&#160;the&#160;&#160;power&#160;&#160;consumption&#160;&#160;of&#160;&#160;ECUs&#160;&#160;it&#160;&#160;shall&#160;&#160;be&#160;&#160;possible&#160;&#160;to&#160;&#160;switch&#160;&#160;off&#160;&#160;the&#160;<br/>communication&#160;&#160;stack&#160;&#160;during&#160;&#160;active&#160;&#160;bus&#160;&#160;communication.&#160;&#160;To&#160;&#160;control&#160;&#160;the&#160;&#160;shutdown&#160;&#160;and&#160;<br/>wake-up&#160;of&#160;such&#160;ECUs&#160;the&#160;CAN&#160;NM&#160;provides&#160;an&#160;additional&#160;algorithm.&#160;The&#160;NM&#160;message&#160;<br/>user&#160;&#160;data&#160;&#160;contains&#160;&#160;the&#160;&#160;information&#160;&#160;which&#160;&#160;partial&#160;&#160;networks&#160;&#160;(PN)&#160;&#160;are&#160;&#160;requested.&#160;&#160;This&#160;<br/>information&#160;is&#160;evaluated&#160;by&#160;the&#160;CAN&#160;NM&#160;and&#160;provided&#160;to&#160;the&#160;upper&#160;layer&#160;in&#160;an&#160;aggregated&#160;<br/>form&#160;by&#160;updating&#160;the&#160;content&#160;of&#160;additional I-PDUs in&#160;the&#160;Com.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
37&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=38></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-38_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
Algorithm&#160;details are&#160;described&#160;in&#160;the&#160;following&#160;sub-chapters.&#160;<br/>This&#160;feature&#160;and&#160;all&#160;of&#160;its&#160;sub-features are&#160;optional&#160;and&#160;have&#160;to&#160;be&#160;configured&#160;<br/>
<b>3.18.1&#160;&#160;Availability&#160;of Partial&#160;Network&#160;Request&#160;Information&#160;<br/></b>To&#160;distinguish&#160;between&#160;NM&#160;messages&#160;containing&#160;PN&#160;cluster&#160;request&#160;information&#160;(CRI)&#160;and&#160;<br/>NM&#160;messages&#160;without&#160;CRI&#160;a&#160;special&#160;bit&#160;in&#160;the&#160;control&#160;bit&#160;vector&#160;(bit&#160;6)&#160;is&#160;used.&#160;Only&#160;if&#160;this&#160;<br/>bit is set&#160;the&#160;NM message&#160;contains&#160;PN information&#160;and&#160;will be&#160;processed&#160;by&#160;the&#160;algorithm.&#160;<br/>
<b>3.18.2&#160;&#160;Transmission of the&#160;CRI&#160;Bit in the&#160;NM&#160;User&#160;Data&#160;<br/></b>The&#160;&#160;CAN&#160;&#160;NM&#160;&#160;sets&#160;&#160;the&#160;&#160;CRI&#160;&#160;Bit&#160;&#160;at&#160;&#160;bit&#160;&#160;position&#160;&#160;6&#160;&#160;in&#160;&#160;the&#160;&#160;Control&#160;&#160;Bit&#160;&#160;Vector&#160;&#160;to&#160;&#160;1&#160;&#160;for&#160;&#160;each&#160;<br/>channel if&#160;the&#160;Partial Networking&#160;feature is&#160;enabled&#160;on&#160;the&#160;corresponding&#160;channel.&#160;<br/>
<b>3.18.3&#160;&#160;Filter&#160;Algorithm for&#160;Received&#160;NM&#160;Messages&#160;<br/></b>NM&#160;messages&#160;that&#160;are&#160;not&#160;relevant&#160;for&#160;an&#160;ECU&#160;with&#160;PN&#160;must&#160;be&#160;dropped.&#160;Therefore&#160;the&#160;<br/>content&#160;of&#160;received&#160;NM&#160;messages&#160;is&#160;evaluated&#160;after&#160;the&#160;filter&#160;algorithm&#160;described&#160;in&#160;&#160;this&#160;<br/>section&#160;has&#160;been&#160;activated.&#160;Otherwise&#160;the&#160;usual&#160;way&#160;of&#160;receiving&#160;messages&#160;is&#160;being&#160;used.&#160;<br/>The&#160;filter&#160;is&#160;disabled&#160;after&#160;the&#160;initialization&#160;of&#160;the&#160;CAN&#160;NM&#160;module.&#160;The&#160;message&#160;reception&#160;<br/>filter&#160;&#160;is&#160;&#160;being&#160;&#160;activated&#160;&#160;after&#160;&#160;a&#160;&#160;call&#160;&#160;of&#160;&#160;CanNm_ConfirmPnAvailability&#160;&#160;(refer&#160;&#160;to&#160;&#160;chapter&#160;<br/><a href="TechnicalReference_CanNms.html#60">5.5.2.1&#160;&#160;‘CanNm_ConfirmPnAvailability:&#160;&#160;Notification&#160;&#160;for&#160;&#160;Activating&#160;&#160;the&#160;&#160;PN&#160;&#160;Filter&#160;<br/>Functionality’</a>&#160;for&#160;further&#160;details).&#160;The&#160;filter&#160;is&#160;disabled&#160;in&#160;case&#160;the&#160;channel&#160;is&#160;started&#160;again,&#160;<br/>by&#160;either an&#160;internal or&#160;external event&#160;and&#160;‘CanNm_ConfirmPnAvailability’&#160;was not&#160;called.&#160;<br/>The&#160;filter&#160;algorithm&#160;works as&#160;follows:&#160;<br/>If&#160;the&#160;CRI bit is cleared&#160;the&#160;NM&#160;message&#160;is not&#160;relevant&#160;for&#160;the&#160;ECU.&#160;<br/>If&#160;&#160;the&#160;&#160;CRI&#160;&#160;bit&#160;&#160;is&#160;&#160;set&#160;&#160;the&#160;&#160;CAN&#160;&#160;NM&#160;&#160;evaluates&#160;&#160;the&#160;&#160;CRI&#160;&#160;content&#160;&#160;of&#160;&#160;the&#160;&#160;NM&#160;&#160;message.&#160;&#160;The&#160;<br/>location&#160;and&#160;the&#160;length&#160;of&#160;the&#160;CRI&#160;in&#160;the&#160;NM&#160;user&#160;data&#160;can&#160;be&#160;configured.&#160;Each&#160;bit&#160;within&#160;<br/>the&#160;&#160;CRI&#160;&#160;content&#160;&#160;represents&#160;&#160;one&#160;&#160;cluster.&#160;&#160;The&#160;&#160;corresponding&#160;&#160;cluster&#160;&#160;is&#160;&#160;being&#160;&#160;requested&#160;&#160;if&#160;<br/>and&#160;only&#160;if&#160;the&#160;bit&#160;that&#160;belongs&#160;to&#160;the&#160;cluster&#160;is&#160;set.&#160;Because&#160;not&#160;every&#160;cluster&#160;is&#160;relevant&#160;<br/>for&#160;the&#160;ECU&#160;a&#160;configurable&#160;PN&#160;filter&#160;mask&#160;is&#160;applied&#160;to&#160;the&#160;CRI&#160;content.&#160;Irrelevant&#160;cluster&#160;<br/>requests&#160;can&#160;be&#160;ignored&#160;by&#160;setting&#160;the&#160;corresponding&#160;bit&#160;in&#160;the&#160;filter&#160;to&#160;0.&#160;If&#160;at&#160;least&#160;one&#160;bit&#160;<br/>within&#160;&#160;the&#160;&#160;received&#160;&#160;PN&#160;&#160;information&#160;&#160;matches&#160;&#160;with&#160;&#160;a&#160;&#160;bit&#160;&#160;in&#160;&#160;the&#160;&#160;PN&#160;&#160;filter&#160;&#160;mask&#160;&#160;the&#160;&#160;NM&#160;<br/>message&#160;is relevant&#160;for the&#160;ECU,&#160;otherwise&#160;the&#160;NM message&#160;is not&#160;relevant&#160;for the&#160;ECU.&#160;<br/>If&#160;a&#160;NM&#160;message&#160;is&#160;not&#160;relevant&#160;and&#160;the&#160;configuration&#160;parameter&#160;’All&#160;Nm&#160;Messages&#160;Keep&#160;<br/>Awake’&#160;&#160;is&#160;&#160;true&#160;&#160;the&#160;&#160;standard&#160;&#160;NM&#160;&#160;message&#160;&#160;reception&#160;&#160;handling&#160;&#160;is&#160;&#160;done,&#160;&#160;otherwise&#160;&#160;the&#160;&#160;NM&#160;<br/>message&#160;is ignored.&#160;<br/>If&#160;a&#160;NM&#160;message&#160;is&#160;relevant&#160;the&#160;CAN&#160;NM&#160;performs&#160;the&#160;standard&#160;NM&#160;message&#160;reception&#160;<br/>and&#160;&#160;additionally&#160;&#160;the&#160;&#160;filtered&#160;&#160;PN&#160;&#160;content&#160;&#160;of&#160;&#160;this&#160;&#160;message&#160;&#160;is&#160;&#160;used&#160;&#160;for&#160;&#160;the&#160;&#160;further&#160;&#160;PN&#160;<br/>algorithm.&#160;<br/>
<b>3.18.4&#160;&#160;Aggregation of&#160;Requested Partial&#160;Networks&#160;<br/></b>The&#160;&#160;CAN&#160;&#160;NM&#160;&#160;aggregates&#160;&#160;requested&#160;&#160;PN&#160;&#160;information&#160;&#160;by&#160;&#160;two&#160;&#160;slightly&#160;&#160;different&#160;&#160;algorithms.&#160;<br/>First&#160;&#160;the&#160;&#160;external&#160;&#160;(received)&#160;&#160;and&#160;&#160;internal&#160;&#160;(sent)&#160;&#160;PN&#160;&#160;requests&#160;&#160;are&#160;&#160;aggregated&#160;&#160;over&#160;&#160;all&#160;<br/>networks&#160;&#160;(channels)&#160;&#160;to&#160;&#160;a&#160;&#160;combined&#160;&#160;state&#160;&#160;called&#160;&#160;External&#160;&#160;Internal&#160;&#160;Requests&#160;&#160;Aggregated&#160;<br/>(EIRA).&#160;Second&#160;only&#160;the&#160;external&#160;(received)&#160;PN&#160;requests&#160;are&#160;aggregated&#160;for&#160;each&#160;network&#160;<br/>to&#160;&#160;the&#160;&#160;so&#160;&#160;called&#160;&#160;External&#160;&#160;Requests&#160;&#160;Aggregated&#160;&#160;(ERA)&#160;&#160;state.&#160;&#160;Both&#160;&#160;algorithms&#160;&#160;can&#160;&#160;be&#160;<br/>activated&#160;independently&#160;in&#160;the&#160;configuration.&#160;&#160;<br/>For&#160;the&#160;EIRA&#160;algorithm&#160;every&#160;received&#160;or&#160;sent&#160;NM&#160;message&#160;on&#160;any&#160;network&#160;is&#160;evaluated&#160;<br/>and&#160;&#160;the&#160;&#160;relevant&#160;&#160;PN&#160;&#160;information&#160;&#160;(according&#160;&#160;to&#160;&#160;the&#160;&#160;PN&#160;&#160;filter&#160;&#160;mask&#160;&#160;and&#160;&#160;the&#160;&#160;CRI&#160;&#160;bit)&#160;&#160;is&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
38&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=39></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-39_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-39_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
combined&#160;&#160;to&#160;&#160;one&#160;&#160;aggregated&#160;&#160;state.&#160;&#160;Therefore&#160;&#160;this&#160;&#160;state&#160;&#160;contains&#160;&#160;the&#160;&#160;information&#160;&#160;which&#160;<br/>partial networks are active&#160;on&#160;the&#160;whole&#160;ECU.&#160;<br/>The&#160;ERA&#160;algorithm&#160;performs&#160;the&#160;evaluation&#160;of&#160;the&#160;received&#160;NM&#160;messages&#160;and&#160;storage&#160;of&#160;<br/>the&#160;relevant&#160;PN&#160;information&#160;(according&#160;to&#160;the&#160;PN&#160;filter&#160;mask&#160;and&#160;the&#160;CRI&#160;bit)&#160;per&#160;network.&#160;<br/>Therefore&#160;the&#160;ERA&#160;state&#160;contains&#160;for&#160;each&#160;network&#160;the&#160;information&#160;which&#160;partial&#160;networks&#160;<br/>are requested&#160;by&#160;other&#160;ECUs and&#160;have&#160;to&#160;be&#160;active&#160;due&#160;to&#160;external&#160;needs.&#160;<br/>Whenever&#160;a&#160;cluster&#160;is&#160;requested&#160;the&#160;first&#160;time&#160;(i.e.&#160;a&#160;bit&#160;is&#160;set&#160;the&#160;first&#160;time&#160;within&#160;this&#160;PN&#160;<br/>information)&#160;the&#160;new&#160;request&#160;is&#160;stored&#160;and&#160;a&#160;timer&#160;is&#160;started.&#160;When&#160;the&#160;request&#160;is&#160;repeated&#160;<br/>before&#160;&#160;the&#160;&#160;timer&#160;&#160;elapses&#160;&#160;the&#160;&#160;timer&#160;&#160;is&#160;&#160;restarted.&#160;&#160;When&#160;&#160;the&#160;&#160;timer&#160;&#160;elapses&#160;&#160;the&#160;&#160;request&#160;&#160;is&#160;<br/>deleted.&#160;<br/>Any&#160;change&#160;(storing&#160;or&#160;deleting&#160;a&#160;request)&#160;within&#160;the&#160;EIRA&#160;&#160;or&#160;ERA&#160;leads&#160;to&#160;an&#160;update&#160;of&#160;<br/>the&#160;&#160;content&#160;&#160;of&#160;&#160;the&#160;&#160;EIRA&#160;&#160;or&#160;&#160;ERA&#160;&#160;I-PDU&#160;&#160;in&#160;&#160;the&#160;&#160;Com.&#160;&#160;Therefore&#160;&#160;the&#160;&#160;following&#160;&#160;function&#160;&#160;is&#160;<br/>called&#160;with&#160;the&#160;corresponding&#160;EIRA&#160;or ERA&#160;PDU&#160;handle:&#160;<br/>
PduR_CanNmRxIndication()&#160;<br/>
<a href="TechnicalReference_CanNms.html#58">(5.4)</a>&#160;<br/>
Note&#160;that&#160;one&#160;ERA&#160;I-PDU&#160;exists for each&#160;network.&#160;<br/>
<b>3.18.5&#160;&#160;Spontaneous&#160;Sending of NM&#160;Messages&#160;<br/></b>When&#160;&#160;a&#160;&#160;new&#160;&#160;PN&#160;&#160;is&#160;&#160;internally&#160;&#160;requested&#160;&#160;the&#160;&#160;corresponding&#160;&#160;bit&#160;&#160;in&#160;&#160;the&#160;&#160;NM&#160;&#160;message&#160;&#160;user&#160;<br/>data&#160;&#160;will&#160;&#160;be&#160;&#160;set.&#160;&#160;This&#160;&#160;request&#160;&#160;must&#160;&#160;be&#160;&#160;immediately&#160;&#160;visible&#160;&#160;on&#160;&#160;the&#160;&#160;bus&#160;&#160;by&#160;&#160;sending&#160;&#160;the&#160;<br/>updated&#160;user&#160;data&#160;content&#160;as&#160;fast&#160;as&#160;possible.&#160;Therefore&#160;two&#160;mechanisms can&#160;be&#160;used.&#160;<br/>
<b>3.18.5.1&#160;&#160;Using Com&#160;Transmission on Change&#160;Mechanism&#160;<br/></b>When&#160;&#160;the&#160;&#160;NM&#160;&#160;user&#160;&#160;data&#160;&#160;is&#160;&#160;set&#160;&#160;via&#160;&#160;Com&#160;&#160;the&#160;&#160;signals&#160;&#160;can&#160;&#160;be&#160;&#160;configured&#160;&#160;for&#160;&#160;immediate&#160;<br/>transmission&#160;&#160;on&#160;&#160;change.&#160;&#160;This&#160;&#160;would&#160;&#160;lead&#160;&#160;to&#160;&#160;one&#160;&#160;additional&#160;&#160;NM&#160;&#160;message&#160;&#160;transmission&#160;<br/>whenever&#160;the&#160;content&#160;of&#160;the&#160;signal&#160;changes.&#160;Refer&#160;also&#160;to&#160;chapte<a href="TechnicalReference_CanNms.html#32">r&#160;&#160;3.13&#160;‘Com&#160;User&#160;Data&#160;<br/>Support’</a>.&#160;<br/>To&#160;&#160;enable&#160;&#160;this&#160;&#160;behavior,&#160;&#160;the&#160;&#160;setting&#160;&#160;‘Pn&#160;&#160;Handle&#160;&#160;Multiple&#160;&#160;Network&#160;&#160;Requests’&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;<br/>turned&#160;OFF.&#160;<br/>
<b>3.18.5.2&#160;&#160;Using NM&#160;Request and Immediate&#160;Nm&#160;Transmission&#160;<br/></b>When&#160;CAN&#160;NM&#160;is&#160;in&#160;Network&#160;Mode&#160;and&#160;the&#160;upper&#160;layer&#160;requests&#160;network&#160;again&#160;by&#160;calling&#160;<br/>the&#160;&#160;function&#160;&#160;‘CanNm_NetworkRequest’&#160;&#160;(see&#160;&#160;chapter&#160;&#160;<a href="TechnicalReference_CanNms.html#49">5.3.2.4.1‘CanNm_NetworkRequest:&#160;<br/>Request&#160;&#160;the&#160;&#160;Network’&#160;&#160;</a>for&#160;&#160;details)&#160;&#160;the&#160;&#160;CAN&#160;&#160;NM&#160;&#160;performs&#160;&#160;a&#160;&#160;state&#160;&#160;transition&#160;&#160;to&#160;&#160;Repeat&#160;<br/>Message.&#160;&#160;This&#160;&#160;leads&#160;&#160;to&#160;&#160;an&#160;&#160;immediate&#160;&#160;transmission&#160;&#160;of&#160;&#160;the&#160;&#160;NM&#160;&#160;message&#160;&#160;followed&#160;&#160;by&#160;<br/>several transmissions&#160;with&#160;a&#160;faster cycle&#160;time.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>Note&#160;that&#160;the&#160;feature&#160;‘Immediate&#160;Nm&#160;Transmission’&#160;(refer&#160;to chapter<a href="TechnicalReference_CanNms.html#34">&#160;3.15&#160;‘Immediate&#160;</a><br/>
<b>&#160;&#160;</b><a href="TechnicalReference_CanNms.html#34">Nm&#160;Transmissions’</a>)&#160;must&#160;be&#160;enabled&#160;when using&#160;this&#160;mechanism&#160;for&#160;spontaneous&#160;<br/>
sending&#160;of&#160;NM&#160;messages.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>Note&#160;that&#160;this&#160;mechanism&#160;will only&#160;be&#160;active&#160;if&#160;PN&#160;feature is&#160;enabled.&#160;<br/>To&#160;&#160;enable&#160;&#160;this&#160;&#160;behavior,&#160;&#160;the&#160;&#160;setting&#160;&#160;‘Pn&#160;&#160;Handle&#160;&#160;Multiple&#160;&#160;Network&#160;&#160;Requests’&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;<br/>turned&#160;ON.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
39&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=40></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-40_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-40_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>4.&#160;&#160;Integration&#160;</b><br/>
This&#160;&#160;chapter&#160;&#160;gives&#160;&#160;necessary&#160;&#160;information&#160;&#160;for&#160;&#160;the&#160;&#160;integration&#160;&#160;of&#160;&#160;the&#160;&#160;MICROSAR&#160;&#160;CANNM&#160;<br/>into&#160;an&#160;application&#160;environment&#160;of&#160;an&#160;ECU.&#160;<br/>
<b>4.1&#160;&#160;Scope&#160;of&#160;Delivery&#160;</b><br/>
The&#160;&#160;delivery&#160;&#160;of&#160;&#160;the&#160;&#160;CANNM&#160;&#160;contains&#160;&#160;the&#160;&#160;files&#160;&#160;which&#160;&#160;are&#160;&#160;described&#160;&#160;in&#160;&#160;the&#160;&#160;chapters<a href="TechnicalReference_CanNms.html#40">&#160;&#160;4.1.1&#160;<br/>and&#160;4.1.2:</a>&#160;<br/>
<b>4.1.1&#160;</b><br/>
<b>Static&#160;Files&#160;</b><br/>
<b>File&#160;Name&#160;</b><br/>
<b>Source&#160;</b><br/>
<b>Object&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>Code&#160;</b><br/>
<b>Code&#160;</b><br/>
<b>Delivery&#160;&#160;Delivery&#160;</b><br/>
CanNm.c&#160;<br/>
Source code&#160;of&#160;CAN&#160;NM.<br/>
<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
The&#160;user&#160;<b>must&#160;not</b>&#160;change&#160;this&#160;file!&#160;<br/>
CanNm.h&#160;<br/>
API&#160;of&#160;CAN&#160;NM.<br/>
<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
The&#160;user&#160;<b>must&#160;not</b>&#160;change&#160;this&#160;file!&#160;<br/>
CanNm_Cbk.h&#160;<br/>
API&#160;of&#160;CAN&#160;NM&#160;callback&#160;functions.<br/>
<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
The&#160;user&#160;<b>must&#160;not</b>&#160;change&#160;this&#160;file!&#160;<br/>
Table&#160;4-1&#160;&#160;&#160;Static&#160;files&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Do not&#160;edit&#160;manually&#160;<br/></b>The&#160;static&#160;files&#160;listed&#160;above must&#160;not&#160;be&#160;edited&#160;by&#160;the&#160;user!&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>4.1.2&#160;</b><br/>
<b>Dynamic&#160;Files&#160;</b><br/>
The&#160;dynamic&#160;files are&#160;generated&#160;by&#160;the&#160;configuration&#160;tool&#160;DaVinci Configurator.&#160;<br/>
<b>File&#160;Name&#160;</b><br/>
<b>Description&#160;</b><br/>
CanNm_Cfg.c&#160;<br/>
Pre-compile variant&#160;configuration source&#160;file.&#160;<br/>The&#160;user&#160;<b>must&#160;not</b>&#160;change&#160;this&#160;file!&#160;<br/>
CanNm_Cfg.h&#160;<br/>
Configuration header&#160;file&#160;for&#160;CAN&#160;NM.&#160;<br/>The&#160;user&#160;<b>must&#160;not</b>&#160;change&#160;this&#160;file!&#160;<br/>
CanNm_Lcfg.c&#160;<br/>
Link-time&#160;variant&#160;Configuration source&#160;file.&#160;<br/>The&#160;user&#160;<b>must&#160;not</b>&#160;change&#160;this&#160;file!&#160;<br/>
CanNm_Pbcfg.c&#160;<br/>
Post-build variant&#160;Configuration source&#160;file.&#160;<br/>The&#160;user&#160;<b>must&#160;not</b>&#160;change&#160;this&#160;file!&#160;<br/>
Table&#160;4-2&#160;&#160;&#160;Generated&#160;files&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
40&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=41></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-41_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-41_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Do not&#160;edit&#160;manually&#160;<br/></b>The&#160;dynamic&#160;files listed&#160;above must&#160;not&#160;be&#160;edited by&#160;the&#160;user!&#160;They&#160;should be&#160;<br/>
&#160;&#160;generated&#160;with the&#160;configuration&#160;tool&#160;to&#160;guarantee valid&#160;parameters.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>4.2&#160;&#160;Include&#160;Structure&#160;</b><br/>
<b>&#160;class&#160;IncludeStructure</b><br/>
CanSM_TxTimeOutException.h<br/>
SchM_CanNm.h<br/>
CanNm_Cbk.h<br/>
«include»<br/>
«include»<br/>
«include»<br/>
«include»<br/>
CanNm_Cfg.h<br/>
PduR_CanNm.h<br/>
CanNm.c<br/>
«include»<br/>
«include»<br/>
«include»<br/>
CanNm.h<br/>
«include»<br/>
«include»<br/>
«include»<br/>
«include»<br/>
CanIf.h<br/>
Nm_Cbk.h<br/>
CanNm_Lcfg.c<br/>
CanNm_PBcfg.c<br/>
«include»<br/>
ComM_Types.h<br/>
ComM_Nm.h<br/>
«include»<br/>
&#160;<br/>
Figure&#160;4-1&#160;&#160;Include&#160;structure&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
41&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=42></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-42_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-42_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>4.3&#160;</b><br/>
<b>Main Functions&#160;</b><br/>
The&#160;CAN&#160;NM&#160;contains&#160;one&#160;main&#160;function&#160;that&#160;has&#160;to&#160;be&#160;called&#160;cyclically&#160;on&#160;task&#160;level.&#160;The&#160;<br/>default&#160;timing&#160;value&#160;is&#160;10&#160;milliseconds.&#160;The&#160;call&#160;cycle&#160;time&#160;value&#160;for&#160;the&#160;main&#160;function&#160;has&#160;<br/>to&#160;be&#160;set&#160;in&#160;the&#160;configuration&#160;settings&#160;(Setting:&#160;‘Main&#160;Function&#160;Period’).&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>In an&#160;AUTOSAR&#160;environment&#160;where the&#160;BSW&#160;Scheduler&#160;(SchM)&#160;is&#160;used&#160;the&#160;main&#160;<br/>
&#160;&#160;functions&#160;are&#160;called&#160;by&#160;the SchM&#160;and must&#160;not&#160;be&#160;called&#160;by&#160;the&#160;application.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>4.4&#160;</b><br/>
<b>Critical&#160;Sections&#160;</b><br/>
Critical&#160;&#160;Sections&#160;&#160;are&#160;&#160;handled&#160;&#160;by&#160;&#160;the&#160;&#160;RTE<a href="TechnicalReference_CanNms.html#3">&#160;&#160;[7].&#160;&#160;</a>They&#160;&#160;are&#160;&#160;automatically&#160;&#160;configured&#160;&#160;by&#160;&#160;the&#160;<br/>DaVinci&#160;Configurator.&#160;User&#160;interaction&#160;is&#160;only&#160;necessary&#160;by&#160;updating&#160;the&#160;internal&#160;behavior&#160;<br/>using&#160;&#160;the&#160;&#160;solving&#160;&#160;action&#160;&#160;in&#160;&#160;DaVinci&#160;&#160;Configurator.&#160;&#160;It&#160;&#160;is&#160;&#160;signaled&#160;&#160;as&#160;&#160;a&#160;&#160;Warning&#160;&#160;in&#160;&#160;the&#160;<br/>Validation&#160;tab.&#160;<br/>The&#160;CAN&#160;NM&#160;calls the&#160;following&#160;function&#160;when&#160;entering&#160;a&#160;critical section:&#160;<br/>
<b>SchM_Enter_CanNm_CANNM_EXCLUSIVE_AREA_i</b>()&#160;<br/>
<a href="TechnicalReference_CanNms.html#58">(5.4)</a>&#160;<br/>
When&#160;the&#160;critical section&#160;is left&#160;the&#160;following&#160;function&#160;is called&#160;by&#160;the&#160;CAN&#160;NM:&#160;<br/>
<b>SchM_Enter_CanNm_CANNM_EXCLUSIVE_AREA_i</b>()&#160;<br/>
<a href="TechnicalReference_CanNms.html#58">(5.4)</a>&#160;<br/>
Details&#160;which&#160;section&#160;needs&#160;what&#160;kind&#160;of&#160;interrupt&#160;lock&#160;are&#160;provided&#160;in&#160;chapte<a href="TechnicalReference_CanNms.html#42">r&#160;4.5&#160;‘Critical&#160;<br/>Section&#160;Codes’.</a>&#160;<br/>
<b>4.5&#160;</b><br/>
<b>Critical&#160;Section Codes&#160;</b><br/>
The&#160;&#160;CAN&#160;&#160;NM&#160;&#160;provides&#160;&#160;several&#160;&#160;critical&#160;&#160;section&#160;&#160;codes&#160;&#160;which&#160;&#160;must&#160;&#160;lead&#160;&#160;to&#160;&#160;corresponding&#160;<br/>interrupt&#160;locks,&#160;described&#160;in&#160;the&#160;following&#160;table:&#160;<br/>
<b>Critical&#160;Section&#160;Define&#160;</b><br/>
<b>Interrupt&#160;Lock&#160;</b><br/>
CANNM_EXCLUSIVE_AREA_0&#160;&#160;No interruption by&#160;any&#160;interrupt&#160;is&#160;allowed.&#160;Therefore&#160;this&#160;section&#160;<br/>
must&#160;always&#160;lock&#160;global&#160;interrupts.&#160;<br/>
CANNM_EXCLUSIVE_AREA_1&#160;&#160;No interruption of&#160;CanNm_MainFunction&#160;by&#160;CanNm_SetUserData&#160;<br/>
or&#160;CanNm_SetSleepReadyBit&#160;allowed.&#160;<br/>This&#160;means&#160;that&#160;global&#160;interrupts&#160;have to&#160;be&#160;used&#160;for&#160;this&#160;section&#160;<br/>only&#160;if&#160;CanNm_MainFunction&#160;can&#160;be&#160;interrupted&#160;by&#160;one of&#160;the&#160;<br/>following&#160;functions:&#160;<br/>
<b>&gt;&#160;&#160;</b>CanNm_SetUserData&#160;<br/>
<b>&gt;&#160;&#160;</b>CanNm_SetSleepReadyBit&#160;<br/>Otherwise no&#160;interrupt&#160;locks&#160;are necessary.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
42&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=43></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-43_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
CANNM_EXCLUSIVE_AREA_2&#160;&#160;No interruption of&#160;CanNm_SetUserData by&#160;CanNm_MainFunction&#160;<br/>
allowed.&#160;<br/>This&#160;means&#160;that&#160;global&#160;interrupts&#160;must&#160;be&#160;locked&#160;if&#160;<br/>CanNm_SetUserData&#160;can be&#160;interrupted&#160;by&#160;the&#160;following&#160;functions:&#160;<br/>
<b>&gt;&#160;&#160;</b>CanNm_MainFunction&#160;<br/>Otherwise no&#160;interrupt&#160;locks&#160;are necessary.&#160;<br/>
CANNM_EXCLUSIVE_AREA_3&#160;&#160;No interruption of&#160;CanNm_SetSleepReadyBit&#160;by&#160;<br/>
CanNm_MainFunction&#160;allowed&#160;<br/>This&#160;means&#160;that&#160;global&#160;interrupts&#160;must&#160;be&#160;locked&#160;if&#160;<br/>CanNm_SetSleepReadyBit&#160;can&#160;be&#160;interrupted&#160;by&#160;the&#160;following&#160;<br/>functions:&#160;<br/>
<b>&gt;&#160;&#160;</b>CanNm_MainFunction&#160;<br/>Otherwise no&#160;interrupt&#160;locks&#160;are necessary.&#160;<br/>
CANNM_EXCLUSIVE_AREA_4&#160;&#160;No&#160;interruption of&#160;CanNm_RxIndication by&#160;CanNm_GetUserData or&#160;<br/>
CanNm_GetPduData&#160;allowed&#160;<br/>This&#160;means&#160;that&#160;global&#160;interrupts&#160;must&#160;be&#160;locked&#160;if&#160;<br/>CanNm_RxIndication can be&#160;interrupted&#160;by&#160;the&#160;following&#160;functions:&#160;<br/>
<b>&gt;&#160;&#160;</b>CanNm_GetUserData&#160;<br/>
<b>&gt;&#160;&#160;</b>CanNm_GetPduData&#160;<br/>Otherwise no&#160;interrupt&#160;locks&#160;are necessary.&#160;<br/>
CANNM_EXCLUSIVE_AREA_5&#160;&#160;No interruption of&#160;CanNm_GetUserData or&#160;CanNm_GetPduData&#160;by&#160;<br/>
CanNm_RxIndication allowed&#160;<br/>This&#160;means&#160;that&#160;global&#160;interrupts&#160;must&#160;be&#160;locked&#160;if&#160;<br/>CanNm_GetUserData&#160;or&#160;CanNm_GetPduData&#160;can be&#160;interrupted&#160;<br/>by&#160;the&#160;following&#160;functions:&#160;<br/>
<b>&gt;&#160;&#160;</b>CanNm_RxIndication&#160;<br/>Otherwise no&#160;interrupt&#160;locks&#160;are necessary.&#160;<br/>
Table&#160;4-3&#160;&#160;&#160;Critical&#160;Section&#160;Codes&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
43&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=44></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-44_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>5.&#160;&#160;API&#160;Description&#160;</b><br/>
For an&#160;interfaces overview&#160;please&#160;see<a href="TechnicalReference_CanNms.html#13">&#160;Figure&#160;2-2.</a>&#160;<br/>
<b>5.1&#160;</b><br/>
<b>Data&#160;Types&#160;</b><br/>
The&#160;software&#160;module&#160;CAN&#160;NM&#160;uses&#160;the&#160;standard&#160;AUTOSAR&#160;data&#160;types&#160;that&#160;are&#160;defined&#160;<br/>within&#160;&#160;Std_Types.h&#160;&#160;and&#160;&#160;the&#160;&#160;platform&#160;&#160;specific&#160;&#160;data&#160;&#160;types&#160;&#160;that&#160;&#160;are&#160;&#160;defined&#160;&#160;within&#160;<br/>Platform_Types.h&#160;<br/>
and&#160;&#160;the&#160;&#160;Communication&#160;&#160;Stack&#160;&#160;Types&#160;&#160;defined&#160;&#160;within&#160;<br/>
ComStack_Types.h.&#160;&#160;Furthermore&#160;&#160;the&#160;&#160;standard&#160;&#160;AUTOSAR&#160;&#160;NM&#160;&#160;Stack&#160;&#160;Types&#160;&#160;defined&#160;<br/>within&#160;NmStack_Types.h&#160;are used.&#160;<br/>
CAN NM&#160;also&#160;uses&#160;the&#160;Communication&#160;Stack&#160;Types defined&#160;within&#160;ComStack_Types.h.&#160;<br/>
<b>5.2&#160;</b><br/>
<b>Global&#160;Constants&#160;</b><br/>
<b>5.2.1&#160;</b><br/>
<b>AUTOSAR&#160;Specification&#160;Version&#160;</b><br/>
The&#160;version&#160;of&#160;AUTOSAR&#160;specification&#160;on&#160;which&#160;the&#160;appropriate&#160;implementation&#160;is&#160;based&#160;<br/>on&#160;is provided&#160;by&#160;three&#160;BCD&#160;coded&#160;defines:&#160;<br/>
&#160;<br/>
<b>Name&#160;</b><br/>
<b>Type&#160;&#160;Description&#160;</b><br/>
CANNM_AR_RELEASE_MAJOR_VERSION&#160;<br/>
BCD&#160;&#160;Contains the&#160;major&#160;specification&#160;version&#160;<br/>
number.&#160;<br/>
CANNM_AR_RELEASE_MINOR_VERSION&#160;<br/>
BCD&#160;&#160;Contains the&#160;minor&#160;specification&#160;version&#160;<br/>
number.&#160;<br/>
CANNM_AR_RELEASE_REVISION_VERSION&#160;&#160;BCD&#160;&#160;Contains the&#160;patch level&#160;specification&#160;<br/>
version number.&#160;<br/>
Table&#160;5-1&#160;&#160;&#160;Specification&#160;Version&#160;API&#160;Data&#160;<br/>
<b>5.2.2&#160;</b><br/>
<b>Component Versions&#160;</b><br/>
The&#160;&#160;source&#160;&#160;code&#160;&#160;versions&#160;&#160;of&#160;&#160;CAN&#160;&#160;NM&#160;&#160;are&#160;&#160;provided&#160;&#160;by&#160;&#160;three&#160;&#160;BCD&#160;&#160;coded&#160;&#160;macros&#160;&#160;(and&#160;<br/>additionally&#160;as constants):&#160;<br/>
<b>Name&#160;</b><br/>
<b>Type&#160;&#160;Description&#160;</b><br/>
CANNM_SW_MAJOR_VERSION&#160;<br/>
BCD&#160;&#160;Contains the&#160;major&#160;component&#160;version number.&#160;<br/>
(CanNm_MainVersion)&#160;<br/>CANNM_SW_MINOR_VERSION&#160;<br/>
BCD&#160;&#160;Contains the&#160;minor&#160;component&#160;version number.&#160;<br/>
(CanNm_SubVersion)&#160;<br/>CANNM_SW_PATCH_VERSION&#160;<br/>
BCD&#160;&#160;Contains the&#160;patch level&#160;component&#160;version number.&#160;<br/>
(CanNm_ReleaseVersion)&#160;<br/>
Table&#160;5-2&#160;&#160;&#160;Component&#160;Version&#160;API&#160;Data&#160;<br/>
These&#160;constants&#160;are declared&#160;as external&#160;and&#160;can&#160;be&#160;read&#160;by&#160;the&#160;application&#160;at&#160;any&#160;time.&#160;<br/>
<b>5.2.3&#160;</b><br/>
<b>Vendor and Module&#160;ID&#160;</b><br/>
CAN NM&#160;provides the&#160;vendor identifier according&#160;to&#160;AUTOSAR as&#160;defines:&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
44&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=45></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-45_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>Name&#160;</b><br/>
<b>Type&#160;&#160;Description&#160;</b><br/>
<b>Value&#160;</b><br/>
CANNM_VENDOR_ID&#160;<br/>
-&#160;<br/>
Vendor&#160;ID&#160;according&#160;to&#160;AUTOSAR.&#160;<br/>
30&#160;<br/>
CANNM_MODULE_ID&#160;<br/>
-&#160;<br/>
Module ID&#160;according&#160;to&#160;AUTOSAR.&#160;<br/>
31&#160;<br/>
Table&#160;5-3&#160;&#160;&#160;Vendor/Module&#160;ID&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
45&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=46></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-46_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>5.3&#160;&#160;Services&#160;Provided by&#160;CANNM&#160;</b><br/>
<b>5.3.1&#160;</b><br/>
<b>Administrative&#160;Functions&#160;</b><br/>
<b>5.3.1.1&#160;</b><br/>
<b>CanNm_Init:&#160;Initialization of&#160;CAN NM&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>CanNm_Init</b>&#160;(const CanNm_ConfigType *&#160;const&#160;cannmConfigPtr)&#160;<br/>
<b>Parameter&#160;</b><br/>
cannmConfigPtr&#160;<br/>
Configuration structure for initializing the&#160;module&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Initialization&#160;of&#160;the CAN&#160;Network&#160;Management (CANNM041)&#160;and&#160;its&#160;internal&#160;state&#160;machine.&#160;By&#160;default the&#160;<br/>NM starts&#160;in the Bus-Sleep&#160;Mode.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanNms.html#30">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;function&#160;CanNm_Init()&#160;has&#160;to be&#160;called&#160;before&#160;any&#160;other&#160;CanNm&#160;service&#160;function&#160;is&#160;called&#160;<br/>
(except&#160;CanNm_InitMemory()).&#160;<br/>
<b>&gt;&#160;&#160;</b>During&#160;the&#160;execution&#160;of&#160;the&#160;function&#160;CanNm_Init(),&#160;it&#160;has&#160;to&#160;be&#160;ensured&#160;that&#160;the&#160;execution&#160;is&#160;<br/>
not&#160;interrupted&#160;by&#160;any&#160;other&#160;function&#160;of&#160;the&#160;CanNm&#160;module.&#160;This&#160;can&#160;for&#160;instance be&#160;<br/>accomplished by&#160;<br/>
<b>&gt;&#160;&#160;</b>global&#160;interrupt&#160;locks&#160;OR&#160;<br/>
<b>&gt;&#160;&#160;</b>CAN&#160;interrupt&#160;locks.&#160;<br/>
<b>&gt;&#160;&#160;</b>In Variant&#160;post-build-selectable and&#160;post-build-loadable a&#160;valid configuration pointer&#160;has&#160;to&#160;be&#160;<br/>
passed&#160;in&#160;the&#160;CanNm_Init&#160;function&#160;call.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-4&#160;&#160;&#160;CanNm_Init&#160;<br/>
<b>5.3.1.2&#160;</b><br/>
<b>CanNm_MainFunction:&#160;Main Function for&#160;All&#160;Channel&#160;Instances&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>CanNm_MainFunction</b>&#160;(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
46&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=47></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-47_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Main function of&#160;the&#160;CanNm&#160;which processes&#160;the NM&#160;algorithm.&#160;This&#160;function&#160;is&#160;responsible&#160;to&#160;handle all&#160;<br/>CanNm&#160;instances. (CANNM234).&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanNms.html#30">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;called&#160;by&#160;SchM.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-5&#160;&#160;&#160;CanNm_MainFunction&#160;<br/>
<b>5.3.1.3&#160;</b><br/>
<b>CanNm_InitMemory:&#160;Memory&#160;Initialization&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>CanNm_InitMemory</b>&#160;(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Initialize&#160;Memory, so&#160;that expected&#160;start&#160;values&#160;are set.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanNms.html#30">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;called&#160;by&#160;the&#160;Application.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>System&#160;startup&#160;<br/>
Table&#160;5-6&#160;&#160;&#160;CanNm_InitMemory&#160;<br/>
<b>5.3.2&#160;</b><br/>
<b>Service&#160;Functions&#160;</b><br/>
<b>5.3.2.1&#160;</b><br/>
<b>CanNm_GetVersionInfo:&#160;Version Information&#160;API&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>CanNm_GetVersionInfo</b>&#160;(Std_VersionInfoType *versioninfo)&#160;<br/>
<b>Parameter&#160;</b><br/>
versioninfo&#160;<br/>
Pointer&#160;to&#160;where to store the version&#160;information&#160;of&#160;this&#160;module&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
47&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=48></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-48_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
CanNm_GetVersionInfo()&#160;returns&#160;version&#160;information,&#160;vendor&#160;ID&#160;and&#160;AUTOSAR&#160;module ID of&#160;the&#160;<br/>component.&#160;<br/>The&#160;versions&#160;are BCD-coded.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanNms.html#30">e&#160;'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;available&#160;if&#160;CANNM_VERSION_INFO_API&#160;is&#160;STD_ON&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-7&#160;&#160;&#160;CanNm_GetVersionInfo&#160;<br/>
<b>5.3.2.2&#160;</b><br/>
<b>CanNm_GetState:&#160;Get the&#160;State&#160;of&#160;the&#160;Network&#160;Management&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>CanNm_GetState</b>&#160;(&#160;const NetworkHandleType&#160;&#160;nmChannelHandle,&#160;<br/>&#160;<br/>
Nm_StateType *&#160;&#160;const&#160;&#160;<br/>
nmStatePtr,&#160;<br/>
&#160;<br/>
Nm_ModeType *&#160;&#160;&#160;const&#160;&#160;<br/>
nmModePtr)&#160;<br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle&#160;<br/>
Index&#160;of&#160;the network&#160;channel&#160;<br/>
nmStatePtr&#160;<br/>
Pointer&#160;where&#160;the&#160;state&#160;of&#160;the Network&#160;Management shall&#160;be copied&#160;to&#160;<br/>
nmModePtr&#160;<br/>
Pointer&#160;where&#160;the&#160;mode of&#160;the&#160;Network&#160;Management shall&#160;be copied&#160;to&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK&#160;<br/>
-&#160;&#160;No error&#160;<br/>
E_NOT_OK&#160;&#160;-&#160;&#160;Getting the NM&#160;state&#160;has&#160;failed&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Return current&#160;state and mode&#160;of&#160;the network&#160;management (CANNM223).&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanNms.html#30">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;called&#160;by&#160;NM&#160;Interface.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;and&#160;interrupt&#160;level&#160;<br/>
Table&#160;5-8&#160;&#160;&#160;CanNm_GetState&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
48&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=49></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-49_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>5.3.2.3&#160;</b><br/>
<b>CanNm_PassiveStartUp:&#160;Wake&#160;up the&#160;Network&#160;Management&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>CanNm_PassiveStartUp</b>&#160;(const NetworkHandleType nmChannelHandle)&#160;<br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle&#160;<br/>
Index&#160;of&#160;the network&#160;channel&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK&#160;<br/>
-&#160;&#160;No error&#160;<br/>
E_NOT_OK&#160;&#160;-&#160;&#160;Start&#160;of&#160;network&#160;management has&#160;failed&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Starts&#160;the NM&#160;from&#160;the Bus&#160;Sleep&#160;Mode&#160;and&#160;triggers&#160;a&#160;transition&#160;to&#160;the&#160;Network&#160;Mode&#160;(Repeat&#160;Message&#160;<br/>State) (CANNM211).&#160;This&#160;service&#160;has&#160;no effect if&#160;the current state is&#160;not&#160;equal&#160;to&#160;Bus&#160;Sleep&#160;Mode&#160;or&#160;<br/>Prepare&#160;Bus&#160;Sleep Mode.&#160;In that case E_NOT_OK&#160;is&#160;returned.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanNms.html#30">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;asynchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;called&#160;by&#160;NM&#160;Interface.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;and&#160;interrupt&#160;level&#160;<br/>
Table&#160;5-9&#160;&#160;&#160;CanNm_PassiveStartUp&#160;<br/>
<b>5.3.2.4&#160;</b><br/>
<b>Wake-up Registration&#160;</b><br/>
<b>5.3.2.4.1&#160;</b><br/>
<b>CanNm_NetworkRequest:&#160;Request the&#160;Network&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>CanNm_NetworkRequest</b>&#160;(const NetworkHandleType nmChannelHandle)&#160;<br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle&#160;<br/>
Index&#160;of&#160;the network&#160;channel&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK&#160;<br/>
-&#160;&#160;No error&#160;<br/>
E_NOT_OK&#160;&#160;-&#160;&#160;Requesting bus-communication has&#160;failed&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Request the&#160;network, since ECU&#160;needs&#160;to&#160;communicate&#160;on&#160;the&#160;bus&#160;(CANNM213).&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanNms.html#30">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;asynchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;called&#160;by&#160;NM&#160;Interface.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
49&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=50></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-50_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;and&#160;interrupt&#160;level&#160;<br/>
Table&#160;5-10&#160;&#160;&#160;CanNm_NetworkRequest&#160;<br/>
<b>5.3.2.4.2&#160;</b><br/>
<b>CanNm_NetworkRelease:&#160;Release&#160;the&#160;Network&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>CanNm_NetworkRelease</b>&#160;(const NetworkHandleType nmChannelHandle)&#160;<br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle&#160;<br/>
Index&#160;of&#160;the network&#160;channel&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK&#160;<br/>
-&#160;&#160;No error&#160;<br/>
E_NOT_OK&#160;&#160;-&#160;&#160;Releasing bus-communication&#160;has&#160;failed&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Release the network, since&#160;ECU&#160;doesn't&#160;have&#160;to&#160;communicate&#160;on&#160;the&#160;bus&#160;(CANNM214).&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanNms.html#30">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;asynchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;called&#160;by&#160;NM&#160;Interface.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;and&#160;interrupt&#160;level&#160;<br/>
Table&#160;5-11&#160;&#160;&#160;CanNm_NetworkRelease&#160;<br/>
<b>5.3.2.5&#160;</b><br/>
<b>User Data Handling&#160;</b><br/>
<b>5.3.2.5.1&#160;</b><br/>
<b>CanNm_SetUserData:&#160;Set User Data&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>CanNm_SetUserData</b>&#160;(&#160;const NetworkHandleType&#160;&#160;nmChannelHandle,&#160;<br/>&#160;<br/>
const uint8 *&#160;const&#160;&#160;<br/>
nmUserDataPtr)&#160;<br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle&#160;<br/>
Index&#160;of&#160;the network&#160;channel&#160;<br/>
nmUserDataPtr&#160;<br/>
Pointer&#160;to User data&#160;for the&#160;next transmitted NM message shall&#160;be&#160;copied&#160;<br/>from&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK&#160;<br/>
-&#160;&#160;No error&#160;<br/>
E_NOT_OK&#160;&#160;-&#160;&#160;Setting&#160;of&#160;user data has&#160;failed&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Set&#160;user data for NM messages&#160;transmitted&#160;next on the bus&#160;(CANNM217).&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
50&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=51></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-51_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanNms.html#30">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;called&#160;from&#160;NM&#160;Interface.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;and&#160;interrupt&#160;level&#160;<br/>
Table&#160;5-12&#160;&#160;&#160;CanNm_SetUserData&#160;<br/>
<b>5.3.2.5.2&#160;</b><br/>
<b>CanNm_GetUserData:&#160;Get User Data&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>CanNm_GetUserData</b>&#160;(&#160;const NetworkHandleType&#160;&#160;nmChannelHandle,&#160;<br/>&#160;<br/>
uint8 *&#160;const&#160;&#160;<br/>
nmUserDataPtr)&#160;<br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle&#160;<br/>
Index&#160;of&#160;the network&#160;channel&#160;<br/>
nmUserDataPtr&#160;<br/>
Pointer&#160;where&#160;user data out of&#160;the last received NM message shall&#160;be&#160;copied&#160;<br/>to&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK&#160;<br/>
-&#160;&#160;No error&#160;<br/>
E_NOT_OK&#160;&#160;-&#160;&#160;Getting of&#160;user data&#160;has&#160;failed&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Get&#160;user data&#160;out&#160;of&#160;the last NM&#160;messages&#160;received&#160;from&#160;the bus&#160;(CANNM218).&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanNms.html#30">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;called&#160;from&#160;NM&#160;Interface.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;and&#160;interrupt&#160;level&#160;<br/>
Table&#160;5-13&#160;&#160;&#160;CanNm_GetUserData&#160;<br/>
<b>5.3.2.5.3&#160;</b><br/>
<b>CanNm_GetPduData: Get NM&#160;PDU&#160;Data&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>CanNm_GetPduData</b>&#160;(&#160;const NetworkHandleType&#160;&#160;<br/>
nmChannelHandle,&#160;<br/>
&#160;<br/>
uint8 *&#160;const&#160;&#160;<br/>
nmPduDataPtr)&#160;<br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle&#160;<br/>
Index&#160;of&#160;the network&#160;channel&#160;<br/>
nmPduDataPtr&#160;<br/>
Pointer&#160;where&#160;PDU&#160;Data out&#160;of&#160;the most recently&#160;received&#160;NM message shall&#160;<br/>be&#160;copied&#160;to&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
51&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=52></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-52_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK&#160;<br/>
-&#160;&#160;No error&#160;<br/>
E_NOT_OK&#160;&#160;-&#160;&#160;Getting the PDU data&#160;has&#160;failed&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Get&#160;the&#160;whole&#160;PDU&#160;data out of&#160;the last NM&#160;message received&#160;from&#160;the bus&#160;(CANNM138).&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanNms.html#30">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;asynchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;called&#160;from&#160;NM&#160;Interface.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;and&#160;interrupt&#160;level&#160;<br/>
Table&#160;5-14&#160;&#160;&#160;CanNm_GetPduData&#160;<br/>
<b>5.3.2.6&#160;&#160;Node&#160;Detection&#160;</b><br/>
<b>5.3.2.6.1&#160;</b><br/>
<b>CanNm_RepeatMessageRequest:&#160;Set Repeat Message&#160;Request&#160;Bit&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>CanNm_RepeatMessageRequest</b>&#160;(&#160;<br/>
const NetworkHandleType&#160;<br/>
&#160;<br/>
nmChannelHandle)&#160;<br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle&#160;<br/>
Index&#160;of&#160;the network&#160;channel&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK&#160;<br/>
-&#160;&#160;No error&#160;<br/>
E_NOT_OK&#160;&#160;-&#160;&#160;Repeat&#160;Message Request&#160;has&#160;failed&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Request state change to&#160;Repeat Message&#160;State (CANNM221).&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanNms.html#30">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;asynchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;called&#160;from&#160;NM&#160;Interface&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;and&#160;interrupt&#160;level&#160;<br/>
Table&#160;5-15&#160;&#160;&#160;CanNm_RepeatMessageRequest&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
52&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=53></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-53_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>5.3.2.6.2&#160;</b><br/>
<b>CanNm_GetNodeIdentifier:&#160;Get Node&#160;Identifier&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>CanNm_GetNodeIdentifier</b>&#160;(&#160;const NetworkHandleType&#160;<br/>&#160;<br/>
nmChannelHandle,&#160;<br/>
&#160;<br/>
uint8 *&#160;const&#160;nmNodeIdPtr)&#160;<br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle&#160;<br/>
Index&#160;of&#160;the network&#160;channel&#160;<br/>
nmNodeIdPtr&#160;<br/>
Pointer&#160;where&#160;node identifier from&#160;the last received&#160;NM message shall&#160;be&#160;<br/>copied to&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK&#160;<br/>
-&#160;&#160;No error&#160;<br/>
E_NOT_OK&#160;&#160;-&#160;&#160;Getting of&#160;node&#160;identifier&#160;has&#160;failed&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Get&#160;node&#160;identifier&#160;of&#160;the last received&#160;NM message (CANNM219).&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanNms.html#30">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;called&#160;from&#160;NM&#160;Interface&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;and&#160;interrupt&#160;level&#160;<br/>
Table&#160;5-16&#160;&#160;&#160;CanNm_GetNodeIdentifier&#160;<br/>
<b>5.3.2.6.3&#160;</b><br/>
<b>CanNm_GetLocalNodeIdentifier:&#160;Get Local&#160;Node&#160;Identifier&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>CanNm_GetLocalNodeIdentifier</b>&#160;(&#160;const NetworkHandleType&#160;<br/>&#160;<br/>
nmChannelHandle,&#160;<br/>
&#160;<br/>
uint8 *&#160;const&#160;nmNodeIdPtr)&#160;<br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle&#160;<br/>
Index&#160;of&#160;the network&#160;channel&#160;<br/>
nmNodeIdPtr&#160;<br/>
Pointer&#160;where&#160;node identifier of&#160;the local&#160;node&#160;shall&#160;be&#160;copied to&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK&#160;<br/>
-&#160;&#160;No error&#160;<br/>
E_NOT_OK&#160;&#160;-&#160;&#160;Getting of&#160;local&#160;node&#160;identifier has&#160;failed&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Get&#160;node&#160;identifier configured&#160;for the&#160;local&#160;node (CANNM220).&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
53&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=54></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-54_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanNms.html#30">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;called&#160;from&#160;NM&#160;Interface&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;and&#160;interrupt&#160;level&#160;<br/>
Table&#160;5-17&#160;&#160;&#160;CanNm_GetLocalNodeIdentifier&#160;<br/>
<b>5.3.2.7&#160;</b><br/>
<b>Bus&#160;Synchronization&#160;</b><br/>
<b>5.3.2.7.1&#160;</b><br/>
<b>CanNm_RequestBusSynchronization:&#160;Synchronization of&#160;Networks&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>CanNm_RequestBusSynchronization</b>&#160;(&#160;const NetworkHandleType&#160;<br/>&#160;<br/>
nmChannelHandle)&#160;<br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle&#160;<br/>
Index&#160;of&#160;the network&#160;channel&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK&#160;<br/>
-&#160;&#160;No error&#160;<br/>
E_NOT_OK&#160;&#160;-&#160;&#160;Requesting bus&#160;synchronization has&#160;failed&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Request bus&#160;synchronization&#160;(CANNM226) (Transmission&#160;of&#160;an&#160;asynchronous&#160;NM message to support&#160;<br/>coordination&#160;of&#160;coupled networks).&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanNms.html#30">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;called&#160;from&#160;NM&#160;Interface&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-18&#160;&#160;&#160;CanNm_RequestBusSynchronization&#160;<br/>
<b>5.3.2.8&#160;</b><br/>
<b>Remote&#160;Sleep Indication&#160;</b><br/>
<b>5.3.2.8.1&#160;</b><br/>
<b>CanNm_CheckRemoteSleepIndication:&#160;Check&#160;for Remote&#160;Sleep&#160;<br/>Indication&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>CanNm_CheckRemoteSleepIndication</b>&#160;(&#160;&#160;const NetworkHandleType&#160;<br/>&#160;<br/>
nmChannelHandle,&#160;<br/>
&#160;<br/>
boolean *&#160;const&#160;<br/>
&#160;<br/>
nmRemoteSleepIndPtr)&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
54&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=55></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-55_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle&#160;<br/>
Index&#160;of&#160;the network&#160;channel&#160;<br/>
nmRemoteSleepIndPtr&#160;&#160;Pointer&#160;where&#160;PDU&#160;Data out&#160;of&#160;the most recently&#160;received&#160;NM&#160;message shall&#160;<br/>
be&#160;copied&#160;to&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK&#160;<br/>
-&#160;&#160;No error&#160;<br/>
E_NOT_OK&#160;&#160;-&#160;&#160;Checking&#160;remote&#160;sleep&#160;indication&#160;has&#160;failed&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Check&#160;if&#160;remote&#160;sleep&#160;was&#160;indicated&#160;or not&#160;(CANNM227).&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanNms.html#30">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;called&#160;from&#160;NM&#160;Interface&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;and&#160;interrupt&#160;level&#160;<br/>
Table&#160;5-19&#160;&#160;&#160;CanNm_CheckRemoteSleepIndication&#160;<br/>
<b>5.3.2.9&#160;</b><br/>
<b>NM&#160;Message&#160;Transmission Request&#160;</b><br/>
<b>5.3.2.9.1&#160;</b><br/>
<b>CanNm_Transmit:&#160;Spontaneous&#160;NM Message&#160;Transmission&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>CanNm_Transmit</b>&#160;(&#160;PduIdType&#160;CanNmTxPduId,&#160;<br/>&#160;<br/>
const PduInfoType *PduInfoPtr)&#160;<br/>
<b>Parameter&#160;</b><br/>
CanNmTxPduId&#160;<br/>
L-PDU&#160;handle&#160;of&#160;CAN&#160;L-PDU to&#160;be&#160;transmitted.&#160;This&#160;handle specifies&#160;the&#160;<br/>corresponding&#160;CAN&#160;LPDU ID and&#160;implicitly&#160;the&#160;CAN Driver instance as&#160;well&#160;as&#160;<br/>the&#160;corresponding&#160;CAN controller&#160;device.&#160;<br/>
PduInfoPtr&#160;<br/>
Pointer&#160;to a&#160;structure&#160;with&#160;CAN L-PDU related&#160;data:&#160;DLC and pointer to&#160;CAN&#160;<br/>L-SDU&#160;buffer.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK&#160;<br/>
-&#160;&#160;No error&#160;<br/>
E_NOT_OK&#160;&#160;-&#160;&#160;transmit request has&#160;not&#160;been&#160;accepted&#160;due&#160;to&#160;wrong&#160;state&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;is&#160;used by&#160;the&#160;PduR to&#160;trigger&#160;a&#160;spontaneous&#160;transmission&#160;of&#160;an&#160;NM&#160;message&#160;with the&#160;<br/>provided NM&#160;User Data (CANM331).&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
55&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=56></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-56_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanNms.html#30">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;called&#160;from&#160;PduR&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;and&#160;interrupt&#160;level&#160;<br/>
Table&#160;5-20&#160;&#160;&#160;CanNm_Transmit&#160;<br/>
<b>5.3.2.10&#160;&#160;Communication Control&#160;Service&#160;</b><br/>
<b>5.3.2.10.1&#160;&#160;CanNm_DisableCommunication: Disable&#160;NM&#160;Message&#160;Transmission&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>CanNm_DisableCommunication</b>&#160;(&#160;<br/>
const NetworkHandleType&#160;<br/>
&#160;<br/>
nmChannelHandle)&#160;<br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle&#160;<br/>
Index&#160;of&#160;the network&#160;channel&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK&#160;<br/>
-&#160;&#160;No error&#160;<br/>
E_NOT_OK&#160;&#160;-&#160;&#160;Disable NM Message transmission&#160;control&#160;status&#160;has&#160;failed&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Disable NM message transmission&#160;control&#160;status&#160;(CANNM215).&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanNms.html#30">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;asynchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;called&#160;from&#160;NM&#160;Interface&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;and&#160;interrupt&#160;level&#160;<br/>
Table&#160;5-21&#160;&#160;&#160;CanNm_DisableCommunication&#160;<br/>
<b>5.3.2.10.2&#160;&#160;CanNm_EnableCommunication: Enabled&#160;NM&#160;Message&#160;Transmission&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>CanNm_EnableCommunication</b>&#160;(&#160;const NetworkHandleType&#160;<br/>&#160;<br/>
nmChannelHandle)&#160;<br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle&#160;<br/>
Index&#160;of&#160;the&#160;network&#160;channel&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
56&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=57></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-57_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK&#160;<br/>
-&#160;&#160;No error&#160;<br/>
E_NOT_OK&#160;&#160;-&#160;&#160;Enabling&#160;NM&#160;Message&#160;transmission&#160;control&#160;status&#160;has&#160;failed&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Enable NM&#160;message transmission&#160;control&#160;status&#160;(CANNM216).&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service&#160;ID:&#160;see&#160;tabl<a href="TechnicalReference_CanNms.html#30">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;asynchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;called&#160;from&#160;NM&#160;Interface&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;and&#160;interrupt&#160;level&#160;<br/>
Table&#160;5-22&#160;&#160;&#160;CanNm_EnableCommunication&#160;<br/>
<b>5.3.2.11&#160;&#160;Coordinator Synchronization Support&#160;</b><br/>
<b>5.3.2.11.1&#160;&#160;CanNm_SetSleepReadyBit:&#160;Set Sleep Ready&#160;Bit in the&#160;CBV&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>CanNm_SetSleepReadyBit</b>&#160;(&#160;const NetworkHandleType&#160;<br/>&#160;<br/>
nmChannelHandle,&#160;<br/>
&#160;<br/>
const boolean nmSleepReadyBit)&#160;<br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle&#160;<br/>
Index&#160;of&#160;the network&#160;channel&#160;<br/>
nmSleepReadyBit&#160;<br/>
Value&#160;written to&#160;Ready&#160;Sleep&#160;Bit in CBV&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Std_ReturnType&#160;<br/>
E_OK&#160;<br/>
-&#160;&#160;No&#160;error&#160;<br/>
E_NOT_OK&#160;&#160;-&#160;&#160;Writing&#160;of&#160;Sleep Ready&#160;Bit&#160;has&#160;failed&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Set&#160;the&#160;NM Coordinator Sleep&#160;Ready&#160;bit&#160;in the&#160;Control&#160;Bit&#160;Vector (CANNM338).&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanNms.html#30">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;called&#160;from&#160;NM&#160;Interface&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-23&#160;&#160;&#160;CanNm_SetSleepReadyBit&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
57&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=58></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-58_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>5.4&#160;&#160;Services&#160;Used by&#160;CANNM&#160;</b><br/>
In&#160;&#160;the&#160;&#160;following&#160;&#160;table&#160;&#160;services&#160;&#160;provided&#160;&#160;by&#160;&#160;other&#160;&#160;components,&#160;&#160;which&#160;&#160;are&#160;&#160;used&#160;&#160;by&#160;&#160;the&#160;<br/>CANNM&#160;are&#160;listed.&#160;For&#160;details&#160;about&#160;prototype&#160;and&#160;functionality&#160;refer&#160;to&#160;the&#160;documentation&#160;<br/>of&#160;the&#160;providing&#160;component.&#160;<br/>
<b>Component&#160;</b><br/>
<b>API&#160;</b><br/>
CanIf&#160;<br/>
CanIf_Transmit8&#160;<br/>
CanSM&#160;<br/>
CanSM_TxTimeoutException9&#160;<br/>
DET&#160;<br/>
Det_ReportError10&#160;<br/>
NM&#160;<br/>
Nm_CarWakeUpIndication11&#160;<br/>Nm_BusSleepMode&#160;<br/>Nm_CoordReadyToSleepIndication12&#160;<br/>Nm_CoordReadyToSleepCancellatio<a href="TechnicalReference_CanNms.html#58">n12&#160;<br/></a>Nm_NetworkMode&#160;<br/>Nm_NetworkStartIndication&#160;<br/>Nm_PduRxIndication13&#160;<br/>Nm_CanNm_PduRxIndication14&#160;<br/>Nm_PrepareBusSleepMode&#160;<br/>Nm_RemoteSleepCancellatio<a href="TechnicalReference_CanNms.html#58">n15&#160;<br/></a>Nm_RemoteSleepIndication15&#160;<br/>Nm_RepeatMessageIndication16&#160;<br/>Nm_StateChangeNotification17&#160;<br/>Nm_TxTimeoutExcepti<a href="TechnicalReference_CanNms.html#58">on8,18</a>&#160;<br/>
PduR&#160;<br/>
PduR_CanNmTriggerTra<a href="TechnicalReference_CanNms.html#58">nsmit8,19</a>&#160;<br/>PduR_CanNmTxConfirmatio<a href="TechnicalReference_CanNms.html#58">n8,19,20</a>&#160;<br/>PduR_CanNmRxIndication21&#160;<br/>
SchM&#160;<br/>
SchM_Enter_CanNm_CANNM_EXCLUSIVE_AREA_i&#160;<br/>SchM_Exit_CanNm_CANNM_EXCLUSIVE_AREA_i&#160;<br/>for&#160;i=0,…,5&#160;<br/>
Table&#160;5-24&#160;&#160;&#160;Services&#160;used&#160;by&#160;the&#160;CANNM&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160;&#160;<br/>
8&#160;Service&#160;only&#160;used&#160;if&#160;the feature&#160;‘Passive&#160;Mode’&#160;is&#160;disabled&#160;<br/>
9&#160;Service&#160;only&#160;used&#160;if&#160;‘Immediate Tx&#160;Conf&#160;Enabled’&#160;is&#160;disabled and ‘Pn&#160;Enabled’&#160;is&#160;enabled and if&#160;CanSM&#160;<br/>provides&#160;this&#160;function&#160;<br/>
10&#160;Service&#160;only&#160;used&#160;if&#160;the feature&#160;‘Dev&#160;Error Detect’&#160;is&#160;enabled&#160;<br/>
11&#160;Service&#160;only&#160;used&#160;if&#160;the feature&#160;‘Car&#160;Wake&#160;Up&#160;Rx&#160;Enabled’&#160;is&#160;enabled.&#160;<br/>
12&#160;Service&#160;only&#160;used&#160;if&#160;the feature&#160;‘Coordinator&#160;Sync&#160;Support’&#160;is&#160;enabled.&#160;<br/>
13&#160;Service&#160;only&#160;used&#160;if&#160;the feature&#160;‘Pdu&#160;Rx&#160;Indication&#160;Enabled’&#160;is&#160;enabled.&#160;<br/>
14&#160;Service&#160;only&#160;used&#160;if&#160;the feature&#160;‘Bus&#160;Nm&#160;Specific&#160;Pdu&#160;Rx&#160;Indication&#160;Enabled‘&#160;is&#160;enabled&#160;in&#160;NmIf.&#160;<br/>
15&#160;Service&#160;only&#160;used&#160;if&#160;the feature&#160;‘Remote&#160;Sleep Ind Enabled’&#160;is&#160;enabled.&#160;<br/>
16&#160;Service&#160;only&#160;used&#160;if&#160;the feature&#160;‘Repeat&#160;Msg Ind&#160;Enabled’&#160;is&#160;enabled.&#160;<br/>
17&#160;Service&#160;only&#160;used&#160;if&#160;the feature&#160;‘State&#160;Change&#160;Ind&#160;Enabled’&#160;is&#160;enabled.&#160;<br/>
18&#160;Service&#160;only&#160;used&#160;if&#160;the feature&#160;‘Immediate&#160;Tx&#160;Conf&#160;Enabled’&#160;is&#160;enabled.&#160;<br/>
19&#160;Service&#160;only&#160;used&#160;if&#160;the feature&#160;‘Com&#160;User&#160;Data&#160;Support’&#160;is&#160;enabled.&#160;<br/>
20&#160;Service&#160;only&#160;used&#160;if&#160;the feature&#160;‘Immediate&#160;Txconf&#160;Enabled’&#160;is&#160;disabled.&#160;<br/>
21&#160;Service&#160;only&#160;used&#160;if&#160;the features&#160;‘Pn&#160;Eira Calc&#160;Enabled’&#160;or&#160;‘Pn Era Calc&#160;Enabled’&#160;is&#160;enabled.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
58&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=59></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-59_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>5.5&#160;</b><br/>
<b>Callback&#160;Functions&#160;</b><br/>
<b>5.5.1&#160;</b><br/>
<b>Callback&#160;Functions&#160;from CAN&#160;Interface&#160;</b><br/>
<b>5.5.1.1&#160;</b><br/>
<b>CanNm_TxConfirmation:&#160;NM Message&#160;Confirmation Function&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>CanNm_TxConfirmation</b>&#160;(PduIdType TxPduId)&#160;<br/>
<b>Parameter&#160;</b><br/>
TxPduId&#160;<br/>
ID of&#160;CAN NM&#160;PDU that&#160;has&#160;been&#160;transmitted&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;is&#160;called by&#160;the CAN&#160;Interface after a CAN NM&#160;PDU&#160;has&#160;been&#160;successfully&#160;transmitted&#160;<br/>(CANNM228).&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanNms.html#30">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;asynchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;called&#160;from&#160;data link&#160;layer&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;and&#160;interrupt&#160;level&#160;<br/>
Table&#160;5-25&#160;&#160;&#160;CanNm_TxConfirmation&#160;<br/>
<b>5.5.1.2&#160;</b><br/>
<b>CanNm_RxIndication:&#160;NM Message&#160;Indication&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>CanNm_RxIndication</b>&#160;(PduIdType RxPduId, const PduInfoType *PduInfoPtr)&#160;<br/>
<b>Parameter&#160;</b><br/>
RxPduId&#160;<br/>
ID of&#160;CAN NM&#160;PDU that&#160;has&#160;been&#160;received&#160;<br/>
PduInfoPtr&#160;<br/>
Pointer&#160;to a&#160;PduInfoType&#160;containing&#160;the&#160;received&#160;CAN&#160;NM&#160;SDU and&#160;its&#160;length&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;is&#160;called by&#160;the CAN&#160;Interface after a CAN L-PDU&#160;has&#160;been&#160;received (CANNM231).&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanNms.html#30">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;called&#160;from&#160;data link&#160;layer&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
59&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=60></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-60_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;and&#160;interrupt&#160;level&#160;<br/>
Table&#160;5-26&#160;&#160;&#160;CanNm_RxIndication&#160;<br/>
<b>5.5.2&#160;</b><br/>
<b>Callback&#160;Function from&#160;CAN&#160;State&#160;Manager&#160;</b><br/>
<b>5.5.2.1&#160;</b><br/>
<b>CanNm_ConfirmPnAvailability:&#160;Notification for&#160;Activating the&#160;PN&#160;Filter&#160;<br/>Functionality&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>CanNm_ConfirmPnAvailability</b>&#160;(const NetworkHandleType nmChannelHandle)&#160;<br/>
<b>Parameter&#160;</b><br/>
nmChannelHandle&#160;<br/>
Index&#160;of&#160;the network&#160;channel&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Enables&#160;the&#160;PN filter functionality&#160;on the indicated NM&#160;channel&#160;(CANM344).&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanNms.html#30">e 'Service IDs'</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;called&#160;by&#160;CanSM&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;and&#160;interrupt&#160;level&#160;<br/>
Table&#160;5-27&#160;&#160;&#160;CanNm_ConfirmPnAvailability&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
60&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=61></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-61_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>6.&#160;&#160;Glossary&#160;and&#160;Abbreviations&#160;</b><br/>
<b>6.1&#160;</b><br/>
<b>Glossary&#160;</b><br/>
<b>Term&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>Confirmation&#160;</b><br/>
Notification by&#160;the&#160;data&#160;link layer&#160;on&#160;asynchronous&#160;successful&#160;<br/>transmission&#160;of&#160;a&#160;CAN&#160;message&#160;<br/>
<b>Identifier&#160;</b><br/>
Identifies&#160;a CAN&#160;message&#160;<br/>
<b>Indication&#160;</b><br/>
Notification by&#160;the&#160;data&#160;link layer&#160;on&#160;asynchronous&#160;reception&#160;of&#160;a&#160;CAN&#160;<br/>message&#160;<br/>
<b>Message&#160;</b><br/>
One&#160;or&#160;more&#160;signals&#160;are&#160;assigned&#160;to&#160;each&#160;message.&#160;<br/>
<b>Signal&#160;</b><br/>
Signals&#160;describe&#160;the&#160;significance&#160;of&#160;the&#160;individual&#160;data&#160;segments&#160;within&#160;a&#160;<br/>message.&#160;Typically&#160;&#160;bits,&#160;bytes&#160;or&#160;&#160;words&#160;&#160;are&#160;&#160;used&#160;for&#160;&#160;data&#160;segments&#160;&#160;but&#160;<br/>individual&#160;bit&#160;combinations&#160;are&#160;also&#160;possible.&#160;In&#160;the&#160;CAN&#160;database,&#160;each&#160;<br/>data&#160;segment&#160;is&#160;assigned&#160;a&#160;symbolic&#160;name,&#160;a&#160;value&#160;range,&#160;a&#160;conversion&#160;<br/>formula and a&#160;physical&#160;unit,&#160;as&#160;well&#160;as a&#160;list&#160;of&#160;receiving&#160;nodes.&#160;<br/>
Table&#160;6-1&#160;&#160;&#160;Glossary&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>6.2&#160;</b><br/>
<b>Abbreviations&#160;</b><br/>
<b>Abbreviation&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>API&#160;</b><br/>
<b>A</b>pplication&#160;<b>P</b>rogramming&#160;<b>I</b>nterface<b>&#160;</b><br/>
<b>AUTOSAR&#160;</b><br/>
<b>Aut</b>omotive&#160;<b>O</b>pen&#160;<b>S</b>ystem&#160;<b>Ar</b>chitecture&#160;<br/>
<b>BswM&#160;</b><br/>
<b>B</b>asic&#160;<b>S</b>oftware&#160;<b>M</b>ode&#160;<b>Manager</b>&#160;<br/>
<b>CAN&#160;</b><br/>
<b>C</b>ontroller&#160;<b>A</b>rea&#160;<b>N</b>etwork&#160;<br/>
<b>CanIf&#160;</b><br/>
<b>Can&#160;I</b>nter<b>f</b>ace<b>&#160;</b><br/>
<b>CCL&#160;</b><br/>
<b>C</b>ommunication&#160;<b>C</b>ontrol&#160;<b>L</b>ayer&#160;<br/>
<b>ComM&#160;</b><br/>
<b>C</b>ommunication&#160;<b>M</b>anager&#160;<br/>
<b>CRI&#160;</b><br/>
Partial&#160;Network&#160;<b>C</b>luster&#160;<b>R</b>equest&#160;<b>I</b>nformation&#160;<br/>
<b>DET&#160;</b><br/>
<b>D</b>evelopment&#160;<b>E</b>rror&#160;<b>T</b>racer&#160;<br/>
<b>DEM&#160;</b><br/>
<b>D</b>iagnostic&#160;<b>E</b>vent&#160;<b>M</b>anager&#160;<br/>
<b>DLC&#160;</b><br/>
<b>D</b>ata&#160;<b>L</b>ength&#160;<b>C</b>ode&#160;(Number&#160;of&#160;data bytes&#160;of&#160;a CAN&#160;message)&#160;<br/>
<b>DLL&#160;</b><br/>
<b>D</b>ata&#160;<b>l</b>ink&#160;<b>l</b>ayer&#160;<br/>
<b>ECU&#160;</b><br/>
<b>E</b>lectronic&#160;<b>C</b>ontrol&#160;<b>U</b>nit&#160;<br/>
<b>EIRA&#160;</b><br/>
<b>E</b>xternal&#160;<b>I</b>nternal&#160;<b>R</b>equests&#160;<b>A</b>ggregated&#160;<br/>
<b>ERA&#160;</b><br/>
<b>E</b>xternal&#160;<b>R</b>equests&#160;<b>A</b>ggregated&#160;<br/>
<b>FIBEX&#160;</b><br/>
<b>Fi</b>eld&#160;<b>B</b>us&#160;<b>Ex</b>change&#160;<br/>
<b>ID&#160;</b><br/>
<b>Id</b>entifier&#160;(of&#160;a&#160;CAN&#160;message)&#160;<br/>
<b>IL&#160;</b><br/>
<b>I</b>nteraction&#160;<b>L</b>ayer&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
61&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=62></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-62_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>I-PDU&#160;</b><br/>
<b>I</b>nteraction Layer&#160;<b>P</b>rotocol&#160;<b>D</b>ata&#160;<b>U</b>nit&#160;<br/>
<b>ISR&#160;</b><br/>
<b>I</b>nterrupt&#160;<b>S</b>ervice&#160;<b>R</b>outine&#160;<br/>
<b>LIN&#160;</b><br/>
<b>L</b>ocal<b>&#160;I</b>nterconnect<b>&#160;N</b>etwork<b>&#160;</b><br/>
<b>MISRA&#160;</b><br/>
<b>M</b>otor&#160;<b>I</b>ndustry&#160;<b>S</b>oftware&#160;<b>R</b>eliability&#160;<b>A</b>ssociation&#160;<br/>
<b>NM&#160;</b><br/>
<b>N</b>etwork&#160;<b>M</b>anagement&#160;&#160;<br/>
<b>PDU&#160;</b><br/>
<b>P</b>rotocol<b>&#160;D</b>ata<b>&#160;U</b>nit<b>&#160;</b><br/>
<b>PN&#160;</b><br/>
<b>P</b>artial&#160;<b>N</b>etwork&#160;/&#160;<b>P</b>artial&#160;<b>N</b>etworking&#160;<br/>
<b>RAM&#160;</b><br/>
<b>R</b>andom&#160;<b>A</b>ccess&#160;<b>M</b>emory&#160;<br/>
<b>RI&#160;</b><br/>
<b>R</b>eference&#160;<b>I</b>mplementation&#160;<br/>(Reference&#160;Implementation&#160;of&#160;the&#160;CAN-Driver&#160;High Level&#160;part)&#160;<br/>
<b>ROM&#160;</b><br/>
<b>R</b>ead&#160;<b>O</b>nly&#160;<b>M</b>emory&#160;<br/>
<b>SchM&#160;</b><br/>
<b>Sch</b>edule&#160;<b>M</b>anager&#160;(BSW&#160;Scheduler)&#160;<br/>
<b>SRS&#160;</b><br/>
<b>S</b>ystem&#160;<b>R</b>equirements&#160;<b>S</b>pecification&#160;(used&#160;for&#160;AUTOSAR&#160;documents)&#160;<br/>
<b>SWS&#160;</b><br/>
<b>S</b>oft<b>w</b>are&#160;<b>S</b>pecification&#160;(used&#160;for&#160;AUTOSAR&#160;documents)&#160;<br/>
<b>UDP&#160;</b><br/>
<b>U</b>ser&#160;<b>D</b>atagram&#160;<b>P</b>rotocol&#160;<br/>
Table&#160;6-2&#160;&#160;&#160;Abbreviations&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
62&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name=63></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanNm/doc/TechnicalReference_CanNm-63_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;Network&#160;Management&#160;<br/>
<b>7.&#160;&#160;Contact&#160;</b><br/>
Visit&#160;our website&#160;for&#160;more information&#160;on&#160;<br/>&#160;<br/><b>&gt;&#160;&#160;</b>News&#160;<br/>
<b>&gt;&#160;&#160;</b>Products&#160;<br/>
<b>&gt;&#160;&#160;</b>Demo&#160;software&#160;<br/>
<b>&gt;&#160;&#160;</b>Support&#160;<br/>
<b>&gt;&#160;&#160;</b>Training&#160;data&#160;<br/>
<b>&gt;&#160;&#160;</b>Addresses&#160;<br/>
&#160;<br/>www.vector.com&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;6.02.00&#160;<br/>
63&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.2.0&#160;<br/>
<hr/>
<a name="outline"></a><h1>Document Outline</h1>
<ul>
<li><a href="TechnicalReference_CanNms.html#10">1. Component History</a></li>
<li><a href="TechnicalReference_CanNms.html#11">2. Introduction</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#11">2.1 Naming Conventions</a></li>
<li><a href="TechnicalReference_CanNms.html#12">2.2 Architecture Overview</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#12">2.2.1 Architecture of AUTOSAR Network Management</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#14">3. Functional Description</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#14">3.1 Features</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#15">3.1.1 Deviations Against AUTOSAR</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#15">3.1.1.1 RAM Initialization</a></li>
<li><a href="TechnicalReference_CanNms.html#15">3.1.1.2 Additional Configuration Dependencies</a></li>
<li><a href="TechnicalReference_CanNms.html#15">3.1.1.3 Variant Post-Build</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#15">3.1.2 Additions/ Extensions</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#16">3.1.2.1 Single Channel Optimization</a></li>
<li><a href="TechnicalReference_CanNms.html#16">3.1.2.2 Memory Initialization</a></li>
<li><a href="TechnicalReference_CanNms.html#16">3.1.2.3 Disable Transmission Error Reporting</a></li>
<li><a href="TechnicalReference_CanNms.html#16">3.1.2.4 Calling CanNm_PassiveStartUp in Prepare Bus Sleep</a></li>
<li><a href="TechnicalReference_CanNms.html#16">3.1.2.5 Additional Development Error Codes</a></li>
<li><a href="TechnicalReference_CanNms.html#16">3.1.2.6 Variable DLC Support</a></li>
<li><a href="TechnicalReference_CanNms.html#17">3.1.2.7 Changeability of Additional Parameters During the Post-Build Phase</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#17">3.1.3 Limitations</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#17">3.1.3.1 Ranges of Timers</a></li>
<li><a href="TechnicalReference_CanNms.html#17">3.1.3.2 Effects of CanNm_DisableCommunication</a></li>
<li><a href="TechnicalReference_CanNms.html#17">3.1.3.3 CANNM_E_NET_START_IND Development Error</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#17">3.2 Network Management Mechanism</a></li>
<li><a href="TechnicalReference_CanNms.html#19">3.3 Initialization</a></li>
<li><a href="TechnicalReference_CanNms.html#19">3.4 Passive Mode</a></li>
<li><a href="TechnicalReference_CanNms.html#19">3.5 Operation Modes and States</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#20">3.5.1 Network Mode</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#21">3.5.1.1 Repeat Message State</a></li>
<li><a href="TechnicalReference_CanNms.html#21">3.5.1.2 Normal Operation State</a></li>
<li><a href="TechnicalReference_CanNms.html#21">3.5.1.3 Ready Sleep State</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#21">3.5.2 Prepare Bus-Sleep Mode</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#22">3.5.2.1 Wait Bus Sleep Extensions</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#23">3.5.3 Bus-Sleep Mode</a></li>
<li><a href="TechnicalReference_CanNms.html#23">3.5.4 Wake-up Registration</a></li>
<li><a href="TechnicalReference_CanNms.html#23">3.5.5 User Data Handling</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#24">3.6 Network Management Message Transmission and Reception</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#24">3.6.1 AUTOSAR CAN Interface</a></li>
<li><a href="TechnicalReference_CanNms.html#24">3.6.2 PDU Message Layout</a></li>
<li><a href="TechnicalReference_CanNms.html#25">3.6.3 Message Transmissions</a></li>
<li><a href="TechnicalReference_CanNms.html#26">3.6.4 Bus Load Reduction</a></li>
<li><a href="TechnicalReference_CanNms.html#26">3.6.5 Support for RX PDUs with Different Lengths</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#27">3.7 Node Detection</a></li>
<li><a href="TechnicalReference_CanNms.html#28">3.8 NM PDU Receive Indication</a></li>
<li><a href="TechnicalReference_CanNms.html#28">3.9 Communication Control</a></li>
<li><a href="TechnicalReference_CanNms.html#28">3.10 Gateway Functionality</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#28">3.10.1 Remote Sleep Indication and Cancellation</a></li>
<li><a href="TechnicalReference_CanNms.html#29">3.10.2 Bus Synchronization</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#29">3.11 Coordinator Synchronization Support</a></li>
<li><a href="TechnicalReference_CanNms.html#29">3.12 Error Handling</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#29">3.12.1 Development Error Detection</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#30">3.12.1.1 Det_ReportError</a></li>
<li><a href="TechnicalReference_CanNms.html#31">3.12.1.2 Parameter Checking</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#32">3.12.2 Production Code Error Reporting</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#32">3.13 Com User Data Support</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#33">3.13.1 Configuration Preconditions in an AUTOSAR ECU Configuration</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#34">3.14 Active Wake-up Handling</a></li>
<li><a href="TechnicalReference_CanNms.html#34">3.15 Immediate Nm Transmissions</a></li>
<li><a href="TechnicalReference_CanNms.html#36">3.16 Immediate Restart Enabled</a></li>
<li><a href="TechnicalReference_CanNms.html#37">3.17 Car Wake-up</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#37">3.17.1 Rx-Path</a></li>
<li><a href="TechnicalReference_CanNms.html#37">3.17.2 Tx-Path</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#37">3.18 Partial Networking</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#38">3.18.1 Availability of Partial Network Request Information</a></li>
<li><a href="TechnicalReference_CanNms.html#38">3.18.2 Transmission of the CRI Bit in the NM User Data</a></li>
<li><a href="TechnicalReference_CanNms.html#38">3.18.3 Filter Algorithm for Received NM Messages</a></li>
<li><a href="TechnicalReference_CanNms.html#38">3.18.4 Aggregation of Requested Partial Networks</a></li>
<li><a href="TechnicalReference_CanNms.html#39">3.18.5 Spontaneous Sending of NM Messages</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#39">3.18.5.1 Using Com Transmission on Change Mechanism</a></li>
<li><a href="TechnicalReference_CanNms.html#39">3.18.5.2 Using NM Request and Immediate Nm Transmission</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#40">4. Integration</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#40">4.1 Scope of Delivery</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#40">4.1.1 Static Files</a></li>
<li><a href="TechnicalReference_CanNms.html#40">4.1.2 Dynamic Files</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#41">4.2 Include Structure</a></li>
<li><a href="TechnicalReference_CanNms.html#42">4.3 Main Functions</a></li>
<li><a href="TechnicalReference_CanNms.html#42">4.4 Critical Sections</a></li>
<li><a href="TechnicalReference_CanNms.html#42">4.5 Critical Section Codes</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#44">5. API Description</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#44">5.1 Data Types</a></li>
<li><a href="TechnicalReference_CanNms.html#44">5.2 Global Constants</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#44">5.2.1 AUTOSAR Specification Version</a></li>
<li><a href="TechnicalReference_CanNms.html#44">5.2.2 Component Versions</a></li>
<li><a href="TechnicalReference_CanNms.html#44">5.2.3 Vendor and Module ID</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#46">5.3 Services Provided by CANNM</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#46">5.3.1 Administrative Functions</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#46">5.3.1.1 CanNm_Init: Initialization of CAN NM</a></li>
<li><a href="TechnicalReference_CanNms.html#46">5.3.1.2 CanNm_MainFunction: Main Function for All Channel Instances</a></li>
<li><a href="TechnicalReference_CanNms.html#47">5.3.1.3 CanNm_InitMemory: Memory Initialization</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#47">5.3.2 Service Functions</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#47">5.3.2.1 CanNm_GetVersionInfo: Version Information API</a></li>
<li><a href="TechnicalReference_CanNms.html#48">5.3.2.2 CanNm_GetState: Get the State of the Network Management</a></li>
<li><a href="TechnicalReference_CanNms.html#49">5.3.2.3 CanNm_PassiveStartUp: Wake up the Network Management</a></li>
<li><a href="TechnicalReference_CanNms.html#49">5.3.2.4 Wake-up Registration</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#49">5.3.2.4.1 CanNm_NetworkRequest: Request the Network</a></li>
<li><a href="TechnicalReference_CanNms.html#50">5.3.2.4.2 CanNm_NetworkRelease: Release the Network</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#50">5.3.2.5 User Data Handling</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#50">5.3.2.5.1 CanNm_SetUserData: Set User Data</a></li>
<li><a href="TechnicalReference_CanNms.html#51">5.3.2.5.2 CanNm_GetUserData: Get User Data</a></li>
<li><a href="TechnicalReference_CanNms.html#51">5.3.2.5.3 CanNm_GetPduData: Get NM PDU Data</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#52">5.3.2.6 Node Detection</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#52">5.3.2.6.1 CanNm_RepeatMessageRequest: Set Repeat Message Request Bit</a></li>
<li><a href="TechnicalReference_CanNms.html#53">5.3.2.6.2 CanNm_GetNodeIdentifier: Get Node Identifier</a></li>
<li><a href="TechnicalReference_CanNms.html#53">5.3.2.6.3 CanNm_GetLocalNodeIdentifier: Get Local Node Identifier</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#54">5.3.2.7 Bus Synchronization</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#54">5.3.2.7.1 CanNm_RequestBusSynchronization: Synchronization of Networks</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#54">5.3.2.8 Remote Sleep Indication</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#54">5.3.2.8.1 CanNm_CheckRemoteSleepIndication: Check for Remote Sleep Indication</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#55">5.3.2.9 NM Message Transmission Request</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#55">5.3.2.9.1 CanNm_Transmit: Spontaneous NM Message Transmission</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#56">5.3.2.10 Communication Control Service</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#56">5.3.2.10.1 CanNm_DisableCommunication: Disable NM Message Transmission</a></li>
<li><a href="TechnicalReference_CanNms.html#56">5.3.2.10.2 CanNm_EnableCommunication: Enabled NM Message Transmission</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#57">5.3.2.11 Coordinator Synchronization Support</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#57">5.3.2.11.1 CanNm_SetSleepReadyBit: Set Sleep Ready Bit in the CBV</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#58">5.4 Services Used by CANNM</a></li>
<li><a href="TechnicalReference_CanNms.html#59">5.5 Callback Functions</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#59">5.5.1 Callback Functions from CAN Interface</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#59">5.5.1.1 CanNm_TxConfirmation: NM Message Confirmation Function</a></li>
<li><a href="TechnicalReference_CanNms.html#59">5.5.1.2 CanNm_RxIndication: NM Message Indication</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#60">5.5.2 Callback Function from CAN State Manager</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#60">5.5.2.1 CanNm_ConfirmPnAvailability: Notification for Activating the PN Filter Functionality</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#61">6. Glossary and Abbreviations</a>
<ul>
<li><a href="TechnicalReference_CanNms.html#61">6.1 Glossary</a></li>
<li><a href="TechnicalReference_CanNms.html#61">6.2 Abbreviations</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanNms.html#63">7. Contact</a></li>
</ul>
<hr/>
</body>
</html>
