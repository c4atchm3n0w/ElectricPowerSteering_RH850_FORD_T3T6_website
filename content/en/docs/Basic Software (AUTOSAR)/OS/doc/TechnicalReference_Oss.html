---
title: TechnicalReference_Oss
linkTitle: TechnicalReference_Oss
weight: 10
---

<!DOCTYPE html><html>
<head>
<title></title>
<style type="text/css">
<!--
.xflip {
    -moz-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    -o-transform: scaleX(-1);
    transform: scaleX(-1);
    filter: fliph;
}
.yflip {
    -moz-transform: scaleY(-1);
    -webkit-transform: scaleY(-1);
    -o-transform: scaleY(-1);
    transform: scaleY(-1);
    filter: flipv;
}
.xyflip {
    -moz-transform: scaleX(-1) scaleY(-1);
    -webkit-transform: scaleX(-1) scaleY(-1);
    -o-transform: scaleX(-1) scaleY(-1);
    transform: scaleX(-1) scaleY(-1);
    filter: fliph + flipv;
}
-->
</style>
</head>
<body>
<a name=1></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-1_1.png"/><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>&#160;<br/>
<b>MICROSAR OS&#160;<br/></b>Technical Reference&#160;<br/>&#160;<br/>&#160;&#160;<br/>Version&#160;1.7.0&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Authors&#160;<br/>
Anton&#160;&#160;Schmukel,&#160;&#160;Ivan&#160;&#160;Begert,&#160;&#160;Stefano&#160;&#160;Simoncelli,&#160;<br/>Torsten&#160;&#160;Schmidt,&#160;&#160;Da&#160;&#160;He,&#160;&#160;David&#160;&#160;Feuerstein,&#160;&#160;Michael&#160;<br/>Kock,&#160;Martin Schultheiß,&#160;Andreas&#160;Jehl&#160;<br/>
Status&#160;<br/>
Released&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<hr/>
<a name=2></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-2_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>Document&#160;Information&#160;</b><br/>
<b>History&#160;</b><br/>
<b>Author&#160;</b><br/>
<b>Date&#160;</b><br/>
<b>Version&#160;&#160;Remarks&#160;</b><br/>
Torsten&#160;Schmidt&#160;<br/>
2016-04-27&#160;&#160;1.0.0&#160;<br/>
First&#160;release version&#160;<br/>
Torsten&#160;Schmidt&#160;<br/>
2016-05-18&#160;&#160;1.0.1&#160;<br/>
References&#160;to&#160;hardware&#160;manuals&#160;added.&#160;<br/>Revision&#160;work&#160;<br/>
Torsten&#160;Schmidt&#160;<br/>
2016-06-03&#160;&#160;1.0.2&#160;<br/>
Fix&#160;of&#160;ESCAN00089598&#160;<br/>
Torsten&#160;Schmidt&#160;<br/>
2016-06-20&#160;&#160;1.1.0&#160;<br/>
List&#160;of&#160;OS&#160;internal&#160;objects&#160;added.&#160;<br/>Additional&#160;startup&#160;concept&#160;chapter&#160;added.&#160;<br/>Chapter&#160;“Memory&#160;mapping&#160;concept”&#160;reworked.&#160;<br/>Description&#160;of&#160;“generate&#160;callout&#160;stubs”&#160;feature&#160;<br/>added.&#160;<br/>
Torsten&#160;Schmidt&#160;<br/>
2016-07-05&#160;&#160;1.1.1&#160;<br/>
Chapter&#160;“Memory&#160;Mapping&#160;Concept”&#160;extended.&#160;<br/>IOC&#160;notification&#160;callback&#160;concept&#160;changed.&#160;<br/>HSI&#160;of&#160;RH850&#160;family&#160;added.&#160;<br/>HSI&#160;of&#160;Power&#160;PC&#160;family&#160;added.&#160;<br/>
Torsten&#160;Schmidt&#160;<br/>
2016-07-19&#160;&#160;1.1.2&#160;<br/>
Chapter&#160;“Memory&#160;Mapping&#160;Concept”&#160;changed.&#160;<br/>Hints&#160;for&#160;shorter&#160;compile&#160;times&#160;added.&#160;<br/>Nesting behavior&#160;of&#160;OS&#160;hooks&#160;described.&#160;<br/>
Ivan&#160;Begert&#160;<br/>
2016-08-11&#160;<br/>
1.1.3&#160;<br/>
HSI&#160;of&#160;ARM&#160;family&#160;added.&#160;<br/>
Torsten&#160;Schmidt&#160;<br/>
2016-08-12&#160;&#160;1.1.4&#160;<br/>
Chapter&#160;“Memory&#160;Mapping&#160;Concept”&#160;extended.&#160;<br/>Chapter&#160;“Clear&#160;Pending&#160;Interrupt”&#160;extended.&#160;<br/>Chapter&#160;“RH850 Special&#160;Characteristics”&#160;<br/>extended.&#160;<br/>
Ivan&#160;Begert&#160;<br/>
2016-08-18&#160;&#160;1.1.5&#160;<br/>
HSI&#160;of&#160;ARM&#160;Zynq&#160;UltraScale added.&#160;<br/>
Torsten&#160;Schmidt&#160;<br/>
2016-08-30&#160;&#160;1.1.6&#160;<br/>
HSI&#160;of&#160;RH850&#160;extended.&#160;<br/>
Torsten&#160;Schmidt&#160;<br/>
2016-08-31&#160;&#160;1.1.7&#160;<br/>
ORTI&#160;Debugging&#160;added.&#160;<br/>Timing&#160;Hook&#160;Macros&#160;reworked.&#160;<br/>Chapter&#160;“Memory&#160;Mapping&#160;Concept”&#160;changed.&#160;<br/>Chapter&#160;“Category&#160;1 Interrupts”&#160;extended.&#160;<br/>
Stefano&#160;Simoncelli&#160;<br/>
2016-09-15&#160;&#160;1.1.8&#160;<br/>
Chapter&#160;“Interrupt&#160;Source&#160;API”&#160;extended.&#160;<br/>
Torsten&#160;Schmidt&#160;<br/>
HSI&#160;chapter&#160;for&#160;ARM&#160;extended&#160;<br/>
Torsten&#160;Schmidt&#160;<br/>
2016-09-22&#160;&#160;1.2.0&#160;<br/>
VTT&#160;OS&#160;and&#160;Dual&#160;Target&#160;Concept&#160;added.&#160;<br/>Chapter&#160;ORTI&#160;Debugging extended.&#160;<br/>
Anton&#160;Schmukel&#160;<br/>
2016-10-14&#160;&#160;1.3.0&#160;<br/>
Ristrictions&#160;concerning&#160;API&#160;usage&#160;before&#160;<br/>
Da He&#160;<br/>
StartOS()&#160;documented.&#160;<br/>Clarification&#160;concerning&#160;forcible termination&#160;and&#160;<br/>schedule tables&#160;added.&#160;<br/>Deviations&#160;in&#160;IOC&#160;added.&#160;<br/>Notes&#160;on&#160;mixed&#160;criticality&#160;systems&#160;added.&#160;<br/>Chapter&#160;“RH850 Special&#160;Characteristics”&#160;<br/>extended.&#160;<br/>
Torsten&#160;Schmidt&#160;<br/>
2016-10-19&#160;&#160;1.3.1&#160;<br/>
Chapter&#160;“Configuration&#160;of&#160;X-Signals”&#160;added.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
2&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=3></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-3_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
Chapter&#160;“Power&#160;PC&#160;Special&#160;Characteristics”&#160;<br/>extended.&#160;<br/>Correction&#160;of&#160;startup&#160;examples.&#160;<br/>Chapter&#160;“User&#160;include&#160;files”&#160;added.&#160;<br/>RH850 HSI&#160;extended.&#160;<br/>PPC&#160;HSI&#160;extended.&#160;<br/>Hardware&#160;Overview&#160;extended&#160;by&#160;RH850.&#160;<br/>
David Feuerstein&#160;<br/>
2016-11-03&#160;<br/>
1.4.0&#160;<br/>
PPC&#160;HSI&#160;extended.&#160;<br/>Chapter&#160;ORTI&#160;Debugging extended.&#160;<br/>
Michael&#160;Kock&#160;<br/>
2016-11-25&#160;<br/>
1.5.0&#160;<br/>
Updated&#160;chapter&#160;Timing&#160;Hooks&#160;<br/>
Martin Schultheiß&#160;<br/>
2016-12-08&#160;&#160;1.6.0&#160;<br/>
PPC&#160;HSI&#160;extended.&#160;<br/>Updated&#160;characteristics&#160;of&#160;VTT&#160;OS.&#160;<br/>
David Feuerstein&#160;<br/>
2016-22-12&#160;&#160;1.7.0&#160;<br/>
Updated&#160;precautions&#160;in&#160;PreStartTask.&#160;<br/>
Andreas&#160;Jehl&#160;<br/>
Support&#160;new&#160;Power&#160;PC&#160;Derivative:&#160;PC580003&#160;<br/>
Ivan&#160;Begert&#160;<br/>
Support&#160;IAR&#160;compiler&#160;for&#160;ARM&#160;<br/>
Stefano&#160;Simoncelli&#160;<br/>
ARM&#160;Cortex-A&#160;HSI&#160;added&#160;<br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
3&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=4></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-4_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-4_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>&#160;</b><br/>
<b>Reference&#160;Documents&#160;</b><br/>
<b>No.&#160;</b><br/>
<b>Source&#160;</b><br/>
<b>Title&#160;</b><br/>
<b>Version&#160;</b><br/>
[1]&#160;&#160;&#160;<br/>
AUTOSAR&#160;<br/>
Specification&#160;of&#160;Operating&#160;System&#160;<br/>
4.2.1&#160;<br/>
Document&#160;ID&#160;034:&#160;&#160;AUTOSAR_SWS_OS&#160;<br/>
[2]&#160;&#160;&#160;<br/>
OSEK/VDX&#160;<br/>
OSEK/VDX&#160;Operating&#160;System&#160;Specification&#160;<br/>
2.2.3&#160;<br/>
This&#160;document&#160;is&#160;available in&#160;PDF-format&#160;on&#160;<br/>the&#160;Internet&#160;at&#160;the&#160;OSEK/VDX&#160;homepage&#160;<br/><a href="http://www.osek-vdx.org/">(http://www.osek-vdx.org)</a>&#160;<br/>
[3]&#160;&#160;&#160;<br/>
OSEK/VDX&#160;<br/>
OSEK&#160;RunTime&#160;Interface (ORTI)&#160;Part&#160;A:&#160;<br/>
2.2&#160;<br/>
Language&#160;Specification.&#160;<br/>This&#160;document&#160;is&#160;available in&#160;PDF-format&#160;on&#160;<br/>the&#160;Internet&#160;at&#160;the&#160;OSEK/VDX&#160;homepage&#160;<br/><a href="http://www.osek-vdx.org/">(http://www.osek-vdx.org)</a>&#160;<br/>
[4]&#160;&#160;&#160;<br/>
OSEK/VDX&#160;<br/>
OSEK&#160;Run&#160;Time&#160;Interface (ORTI)&#160;Part&#160;B:&#160;OSEK&#160;&#160;2.2&#160;<br/>Objects&#160;and&#160;Attributes&#160;<br/>This&#160;document&#160;is&#160;available in&#160;PDF-format&#160;on&#160;<br/>the&#160;Internet&#160;at&#160;the&#160;OSEK/VDX&#160;homepage&#160;<br/><a href="http://www.osek-vdx.org/">(http://www.osek-vdx.org)</a>&#160;<br/>
[5]&#160;&#160;&#160;<br/>
Lauterbach&#160;<br/>
ORTI&#160;Representation&#160;of&#160;SMP&#160;Systems&#160;(ORTI&#160;<br/>
4&#160;<br/>
2.3)&#160;<br/>
[6]&#160;&#160;&#160;<br/>
Vector&#160;<br/>
vVIRTUALtarget&#160;Technical&#160;Reference&#160;<br/>
See&#160;delivery&#160;<br/>information&#160;<br/>
[7]&#160;&#160;&#160;<br/>
Vector&#160;<br/>
Startup&#160;with Vector&#160;and vVIRTUALtarget&#160;<br/>
See&#160;delivery&#160;<br/>information&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>We&#160;have configured&#160;the&#160;programs&#160;in&#160;accordance&#160;with your&#160;specifications&#160;in the&#160;<br/>
<b>&#160;</b><br/>
questionnaire.&#160;Whereas&#160;the&#160;programs&#160;do&#160;support&#160;other&#160;configurations&#160;than&#160;the&#160;one&#160;<br/>specified&#160;in your&#160;questionnaire,&#160;Vector´s&#160;release&#160;of&#160;the&#160;programs&#160;delivered to&#160;your&#160;<br/>company&#160;is&#160;expressly&#160;restricted&#160;to&#160;the&#160;configuration&#160;you&#160;have specified&#160;in&#160;the&#160;<br/>questionnaire.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
4&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=5></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-5_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>Contents&#160;</b><br/>
<a href="TechnicalReference_Oss.html#16"><b>1</b>&#160;</a><br/>
<a href="TechnicalReference_Oss.html#16"><b>Introduction.................................................................................................................&#160;16</b>&#160;<br/>1.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#16">Architecture&#160;Overview&#160;......................................................................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_Oss.html#17">1.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#17">Abstract&#160;...........................................................................................................&#160;17&#160;</a><br/>
<a href="TechnicalReference_Oss.html#17">1.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#17">Characteristics&#160;.................................................................................................&#160;17&#160;</a><br/>
<a href="TechnicalReference_Oss.html#18">1.4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#18">Hardware&#160;Overview&#160;.........................................................................................&#160;18&#160;<br/></a><a href="TechnicalReference_Oss.html#19">1.4.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#19">TriCore&#160;Aurix&#160;....................................................................................&#160;19&#160;</a><br/>
<a href="TechnicalReference_Oss.html#20">1.4.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#20">Power&#160;PC&#160;.........................................................................................&#160;20&#160;</a><br/>
<a href="TechnicalReference_Oss.html#21">1.4.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#21">ARM&#160;.................................................................................................&#160;21&#160;</a><br/>
<a href="TechnicalReference_Oss.html#22">1.4.4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#22">RH850..............................................................................................&#160;22&#160;</a><br/>
<a href="TechnicalReference_Oss.html#23">1.4.5&#160;</a><br/>
<a href="TechnicalReference_Oss.html#23">VTT&#160;OS&#160;............................................................................................&#160;23&#160;<br/>1.4.5.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#23">Characteristics&#160;of&#160;VTT&#160;OS&#160;.............................................&#160;23&#160;</a><br/>
<a href="TechnicalReference_Oss.html#24"><b>2</b>&#160;</a><br/>
<a href="TechnicalReference_Oss.html#24"><b>Functional&#160;Description&#160;...............................................................................................&#160;24</b>&#160;<br/>2.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#24">General&#160;............................................................................................................&#160;24&#160;</a><br/>
<a href="TechnicalReference_Oss.html#24">2.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#24">MICROSAR&#160;OS&#160;Deviations&#160;from&#160;AUTOSAR&#160;OS&#160;Specification&#160;.........................&#160;24&#160;<br/>2.2.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#24">Generic&#160;Deviation for&#160;API&#160;Functions&#160;.................................................&#160;24&#160;</a><br/>
<a href="TechnicalReference_Oss.html#24">2.2.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#24">Trusted&#160;Function&#160;API&#160;Deviations&#160;......................................................&#160;24&#160;</a><br/>
<a href="TechnicalReference_Oss.html#25">2.2.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#25">Service Protection&#160;Deviation&#160;............................................................&#160;25&#160;</a><br/>
<a href="TechnicalReference_Oss.html#25">2.2.4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#25">SyncScheduleTable&#160;API&#160;Deviation&#160;...................................................&#160;25&#160;</a><br/>
<a href="TechnicalReference_Oss.html#25">2.2.5&#160;</a><br/>
<a href="TechnicalReference_Oss.html#25">CheckTask/ISRMemoryAccess&#160;API&#160;Deviation&#160;..................................&#160;25&#160;</a><br/>
<a href="TechnicalReference_Oss.html#26">2.2.6&#160;</a><br/>
<a href="TechnicalReference_Oss.html#26">Interrupt&#160;API&#160;Deviation&#160;.....................................................................&#160;26&#160;</a><br/>
<a href="TechnicalReference_Oss.html#26">2.2.7&#160;</a><br/>
<a href="TechnicalReference_Oss.html#26">Cross Core&#160;Getter&#160;APIs&#160;....................................................................&#160;26&#160;</a><br/>
<a href="TechnicalReference_Oss.html#26">2.2.8&#160;</a><br/>
<a href="TechnicalReference_Oss.html#26">IOC&#160;..................................................................................................&#160;26&#160;</a><br/>
<a href="TechnicalReference_Oss.html#27">2.2.9&#160;</a><br/>
<a href="TechnicalReference_Oss.html#27">Return value&#160;upon&#160;stack&#160;violation&#160;.....................................................&#160;27&#160;</a><br/>
<a href="TechnicalReference_Oss.html#28">2.2.10&#160;</a><br/>
<a href="TechnicalReference_Oss.html#28">Forcible&#160;Termination&#160;of&#160;Applications&#160;.................................................&#160;28&#160;</a><br/>
<a href="TechnicalReference_Oss.html#29">2.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#29">Stack&#160;Concept&#160;.................................................................................................&#160;29&#160;<br/></a><a href="TechnicalReference_Oss.html#31">2.3.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#31">Task&#160;Stack&#160;Sharing&#160;..........................................................................&#160;31&#160;<br/>2.3.1.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#31">Description&#160;.....................................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_Oss.html#31">2.3.1.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#31">Activation&#160;.......................................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_Oss.html#31">2.3.1.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#31">Usage&#160;............................................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_Oss.html#31">2.3.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#31">ISR&#160;Stack&#160;Sharing&#160;............................................................................&#160;31&#160;<br/>2.3.2.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#31">Description&#160;.....................................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_Oss.html#31">2.3.2.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#31">Activation&#160;.......................................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_Oss.html#32">2.3.2.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#32">Usage&#160;............................................................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_Oss.html#32">2.3.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#32">Stack&#160;Check&#160;Strategy&#160;.......................................................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_Oss.html#33">2.3.4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#33">Software&#160;Stack&#160;Check&#160;......................................................................&#160;33&#160;<br/>2.3.4.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#33">Description&#160;.....................................................................&#160;33&#160;</a><br/>
<a href="TechnicalReference_Oss.html#33">2.3.4.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#33">Activation&#160;.......................................................................&#160;33&#160;</a><br/>
<a href="TechnicalReference_Oss.html#33">2.3.4.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#33">Usage&#160;............................................................................&#160;33&#160;</a><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
5&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=6></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-6_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<a href="TechnicalReference_Oss.html#34">2.3.5&#160;</a><br/>
<a href="TechnicalReference_Oss.html#34">Stack&#160;Supervision&#160;by&#160;MPU&#160;...............................................................&#160;34&#160;<br/>2.3.5.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#34">Description&#160;.....................................................................&#160;34&#160;</a><br/>
<a href="TechnicalReference_Oss.html#34">2.3.5.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#34">Activation&#160;.......................................................................&#160;34&#160;</a><br/>
<a href="TechnicalReference_Oss.html#35">2.3.5.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#35">Usage&#160;............................................................................&#160;35&#160;</a><br/>
<a href="TechnicalReference_Oss.html#37">2.3.6&#160;</a><br/>
<a href="TechnicalReference_Oss.html#37">Stack&#160;Usage&#160;Measurement&#160;..............................................................&#160;37&#160;<br/>2.3.6.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#37">Description&#160;.....................................................................&#160;37&#160;</a><br/>
<a href="TechnicalReference_Oss.html#37">2.3.6.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#37">Activation&#160;.......................................................................&#160;37&#160;</a><br/>
<a href="TechnicalReference_Oss.html#37">2.3.6.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#37">Usage&#160;............................................................................&#160;37&#160;</a><br/>
<a href="TechnicalReference_Oss.html#38">2.4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#38">Interrupt&#160;Concept&#160;.............................................................................................&#160;38&#160;<br/>2.4.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#38">Interrupt&#160;Handling&#160;API&#160;......................................................................&#160;38&#160;<br/>2.4.1.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#38">Interrupt&#160;Handling&#160;in SC1 /&#160;SC3&#160;.....................................&#160;38&#160;</a><br/>
<a href="TechnicalReference_Oss.html#39">2.4.1.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#39">Interrupt&#160;Handling&#160;in SC2 /&#160;SC4&#160;.....................................&#160;39&#160;</a><br/>
<a href="TechnicalReference_Oss.html#40">2.4.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#40">Interrupt&#160;Vector&#160;Table&#160;.......................................................................&#160;40&#160;</a><br/>
<a href="TechnicalReference_Oss.html#40">2.4.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#40">Nesting of&#160;Category&#160;2 Interrupts.......................................................&#160;40&#160;<br/>2.4.3.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#40">Description&#160;.....................................................................&#160;40&#160;</a><br/>
<a href="TechnicalReference_Oss.html#40">2.4.3.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#40">Activation&#160;.......................................................................&#160;40&#160;</a><br/>
<a href="TechnicalReference_Oss.html#40">2.4.4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#40">Category&#160;1&#160;Interrupts&#160;.......................................................................&#160;40&#160;<br/>2.4.4.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#40">Implementation&#160;of&#160;Category&#160;1 ISRs&#160;...............................&#160;40&#160;</a><br/>
<a href="TechnicalReference_Oss.html#41">2.4.4.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#41">Nesting of&#160;Category&#160;1 ISRs&#160;............................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_Oss.html#41">2.4.4.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#41">Category&#160;1&#160;ISRs&#160;before&#160;StartOS&#160;....................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_Oss.html#42">2.4.4.4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#42">Notes&#160;on&#160;Category&#160;1&#160;ISRs&#160;.............................................&#160;42&#160;</a><br/>
<a href="TechnicalReference_Oss.html#43">2.4.5&#160;</a><br/>
<a href="TechnicalReference_Oss.html#43">Initialization of&#160;Interrupt&#160;Sources&#160;......................................................&#160;43&#160;</a><br/>
<a href="TechnicalReference_Oss.html#43">2.4.6&#160;</a><br/>
<a href="TechnicalReference_Oss.html#43">Unhandled&#160;Interrupts&#160;........................................................................&#160;43&#160;</a><br/>
<a href="TechnicalReference_Oss.html#43">2.5&#160;</a><br/>
<a href="TechnicalReference_Oss.html#43">Exception&#160;Concept&#160;...........................................................................................&#160;43&#160;<br/>2.5.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#43">Exception&#160;Vector&#160;Table&#160;.....................................................................&#160;43&#160;</a><br/>
<a href="TechnicalReference_Oss.html#43">2.5.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#43">Unhandled&#160;Exceptions&#160;.....................................................................&#160;43&#160;</a><br/>
<a href="TechnicalReference_Oss.html#44">2.6&#160;</a><br/>
<a href="TechnicalReference_Oss.html#44">Timer&#160;Concept&#160;.................................................................................................&#160;44&#160;<br/>2.6.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#44">Description&#160;.......................................................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_Oss.html#44">2.6.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#44">Activation&#160;.........................................................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_Oss.html#44">2.6.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#44">Usage&#160;..............................................................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_Oss.html#44">2.6.4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#44">Dependencies&#160;..................................................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_Oss.html#45">2.7&#160;</a><br/>
<a href="TechnicalReference_Oss.html#45">Periodical&#160;Interrupt&#160;Timer&#160;(PIT)&#160;........................................................................&#160;45&#160;<br/>2.7.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#45">Description&#160;.......................................................................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_Oss.html#45">2.7.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#45">Activation&#160;.........................................................................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_Oss.html#46">2.8&#160;</a><br/>
<a href="TechnicalReference_Oss.html#46">High Resolution&#160;Timer&#160;(HRT)&#160;...........................................................................&#160;46&#160;<br/>2.8.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#46">Description&#160;.......................................................................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_Oss.html#46">2.8.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#46">Activation&#160;.........................................................................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_Oss.html#46">2.9&#160;</a><br/>
<a href="TechnicalReference_Oss.html#46">PIT&#160;versus&#160;HRT&#160;...............................................................................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_Oss.html#47">2.10&#160;</a><br/>
<a href="TechnicalReference_Oss.html#47">Startup&#160;Concept&#160;...............................................................................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_Oss.html#48">2.11&#160;</a><br/>
<a href="TechnicalReference_Oss.html#48">Single Core&#160;Startup&#160;..........................................................................................&#160;48&#160;<br/>2.11.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#48">Single Core&#160;Derivatives&#160;....................................................................&#160;48&#160;</a><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
6&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=7></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-7_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<a href="TechnicalReference_Oss.html#49">2.11.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#49">Multi&#160;Core&#160;Derivatives&#160;......................................................................&#160;49&#160;<br/>2.11.2.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#49">Examples&#160;for&#160;SC1 /&#160;SC2&#160;Systems&#160;..................................&#160;49&#160;</a><br/>
<a href="TechnicalReference_Oss.html#50">2.11.2.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#50">Examples&#160;for&#160;SC3 /&#160;SC4&#160;Systems&#160;..................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_Oss.html#51">2.12&#160;</a><br/>
<a href="TechnicalReference_Oss.html#51">Multi&#160;Core&#160;Startup&#160;............................................................................................&#160;51&#160;<br/>2.12.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#51">Example for&#160;SC1&#160;/&#160;SC2&#160;Systems&#160;......................................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_Oss.html#52">2.12.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#52">Examples&#160;for&#160;SC3 /&#160;SC4&#160;systems&#160;....................................................&#160;52&#160;<br/>2.12.2.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#52">Only&#160;with&#160;AUTOSAR&#160;Cores&#160;............................................&#160;52&#160;</a><br/>
<a href="TechnicalReference_Oss.html#53">2.12.2.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#53">Mixed&#160;Core&#160;System........................................................&#160;53&#160;</a><br/>
<a href="TechnicalReference_Oss.html#54">2.13&#160;</a><br/>
<a href="TechnicalReference_Oss.html#54">Error&#160;Handling&#160;..................................................................................................&#160;54&#160;</a><br/>
<a href="TechnicalReference_Oss.html#54">2.14&#160;</a><br/>
<a href="TechnicalReference_Oss.html#54">Error&#160;Reporting&#160;................................................................................................&#160;54&#160;<br/></a><a href="TechnicalReference_Oss.html#55">2.14.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#55">Extension&#160;of&#160;Service IDs&#160;..................................................................&#160;55&#160;</a><br/>
<a href="TechnicalReference_Oss.html#55">2.14.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#55">Extension&#160;of&#160;Error&#160;Codes&#160;.................................................................&#160;55&#160;</a><br/>
<a href="TechnicalReference_Oss.html#56">2.14.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#56">Detailed&#160;Error&#160;Codes&#160;........................................................................&#160;56&#160;</a><br/>
<a href="TechnicalReference_Oss.html#57">2.15&#160;</a><br/>
<a href="TechnicalReference_Oss.html#57">Multi&#160;Core&#160;Concepts&#160;........................................................................................&#160;57&#160;<br/>2.15.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#57">Scheduling&#160;and Dispatching&#160;.............................................................&#160;57&#160;</a><br/>
<a href="TechnicalReference_Oss.html#57">2.15.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#57">Multi&#160;Core&#160;Data&#160;Concepts&#160;................................................................&#160;57&#160;</a><br/>
<a href="TechnicalReference_Oss.html#57">2.15.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#57">X-Signals&#160;.........................................................................................&#160;57&#160;</a><br/>
<a href="TechnicalReference_Oss.html#57">2.15.4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#57">Master&#160;/&#160;Slave Core&#160;.........................................................................&#160;57&#160;</a><br/>
<a href="TechnicalReference_Oss.html#57">2.15.5&#160;</a><br/>
<a href="TechnicalReference_Oss.html#57">Startup&#160;of&#160;a&#160;Multi&#160;Core&#160;System&#160;........................................................&#160;57&#160;</a><br/>
<a href="TechnicalReference_Oss.html#57">2.15.6&#160;</a><br/>
<a href="TechnicalReference_Oss.html#57">Spinlocks&#160;.........................................................................................&#160;57&#160;</a><br/>
<a href="TechnicalReference_Oss.html#58">2.15.7&#160;</a><br/>
<a href="TechnicalReference_Oss.html#58">Cache&#160;..............................................................................................&#160;58&#160;</a><br/>
<a href="TechnicalReference_Oss.html#58">2.15.8&#160;</a><br/>
<a href="TechnicalReference_Oss.html#58">Shutdown&#160;.........................................................................................&#160;58&#160;<br/>2.15.8.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#58">Shutdown of&#160;one Core&#160;...................................................&#160;58&#160;</a><br/>
<a href="TechnicalReference_Oss.html#58">2.15.8.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#58">Shutdown of&#160;all&#160;Cores&#160;....................................................&#160;58&#160;</a><br/>
<a href="TechnicalReference_Oss.html#58">2.15.8.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#58">Shutdown during&#160;Protection&#160;Violation.............................&#160;58&#160;</a><br/>
<a href="TechnicalReference_Oss.html#59">2.16&#160;</a><br/>
<a href="TechnicalReference_Oss.html#59">Debugging&#160;Concepts&#160;.......................................................................................&#160;59&#160;<br/>2.16.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#59">Description&#160;.......................................................................................&#160;59&#160;</a><br/>
<a href="TechnicalReference_Oss.html#59">2.16.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#59">Activation&#160;.........................................................................................&#160;59&#160;</a><br/>
<a href="TechnicalReference_Oss.html#60">2.16.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#60">ORTI&#160;Debugging&#160;..............................................................................&#160;60&#160;</a><br/>
<a href="TechnicalReference_Oss.html#62">2.17&#160;</a><br/>
<a href="TechnicalReference_Oss.html#62">Memory&#160;Protection&#160;...........................................................................................&#160;62&#160;<br/>2.17.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#62">Usage&#160;of&#160;the&#160;System&#160;MPU&#160;...............................................................&#160;62&#160;</a><br/>
<a href="TechnicalReference_Oss.html#62">2.17.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#62">Usage&#160;of&#160;the&#160;Core&#160;MPUs&#160;.................................................................&#160;62&#160;</a><br/>
<a href="TechnicalReference_Oss.html#63">2.17.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#63">Configuration&#160;Aspects&#160;......................................................................&#160;63&#160;<br/>2.17.3.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#63">Static MPU&#160;Regions&#160;.......................................................&#160;63&#160;</a><br/>
<a href="TechnicalReference_Oss.html#63">2.17.3.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#63">Dynamic&#160;MPU&#160;Regions&#160;..................................................&#160;63&#160;</a><br/>
<a href="TechnicalReference_Oss.html#64">2.17.3.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#64">Freedom&#160;from&#160;Interference&#160;............................................&#160;64&#160;</a><br/>
<a href="TechnicalReference_Oss.html#65">2.17.4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#65">Stack&#160;Monitoring&#160;..............................................................................&#160;65&#160;</a><br/>
<a href="TechnicalReference_Oss.html#65">2.17.5&#160;</a><br/>
<a href="TechnicalReference_Oss.html#65">Protection&#160;Violation Handling&#160;...........................................................&#160;65&#160;</a><br/>
<a href="TechnicalReference_Oss.html#65">2.17.6&#160;</a><br/>
<a href="TechnicalReference_Oss.html#65">Optimized&#160;/&#160;Fast&#160;Core&#160;MPU&#160;Handling&#160;..............................................&#160;65&#160;</a><br/>
<a href="TechnicalReference_Oss.html#66">2.17.7&#160;</a><br/>
<a href="TechnicalReference_Oss.html#66">Recommended&#160;Configuration&#160;...........................................................&#160;66&#160;</a><br/>
<a href="TechnicalReference_Oss.html#67">2.18&#160;</a><br/>
<a href="TechnicalReference_Oss.html#67">Memory&#160;Access&#160;Checks&#160;...................................................................................&#160;67&#160;</a><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
7&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=8></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-8_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<a href="TechnicalReference_Oss.html#67">2.18.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#67">Description&#160;.......................................................................................&#160;67&#160;</a><br/>
<a href="TechnicalReference_Oss.html#67">2.18.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#67">Activation&#160;.........................................................................................&#160;67&#160;</a><br/>
<a href="TechnicalReference_Oss.html#67">2.18.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#67">Usage&#160;..............................................................................................&#160;67&#160;</a><br/>
<a href="TechnicalReference_Oss.html#67">2.18.4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#67">Dependencies&#160;..................................................................................&#160;67&#160;</a><br/>
<a href="TechnicalReference_Oss.html#68">2.19&#160;</a><br/>
<a href="TechnicalReference_Oss.html#68">Timing&#160;Protection&#160;Concept&#160;...............................................................................&#160;68&#160;<br/>2.19.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#68">Description&#160;.......................................................................................&#160;68&#160;</a><br/>
<a href="TechnicalReference_Oss.html#69">2.19.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#69">Activation&#160;.........................................................................................&#160;69&#160;</a><br/>
<a href="TechnicalReference_Oss.html#69">2.19.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#69">Usage&#160;..............................................................................................&#160;69&#160;</a><br/>
<a href="TechnicalReference_Oss.html#70">2.20&#160;</a><br/>
<a href="TechnicalReference_Oss.html#70">IOC&#160;..................................................................................................................&#160;70&#160;<br/>2.20.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#70">Description&#160;.......................................................................................&#160;70&#160;</a><br/>
<a href="TechnicalReference_Oss.html#70">2.20.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#70">Unqeued&#160;(Last&#160;Is&#160;Best)&#160;Communication&#160;...........................................&#160;70&#160;<br/>2.20.2.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#70">1:1&#160;Communication&#160;Variant&#160;............................................&#160;70&#160;</a><br/>
<a href="TechnicalReference_Oss.html#71">2.20.2.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#71">N:1 Communication&#160;Variant&#160;...........................................&#160;71&#160;</a><br/>
<a href="TechnicalReference_Oss.html#71">2.20.2.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#71">N:M&#160;Communication Variant&#160;..........................................&#160;71&#160;</a><br/>
<a href="TechnicalReference_Oss.html#71">2.20.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#71">Queued Communication&#160;..................................................................&#160;71&#160;</a><br/>
<a href="TechnicalReference_Oss.html#71">2.20.4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#71">Notification&#160;.......................................................................................&#160;71&#160;</a><br/>
<a href="TechnicalReference_Oss.html#72">2.20.5&#160;</a><br/>
<a href="TechnicalReference_Oss.html#72">Particularities&#160;...................................................................................&#160;72&#160;<br/>2.20.5.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#72">N:1&#160;Queued Communication&#160;..........................................&#160;72&#160;</a><br/>
<a href="TechnicalReference_Oss.html#72">2.20.5.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#72">IOC&#160;Spinlocks&#160;................................................................&#160;72&#160;</a><br/>
<a href="TechnicalReference_Oss.html#73">2.20.5.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#73">Notification&#160;.....................................................................&#160;73&#160;</a><br/>
<a href="TechnicalReference_Oss.html#74">2.21&#160;</a><br/>
<a href="TechnicalReference_Oss.html#74">Trusted&#160;OS&#160;Applications&#160;...................................................................................&#160;74&#160;<br/>2.21.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#74">Trusted&#160;OS&#160;Applications&#160;with Memory&#160;Protection&#160;.............................&#160;74&#160;<br/>2.21.1.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#74">Description&#160;.....................................................................&#160;74&#160;</a><br/>
<a href="TechnicalReference_Oss.html#74">2.21.1.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#74">Activation&#160;.......................................................................&#160;74&#160;</a><br/>
<a href="TechnicalReference_Oss.html#74">2.21.1.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#74">Dependencies&#160;................................................................&#160;74&#160;</a><br/>
<a href="TechnicalReference_Oss.html#74">2.21.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#74">Trusted&#160;OS&#160;Applications&#160;in User&#160;Mode&#160;.............................................&#160;74&#160;<br/>2.21.2.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#74">Description&#160;.....................................................................&#160;74&#160;</a><br/>
<a href="TechnicalReference_Oss.html#74">2.21.2.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#74">Activation&#160;.......................................................................&#160;74&#160;</a><br/>
<a href="TechnicalReference_Oss.html#74">2.21.2.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#74">Dependencies&#160;................................................................&#160;74&#160;</a><br/>
<a href="TechnicalReference_Oss.html#75">2.21.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#75">Trusted&#160;Functions&#160;............................................................................&#160;75&#160;</a><br/>
<a href="TechnicalReference_Oss.html#76">2.22&#160;</a><br/>
<a href="TechnicalReference_Oss.html#76">OS&#160;Hooks&#160;........................................................................................................&#160;76&#160;<br/>2.22.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#76">Runtime Context&#160;..............................................................................&#160;76&#160;</a><br/>
<a href="TechnicalReference_Oss.html#76">2.22.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#76">Nesting behavior&#160;..............................................................................&#160;76&#160;</a><br/>
<a href="TechnicalReference_Oss.html#77">2.22.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#77">Hints&#160;................................................................................................&#160;77&#160;</a><br/>
<a href="TechnicalReference_Oss.html#78"><b>3</b>&#160;</a><br/>
<a href="TechnicalReference_Oss.html#78"><b>Vector&#160;Specific&#160;OS&#160;Features&#160;......................................................................................&#160;78</b>&#160;<br/>3.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#78">Optimized&#160;Spinlocks&#160;........................................................................................&#160;78&#160;<br/>3.1.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#78">Description&#160;.......................................................................................&#160;78&#160;</a><br/>
<a href="TechnicalReference_Oss.html#78">3.1.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#78">Activation&#160;.........................................................................................&#160;78&#160;</a><br/>
<a href="TechnicalReference_Oss.html#78">3.1.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#78">Usage&#160;..............................................................................................&#160;78&#160;</a><br/>
<a href="TechnicalReference_Oss.html#79">3.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#79">Peripheral&#160;Access&#160;API&#160;......................................................................................&#160;79&#160;</a><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
8&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=9></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-9_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<a href="TechnicalReference_Oss.html#79">3.2.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#79">Description&#160;.......................................................................................&#160;79&#160;</a><br/>
<a href="TechnicalReference_Oss.html#79">3.2.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#79">Activation&#160;.........................................................................................&#160;79&#160;</a><br/>
<a href="TechnicalReference_Oss.html#79">3.2.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#79">Usage&#160;..............................................................................................&#160;79&#160;</a><br/>
<a href="TechnicalReference_Oss.html#79">3.2.4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#79">Dependencies&#160;..................................................................................&#160;79&#160;</a><br/>
<a href="TechnicalReference_Oss.html#79">3.2.5&#160;</a><br/>
<a href="TechnicalReference_Oss.html#79">Alternatives&#160;......................................................................................&#160;79&#160;</a><br/>
<a href="TechnicalReference_Oss.html#79">3.2.6&#160;</a><br/>
<a href="TechnicalReference_Oss.html#79">Common&#160;Use Cases&#160;........................................................................&#160;79&#160;</a><br/>
<a href="TechnicalReference_Oss.html#80">3.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#80">Trusted&#160;Function&#160;Call&#160;Stubs&#160;.............................................................................&#160;80&#160;<br/>3.3.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#80">Description&#160;.......................................................................................&#160;80&#160;</a><br/>
<a href="TechnicalReference_Oss.html#80">3.3.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#80">Activation&#160;.........................................................................................&#160;80&#160;</a><br/>
<a href="TechnicalReference_Oss.html#80">3.3.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#80">Usage&#160;..............................................................................................&#160;80&#160;</a><br/>
<a href="TechnicalReference_Oss.html#80">3.3.4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#80">Dependencies&#160;..................................................................................&#160;80&#160;</a><br/>
<a href="TechnicalReference_Oss.html#81">3.4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#81">Non-Trusted&#160;Functions&#160;(NTF)&#160;..........................................................................&#160;81&#160;<br/>3.4.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#81">Description&#160;.......................................................................................&#160;81&#160;</a><br/>
<a href="TechnicalReference_Oss.html#81">3.4.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#81">Activation&#160;.........................................................................................&#160;81&#160;</a><br/>
<a href="TechnicalReference_Oss.html#82">3.4.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#82">Usage&#160;..............................................................................................&#160;82&#160;</a><br/>
<a href="TechnicalReference_Oss.html#82">3.4.4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#82">Dependencies&#160;..................................................................................&#160;82&#160;</a><br/>
<a href="TechnicalReference_Oss.html#83">3.5&#160;</a><br/>
<a href="TechnicalReference_Oss.html#83">Interrupt&#160;Source&#160;API&#160;.........................................................................................&#160;83&#160;<br/>3.5.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#83">Description&#160;.......................................................................................&#160;83&#160;</a><br/>
<a href="TechnicalReference_Oss.html#84">3.6&#160;</a><br/>
<a href="TechnicalReference_Oss.html#84">Pre-Start&#160;Task&#160;..................................................................................................&#160;84&#160;<br/>3.6.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#84">Description&#160;.......................................................................................&#160;84&#160;</a><br/>
<a href="TechnicalReference_Oss.html#84">3.6.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#84">Activation&#160;.........................................................................................&#160;84&#160;</a><br/>
<a href="TechnicalReference_Oss.html#84">3.6.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#84">Usage&#160;..............................................................................................&#160;84&#160;</a><br/>
<a href="TechnicalReference_Oss.html#85">3.6.4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#85">Dependencies&#160;..................................................................................&#160;85&#160;</a><br/>
<a href="TechnicalReference_Oss.html#86">3.7&#160;</a><br/>
<a href="TechnicalReference_Oss.html#86">X-Signals&#160;.........................................................................................................&#160;86&#160;<br/>3.7.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#86">Description&#160;.......................................................................................&#160;86&#160;<br/></a><a href="TechnicalReference_Oss.html#89">3.7.1.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#89">Notes&#160;on&#160;Synchronous&#160;X-Signals&#160;...................................&#160;89&#160;</a><br/>
<a href="TechnicalReference_Oss.html#89">3.7.1.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#89">Notes&#160;on&#160;Mixed&#160;Criticality&#160;Systems&#160;................................&#160;89&#160;</a><br/>
<a href="TechnicalReference_Oss.html#89">3.7.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#89">Activation&#160;.........................................................................................&#160;89&#160;</a><br/>
<a href="TechnicalReference_Oss.html#90">3.8&#160;</a><br/>
<a href="TechnicalReference_Oss.html#90">Timing&#160;Hooks&#160;...................................................................................................&#160;90&#160;<br/>3.8.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#90">Description&#160;.......................................................................................&#160;90&#160;</a><br/>
<a href="TechnicalReference_Oss.html#90">3.8.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#90">Activation&#160;.........................................................................................&#160;90&#160;</a><br/>
<a href="TechnicalReference_Oss.html#90">3.8.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#90">Usage&#160;..............................................................................................&#160;90&#160;</a><br/>
<a href="TechnicalReference_Oss.html#91">3.9&#160;</a><br/>
<a href="TechnicalReference_Oss.html#91">Kernel&#160;Panic&#160;....................................................................................................&#160;91&#160;</a><br/>
<a href="TechnicalReference_Oss.html#92">3.10&#160;</a><br/>
<a href="TechnicalReference_Oss.html#92">Generate callout&#160;stubs&#160;.....................................................................................&#160;92&#160;<br/>3.10.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#92">Description&#160;.......................................................................................&#160;92&#160;</a><br/>
<a href="TechnicalReference_Oss.html#92">3.10.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#92">Activation&#160;.........................................................................................&#160;92&#160;</a><br/>
<a href="TechnicalReference_Oss.html#92">3.10.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#92">Usage&#160;..............................................................................................&#160;92&#160;</a><br/>
<a href="TechnicalReference_Oss.html#93"><b>4</b>&#160;</a><br/>
<a href="TechnicalReference_Oss.html#93"><b>Integration&#160;...................................................................................................................&#160;93</b>&#160;<br/>4.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#93">Compiler&#160;Optimization&#160;Assumptions&#160;.................................................................&#160;93&#160;<br/>4.1.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#93">Compile&#160;Time&#160;...................................................................................&#160;93&#160;</a><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
9&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=10></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-10_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<a href="TechnicalReference_Oss.html#93">4.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#93">Hardware&#160;Software&#160;Interfaces&#160;(HSI).................................................................&#160;93&#160;<br/></a><a href="TechnicalReference_Oss.html#94">4.2.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#94">TriCore&#160;Aurix&#160;Family&#160;.........................................................................&#160;94&#160;<br/>4.2.1.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#94">Context&#160;..........................................................................&#160;94&#160;</a><br/>
<a href="TechnicalReference_Oss.html#94">4.2.1.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#94">Core&#160;Registers&#160;...............................................................&#160;94&#160;</a><br/>
<a href="TechnicalReference_Oss.html#94">4.2.1.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#94">Interrupt&#160;Registers&#160;.........................................................&#160;94&#160;</a><br/>
<a href="TechnicalReference_Oss.html#95">4.2.1.4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#95">GPT&#160;Registers&#160;...............................................................&#160;95&#160;</a><br/>
<a href="TechnicalReference_Oss.html#95">4.2.1.5&#160;</a><br/>
<a href="TechnicalReference_Oss.html#95">STM&#160;Registers&#160;...............................................................&#160;95&#160;</a><br/>
<a href="TechnicalReference_Oss.html#96">4.2.1.6&#160;</a><br/>
<a href="TechnicalReference_Oss.html#96">Aurix&#160;Special&#160;Characteristics&#160;.........................................&#160;96&#160;</a><br/>
<a href="TechnicalReference_Oss.html#98">4.2.1.7&#160;</a><br/>
<a href="TechnicalReference_Oss.html#98">PSW&#160;handling&#160;................................................................&#160;98&#160;</a><br/>
<a href="TechnicalReference_Oss.html#99">4.2.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#99">RH850 Family&#160;..................................................................................&#160;99&#160;<br/>4.2.2.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#99">Context&#160;..........................................................................&#160;99&#160;</a><br/>
<a href="TechnicalReference_Oss.html#100">4.2.2.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#100">Core&#160;Registers&#160;.............................................................&#160;100&#160;</a><br/>
<a href="TechnicalReference_Oss.html#101">4.2.2.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#101">MPU&#160;Registers&#160;.............................................................&#160;101&#160;</a><br/>
<a href="TechnicalReference_Oss.html#101">4.2.2.4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#101">INTC&#160;Registers&#160;............................................................&#160;101&#160;</a><br/>
<a href="TechnicalReference_Oss.html#101">4.2.2.5&#160;</a><br/>
<a href="TechnicalReference_Oss.html#101">Inter&#160;Processor&#160;Interrupt&#160;Control&#160;Registers&#160;..................&#160;101&#160;</a><br/>
<a href="TechnicalReference_Oss.html#102">4.2.2.6&#160;</a><br/>
<a href="TechnicalReference_Oss.html#102">Timer&#160;TAUJ&#160;Registers&#160;..................................................&#160;102&#160;</a><br/>
<a href="TechnicalReference_Oss.html#104">4.2.2.7&#160;</a><br/>
<a href="TechnicalReference_Oss.html#104">Timer&#160;STM&#160;Registers&#160;...................................................&#160;104&#160;</a><br/>
<a href="TechnicalReference_Oss.html#106">4.2.2.8&#160;</a><br/>
<a href="TechnicalReference_Oss.html#106">Timer&#160;OSTM&#160;Registers&#160;................................................&#160;106&#160;</a><br/>
<a href="TechnicalReference_Oss.html#107">4.2.2.9&#160;</a><br/>
<a href="TechnicalReference_Oss.html#107">RH850 Special&#160;Characteristics&#160;....................................&#160;107&#160;</a><br/>
<a href="TechnicalReference_Oss.html#108">4.2.2.10&#160;</a><br/>
<a href="TechnicalReference_Oss.html#108">PSW&#160;Register&#160;Handling&#160;...............................................&#160;108&#160;</a><br/>
<a href="TechnicalReference_Oss.html#108">4.2.2.11&#160;</a><br/>
<a href="TechnicalReference_Oss.html#108">Instructions&#160;..................................................................&#160;108&#160;</a><br/>
<a href="TechnicalReference_Oss.html#108">4.2.2.12&#160;</a><br/>
<a href="TechnicalReference_Oss.html#108">Exception&#160;and Interrupt&#160;Cause&#160;Address&#160;.......................&#160;108&#160;</a><br/>
<a href="TechnicalReference_Oss.html#109">4.2.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#109">Power&#160;PC&#160;Family&#160;...........................................................................&#160;109&#160;<br/>4.2.3.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#109">Context&#160;........................................................................&#160;109&#160;</a><br/>
<a href="TechnicalReference_Oss.html#109">4.2.3.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#109">Core&#160;Registers&#160;.............................................................&#160;109&#160;</a><br/>
<a href="TechnicalReference_Oss.html#109">4.2.3.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#109">Interrupt&#160;Registers&#160;.......................................................&#160;109&#160;</a><br/>
<a href="TechnicalReference_Oss.html#110">4.2.3.4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#110">PIT&#160;Registers&#160;...............................................................&#160;110&#160;</a><br/>
<a href="TechnicalReference_Oss.html#110">4.2.3.5&#160;</a><br/>
<a href="TechnicalReference_Oss.html#110">STM&#160;Registers&#160;.............................................................&#160;110&#160;</a><br/>
<a href="TechnicalReference_Oss.html#110">4.2.3.6&#160;</a><br/>
<a href="TechnicalReference_Oss.html#110">MPU&#160;Registers&#160;.............................................................&#160;110&#160;</a><br/>
<a href="TechnicalReference_Oss.html#111">4.2.3.7&#160;</a><br/>
<a href="TechnicalReference_Oss.html#111">SEMA4 Registers&#160;.........................................................&#160;111&#160;</a><br/>
<a href="TechnicalReference_Oss.html#111">4.2.3.8&#160;</a><br/>
<a href="TechnicalReference_Oss.html#111">Power&#160;PC&#160;Special&#160;Characteristics&#160;.................................&#160;111&#160;</a><br/>
<a href="TechnicalReference_Oss.html#112">4.2.3.9&#160;</a><br/>
<a href="TechnicalReference_Oss.html#112">MSR&#160;Handling&#160;..............................................................&#160;112&#160;</a><br/>
<a href="TechnicalReference_Oss.html#113">4.2.4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#113">ARM&#160;Family&#160;...................................................................................&#160;113&#160;<br/>4.2.4.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#113">Cortex-R&#160;derivatives&#160;....................................................&#160;113&#160;</a><br/>
<a href="TechnicalReference_Oss.html#115">4.2.4.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#115">Cortex-A&#160;derivatives&#160;.....................................................&#160;115&#160;</a><br/>
<a href="TechnicalReference_Oss.html#115">4.2.4.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#115">ARM&#160;Special&#160;Characteristics&#160;........................................&#160;115&#160;</a><br/>
<a href="TechnicalReference_Oss.html#117">4.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#117">Memory&#160;Mapping&#160;Concept&#160;.............................................................................&#160;117&#160;<br/>4.3.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#117">Provided&#160;MemMap&#160;Section&#160;Specifers&#160;............................................&#160;117&#160;<br/></a><a href="TechnicalReference_Oss.html#120">4.3.1.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#120">Usage&#160;of&#160;MemMap&#160;Macros&#160;..........................................&#160;120&#160;</a><br/>
<a href="TechnicalReference_Oss.html#121">4.3.1.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#121">Resulting&#160;sections&#160;........................................................&#160;121&#160;</a><br/>
<a href="TechnicalReference_Oss.html#127">4.3.1.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#127">Access Rights&#160;to&#160;Variable Sections&#160;..............................&#160;127&#160;</a><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
10&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=11></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-11_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<a href="TechnicalReference_Oss.html#130">4.3.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#130">Link&#160;Sections..................................................................................&#160;130&#160;<br/></a><a href="TechnicalReference_Oss.html#131">4.3.2.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#131">Simple Linker&#160;Defines&#160;..................................................&#160;131&#160;</a><br/>
<a href="TechnicalReference_Oss.html#131">4.3.2.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#131">Hierachical&#160;Linker&#160;Defines&#160;...........................................&#160;131&#160;</a><br/>
<a href="TechnicalReference_Oss.html#132">4.3.2.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#132">Selecting&#160;OS&#160;constants&#160;................................................&#160;132&#160;</a><br/>
<a href="TechnicalReference_Oss.html#133">4.3.2.4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#133">Selecting&#160;OS&#160;variables&#160;.................................................&#160;133&#160;</a><br/>
<a href="TechnicalReference_Oss.html#134">4.3.2.5&#160;</a><br/>
<a href="TechnicalReference_Oss.html#134">Selecting&#160;OS&#160;Barriers,&#160;Core&#160;Status&#160;and&#160;Trace&#160;variables134&#160;</a><br/>
<a href="TechnicalReference_Oss.html#135">4.3.2.6&#160;</a><br/>
<a href="TechnicalReference_Oss.html#135">Selecting&#160;OS&#160;Spinlocks&#160;................................................&#160;135&#160;</a><br/>
<a href="TechnicalReference_Oss.html#136">4.3.2.7&#160;</a><br/>
<a href="TechnicalReference_Oss.html#136">Selecting&#160;User&#160;Constant&#160;Sections&#160;................................&#160;136&#160;</a><br/>
<a href="TechnicalReference_Oss.html#137">4.3.2.8&#160;</a><br/>
<a href="TechnicalReference_Oss.html#137">Selecting&#160;User&#160;Variable Sections&#160;.................................&#160;137&#160;</a><br/>
<a href="TechnicalReference_Oss.html#139">4.3.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#139">Section Symbols&#160;............................................................................&#160;139&#160;</a><br/>
<a href="TechnicalReference_Oss.html#139">4.4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#139">Static Code&#160;Analysis&#160;......................................................................................&#160;139&#160;</a><br/>
<a href="TechnicalReference_Oss.html#140">4.5&#160;</a><br/>
<a href="TechnicalReference_Oss.html#140">Configuration of&#160;X-Signals&#160;.............................................................................&#160;140&#160;<br/>4.5.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#140">TriCore&#160;Aurix&#160;Family&#160;.......................................................................&#160;140&#160;</a><br/>
<a href="TechnicalReference_Oss.html#140">4.5.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#140">RH850 Family&#160;................................................................................&#160;140&#160;</a><br/>
<a href="TechnicalReference_Oss.html#141">4.5.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#141">Power&#160;PC&#160;Family&#160;...........................................................................&#160;141&#160;</a><br/>
<a href="TechnicalReference_Oss.html#141">4.5.4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#141">ARM&#160;Family&#160;...................................................................................&#160;141&#160;</a><br/>
<a href="TechnicalReference_Oss.html#141">4.5.5&#160;</a><br/>
<a href="TechnicalReference_Oss.html#141">VTT&#160;OS&#160;..........................................................................................&#160;141&#160;</a><br/>
<a href="TechnicalReference_Oss.html#141">4.6&#160;</a><br/>
<a href="TechnicalReference_Oss.html#141">OS&#160;generated&#160;objects&#160;....................................................................................&#160;141&#160;<br/>4.6.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#141">System&#160;Application&#160;.........................................................................&#160;141&#160;</a><br/>
<a href="TechnicalReference_Oss.html#142">4.6.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#142">Idle&#160;Task&#160;.........................................................................................&#160;142&#160;</a><br/>
<a href="TechnicalReference_Oss.html#142">4.6.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#142">Timer&#160;ISR&#160;.......................................................................................&#160;142&#160;</a><br/>
<a href="TechnicalReference_Oss.html#142">4.6.4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#142">System&#160;Timer&#160;Counter&#160;...................................................................&#160;142&#160;</a><br/>
<a href="TechnicalReference_Oss.html#142">4.6.5&#160;</a><br/>
<a href="TechnicalReference_Oss.html#142">Timing&#160;Protection&#160;Counter&#160;..............................................................&#160;142&#160;</a><br/>
<a href="TechnicalReference_Oss.html#142">4.6.6&#160;</a><br/>
<a href="TechnicalReference_Oss.html#142">Timing&#160;protection&#160;ISR&#160;.....................................................................&#160;142&#160;</a><br/>
<a href="TechnicalReference_Oss.html#143">4.6.7&#160;</a><br/>
<a href="TechnicalReference_Oss.html#143">Resource&#160;Scheduler.......................................................................&#160;143&#160;</a><br/>
<a href="TechnicalReference_Oss.html#143">4.6.8&#160;</a><br/>
<a href="TechnicalReference_Oss.html#143">X&#160;Signal&#160;ISR&#160;..................................................................................&#160;143&#160;</a><br/>
<a href="TechnicalReference_Oss.html#143">4.6.9&#160;</a><br/>
<a href="TechnicalReference_Oss.html#143">IOC&#160;Spinlocks&#160;................................................................................&#160;143&#160;</a><br/>
<a href="TechnicalReference_Oss.html#144">4.7&#160;</a><br/>
<a href="TechnicalReference_Oss.html#144">VTT&#160;OS&#160;Specifics&#160;...........................................................................................&#160;144&#160;<br/>4.7.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#144">Configuration..................................................................................&#160;144&#160;</a><br/>
<a href="TechnicalReference_Oss.html#144">4.7.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#144">CANoe&#160;Interface&#160;............................................................................&#160;144&#160;</a><br/>
<a href="TechnicalReference_Oss.html#145">4.8&#160;</a><br/>
<a href="TechnicalReference_Oss.html#145">User&#160;include&#160;files............................................................................................&#160;145&#160;</a><br/>
<a href="TechnicalReference_Oss.html#146"><b>5</b>&#160;</a><br/>
<a href="TechnicalReference_Oss.html#146"><b>API&#160;Description&#160;.........................................................................................................&#160;146</b>&#160;<br/></a><a href="TechnicalReference_Oss.html#147">5.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#147">Peripheral&#160;Access&#160;API&#160;....................................................................................&#160;147&#160;<br/>5.1.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#147">Read Functions&#160;..............................................................................&#160;147&#160;</a><br/>
<a href="TechnicalReference_Oss.html#149">5.1.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#149">Write Functions&#160;..............................................................................&#160;149&#160;</a><br/>
<a href="TechnicalReference_Oss.html#151">5.1.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#151">Bitmask&#160;Functions&#160;..........................................................................&#160;151&#160;</a><br/>
<a href="TechnicalReference_Oss.html#153">5.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#153">Pre-Start&#160;Task&#160;................................................................................................&#160;153&#160;</a><br/>
<a href="TechnicalReference_Oss.html#154">5.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#154">Non-Trusted&#160;Functions&#160;(NTF)&#160;........................................................................&#160;154&#160;</a><br/>
<a href="TechnicalReference_Oss.html#155">5.4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#155">Interrupt&#160;Source&#160;API&#160;.......................................................................................&#160;155&#160;<br/>5.4.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#155">Disable Interrupt&#160;Source&#160;................................................................&#160;155&#160;</a><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
11&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=12></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-12_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<a href="TechnicalReference_Oss.html#156">5.4.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#156">Enable Interrupt&#160;Source&#160;.................................................................&#160;156&#160;</a><br/>
<a href="TechnicalReference_Oss.html#157">5.4.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#157">Clear&#160;Pending&#160;Interrupt&#160;..................................................................&#160;157&#160;</a><br/>
<a href="TechnicalReference_Oss.html#158">5.4.4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#158">Check&#160;Interrupt&#160;Source&#160;Enabled&#160;....................................................&#160;158&#160;</a><br/>
<a href="TechnicalReference_Oss.html#159">5.4.5&#160;</a><br/>
<a href="TechnicalReference_Oss.html#159">Check&#160;Interrupt&#160;Pending&#160;................................................................&#160;159&#160;</a><br/>
<a href="TechnicalReference_Oss.html#160">5.5&#160;</a><br/>
<a href="TechnicalReference_Oss.html#160">Detailed&#160;Error&#160;API&#160;..........................................................................................&#160;160&#160;<br/>5.5.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#160">Get&#160;detailed&#160;Error&#160;...........................................................................&#160;160&#160;</a><br/>
<a href="TechnicalReference_Oss.html#161">5.5.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#161">Unhandled&#160;Interrupt&#160;Requests&#160;.......................................................&#160;161&#160;</a><br/>
<a href="TechnicalReference_Oss.html#162">5.5.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#162">Unhandled&#160;Exception&#160;Requests&#160;.....................................................&#160;162&#160;</a><br/>
<a href="TechnicalReference_Oss.html#163">5.6&#160;</a><br/>
<a href="TechnicalReference_Oss.html#163">Stack&#160;Usage&#160;API&#160;............................................................................................&#160;163&#160;</a><br/>
<a href="TechnicalReference_Oss.html#164">5.7&#160;</a><br/>
<a href="TechnicalReference_Oss.html#164">RTE&#160;Interrupt&#160;API&#160;...........................................................................................&#160;164&#160;</a><br/>
<a href="TechnicalReference_Oss.html#165">5.8&#160;</a><br/>
<a href="TechnicalReference_Oss.html#165">Time Conversion Macros&#160;...............................................................................&#160;165&#160;<br/>5.8.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#165">Convert&#160;from&#160;Time&#160;into&#160;Counter&#160;Ticks&#160;............................................&#160;165&#160;</a><br/>
<a href="TechnicalReference_Oss.html#165">5.8.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#165">Convert&#160;from&#160;Counter&#160;Ticks&#160;into&#160;Time&#160;............................................&#160;165&#160;</a><br/>
<a href="TechnicalReference_Oss.html#166">5.9&#160;</a><br/>
<a href="TechnicalReference_Oss.html#166">Access Check&#160;API&#160;..........................................................................................&#160;166&#160;<br/>5.9.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#166">Check&#160;ISR&#160;Memory&#160;Access&#160;............................................................&#160;166&#160;</a><br/>
<a href="TechnicalReference_Oss.html#167">5.9.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#167">Check&#160;Task&#160;Memory&#160;Access&#160;..........................................................&#160;167&#160;</a><br/>
<a href="TechnicalReference_Oss.html#168">5.10&#160;</a><br/>
<a href="TechnicalReference_Oss.html#168">OS&#160;Initialization&#160;..............................................................................................&#160;168&#160;</a><br/>
<a href="TechnicalReference_Oss.html#170">5.11&#160;</a><br/>
<a href="TechnicalReference_Oss.html#170">Timing&#160;Hooks&#160;.................................................................................................&#160;170&#160;<br/>5.11.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#170">Timing&#160;Hooks&#160;for&#160;Activation&#160;............................................................&#160;170&#160;<br/>5.11.1.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#170">Task&#160;Activation&#160;.............................................................&#160;170&#160;</a><br/>
<a href="TechnicalReference_Oss.html#171">5.11.1.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#171">Set&#160;Event&#160;.....................................................................&#160;171&#160;</a><br/>
<a href="TechnicalReference_Oss.html#172">5.11.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#172">Timing&#160;Hook&#160;for&#160;Context&#160;Switch&#160;.....................................................&#160;172&#160;</a><br/>
<a href="TechnicalReference_Oss.html#173">5.11.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#173">Timing&#160;Hooks&#160;for&#160;Locking Purposes&#160;...............................................&#160;173&#160;<br/>5.11.3.1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#173">Get&#160;Resource...............................................................&#160;173&#160;</a><br/>
<a href="TechnicalReference_Oss.html#173">5.11.3.2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#173">Release Resource&#160;.......................................................&#160;173&#160;</a><br/>
<a href="TechnicalReference_Oss.html#174">5.11.3.3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#174">Request&#160;Spinlock&#160;.........................................................&#160;174&#160;</a><br/>
<a href="TechnicalReference_Oss.html#174">5.11.3.4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#174">Request&#160;Internal&#160;Spinlock&#160;............................................&#160;174&#160;</a><br/>
<a href="TechnicalReference_Oss.html#175">5.11.3.5&#160;</a><br/>
<a href="TechnicalReference_Oss.html#175">Get&#160;Spinlock&#160;................................................................&#160;175&#160;</a><br/>
<a href="TechnicalReference_Oss.html#175">5.11.3.6&#160;</a><br/>
<a href="TechnicalReference_Oss.html#175">Get&#160;Internal&#160;Spinlock&#160;....................................................&#160;175&#160;</a><br/>
<a href="TechnicalReference_Oss.html#176">5.11.3.7&#160;</a><br/>
<a href="TechnicalReference_Oss.html#176">Release Spinlock&#160;.........................................................&#160;176&#160;</a><br/>
<a href="TechnicalReference_Oss.html#176">5.11.3.8&#160;</a><br/>
<a href="TechnicalReference_Oss.html#176">Release Internal&#160;Spinlock&#160;............................................&#160;176&#160;</a><br/>
<a href="TechnicalReference_Oss.html#177">5.11.3.9&#160;</a><br/>
<a href="TechnicalReference_Oss.html#177">Disable Interrupts&#160;.........................................................&#160;177&#160;</a><br/>
<a href="TechnicalReference_Oss.html#178">5.11.3.10&#160;&#160;Enable Interrupts&#160;.........................................................&#160;178&#160;</a><br/>
<a href="TechnicalReference_Oss.html#179">5.12&#160;</a><br/>
<a href="TechnicalReference_Oss.html#179">PanicHook&#160;.....................................................................................................&#160;179&#160;</a><br/>
<a href="TechnicalReference_Oss.html#180">5.13&#160;</a><br/>
<a href="TechnicalReference_Oss.html#180">Calling&#160;Context&#160;Overview&#160;...............................................................................&#160;180&#160;</a><br/>
<a href="TechnicalReference_Oss.html#181"><b>6</b>&#160;</a><br/>
<a href="TechnicalReference_Oss.html#181"><b>Configuration&#160;............................................................................................................&#160;181</b>&#160;</a><br/>
<a href="TechnicalReference_Oss.html#182"><b>7</b>&#160;</a><br/>
<a href="TechnicalReference_Oss.html#182"><b>Glossary&#160;....................................................................................................................&#160;182</b>&#160;</a><br/>
<a href="TechnicalReference_Oss.html#183"><b>8</b>&#160;</a><br/>
<a href="TechnicalReference_Oss.html#183"><b>Contact&#160;......................................................................................................................&#160;183</b>&#160;</a><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
12&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=13></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-13_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
13&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=14></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-14_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>Illustrations&#160;</b><br/>
<a href="TechnicalReference_Oss.html#16">Figure&#160;1-1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#16">AUTOSAR&#160;Architecture&#160;Overview&#160;.............................................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_Oss.html#35">Figure&#160;2-1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#35">Stack&#160;Safety&#160;Gap&#160;......................................................................................&#160;35&#160;</a><br/>
<a href="TechnicalReference_Oss.html#38">Figure&#160;2-2&#160;</a><br/>
<a href="TechnicalReference_Oss.html#38">Interrupt&#160;APIs&#160;in SC1&#160;/&#160;SC3&#160;......................................................................&#160;38&#160;</a><br/>
<a href="TechnicalReference_Oss.html#39">Figure&#160;2-3&#160;</a><br/>
<a href="TechnicalReference_Oss.html#39">Interrupt&#160;API&#160;in SC2&#160;/&#160;SC4&#160;........................................................................&#160;39&#160;</a><br/>
<a href="TechnicalReference_Oss.html#47">Figure&#160;2-4&#160;</a><br/>
<a href="TechnicalReference_Oss.html#47">API&#160;functions&#160;during&#160;startup&#160;......................................................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_Oss.html#56">Figure&#160;2-5&#160;</a><br/>
<a href="TechnicalReference_Oss.html#56">MICROSAR&#160;OS&#160;Detailed&#160;Error&#160;Code&#160;........................................................&#160;56&#160;</a><br/>
<a href="TechnicalReference_Oss.html#72">Figure&#160;2-6&#160;</a><br/>
<a href="TechnicalReference_Oss.html#72">N:1 Multiple Sender&#160;Queues&#160;.....................................................................&#160;72&#160;</a><br/>
<a href="TechnicalReference_Oss.html#86">Figure&#160;3-1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#86">X-Signal&#160;....................................................................................................&#160;86&#160;</a><br/>
<a href="TechnicalReference_Oss.html#96">Figure&#160;4-1&#160;</a><br/>
<a href="TechnicalReference_Oss.html#96">Padding&#160;bytes&#160;between MPU&#160;regions&#160;.......................................................&#160;96&#160;</a><br/>
<b>&#160;</b><br/>
<b>Tables&#160;<br/></b><a href="TechnicalReference_Oss.html#17">Table&#160;1-1&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#17">MICROSAR&#160;OS&#160;Characteristics&#160;................................................................&#160;17&#160;</a><br/>
<a href="TechnicalReference_Oss.html#19">Table&#160;1-2&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#19">Supported&#160;TriCore&#160;Aurix&#160;Hardware&#160;...........................................................&#160;19&#160;</a><br/>
<a href="TechnicalReference_Oss.html#19">Table&#160;1-3&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#19">Supported&#160;TriCore&#160;Aurix&#160;Compilers&#160;...........................................................&#160;19&#160;</a><br/>
<a href="TechnicalReference_Oss.html#20">Table&#160;1-4&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#20">Supported&#160;Power&#160;PC&#160;Hardware&#160;................................................................&#160;20&#160;</a><br/>
<a href="TechnicalReference_Oss.html#21">Table&#160;1-5&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#21">Supported&#160;Power&#160;PC&#160;compilers&#160;................................................................&#160;21&#160;</a><br/>
<a href="TechnicalReference_Oss.html#21">Table&#160;1-6&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#21">Supported&#160;ARM&#160;Hardware&#160;........................................................................&#160;21&#160;</a><br/>
<a href="TechnicalReference_Oss.html#21">Table&#160;1-7&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#21">Supported&#160;ARM&#160;compilers&#160;........................................................................&#160;21&#160;</a><br/>
<a href="TechnicalReference_Oss.html#22">Table&#160;1-8&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#22">Supported&#160;RH850&#160;Hardware&#160;.....................................................................&#160;22&#160;</a><br/>
<a href="TechnicalReference_Oss.html#22">Table&#160;1-9&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#22">Supported&#160;RH850&#160;Compilers&#160;....................................................................&#160;22&#160;</a><br/>
<a href="TechnicalReference_Oss.html#23">Table&#160;1-10&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#23">VTT&#160;OS&#160;characteristics&#160;.............................................................................&#160;23&#160;</a><br/>
<a href="TechnicalReference_Oss.html#30">Table&#160;2-1&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#30">MICROSAR&#160;OS&#160;Stack&#160;Types&#160;....................................................................&#160;30&#160;</a><br/>
<a href="TechnicalReference_Oss.html#33">Table&#160;2-2&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#33">Stack&#160;Check&#160;Patterns&#160;...............................................................................&#160;33&#160;</a><br/>
<a href="TechnicalReference_Oss.html#46">Table&#160;2-3&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#46">PIT&#160;versus&#160;HRT&#160;........................................................................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_Oss.html#54">Table&#160;2-4&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#54">Types&#160;of&#160;OS&#160;Errors&#160;...................................................................................&#160;54&#160;</a><br/>
<a href="TechnicalReference_Oss.html#55">Table&#160;2-5&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#55">Extension&#160;of&#160;Error&#160;Codes&#160;..........................................................................&#160;55&#160;</a><br/>
<a href="TechnicalReference_Oss.html#66">Table&#160;2-6&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#66">Recommended&#160;Configuration MPU&#160;Access Rights&#160;...................................&#160;66&#160;</a><br/>
<a href="TechnicalReference_Oss.html#78">Table&#160;3-1&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#78">Differences&#160;of&#160;OS&#160;and&#160;Optimized&#160;Spinlocks&#160;..............................................&#160;78&#160;</a><br/>
<a href="TechnicalReference_Oss.html#87">Table&#160;3-2&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#87">Comparison between Synchronous&#160;and&#160;Asynchronous&#160;X-Signal&#160;..............&#160;87&#160;</a><br/>
<a href="TechnicalReference_Oss.html#89">Table&#160;3-3&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#89">Priority&#160;of&#160;X-Signal&#160;receiver&#160;ISR................................................................&#160;89&#160;</a><br/>
<a href="TechnicalReference_Oss.html#120">Table&#160;4-1&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#120">Provided&#160;MemMap&#160;Section&#160;Specifiers&#160;....................................................&#160;120&#160;</a><br/>
<a href="TechnicalReference_Oss.html#121">Table&#160;4-2&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#121">MemMap&#160;Code Sections Descriptions&#160;....................................................&#160;121&#160;</a><br/>
<a href="TechnicalReference_Oss.html#122">Table&#160;4-3&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#122">MemMap&#160;Const&#160;Sections&#160;Descriptions&#160;...................................................&#160;122&#160;</a><br/>
<a href="TechnicalReference_Oss.html#125">Table&#160;4-4&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#125">MemMap&#160;Variable Sections Descriptions&#160;................................................&#160;125&#160;</a><br/>
<a href="TechnicalReference_Oss.html#128">Table&#160;4-5&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#128">Recommended&#160;Section&#160;Access Rights&#160;...................................................&#160;128&#160;</a><br/>
<a href="TechnicalReference_Oss.html#130">Table&#160;4-6&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#130">List&#160;of&#160;Generated&#160;Linker&#160;Command&#160;Files&#160;................................................&#160;130&#160;</a><br/>
<a href="TechnicalReference_Oss.html#132">Table&#160;4-7&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#132">OS&#160;constants&#160;linker&#160;define&#160;group&#160;............................................................&#160;132&#160;</a><br/>
<a href="TechnicalReference_Oss.html#133">Table&#160;4-8&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#133">OS&#160;variables linker&#160;define&#160;group&#160;.............................................................&#160;133&#160;</a><br/>
<a href="TechnicalReference_Oss.html#134">Table&#160;4-9&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#134">OS&#160;Barriers&#160;and Core status&#160;linker&#160;define&#160;group&#160;.....................................&#160;134&#160;</a><br/>
<a href="TechnicalReference_Oss.html#136">Table&#160;4-10&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#136">User&#160;constants&#160;linker&#160;define&#160;group&#160;..........................................................&#160;136&#160;</a><br/>
<a href="TechnicalReference_Oss.html#137">Table&#160;4-11&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#137">User&#160;variables linker&#160;define&#160;group&#160;...........................................................&#160;137&#160;</a><br/>
<a href="TechnicalReference_Oss.html#147">Table&#160;5-1&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#147">Read Peripheral&#160;API&#160;...............................................................................&#160;147&#160;</a><br/>
<a href="TechnicalReference_Oss.html#149">Table&#160;5-2&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#149">Write Peripheral&#160;APIs&#160;..............................................................................&#160;149&#160;</a><br/>
<a href="TechnicalReference_Oss.html#152">Table&#160;5-3&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#152">Bitmask&#160;Peripheral&#160;API&#160;...........................................................................&#160;152&#160;</a><br/>
<a href="TechnicalReference_Oss.html#153">Table&#160;5-4&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#153">API&#160;Service Os_EnterPreStartTask&#160;.........................................................&#160;153&#160;</a><br/>
<a href="TechnicalReference_Oss.html#154">Table&#160;5-5&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#154">Call&#160;Non-Trusted&#160;Function&#160;API&#160;................................................................&#160;154&#160;</a><br/>
<a href="TechnicalReference_Oss.html#155">Table&#160;5-6&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#155">API&#160;Service Os_DisableInterruptSource&#160;.................................................&#160;155&#160;</a><br/>
<a href="TechnicalReference_Oss.html#156">Table&#160;5-7&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#156">API&#160;Service Os_EnableInterruptSource&#160;..................................................&#160;156&#160;</a><br/>
<a href="TechnicalReference_Oss.html#157">Table&#160;5-8&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#157">API&#160;Service Os_ClearPendingInterrupt&#160;...................................................&#160;157&#160;</a><br/>
<a href="TechnicalReference_Oss.html#158">Table&#160;5-9&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#158">API&#160;Service Os_IsInterruptSourceEnabled&#160;.............................................&#160;158&#160;</a><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
14&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=15></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-15_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<a href="TechnicalReference_Oss.html#159">Table&#160;5-10&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#159">API&#160;Service Os_IsInterruptPending&#160;........................................................&#160;159&#160;</a><br/>
<a href="TechnicalReference_Oss.html#160">Table&#160;5-11&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#160">API&#160;Service Os_GetDetailedError&#160;...........................................................&#160;160&#160;</a><br/>
<a href="TechnicalReference_Oss.html#161">Table&#160;5-12&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#161">API&#160;Service Os_GetUnhandledIrq&#160;..........................................................&#160;161&#160;</a><br/>
<a href="TechnicalReference_Oss.html#162">Table&#160;5-13&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#162">API&#160;Service Os_GetUnhandledExc&#160;.........................................................&#160;162&#160;</a><br/>
<a href="TechnicalReference_Oss.html#163">Table&#160;5-14&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#163">Overview:&#160;Stack&#160;Usage&#160;Functions&#160;..........................................................&#160;163&#160;</a><br/>
<a href="TechnicalReference_Oss.html#165">Table&#160;5-15&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#165">Conversion&#160;Macros&#160;from&#160;Time&#160;to Counter&#160;Ticks&#160;......................................&#160;165&#160;</a><br/>
<a href="TechnicalReference_Oss.html#165">Table&#160;5-16&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#165">Conversion&#160;Macros&#160;from&#160;Counter&#160;Ticks&#160;to&#160;Time&#160;......................................&#160;165&#160;</a><br/>
<a href="TechnicalReference_Oss.html#166">Table&#160;5-17&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#166">API&#160;Service CheckISRMemoryAccess&#160;....................................................&#160;166&#160;</a><br/>
<a href="TechnicalReference_Oss.html#167">Table&#160;5-18&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#167">API&#160;Service CheckTaskMemoryAccess&#160;..................................................&#160;167&#160;</a><br/>
<a href="TechnicalReference_Oss.html#168">Table&#160;5-19&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#168">API&#160;Service Os_Init.................................................................................&#160;168&#160;</a><br/>
<a href="TechnicalReference_Oss.html#169">Table&#160;5-20&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#169">API&#160;Service Os_InitMemory&#160;....................................................................&#160;169&#160;</a><br/>
<a href="TechnicalReference_Oss.html#180">Table&#160;5-21&#160;&#160;</a><br/>
<a href="TechnicalReference_Oss.html#180">Calling&#160;Context&#160;Overview........................................................................&#160;180&#160;</a><br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
15&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=16></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-16_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-16_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>1&#160;&#160;Introduction&#160;</b><br/>
This&#160;&#160;document&#160;&#160;describes&#160;&#160;the&#160;&#160;usage&#160;&#160;and&#160;&#160;functions&#160;&#160;of&#160;&#160;“MICROSAR&#160;&#160;OS”,&#160;&#160;an&#160;&#160;operating&#160;<br/>system&#160;which&#160;implements&#160;the&#160;AUTOSAR&#160;BSW&#160;module&#160;“OS”&#160;as specified&#160;in&#160;[1].&#160;<br/>This&#160;&#160;documentation&#160;&#160;assumes&#160;&#160;that&#160;&#160;the&#160;&#160;reader&#160;&#160;is&#160;&#160;familiar&#160;&#160;with&#160;&#160;both&#160;&#160;the&#160;&#160;OSEK&#160;&#160;OS1&#160;<br/>specification&#160;and&#160;the&#160;AUTOSAR&#160;OS&#160;specification.&#160;<br/>
<b>1.1&#160;</b><br/>
<b>Architecture&#160;Overview&#160;</b><br/>
The&#160;&#160;following&#160;&#160;figure&#160;&#160;shows&#160;&#160;the&#160;&#160;location&#160;&#160;of&#160;&#160;the&#160;&#160;OS&#160;&#160;module&#160;&#160;within&#160;&#160;the&#160;&#160;AUTOSAR&#160;<br/>architecture.&#160;<br/>
&#160;<br/>
Figure&#160;1-1&#160;&#160;AUTOSAR&#160;Architecture&#160;Overview&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160;&#160;<br/>
1&#160;OSEK&#160;is&#160;a registered&#160;trademark&#160;of&#160;Continental&#160;Automotive GmbH (until&#160; 2007: Siemens&#160;AG)&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
16&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=17></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-17_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>1.2&#160;</b><br/>
<b>Abstract&#160;</b><br/>
The&#160;&#160;MICROSAR&#160;&#160;OS&#160;&#160;operating&#160;&#160;system&#160;&#160;is&#160;&#160;a&#160;&#160;real&#160;&#160;time&#160;&#160;operating&#160;&#160;system,&#160;&#160;which&#160;&#160;was&#160;<br/>specified&#160;for the&#160;usage&#160;in&#160;electronic control.&#160;<br/>As&#160;a&#160;requirement,&#160;there&#160;is&#160;no&#160;dynamic&#160;creation&#160;of&#160;new&#160;tasks&#160;at&#160;runtime;&#160;all&#160;tasks&#160;have&#160;to&#160;<br/>be&#160;defined&#160;before&#160;compilation&#160;(pre-compile&#160;configuration&#160;variant).&#160;<br/>The&#160;OS&#160;has&#160;no&#160;dynamic&#160;memory&#160;management&#160;and&#160;there&#160;is no&#160;shell&#160;for&#160;the&#160;control&#160;of&#160;tasks&#160;<br/>by&#160;hand.&#160;<br/>Typically&#160;&#160;the&#160;&#160;source&#160;&#160;and&#160;&#160;configuration&#160;&#160;files&#160;&#160;of&#160;&#160;the&#160;&#160;operating&#160;&#160;system&#160;&#160;and&#160;&#160;the&#160;&#160;application&#160;<br/>source&#160;files&#160;are&#160;compiled&#160;and&#160;linked&#160;together&#160;to&#160;one&#160;executable&#160;file,&#160;which&#160;is&#160;loaded&#160;into&#160;<br/>an&#160;emulator or is&#160;burned&#160;into&#160;an&#160;EPROM&#160;or&#160;Flash&#160;EEPROM.&#160;<br/>
<b>1.3&#160;</b><br/>
<b>Characteristics&#160;</b><br/>
MICROSAR&#160;OS&#160;has the&#160;following&#160;characteristics:&#160;<br/>
<b>Supported&#160;Scalability&#160;Classes&#160;</b><br/>
SC1,&#160;SC2,&#160;SC3,&#160;SC4&#160;(as&#160;described&#160;in [1])&#160;<br/>
<b>Single Core&#160;ECUs&#160;</b><br/>
Supported&#160;<br/>
<b>Multi&#160;Core ECUs&#160;</b><br/>
Supported&#160;<br/>
<b>IOC&#160;</b><br/>
Supported&#160;<br/>
Table&#160;1-1&#160;&#160;&#160;MICROSAR&#160;OS&#160;Characteristics&#160;<br/>
MICROSAR&#160;&#160;OS&#160;&#160;supports&#160;&#160;various&#160;&#160;different&#160;&#160;processor&#160;&#160;families&#160;&#160;of&#160;&#160;different&#160;&#160;vendors&#160;&#160;in&#160;<br/>conjunction&#160;with&#160;multiple&#160;compilers.&#160;<br/>The&#160;&#160;availability&#160;&#160;for&#160;&#160;a&#160;&#160;particular&#160;&#160;processor&#160;&#160;in&#160;&#160;conjunction&#160;&#160;with&#160;&#160;a&#160;&#160;specific&#160;&#160;compiler&#160;&#160;can&#160;&#160;be&#160;<br/>queried&#160;from&#160;Vector&#160;Informatik.&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
17&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=18></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-18_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>1.4&#160;</b><br/>
<b>Hardware&#160;Overview&#160;</b><br/>
The&#160;&#160;following&#160;&#160;table&#160;&#160;summarizes&#160;&#160;information&#160;&#160;about&#160;&#160;MICROSAR&#160;&#160;OS.&#160;&#160;It&#160;&#160;gives&#160;&#160;detailed&#160;<br/>information&#160;&#160;about&#160;&#160;the&#160;&#160;derivatives&#160;&#160;and&#160;&#160;compilers.&#160;&#160;As&#160;&#160;very&#160;&#160;important&#160;&#160;information&#160;&#160;the&#160;<br/>documentations&#160;of&#160;the&#160;hardware&#160;manufacturers&#160;are&#160;listed.&#160;MICROSAR&#160;OS&#160;is&#160;based&#160;upon&#160;<br/>these&#160;documents&#160;in&#160;the&#160;given&#160;version.&#160;<br/>Table&#160;Rows&#160;<br/>
<b>&gt;&#160;&#160;Compiler</b>:&#160;List&#160;of&#160;Compilers MICROSAR OS&#160;is working&#160;with.&#160;<br/>
<b>&gt;&#160;&#160;Derivative</b>:&#160;This can&#160;be&#160;a&#160;single&#160;information&#160;or a&#160;list&#160;of&#160;derivatives,&#160;MICROSAR OS&#160;<br/>
can&#160;be&#160;used&#160;on.&#160;<br/>
<b>&gt;&#160;&#160;Hardware&#160;Manufacturer Document&#160;Name</b>:&#160;List of&#160;hardware documentation&#160;<br/>
MICROSAR OS&#160;is based&#160;on.&#160;<br/>
<b>&gt;&#160;&#160;Document&#160;Version</b>:&#160;To&#160;be&#160;able&#160;to&#160;reference&#160;to&#160;this&#160;hardware documentation&#160;its&#160;<br/>
version&#160;is very&#160;important.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
18&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=19></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-19_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>1.4.1&#160;</b><br/>
<b>TriCore&#160;Aurix&#160;</b><br/>
<b>Derivative&#160;&#160;Hardware&#160;Manufacturer&#160;Document&#160;Name&#160;</b><br/>
<b>Document&#160;<br/>Version&#160;</b><br/>
TC21x&#160;<br/>
User&#160;Manual:&#160;tc23x_tc22x_tc21x_um_v1.1.pdf&#160;<br/>
V1.1&#160;<br/>
TC22x&#160;<br/>
Errata&#160;Sheet:&#160;TC22x_TC21x_AB_Errata_Sheet_v1_2_03804A.pdf&#160;<br/>
V1.2&#160;<br/>
TC23x&#160;<br/>TC24x&#160;<br/>
Target&#160;Specification:&#160;tc24x_ts_v2.0_OPEN_MARKET.pdf&#160;<br/>
V2.0&#160;<br/>
TC26x&#160;<br/>
User&#160;Manual:&#160;<br/>
V1.3&#160;<br/>
tc26xB_um_v1.3._usermanual_rev1v3.pdf&#160;<br/>Errata&#160;Sheet:&#160;<br/>
V1.2&#160;<br/>
TC26x_BB_Errata_Sheet_rev1v2_03989A_2016-04-18.pdf&#160;<br/>
TC27x&#160;<br/>
User&#160;Manual:&#160;<br/>
V2.2&#160;<br/>
tc27xD_um_v2.2_UserManual_rev2v2_2014-12.pdf&#160;<br/>Errata&#160;Sheet:&#160;<br/>
V1.5&#160;<br/>
TC27x_BC_Errata_Sheet_rev1v5_2015_09_16.pdf&#160;<br/>
TC29x&#160;<br/>
User&#160;Manual:&#160;<br/>
V1.3&#160;<br/>
tc29xB_um_v1.3._TC29x_B-Step_User_Manual_rev_1v3_2014_12.pdf&#160;<br/>Errata&#160;Sheet:&#160;<br/>
V1.0&#160;<br/>
TC29x_BA_Errata_Sheet_v1_0.pdf&#160;<br/>
Table&#160;1-2&#160;&#160;&#160;Supported&#160;TriCore&#160;Aurix&#160;Hardware&#160;<br/>
&#160;<br/>
<b>Tasking&#160;</b><br/>
v4.2r2&#160;<br/>
<b>HighTec&#160;(GNU)&#160;</b><br/>
V4.6.3.0&#160;<br/>
Table&#160;1-3&#160;&#160;&#160;Supported&#160;TriCore&#160;Aurix&#160;Compilers&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
19&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=20></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-20_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>1.4.2&#160;</b><br/>
<b>Power PC&#160;</b><br/>
<b>Derivative&#160;</b><br/>
<b>Hardware&#160;Manufacturer&#160;Document&#160;Name&#160;</b><br/>
<b>Document&#160;<br/>Version&#160;</b><br/>
MPC574xBD&#160;<br/>
Freescale Semiconductor&#160;MPC5746C&#160;&#160;<br/>
Rev.&#160;2.1,&#160;<br/>
Reference&#160;Manual&#160;<br/>
06/2015&#160;<br/>
MPC574xC1&#160;<br/>
Freescale Semiconductor&#160;MPC5746C&#160;&#160;<br/>
Rev.&#160;2.1,&#160;<br/>
Reference&#160;Manual&#160;<br/>
06/2015&#160;<br/>
MPC574xC2&#160;<br/>
NXP&#160;MPC5748G&#160;Reference&#160;Manual&#160;<br/>
Rev.&#160;4,&#160;07/2015&#160;<br/>
MPC574xG&#160;<br/>
NXP&#160;MPC5748G&#160;Reference&#160;Manual&#160;<br/>
Rev.&#160;4,&#160;07/2015&#160;<br/>
NXP&#160;Safety&#160;Manual&#160;for&#160;MPC5748G&#160;<br/>
Rev.&#160;2,&#160;01/2016&#160;<br/>
MPC574xK&#160;<br/>
ST&#160;SPC574Kxx&#160;&#160;<br/>
Rev.&#160;5,&#160;08/2015&#160;<br/>
Reference&#160;Manual&#160;<br/>
MPC574xM&#160;<br/>
Freescale Semiconductor&#160;MPC5746M&#160;&#160;<br/>
Rev.&#160;5.1,&#160;<br/>
Reference&#160;Manual&#160;<br/>
04/2014&#160;<br/>
MPC574xP&#160;<br/>
Freescale Semiconductor&#160;MPC5744P&#160;<br/>
Rev.&#160;5.1,&#160;<br/>
Reference&#160;Manual&#160;<br/>
02/2015&#160;<br/>
NXP&#160;Safety&#160;Manual&#160;for&#160;MPC5744P&#160;<br/>
Rev.&#160;3,&#160;06/2014&#160;<br/>
MPC574xR&#160;<br/>
NXP&#160;MPC5746R&#160;&#160;<br/>
Rev.&#160;6,&#160;03/2016&#160;<br/>
Reference&#160;Manual&#160;<br/>
MPC577xK&#160;<br/>
Freescale Semiconductor&#160;MPC5775K&#160;&#160;<br/>
Rev.&#160;4,&#160;12/2015&#160;<br/>
Reference&#160;Manual&#160;<br/>
MPC577xM&#160;<br/>
NXP&#160;MPC5777M&#160;&#160;<br/>
Rev.&#160;4,&#160;04/2015&#160;<br/>
Reference&#160;Manual&#160;<br/>
MPC577xN&#160;<br/>
Freescale Semiconductor&#160;MPC5774N&#160;&#160;<br/>
Rev.&#160;2,&#160;02/2014&#160;<br/>
Reference&#160;Manual&#160;<br/>
PC580003&#160;<br/>
Freescale Semiconductor&#160;PC580003&#160;Reference&#160;Manual&#160;<br/>
Rev.&#160;2,&#160;05/2014&#160;<br/>
SPC58ECxx&#160;<br/>
ST&#160;SPC584Cx/SPC58ECx&#160;&#160;<br/>
Rev.&#160;1,&#160;10/2015&#160;<br/>
Reference&#160;Manual&#160;<br/>
SPC58EGxx&#160;<br/>
ST&#160;SPC58NE84x/SPC58xG84x&#160;&#160;<br/>
Rev.&#160;2,&#160;02/2016&#160;<br/>
Reference&#160;Manual&#160;<br/>
SPC58NGxx&#160;<br/>
ST&#160;SPC58NE84x/SPC58xG84x&#160;&#160;<br/>
Rev.&#160;2,&#160;02/2016&#160;<br/>
Reference&#160;Manual&#160;<br/>
SPC582Bxx&#160;<br/>
ST&#160;SPC582Bx&#160;&#160;<br/>
Rev.&#160;1,&#160;08/2015&#160;<br/>
Reference&#160;Manual&#160;<br/>
SPC584Bxx&#160;<br/>
ST&#160;SPC584Cx/SPC58ECx&#160;&#160;<br/>
Rev.&#160;1,&#160;10/2015&#160;<br/>
Reference&#160;Manual&#160;<br/>
SPC584Cxx&#160;<br/>
ST&#160;SPC584Cx/SPC58ECx&#160;&#160;<br/>
Rev.&#160;1,&#160;10/2015&#160;<br/>
Reference&#160;Manual&#160;<br/>
SPC584Gxx&#160;<br/>
ST&#160;SPC58NE84x/SPC58xG84x&#160;&#160;<br/>
Rev.&#160;2,&#160;02/2016&#160;<br/>
Reference&#160;Manual&#160;<br/>
Table&#160;1-4&#160;&#160;&#160;Supported&#160;Power&#160;PC&#160;Hardware&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
20&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=21></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-21_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>Windriver&#160;DiabData&#160;</b><br/>
5.9.4.x&#160;<br/>
<b>Green&#160;Hills&#160;(GHS)&#160;</b><br/>
2014.1.6&#160;<br/>
Table&#160;1-5&#160;&#160;&#160;Supported&#160;Power&#160;PC&#160;compilers&#160;<br/>
<b>1.4.3&#160;</b><br/>
<b>ARM&#160;</b><br/>
<b>Derivative&#160;</b><br/>
<b>Hardware&#160;Manufacturer&#160;Document&#160;Name&#160;</b><br/>
<b>Document&#160;<br/>Version&#160;</b><br/>
S6J32xx&#160;<br/>
Cypress&#160;S6J3200 Series&#160;Hardware&#160;Manual&#160;<br/>
Rev.&#160;4.0,&#160;<br/>09/2015&#160;<br/>
ZUxxx&#160;<br/>
XILINX&#160;Zynq&#160;UltraScale+&#160;MPSoc&#160;Technical&#160;Reference Manual&#160;&#160;v1.2,&#160;06/2016&#160;<br/>
iMX6xx&#160;<br/>
i.MX&#160;6Dual/6Quad&#160;&#160;Applications Processor&#160;Reference Manual&#160;&#160;Rev.&#160;3,&#160;<br/>
07/2015&#160;<br/>
Table&#160;1-6&#160;&#160;&#160;Supported&#160;ARM&#160;Hardware&#160;<br/>
<b>Green&#160;Hills&#160;(GHS)&#160;</b><br/>
2013.5.4&#160;<br/>
<b>IAR&#160;</b><br/>
V7.50.1&#160;<br/>
Table&#160;1-7&#160;&#160;&#160;Supported&#160;ARM&#160;compilers&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
21&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=22></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-22_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>1.4.4&#160;</b><br/>
<b>RH850&#160;</b><br/>
<b>Derivative&#160;Family&#160;</b><br/>
<b>Hardware&#160;Manufacturer&#160;Document&#160;Name&#160;</b><br/>
<b>Document&#160;Version&#160;</b><br/>
RH850 C1M&#160;<br/>
RH850/C1x&#160;User’s&#160;Manual:&#160;Hardware&#160;<br/>
Rev.1.00&#160;Mar&#160;2015&#160;<br/>
RH850 C1H&#160;<br/>RH850 D1x&#160;<br/>
RH850/D1L/D1M&#160;Group&#160;User’s&#160;Manual:&#160;Hardware&#160;<br/>
Rev.2.01&#160;Aug&#160;2016&#160;<br/>
RH850 E1x&#160;FCC2&#160;<br/>
RH850/E1x-FCC2&#160;User’s&#160;Manual:&#160;Hardware&#160;<br/>
Rev.0.50&#160;Apr&#160;2015&#160;<br/>
RH850 E1x&#160;FCC1&#160;<br/>
RH850/E1x-FCC1&#160;User’s&#160;Manual:&#160;Hardware&#160;<br/>
Rev.0.50&#160;Jul&#160;2014&#160;<br/>
RH850 E1L&#160;<br/>
RH850/E1L&#160;User’s&#160;Manual:&#160;Hardware&#160;<br/>
Rev.1.10&#160;Apr&#160;2016&#160;<br/>
RH850 E1M&#160;<br/>
RH850/E1M-S&#160;User’s&#160;Manual:&#160;Hardware&#160;<br/>
Rev.1.10&#160;Apr&#160;2016&#160;<br/>
RH850 F1H&#160;<br/>
RH850/F1H&#160;Group&#160;User’s&#160;Manual:&#160;Hardware&#160;<br/>
Rev.1.12&#160;May&#160;2016&#160;<br/>
RH850 F1L&#160;<br/>
RH850/F1L&#160;Group&#160;User’s&#160;Manual:&#160;Hardware&#160;<br/>
Rev.1.33&#160;Apr&#160;2016&#160;<br/>
RH850 F1K&#160;<br/>
RH850/F1K&#160;Group&#160;User’s&#160;Manual:&#160;Hardware&#160;<br/>
Rev.1.00&#160;Jun&#160;2016&#160;<br/>
RH850 F1M&#160;<br/>
RH850/F1M&#160;Group&#160;User’s&#160;Manual:&#160;Hardware&#160;<br/>
Rev.1.03&#160;May&#160;2016&#160;<br/>
RH850 P1HC&#160;<br/>
RH850/P1x-C&#160;Group&#160;User’s&#160;Manual:&#160;Hardware&#160;<br/>
Rev.1.10&#160;Jul&#160;2016&#160;<br/>
RH850 P1MC&#160;<br/>
RH850/P1x-C&#160;Group&#160;User’s&#160;Manual:&#160;Hardware&#160;<br/>
Rev.1.10&#160;Jul&#160;2016&#160;<br/>
RH850 P1M&#160;<br/>
RH850/P1x&#160;Group&#160;User’s&#160;Manual:&#160;Hardware&#160;<br/>
Rev.1.00&#160;Jul,&#160;2015&#160;<br/>
RH850 R1L&#160;<br/>
RH850/R1x&#160;Group&#160;User’s&#160;Manual:&#160;Hardware&#160;<br/>
Rev.1.31&#160;Jun&#160;2016&#160;<br/>
G3K&#160;Core&#160;<br/>
RH850G3K&#160;User’s&#160;Manual:&#160;Software&#160;<br/>
Rev.1.20&#160;Apr&#160;2016&#160;<br/>
G3KH&#160;Core&#160;<br/>
RH850G3KH&#160;User’s&#160;Manual:&#160;Software&#160;<br/>
Rev.1.10&#160;Jul&#160;2016&#160;<br/>
G3M&#160;Core&#160;<br/>
RH850G3M&#160;User’s&#160;Manual:&#160;Software&#160;<br/>
Rev.1.30&#160;Jun&#160;2016&#160;<br/>
G3MH&#160;Core&#160;<br/>
RH850G3MH&#160;User’s&#160;Manual:&#160;Software&#160;<br/>
Rev.1.00&#160;Mar&#160;2015&#160;<br/>
Table&#160;1-8&#160;&#160;&#160;Supported&#160;RH850&#160;Hardware&#160;<br/>
<b>Green&#160;Hills&#160;(GHS)&#160;</b><br/>
V6.1.4&#160;2013.5.5&#160;<br/>V6.1.6&#160;2015.1.5&#160;<br/>
Table&#160;1-9&#160;&#160;&#160;Supported&#160;RH850&#160;Compilers&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
22&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=23></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-23_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>1.4.5&#160;</b><br/>
<b>VTT OS&#160;</b><br/>
VTT&#160;&#160;OS&#160;&#160;stands&#160;&#160;for&#160;&#160;“vVIRTUALtarget&#160;&#160;Operating&#160;&#160;System”.&#160;&#160;It&#160;&#160;runs&#160;&#160;within&#160;&#160;Vectors&#160;&#160;CANoe&#160;<br/>development&#160;tool.&#160;<br/>Vectors&#160;CANoe&#160;is&#160;capable&#160;of&#160;simulating&#160;an&#160;entire&#160;ECU&#160;network.&#160;Within&#160;such&#160;a&#160;simulated&#160;<br/>network the&#160;OS&#160;of&#160;each&#160;ECU&#160;can&#160;be&#160;simulated.&#160;<br/>This&#160;is&#160;useful&#160;in&#160;early&#160;ECU&#160;development&#160;phases&#160;when&#160;no&#160;real&#160;hardware&#160;is&#160;available&#160;yet.&#160;<br/>Application&#160;development&#160;can&#160;be&#160;started&#160;at&#160;once.&#160;<br/>The&#160;VTT&#160;OS&#160;behaves&#160;as&#160;regular&#160;AUTOSAR&#160;&#160;OS.&#160;All&#160;OS&#160;objects&#160;&#160;(e.g.&#160;&#160;tasks&#160;or&#160;ISRs)&#160;are&#160;<br/>simulated.&#160;<br/>The&#160;VTT&#160;system&#160;is described&#160;in&#160;[6].&#160;<br/>
<b>1.4.5.1&#160;</b><br/>
<b>Characteristics&#160;of VTT OS&#160;</b><br/>
<b>Supported&#160;Scalability&#160;Classes&#160;</b><br/>
SC1,&#160;SC2&#160;<br/>
<b>Single Core&#160;ECUs&#160;</b><br/>
Supported&#160;<br/>
<b>Multi&#160;Core ECUs&#160;</b><br/>
Up to 32&#160;cores are&#160;supported&#160;<br/>
<b>IOC&#160;</b><br/>
Supported&#160;<br/>
<b>Number&#160;of&#160;Simulated&#160;Interrupt&#160;Sources&#160;&#160;</b>Up to 10000&#160;<br/>
<b>Simulated&#160;Interrupt&#160;Levels&#160;</b><br/>
VTT&#160;OS&#160;allows&#160;interrupt&#160;levels&#160;from&#160;1&#160;..&#160;200&#160;<br/>Whereas&#160;1 is&#160;the&#160;lowest&#160;priority&#160;and 200&#160;is&#160;the&#160;<br/>highest.&#160;<br/>
<b>Memory&#160;Protection&#160;</b><br/>
Not&#160;supported2&#160;<br/>
<b>Stack Protection&#160;</b><br/>
Not&#160;supported&#160;<br/>
<b>Stack&#160;Usage&#160;Measurement&#160;</b><br/>
Not&#160;supported&#160;<br/>
<b>Stack Sharing&#160;</b><br/>
Not&#160;supported&#160;<br/>
Table&#160;1-10&#160;&#160;&#160;VTT&#160;OS&#160;characteristics&#160;<br/>
&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160;&#160;<br/>
2&#160;The&#160;memory&#160;protection&#160;can be configured.&#160;However the&#160;actual&#160;protection&#160;mechanism&#160;is&#160;not executed.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
23&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=24></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-24_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>2&#160;&#160;Functional&#160;Description&#160;</b><br/>
<b>2.1&#160;</b><br/>
<b>General&#160;</b><br/>
The&#160;&#160;MICROSAR&#160;&#160;OS&#160;&#160;basically&#160;&#160;implements&#160;&#160;the&#160;&#160;OS&#160;&#160;according&#160;&#160;to&#160;&#160;the&#160;&#160;AUTOSAR&#160;&#160;OS&#160;<br/>standard referred&#160;in&#160;[1].&#160;<br/>It&#160;&#160;is&#160;&#160;possible&#160;&#160;that&#160;&#160;MICROSAR&#160;&#160;OS&#160;&#160;deviates&#160;&#160;from&#160;&#160;specified&#160;&#160;AUTOSAR&#160;&#160;OS&#160;&#160;behavior.&#160;&#160;All&#160;<br/>deviations&#160;from&#160;the&#160;standard&#160;are&#160;listed&#160;in&#160;the&#160;chapters&#160;hereafter.&#160;<br/>On&#160;&#160;the&#160;&#160;other&#160;&#160;hand&#160;&#160;MICROSAR&#160;&#160;OS&#160;&#160;extends&#160;&#160;the&#160;AUTOSAR&#160;&#160;OS&#160;&#160;standard&#160;&#160;with&#160;&#160;numerous&#160;<br/>functions.&#160;These&#160;extensions in&#160;function&#160;are&#160;described&#160;in&#160;detail&#160;in&#160;chapte<a href="TechnicalReference_Oss.html#74">r&#160;2.21.1.</a>&#160;<br/>
<b>2.2&#160;</b><br/>
<b>MICROSAR OS&#160;Deviations&#160;from&#160;AUTOSAR&#160;OS&#160;Specification&#160;</b><br/>
<b>2.2.1&#160;</b><br/>
<b>Generic&#160;Deviation for&#160;API&#160;Functions&#160;</b><br/>
<b>Specified&#160;Behavior&#160;</b><br/>
There are some&#160;API&#160;functions&#160;which are only&#160;available within specific&#160;<br/>scalability&#160;classes&#160;(e.g.&#160;TerminateApplication()&#160;in&#160;SC3 and SC4 only).&#160;<br/>
<b>Deviation&#160;Description&#160;</b><br/>
Within the&#160;MICROSAR&#160;OS&#160;all&#160;API&#160;functions&#160;are&#160;always&#160;available.&#160;<br/>
<b>Deviation&#160;Reason&#160;</b><br/>
The&#160;static&#160;OS&#160;code&#160;gets&#160;more&#160;simplified&#160;for&#160;better&#160;maintainability&#160;(less&#160;<br/>pre-processor&#160;statements&#160;are&#160;necessary).&#160;<br/>Modern&#160;toolchains will&#160;remove unused&#160;function&#160;automatically.&#160;<br/>
&#160;<br/>
<b>2.2.2&#160;</b><br/>
<b>Trusted Function&#160;API&#160;Deviations&#160;</b><br/>
<b>Specified&#160;Behavior&#160;</b><br/>
The&#160;Operating&#160;System&#160;shall&#160;not&#160;schedule any&#160;other&#160;Tasks&#160;which&#160;<br/>belong&#160;to&#160;the&#160;same&#160;OS-Application as&#160;the&#160;non-trusted&#160;caller&#160;of&#160;the&#160;<br/>service.&#160;Also interrupts&#160;of&#160;Category&#160;2 which belong to&#160;the&#160;same&#160;OS-<br/>Application shall&#160;be&#160;disabled&#160;during the&#160;execution of&#160;the&#160;service.&#160;<br/>
<b>Deviation&#160;Description&#160;</b><br/>
In MICROSAR&#160;OS&#160;the&#160;re-scheduling&#160;of&#160;tasks&#160;in&#160;this&#160;particular&#160;case&#160;is&#160;<br/>not&#160;suppressed.&#160;<br/>The&#160;selective disabling&#160;of&#160;category&#160;2&#160;ISRs&#160;is&#160;also&#160;not&#160;done.&#160;<br/>
<b>Deviation&#160;Reason&#160;</b><br/>
For&#160;a&#160;better&#160;runtime&#160;performance&#160;during trusted&#160;function&#160;calls&#160;the&#160;<br/>specified&#160;behavior&#160;is&#160;not&#160;implemented&#160;in MICROSAR&#160;OS.&#160;<br/>Data&#160;consistency&#160;problems&#160;can&#160;be&#160;solved&#160;in a&#160;more&#160;efficient&#160;way&#160;by&#160;<br/>using&#160;the&#160;OS&#160;interrupt&#160;API&#160;and/or&#160;OS&#160;resource&#160;API.&#160;<br/>
&#160;<br/>
<b>Specified&#160;Behavior&#160;</b><br/>
All&#160;specified&#160;OS&#160;APIs&#160;should&#160;be&#160;called&#160;with interrupts&#160;enabled.&#160;<br/>In case&#160;CallTrustedFunction()&#160;API&#160;is&#160;called&#160;with disabled&#160;interrupts&#160;it&#160;<br/>returns&#160;the&#160;status code&#160;E_OS_DISABLEDINT.&#160;<br/>
<b>Deviation&#160;Description&#160;</b><br/>
In MICROSAR&#160;OS&#160;this&#160;limitation&#160;does not&#160;exist.&#160;<br/>It&#160;is&#160;allowed&#160;to call&#160;CallTrustedFunction()&#160;API&#160;with&#160;disabled&#160;interrupts.&#160;<br/>There is no&#160;error&#160;check.&#160;<br/>The&#160;return&#160;value&#160;E_OS_DISABLEDINT&#160;is&#160;not&#160;possible.&#160;<br/>
<b>Deviation&#160;Reason&#160;</b><br/>
It&#160;offers&#160;the&#160;possibility&#160;to&#160;call&#160;CallTrustedFunction()&#160;API&#160;where&#160;<br/>interrupts&#160;may&#160;be&#160;disabled.&#160;This&#160;is&#160;more convenient&#160;and&#160;reasonable.&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
24&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=25></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-25_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>2.2.3&#160;</b><br/>
<b>Service&#160;Protection Deviation&#160;</b><br/>
<b>Specified&#160;Behavior&#160;</b><br/>
If&#160;an&#160;invalid address&#160;(address&#160;is&#160;not&#160;writable by&#160;this&#160;OS-Application)&#160;is&#160;<br/>passed&#160;as&#160;an&#160;out-parameter&#160;to&#160;an&#160;Operating&#160;System&#160;service,&#160;the&#160;<br/>Operating&#160;System&#160;module shall&#160;return&#160;the&#160;status&#160;code&#160;<br/>E_OS_ILLEGAL_ADDRESS.&#160;<br/>
<b>Deviation&#160;Description&#160;</b><br/>
The&#160;validity&#160;of&#160;out-parameters&#160;is&#160;checked&#160;automatically&#160;by&#160;the&#160;MPU.&#160;<br/>Write accesses&#160;to&#160;such&#160;parameters&#160;are&#160;always&#160;done&#160;with the&#160;<br/>accessing&#160;rights&#160;of&#160;the&#160;caller&#160;of&#160;the&#160;OS&#160;service.&#160;<br/>If&#160;the&#160;address&#160;is&#160;invalid a&#160;MPU&#160;exception&#160;is&#160;raised.&#160;<br/>The&#160;return&#160;value&#160;E_OS_ILLEGAL_ADDRESS&#160;is&#160;not&#160;possible.&#160;<br/>
<b>Deviation&#160;Reason&#160;</b><br/>
Hardware&#160;checks&#160;by&#160;the&#160;MPU&#160;are&#160;much&#160;more&#160;performant&#160;than&#160;<br/>software&#160;memory&#160;checks.&#160;<br/>
&#160;<br/>
<b>2.2.4&#160;</b><br/>
<b>SyncScheduleTable&#160;API&#160;Deviation&#160;</b><br/>
<b>Specified&#160;Behavior&#160;</b><br/>
All&#160;specified&#160;OS&#160;APIs&#160;should be&#160;called&#160;with interrupts&#160;enabled.&#160;<br/>In case&#160;SyncScheduleTable()&#160;is&#160;called&#160;with disabled&#160;interrupts&#160;it&#160;<br/>returns&#160;the&#160;status code&#160;E_OS_DISABLEDINT.&#160;<br/>
<b>Deviation&#160;Description&#160;</b><br/>
In&#160;MICROSAR&#160;OS&#160;this&#160;limitation&#160;does not&#160;exist.&#160;<br/>It&#160;is&#160;allowed&#160;to call&#160;SyncScheduleTable()&#160;with disabled&#160;interrupts.&#160;<br/>There is no&#160;error&#160;check.&#160;<br/>The&#160;return&#160;value&#160;E_OS_DISABLEDINT&#160;is&#160;not&#160;possible.&#160;<br/>
<b>Deviation&#160;Reason&#160;</b><br/>
It&#160;offers&#160;the&#160;possibility&#160;to&#160;call&#160;SyncScheduleTable()&#160;where interrupts&#160;<br/>may&#160;be&#160;disabled.&#160;This&#160;is&#160;more&#160;convenient&#160;and&#160;reasonable.&#160;<br/>
&#160;<br/>
<b>2.2.5&#160;</b><br/>
<b>CheckTask/ISRMemoryAccess&#160;API&#160;Deviation&#160;</b><br/>
<b>Specified&#160;Behavior&#160;</b><br/>
All&#160;specified&#160;OS&#160;APIs&#160;should be&#160;called&#160;with interrupts&#160;enabled.&#160;<br/>In case&#160;one&#160;of&#160;these&#160;APIs&#160;is&#160;called&#160;with disabled&#160;interrupts&#160;it&#160;issues&#160;<br/>the&#160;error&#160;E_OS_DISABLEDINT.&#160;<br/>
<b>Deviation&#160;Description&#160;</b><br/>
In MICROSAR&#160;OS&#160;this&#160;limitation&#160;does not&#160;exist.&#160;<br/>It&#160;is&#160;allowed&#160;to call&#160;these&#160;API&#160;functions&#160;with disabled&#160;interrupts.&#160;There&#160;<br/>is&#160;no&#160;error&#160;check.&#160;<br/>The&#160;return&#160;value&#160;E_OS_DISABLEDINT&#160;is&#160;not&#160;possible.&#160;<br/>
<b>Deviation&#160;Reason&#160;</b><br/>
It&#160;offers&#160;the&#160;possibility&#160;to&#160;call&#160;these&#160;functions&#160;e.g.&#160;from&#160;hardware&#160;<br/>drivers&#160;where interrupts&#160;may&#160;be&#160;disabled.&#160;This&#160;is&#160;more&#160;convenient&#160;and&#160;<br/>reasonable.&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
25&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=26></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-26_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>Specified&#160;Behavior&#160;</b><br/>
The&#160;API&#160;functions&#160;CheckTask/ISRMemoryAccess()&#160;are&#160;only&#160;allowed&#160;<br/>within specific&#160;OS&#160;call&#160;contexts&#160;(Task/Cat2&#160;<br/>ISR/ErrorHook/ProtectionHook)&#160;<br/>In case&#160;one&#160;of&#160;these&#160;APIs&#160;is&#160;called&#160;within the&#160;wrong&#160;OS&#160;call&#160;context&#160;it&#160;<br/>issues&#160;the&#160;error&#160;E_OS_CALLEVEL.&#160;<br/>
<b>Deviation&#160;Description&#160;</b><br/>
In&#160;MICROSAR&#160;OS&#160;In&#160;MICROSAR&#160;OS&#160;this&#160;limitation&#160;does not&#160;exist.&#160;<br/>It&#160;is&#160;allowed&#160;to call&#160;these&#160;API&#160;functions&#160;from&#160;all&#160;OS&#160;contexts.&#160;<br/>The&#160;return&#160;value&#160;E_OS_CALLEVEL&#160;is&#160;not&#160;possible.&#160;<br/>
<b>Deviation&#160;Reason&#160;</b><br/>
Practically&#160;it&#160;is&#160;more&#160;reasonable to allow&#160;these&#160;APIs&#160;in all&#160;OS&#160;runtime&#160;<br/>contexts.&#160;<br/>
&#160;<br/>
<b>2.2.6&#160;</b><br/>
<b>Interrupt&#160;API&#160;Deviation&#160;</b><br/>
<b>Specified&#160;Behavior&#160;</b><br/>
The&#160;API&#160;functions&#160;SuspendOSInterrupts()&#160;and ResumeOSInterrupts()&#160;<br/>are&#160;allowed&#160;within a&#160;category&#160;1 ISR&#160;<br/>
<b>Deviation&#160;Description&#160;</b><br/>
In MICROSAR&#160;OS&#160;it&#160;is&#160;not&#160;allowed&#160;to use&#160;SuspendOSInterrupts()&#160;and&#160;<br/>ResumeOSInterrupts()&#160;within a&#160;category&#160;1&#160;ISR.&#160;<br/>
<b>Deviation&#160;Reason&#160;</b><br/>
The&#160;function&#160;SuspendOSInterrupts()&#160;lowers&#160;the&#160;current&#160;interrupt&#160;level&#160;<br/>when used in&#160;a category&#160;1 ISR.&#160;This&#160;may&#160;lead&#160;to&#160;data inconsistencies&#160;<br/>if&#160;another&#160;category&#160;1 ISR&#160;occurs.&#160;<br/>Therefore&#160;those&#160;functions&#160;are&#160;not&#160;allowed.&#160;<br/>
&#160;<br/>
<b>2.2.7&#160;</b><br/>
<b>Cross&#160;Core&#160;Getter&#160;APIs&#160;</b><br/>
<b>Specified&#160;Behavior&#160;</b><br/>
All&#160;getter&#160;APIs&#160;(e.g.&#160;GetTaskID())&#160;may&#160;be&#160;called&#160;cross core within&#160;<br/>hooks&#160;and non&#160;nestable&#160;category&#160;2&#160;ISRs.&#160;<br/>
<b>Deviation&#160;Description&#160;</b><br/>
MICROSAR&#160;OS&#160;does not&#160;allow&#160;usage of&#160;those&#160;functions within&#160;OS&#160;<br/>Hooks&#160;and non-nestable&#160;category&#160;2&#160;ISRs.&#160;<br/>
<b>Deviation&#160;Reason&#160;</b><br/>
Deadlock&#160;avoidance&#160;due&#160;to&#160;disabled&#160;interrupts&#160;in&#160;case&#160;that&#160;there are&#160;<br/>two simultaneous concurrent&#160;usages of&#160;those&#160;APIs&#160;from&#160;multiple&#160;<br/>cores.&#160;<br/>
&#160;<br/>
<b>2.2.8&#160;</b><br/>
<b>IOC&#160;</b><br/>
<b>Specified&#160;Behavior&#160;</b><br/>
IocSend/IocWrite&#160;APIs&#160;have an&#160;IN&#160;parameter.&#160;The parameter&#160;will&#160;be&#160;<br/>passed&#160;by&#160;value&#160;for&#160;primitive data elements&#160;and by&#160;reference&#160;for&#160;all&#160;<br/>other&#160;types.&#160;The&#160;data&#160;type is configured&#160;in&#160;“OsIocDataTypeRef”.&#160;<br/>
<b>Deviation&#160;Description&#160;</b><br/>
The&#160;configurator&#160;does&#160;not&#160;evaluate information&#160;in&#160;<br/>“OsIocDataTypeRef”.&#160;Instead it&#160;evaluates the&#160;parameter&#160;<br/>“OsIocDataType“.&#160;Primitive data types&#160;are passed by&#160;value.&#160;The&#160;<br/>configurator&#160;identifies&#160;the&#160;following&#160;strings&#160;as&#160;primitive data&#160;types:&#160;<br/>“uint8”,&#160;“uint16”&#160;and&#160;“uint32”.&#160;All&#160;other&#160;data&#160;types&#160;are&#160;passed&#160;by&#160;<br/>reference.&#160;<br/>
<b>Deviation&#160;Reason&#160;</b><br/>
Usage&#160;of&#160;“OsIocDataType”&#160;reduces&#160;dependencies and complexity&#160;of&#160;<br/>the&#160;OS&#160;configurator.&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
26&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=27></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-27_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>2.2.9&#160;</b><br/>
<b>Return&#160;value&#160;upon stack&#160;violation&#160;</b><br/>
<b>Specified&#160;Behavior&#160;</b><br/>
If&#160;a stack&#160;fault&#160;is&#160;detected by&#160;stack&#160;monitoring&#160;AND&#160;no&#160;ProtectionHook&#160;<br/>is&#160;configured,&#160;the&#160;Operating&#160;System&#160;module shall&#160;call&#160;the&#160;<br/>ShutdownOS()&#160;service with the&#160;status&#160;E_OS_STACKFAULT.&#160;<br/>
<b>Deviation&#160;Description&#160;</b><br/>
Within a&#160;SC3&#160;/&#160;SC4 system&#160;with MPU&#160;stack&#160;supervision:&#160;<br/>If&#160;a stack&#160;fault&#160;is&#160;detected by&#160;stack&#160;monitoring&#160;AND&#160;no&#160;ProtectionHook&#160;<br/>is&#160;configured,&#160;the&#160;Operating&#160;System&#160;module shall&#160;call&#160;the&#160;<br/>ShutdownOS()&#160;service with the&#160;status&#160;<br/>E_OS_PROTECTION_MEMORY.&#160;<br/>
<b>Deviation&#160;Reason&#160;</b><br/>
With Hardware&#160;stack&#160;supervision&#160;MICROSAR&#160;OS&#160;is&#160;not&#160;possible to&#160;<br/>distinguish between stack&#160;violation and&#160;other&#160;memory&#160;violation&#160;<br/>
&#160;<br/>
<b>Specified&#160;Behavior&#160;</b><br/>
If&#160;a stack&#160;fault&#160;is&#160;detected by&#160;stack&#160;monitoring&#160;AND&#160;a ProtectionHook&#160;<br/>is&#160;configured&#160;the&#160;Operating&#160;System&#160;module shall&#160;call&#160;the&#160;<br/>ProtectionHook()&#160;with the status E_OS_STACKFAULT.&#160;<br/>
<b>Deviation&#160;Description&#160;</b><br/>
Within a&#160;SC3&#160;/&#160;SC4 system&#160;with MPU&#160;stack&#160;supervision:&#160;<br/>If&#160;a stack&#160;fault&#160;is&#160;detected by&#160;stack&#160;monitoring&#160;AND&#160;a ProtectionHook&#160;<br/>is&#160;configured&#160;the&#160;Operating&#160;System&#160;module shall&#160;call&#160;the&#160;<br/>ProtectionHook()&#160;with the status&#160;E_OS_PROTECTION_MEMORY.&#160;<br/>
<b>Deviation&#160;Reason&#160;</b><br/>
With&#160;Hardware&#160;stack&#160;supervision&#160;MICROSAR&#160;OS&#160;is&#160;not&#160;possible to&#160;<br/>distinguish between stack&#160;violation and other&#160;memory&#160;violation&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
27&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=28></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-28_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.2.10&#160;&#160;Forcible&#160;Termination&#160;of&#160;Applications&#160;</b><br/>
<b>Specified&#160;Behavior&#160;</b><br/>
AUTOSAR&#160;does&#160;not&#160;specify&#160;the&#160;handling&#160;of&#160;“next”&#160;schedule&#160;tables in&#160;<br/>case&#160;of&#160;forcible termination&#160;of&#160;applications.&#160;<br/>
<b>Deviation&#160;Description&#160;</b><br/>
Use case:&#160;<br/>An application has&#160;a&#160;running&#160;schedule table&#160;which itself&#160;has&#160;a&#160;nexted&#160;<br/>schedule table of&#160;a&#160;foreign&#160;application.&#160;<br/>The&#160;foreign&#160;application is&#160;forcibly&#160;terminated.&#160;<br/>&#160;<br/>The&#160;OS&#160;removes the&#160;“next”&#160;request&#160;from&#160;the&#160;running&#160;schedule table.&#160;<br/>
<b>Deviation&#160;Reason&#160;</b><br/>
Clarification&#160;of&#160;behavior.&#160;<br/>Impact&#160;on&#160;other&#160;applications should be&#160;minimal,&#160;therefore&#160;the&#160;current&#160;<br/>schedule table is&#160;not&#160;stopped.&#160;This&#160;is&#160;different&#160;to&#160;the&#160;behavior&#160;of&#160;<br/>StopScheduleTable().&#160;<br/>
&#160;<br/>
<b>Specified&#160;Behavior&#160;</b><br/>
AUTOSAR&#160;does&#160;not&#160;specify&#160;the&#160;handling&#160;of&#160;“next”&#160;schedule&#160;tables in&#160;<br/>case&#160;of&#160;forcible termination&#160;of&#160;applications.&#160;<br/>
<b>Deviation&#160;Description&#160;</b><br/>
Use case:&#160;<br/>An application has&#160;a&#160;running&#160;schedule table&#160;which itself&#160;has&#160;a&#160;nexted&#160;<br/>schedule table of&#160;a&#160;foreign&#160;application.&#160;<br/>The&#160;first&#160;application&#160;is&#160;forcibly&#160;terminated.&#160;<br/>&#160;<br/>The&#160;OS&#160;stops&#160;the&#160;current&#160;schedule&#160;table of&#160;the&#160;terminated&#160;application.&#160;<br/>and removes the&#160;“next”&#160;request.&#160;<br/>As&#160;a&#160;result&#160;it&#160;does&#160;not&#160;switch to&#160;the&#160;“next”&#160;schedule table of&#160;the&#160;foreign&#160;<br/>application.&#160;<br/>
<b>Deviation&#160;Reason&#160;</b><br/>
Clarification&#160;of&#160;behavior.&#160;<br/>Impact&#160;on&#160;other&#160;applications should be&#160;minimal.&#160;The described&#160;<br/>behavior&#160;is&#160;identical&#160;to&#160;the behavior&#160;of&#160;StopScheduleTable().&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
28&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=29></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-29_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.3&#160;</b><br/>
<b>Stack&#160;Concept&#160;</b><br/>
MICROSAR OS&#160;implements&#160;a&#160;specific stack&#160;concept.&#160;<br/>It&#160;&#160;defines&#160;&#160;different&#160;&#160;stacks&#160;&#160;which&#160;&#160;may&#160;&#160;be&#160;&#160;used&#160;&#160;by&#160;&#160;stack&#160;&#160;consumers&#160;&#160;(runtime&#160;&#160;contexts).&#160;<br/>Whereas not&#160;all&#160;stacks&#160;may&#160;be&#160;used&#160;by&#160;all&#160;consumers.&#160;<br/>The&#160;following&#160;table&#160;gives&#160;an&#160;overview.&#160;<br/>
<b>Stack&#160;Type&#160;</b><br/>
<b>Multiplicity&#160;&#160;Possible Stack Consumers&#160;</b><br/>
Kernel&#160;stack&#160;<br/>
1&#160;per&#160;core&#160;<br/>
<b>&gt;&#160;&#160;</b>OS&#160;memory&#160;exception&#160;handling&#160;<br/>
<b>&gt;&#160;&#160;</b>Os_PanicHook()&#160;<br/>
Protection&#160;stack&#160;<br/>
0..1&#160;per&#160;core&#160;&#160;<b>&gt;&#160;&#160;</b>ProtectionHook()&#160;<br/>
<b>&gt;&#160;&#160;</b>OS&#160;API&#160;calls&#160;<br/>
<b>&gt;&#160;&#160;</b>Os_PanicHook()&#160;<br/>
Error&#160;stack&#160;<br/>
0..1&#160;per&#160;core&#160;&#160;<b>&gt;&#160;&#160;</b>ErrorHooks&#160;(global&#160;and&#160;OS-application specific)&#160;<br/>
<b>&gt;&#160;&#160;</b>OS&#160;API&#160;calls&#160;<br/>
<b>&gt;&#160;&#160;</b>Category&#160;1&#160;ISRs&#160;<br/>
<b>&gt;&#160;&#160;</b>Os_PanicHook()&#160;<br/>
Shutdown stack&#160;<br/>
0..1&#160;per&#160;core&#160;&#160;<b>&gt;&#160;&#160;</b>ShutdownHooks&#160;(global&#160;and&#160;OS-application&#160;<br/>
specific)&#160;<br/>
<b>&gt;&#160;&#160;</b>OS&#160;API&#160;calls&#160;<br/>
<b>&gt;&#160;&#160;</b>Os_PanicHook()&#160;<br/>
Startup&#160;stack&#160;<br/>
0..1&#160;per&#160;core&#160;&#160;<b>&gt;&#160;&#160;</b>StartupHooks&#160;(global&#160;and&#160;OS-application specific)&#160;<br/>
<b>&gt;&#160;&#160;</b>OS&#160;API&#160;calls&#160;<br/>
<b>&gt;&#160;&#160;</b>Category&#160;1&#160;ISRs&#160;<br/>
<b>&gt;&#160;&#160;</b>Os_PanicHook()&#160;<br/>
NTF stacks&#160;<br/>
0..n&#160;<br/>
<b>&gt;&#160;&#160;</b>Non-trusted&#160;functions&#160;<br/>
<b>&gt;&#160;&#160;</b>OS&#160;API&#160;calls&#160;<br/>
<b>&gt;&#160;&#160;</b>OS&#160;ISR&#160;wrapper&#160;<br/>
<b>&gt;&#160;&#160;</b>Trusted&#160;functions&#160;<br/>
<b>&gt;&#160;&#160;</b>Alarm&#160;callback&#160;functions&#160;<br/>
<b>&gt;&#160;&#160;</b>Pre /&#160;PostTaskHook()&#160;<br/>
<b>&gt;&#160;&#160;</b>Category&#160;1&#160;ISRs&#160;<br/>
<b>&gt;&#160;&#160;</b>Os_PanicHook()&#160;<br/>
No nesting&#160;interrupt&#160;stack&#160;<br/>
0..1&#160;per&#160;core&#160;&#160;<b>&gt;&#160;&#160;</b>No nesting&#160;category&#160;2&#160;ISRs&#160;<br/>
<b>&gt;&#160;&#160;</b>OS&#160;API&#160;calls&#160;<br/>
<b>&gt;&#160;&#160;</b>Trusted&#160;functions&#160;<br/>
<b>&gt;&#160;&#160;</b>Alarm&#160;callback&#160;functions&#160;<br/>
<b>&gt;&#160;&#160;</b>Category&#160;1&#160;ISRs&#160;<br/>
<b>&gt;&#160;&#160;</b>Os_PanicHook()&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
29&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=30></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-30_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-30_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
Interrupt&#160;level&#160;stacks&#160;<br/>
0..n&#160;<br/>
<b>&gt;&#160;&#160;</b>Nesting category&#160;2&#160;ISRs&#160;<br/>
<b>&gt;&#160;&#160;</b>OS&#160;API&#160;calls&#160;<br/>
<b>&gt;&#160;&#160;</b>OS&#160;ISR&#160;wrapper&#160;<br/>
<b>&gt;&#160;&#160;</b>Trusted&#160;functions&#160;<br/>
<b>&gt;&#160;&#160;</b>Alarm&#160;callback&#160;functions&#160;<br/>
<b>&gt;&#160;&#160;</b>Category&#160;1&#160;ISRs&#160;<br/>
<b>&gt;&#160;&#160;</b>Os_PanicHook()&#160;<br/>
Task&#160;stacks&#160;<br/>
1..n&#160;<br/>
<b>&gt;&#160;&#160;</b>Tasks&#160;<br/>
<b>&gt;&#160;&#160;</b>OS&#160;API&#160;calls&#160;<br/>
<b>&gt;&#160;&#160;</b>OS&#160;ISR&#160;wrapper&#160;<br/>
<b>&gt;&#160;&#160;</b>Trusted&#160;functions&#160;<br/>
<b>&gt;&#160;&#160;</b>Alarm&#160;callback&#160;functions&#160;<br/>
<b>&gt;&#160;&#160;</b>Pre /&#160;PostTaskHook()&#160;<br/>
<b>&gt;&#160;&#160;</b>Category&#160;1&#160;ISRs&#160;<br/>
<b>&gt;&#160;&#160;</b>Os_PanicHook()&#160;<br/>
IOC&#160;receiver&#160;pull&#160;callback&#160;<br/>
0..1&#160;per&#160;core&#160;&#160;<b>&gt;&#160;&#160;</b>IOC&#160;receiver&#160;pull&#160;callback&#160;functions&#160;<br/>
stack&#160;<br/>
Table&#160;2-1&#160;&#160;&#160;MICROSAR&#160;OS&#160;Stack&#160;Types&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>The&#160;stack&#160;sizes of&#160;all&#160;stacks&#160;must&#160;be&#160;configured&#160;within the&#160;ECU&#160;configuration&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
30&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=31></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-31_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-31_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-31_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.3.1&#160;</b><br/>
<b>Task&#160;Stack&#160;Sharing&#160;</b><br/>
<b>2.3.1.1&#160;</b><br/>
<b>Description&#160;</b><br/>
In&#160;order to&#160;save&#160;RAM it&#160;is possible&#160;that&#160;different&#160;basic&#160;tasks share&#160;the&#160;same&#160;task stack.&#160;<br/>These&#160;basic tasks&#160;must&#160;behave&#160;cooperative&#160;to&#160;each&#160;other (must&#160;not&#160;preempt&#160;each&#160;other).&#160;<br/>
<b>2.3.1.2&#160;</b><br/>
<b>Activation&#160;</b><br/>
The&#160;attribute&#160;“OsTaskStackSharing”&#160;of&#160;a&#160;basic&#160;task&#160;has to&#160;be&#160;set&#160;to&#160;TRUE.&#160;<br/>All&#160;&#160;basic&#160;&#160;tasks&#160;&#160;on&#160;&#160;the&#160;&#160;same&#160;&#160;task&#160;&#160;priority&#160;&#160;and&#160;&#160;with&#160;&#160;activated&#160;&#160;task&#160;&#160;stack&#160;&#160;sharing&#160;&#160;are&#160;<br/>cooperative&#160;and&#160;share&#160;one&#160;task&#160;stack.&#160;<br/>The&#160;&#160;size&#160;&#160;of&#160;&#160;the&#160;&#160;shared&#160;&#160;task&#160;&#160;stack&#160;&#160;is&#160;&#160;the&#160;&#160;maximum&#160;&#160;of&#160;&#160;all&#160;&#160;configured&#160;&#160;task&#160;&#160;stack&#160;&#160;sizes&#160;&#160;of&#160;<br/>tasks with&#160;the&#160;same&#160;priority.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>Stack&#160;sharing&#160;of&#160;tasks&#160;can only&#160;be&#160;achieved&#160;between tasks&#160;which are assigned&#160;to&#160;the&#160;<br/>
&#160;&#160;same&#160;core!&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>2.3.1.3&#160;</b><br/>
<b>Usage&#160;</b><br/>
The&#160;feature&#160;is&#160;automatically&#160;&#160;used&#160;&#160;by&#160;the&#160;OS.&#160;Tasks&#160;which&#160;&#160;are&#160;&#160;cooperative&#160;to&#160;each&#160;other&#160;<br/>are sharing&#160;the&#160;same&#160;stack.&#160;<br/>
<b>2.3.2&#160;</b><br/>
<b>ISR&#160;Stack&#160;Sharing&#160;</b><br/>
<b>2.3.2.1&#160;</b><br/>
<b>Description&#160;</b><br/>
In&#160;&#160;order&#160;&#160;to&#160;&#160;save&#160;&#160;RAM&#160;&#160;it&#160;&#160;is&#160;&#160;possible&#160;&#160;that&#160;&#160;different&#160;&#160;category&#160;&#160;2&#160;&#160;ISRs&#160;&#160;share&#160;&#160;the&#160;&#160;same&#160;&#160;ISR&#160;<br/>stack.&#160;<br/>
<b>&gt;&#160;&#160;</b>All&#160;category&#160;2&#160;ISRs which&#160;are not&#160;nestable&#160;can&#160;share&#160;one&#160;stack.&#160;<br/>
<b>&gt;&#160;&#160;</b>All&#160;Category&#160;2&#160;ISRs which&#160;have&#160;the&#160;same&#160;priority&#160;can&#160;share&#160;one&#160;stack.&#160;<br/>
<b>2.3.2.2&#160;</b><br/>
<b>Activation&#160;</b><br/>
The&#160;attribute&#160;“OsIsrEnableNesting” must&#160;be&#160;set&#160;to&#160;FALSE&#160;for a&#160;category&#160;2&#160;ISR.&#160;<br/>The&#160;size&#160;of&#160;the&#160;shared&#160;ISR&#160;stack&#160;is&#160;the&#160;maximum&#160;of&#160;all&#160;configured&#160;ISR&#160;stack&#160;sizes&#160;of&#160;non-<br/>nestable&#160;category&#160;2&#160;ISRs.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>Stack&#160;sharing&#160;of&#160;ISRs&#160;can only&#160;be&#160;achieved&#160;between ISRs&#160;which are&#160;assigned&#160;to&#160;the&#160;<br/>
&#160;&#160;same&#160;core!&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
31&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=32></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-32_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.3.2.3&#160;</b><br/>
<b>Usage&#160;</b><br/>
The&#160;feature&#160;is&#160;used&#160;automatically&#160;by&#160;the&#160;OS.&#160;All&#160;category&#160;2&#160;ISRs&#160;on&#160;the&#160;same&#160;core&#160;which&#160;<br/>are not&#160;nestable&#160;are&#160;sharing&#160;the&#160;same&#160;stack.&#160;<br/>
<b>2.3.3&#160;</b><br/>
<b>Stack&#160;Check&#160;Strategy&#160;</b><br/>
All&#160;OS&#160;stacks&#160;must&#160;be&#160;protected&#160;from&#160;overflowing.&#160;<br/>MICROSAR&#160;&#160;OS&#160;&#160;offers&#160;&#160;different&#160;&#160;strategies&#160;&#160;to&#160;&#160;detect&#160;&#160;stack&#160;&#160;overflows&#160;&#160;or&#160;&#160;even&#160;&#160;to&#160;&#160;prevent&#160;<br/>stacks&#160;from&#160;overflowing.&#160;<br/>In&#160;dependency&#160;of&#160;the&#160;configured&#160;scalability&#160;class&#160;there are&#160;the&#160;following&#160;strategies:&#160;<br/>
&#160;<br/>
<b>Scalability&#160;Class&#160;</b><br/>
Stack&#160;check&#160;strategy&#160;<br/>
<b>SC1 /&#160;SC2&#160;</b><br/>
Software&#160;stack&#160;check&#160;(se<a href="TechnicalReference_Oss.html#33">e&#160;2.3.4)</a>&#160;<br/>
<b>SC3 /&#160;SC4&#160;</b><br/>
Stack&#160;supervision&#160;by&#160;memory&#160;protection&#160;unit&#160;(MPU)&#160;(see<a href="TechnicalReference_Oss.html#34">&#160;2.3.5)</a>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
32&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=33></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-33_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-33_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-33_3.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-33_4.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.3.4&#160;</b><br/>
<b>Software&#160;Stack&#160;Check&#160;</b><br/>
<b>2.3.4.1&#160;</b><br/>
<b>Description&#160;</b><br/>
The&#160;&#160;OS&#160;&#160;initializes&#160;&#160;the&#160;&#160;very&#160;&#160;last&#160;&#160;element&#160;&#160;of&#160;&#160;each&#160;&#160;stack&#160;&#160;to&#160;&#160;a&#160;&#160;specific&#160;&#160;stack&#160;&#160;check&#160;&#160;pattern.&#160;<br/>Whenever&#160;a&#160;stack&#160;switch&#160;is&#160;performed&#160;(e.g.&#160;a&#160;task&#160;switch)&#160;the&#160;OS&#160;checks&#160;whether&#160;this&#160;last&#160;<br/>element&#160;of&#160;the&#160;last&#160;valid&#160;stack still&#160;holds&#160;the&#160;stack check pattern.&#160;<br/>If&#160;the&#160;&#160;OS&#160;&#160;detects&#160;&#160;that&#160;&#160;the&#160;&#160;stack&#160;&#160;check&#160;&#160;pattern&#160;&#160;has&#160;&#160;been&#160;&#160;altered&#160;&#160;it&#160;&#160;assumes&#160;&#160;that&#160;&#160;the&#160;&#160;last&#160;<br/>valid&#160;stack did&#160;overflow.&#160;<br/>
<b>&#160;</b><br/>
Stack&#160;Check&#160;Pattern&#160;<br/>
<b>32&#160;Bit&#160;Microcontrollers&#160;&#160;</b>0xAAAAAAAA&#160;<br/>
Table&#160;2-2&#160;&#160;&#160;Stack&#160;Check&#160;Patterns&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>The&#160;software&#160;stack&#160;check&#160;is&#160;able&#160;to detect&#160;stack&#160;overflows.&#160;It&#160;is&#160;not&#160;capable to avoid&#160;<br/>
&#160;&#160;them!&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>2.3.4.2&#160;</b><br/>
<b>Activation&#160;</b><br/>
Within&#160;&#160;a&#160;&#160;SC1&#160;&#160;or&#160;&#160;SC2&#160;&#160;configuration&#160;&#160;the&#160;&#160;attribute&#160;&#160;“OsStackMonitoring”&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;set&#160;&#160;to&#160;<br/>TRUE&#160;to&#160;activate&#160;the&#160;software stack check&#160;feature.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Expert&#160;Knowledge&#160;<br/></b>On platforms&#160;which disable the&#160;MPU&#160;in supervisor&#160;mode,&#160;the&#160;software&#160;stack&#160;check&#160;may&#160;<br/>
&#160;&#160;be&#160;activated&#160;also&#160;for&#160;SC3 and SC4 configurations.&#160;<br/>
On other&#160;platforms&#160;the&#160;software&#160;stack&#160;check&#160;should be&#160;switched off&#160;in a&#160;SC3 or&#160;SC4&#160;<br/>configuration.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>2.3.4.3&#160;</b><br/>
<b>Usage&#160;</b><br/>
Once&#160;&#160;the&#160;&#160;feature&#160;&#160;is&#160;&#160;activated&#160;&#160;the&#160;&#160;OS&#160;&#160;checks&#160;&#160;the&#160;&#160;stacks&#160;&#160;automatically&#160;&#160;upon&#160;&#160;each&#160;&#160;stack&#160;<br/>switch.&#160;<br/>If&#160;the&#160;OS&#160;detects&#160;a&#160;stack&#160;overflow&#160;it&#160;goes&#160;into&#160;shutdown.&#160;If&#160;a&#160;ShutdownHook&#160;is&#160;configured&#160;<br/>it&#160;is&#160;invoked&#160;to&#160;inform&#160;the&#160;application&#160;about&#160;OS&#160;shutdown.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>Debugging&#160;hint:&#160;The&#160;stack&#160;check&#160;pattern&#160;is&#160;restored&#160;by&#160;the&#160;OS&#160;before&#160;the&#160;<br/>
&#160;&#160;ShutdownHook()&#160;is&#160;called.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
33&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=34></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-34_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-34_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>2.3.5&#160;</b><br/>
<b>Stack&#160;Supervision by&#160;MPU&#160;</b><br/>
<b>2.3.5.1&#160;</b><br/>
<b>Description&#160;</b><br/>
During&#160;the&#160;whole&#160;runtime&#160;of&#160;the&#160;OS&#160;the&#160;current&#160;active&#160;stack&#160;is&#160;supervised&#160;by&#160;the&#160;MPU&#160;of&#160;<br/>the&#160;microcontroller.&#160;Therefore the&#160;OS&#160;reserves&#160;one&#160;MPU&#160;region&#160;which&#160;is&#160;reprogrammed&#160;by&#160;<br/>the&#160;OS&#160;with&#160;each&#160;stack&#160;switch.&#160;<br/>Stack&#160;&#160;overflows&#160;&#160;cannot&#160;&#160;happen&#160;&#160;since&#160;&#160;the&#160;&#160;MPU&#160;&#160;avoids&#160;&#160;write&#160;&#160;accesses&#160;&#160;beyond&#160;&#160;the&#160;&#160;stack&#160;<br/>boundaries.&#160;<br/>Whenever&#160;a&#160;memory&#160;violation&#160;is&#160;recognized&#160;(e.g.&#160;due&#160;to&#160;a&#160;stack&#160;violation)&#160;an&#160;exception&#160;is&#160;<br/>raised.&#160;Within&#160;the&#160;exception&#160;handling&#160;the&#160;OS&#160;calls&#160;the&#160;ProtectionHook().&#160;<br/>The&#160;&#160;application&#160;decides&#160;&#160;in&#160;&#160;the&#160;ProtectionHook()&#160;&#160;how&#160;&#160;to&#160;&#160;deal&#160;&#160;with&#160;&#160;the&#160;memory&#160;&#160;protection&#160;<br/>violation.&#160;If&#160;the&#160;application&#160;invokes&#160;the&#160;shutdown&#160;of&#160;the&#160;OS,&#160;the&#160;ShutdownHook()&#160;is&#160;called&#160;<br/>as well&#160;(if&#160;configured).&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>The&#160;stack&#160;supervision&#160;recognizes write accesses&#160;beyond stack&#160;boundaries&#160;and&#160;<br/>
&#160;&#160;suppresses&#160;them.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>2.3.5.2&#160;</b><br/>
<b>Activation&#160;</b><br/>
The&#160;system&#160;must&#160;be&#160;configured&#160;as a&#160;SC3&#160;or&#160;SC4&#160;system.&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
34&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=35></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-35_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-35_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.3.5.3&#160;</b><br/>
<b>Usage&#160;</b><br/>
In&#160;&#160;a&#160;&#160;SC3&#160;&#160;/&#160;&#160;SC4&#160;&#160;system&#160;&#160;the&#160;&#160;OS&#160;&#160;automatically&#160;&#160;initializes&#160;&#160;one&#160;&#160;MPU&#160;&#160;region&#160;&#160;for&#160;&#160;stack&#160;<br/>supervision.&#160;<br/>To&#160;&#160;safely&#160;&#160;detect&#160;&#160;stack&#160;&#160;violations&#160;&#160;special&#160;&#160;care&#160;&#160;must&#160;&#160;be&#160;&#160;taken&#160;&#160;with&#160;&#160;configuring&#160;&#160;additional&#160;<br/>MPU regions&#160;and&#160;also&#160;with&#160;linking&#160;of&#160;sections:&#160;<br/>
<b>&gt;&#160;&#160;</b>When&#160;configuring&#160;additional MPU regions&#160;included&#160;memory&#160;region&#160;must&#160;never overlap&#160;<br/>
with&#160;any&#160;OS&#160;stack sections.&#160;<br/>
<b>&gt;&#160;&#160;</b>By&#160;using&#160;an&#160;OS&#160;generated&#160;linker command&#160;file&#160;(see<a href="TechnicalReference_Oss.html#130">&#160;4.3.2) it is a</a>ssured&#160;that&#160;the&#160;OS&#160;<br/>
stacks are linked&#160;consecutively&#160;into&#160;the&#160;RAM.&#160;<br/>
<b>&gt;&#160;&#160;</b>A&#160;stack safety&#160;gap&#160;is needed&#160;which&#160;is linked&#160;adjacent&#160;to&#160;the&#160;stacks&#160;(in&#160;dependency&#160;of&#160;<br/>
the&#160;stack growth&#160;direction;&#160;see<a href="TechnicalReference_Oss.html#35">&#160;Figure&#160;2-1)</a>.&#160;No&#160;software parts must&#160;have&#160;write&#160;access&#160;<br/>to&#160;the&#160;stack safety&#160;gap.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;size&#160;of&#160;the&#160;stack safety&#160;gap&#160;must&#160;be&#160;at&#160;least&#160;the&#160;granularity&#160;of&#160;the&#160;MPU.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;linkage&#160;of&#160;the&#160;safety&#160;gap&#160;is mandatory.&#160;Otherwise&#160;a&#160;stack violation&#160;of&#160;the&#160;stack&#160;<br/>
with&#160;the&#160;lowest&#160;address cannot&#160;be&#160;detected.&#160;<br/>
&#160;<br/>
stack&#160;safety&#160;gap<br/>
OS&#160;stacks<br/>
Stack&#160;growth&#160;direction<br/>
&#160;<br/>
Figure&#160;2-1&#160;&#160;Stack&#160;Safety&#160;Gap&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>Don’t&#160;configure&#160;MPU&#160;regions&#160;which grant&#160;access&#160;to any&#160;OS&#160;stacks&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
35&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=36></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-36_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-36_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>Add&#160;a stack&#160;safety&#160;gap&#160;to the&#160;linkage&#160;scheme.&#160;The stack&#160;safety&#160;gap&#160;is&#160;a&#160;restricted&#160;<br/>
<b>&#160;&#160;</b>memory&#160;region.&#160;No software&#160;parts&#160;must&#160;have write access&#160;to&#160;this&#160;region.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
36&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=37></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-37_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-37_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.3.6&#160;</b><br/>
<b>Stack&#160;Usage&#160;Measurement&#160;</b><br/>
<b>2.3.6.1&#160;</b><br/>
<b>Description&#160;</b><br/>
During&#160;runtime&#160;of&#160;&#160;the&#160;OS&#160;the&#160;maximum&#160;stack&#160;usage&#160;can&#160;be&#160;obtained&#160;by&#160;the&#160;&#160;application.&#160;<br/>The&#160;OS&#160;initializes all&#160;OS&#160;stacks with&#160;the&#160;stack&#160;check&#160;pattern (see<a href="TechnicalReference_Oss.html#33">&#160;Table&#160;2-2).</a>&#160;<br/>There&#160;are&#160;API&#160;functions&#160;which&#160;are&#160;capable&#160;to&#160;return&#160;the&#160;maximum&#160;stack&#160;usage&#160;(since&#160;call&#160;<br/>of&#160;StartOS())&#160;for each&#160;stack (see<a href="TechnicalReference_Oss.html#163">&#160;5.6).</a>&#160;<br/>
<b>2.3.6.2&#160;</b><br/>
<b>Activation&#160;</b><br/>
Set&#160;“OsStackUsageMeasurement” to&#160;TRUE&#160;<br/>
<b>2.3.6.3&#160;</b><br/>
<b>Usage&#160;</b><br/>
The&#160;stack&#160;usage&#160;APIs&#160;can&#160;be&#160;used&#160;anywhere in&#160;application.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>To&#160;save OS&#160;startup&#160;time,&#160;the&#160;feature&#160;can&#160;be&#160;deactivated&#160;in a&#160;productive environment.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
37&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=38></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-38_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-38_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.4&#160;</b><br/>
<b>Interrupt&#160;Concept&#160;</b><br/>
<b>2.4.1&#160;</b><br/>
<b>Interrupt&#160;Handling&#160;API&#160;</b><br/>
The&#160;&#160;AUTOSAR&#160;&#160;OS&#160;&#160;standard&#160;&#160;specifies&#160;&#160;several&#160;&#160;APIs&#160;&#160;to&#160;&#160;disable&#160;&#160;/&#160;&#160;enable&#160;&#160;Interrupts.&#160;&#160;The&#160;<br/>implementation&#160;&#160;of&#160;&#160;those&#160;&#160;functions&#160;&#160;and&#160;&#160;their&#160;&#160;effects&#160;&#160;on&#160;&#160;the&#160;&#160;application&#160;&#160;depends&#160;&#160;on&#160;&#160;the&#160;<br/>timing&#160;protection&#160;configuration.&#160;<br/>
<b>2.4.1.1&#160;</b><br/>
<b>Interrupt&#160;Handling in&#160;SC1&#160;/&#160;SC3&#160;</b><br/>
Without&#160;configured&#160;timing&#160;protection&#160;the&#160;interrupt&#160;APIs&#160;are implemented&#160;as&#160;follows:&#160;<br/>
<b>Interrupt&#160;Priority</b><br/>
<b>High</b><br/>
<b>Category</b><br/>
<b>1</b><br/>
<b>ISRs</b><br/>
<b>DisableAllInterrupts()<br/>EnableAllInterrupts()</b><br/>
<b>SuspendAllInterrupts()</b><br/>
<b>Category</b><br/>
<b>SuspendOSInterrupts()</b><br/>
<b>ResumeAllInterrupts()</b><br/>
<b>2</b><br/>
<b>ResumeOSInterrupts()</b><br/>
<b>ISRs</b><br/>
<b>Low</b><br/>
<b>Tasks</b><br/>
&#160;&#160;<br/>
Figure&#160;2-2&#160;&#160;Interrupt&#160;APIs&#160;in&#160;SC1&#160;/&#160;SC3&#160;<br/>
<b>DisableAllInterrupts()&#160;<br/>EnableAllInterrupts()&#160;</b><br/>
The&#160;functions&#160;disable all&#160;interrupts&#160;by&#160;<br/>manipulate&#160;a&#160;global&#160;interrupt&#160;mask&#160;/&#160;<br/>
<b>SuspendAllInterrupts()&#160;</b><br/>
disable&#160;flag&#160;<br/>
<b>ResumeAllInterrupts()&#160;</b><br/>
<b>SuspendOSInterrupts()&#160;</b><br/>
The&#160;functions&#160;disable category&#160;2&#160;<br/>
<b>ResumeOSInterrupts()</b><br/>
interrupts&#160;by&#160;manipulate&#160;the&#160;interrupt&#160;<br/>
<b>&#160;</b><br/>
priority&#160;/&#160;level&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>The&#160;lowest&#160;priority&#160;of&#160;all&#160;category&#160;1&#160;ISRs&#160;is&#160;called&#160;OS&#160;system&#160;level.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
38&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=39></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-39_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.4.1.2&#160;</b><br/>
<b>Interrupt&#160;Handling in&#160;SC2&#160;/&#160;SC4&#160;</b><br/>
With&#160;configured&#160;timing&#160;protection&#160;the&#160;interrupt&#160;APIs&#160;are&#160;implemented&#160;as&#160;follows:&#160;<br/>
<b>Interrupt&#160;Priority</b><br/>
<b>High</b><br/>
<b>Timing&#160;</b><br/>
<b>Protection</b><br/>
<b>ISR</b><br/>
<b>Category</b><br/>
<b>1</b><br/>
<b>ISRs</b><br/>
<b>DisableAllInterrupts()<br/>EnableAllInterrupts()</b><br/>
<b>SuspendAllInterrupts()</b><br/>
<b>Category</b><br/>
<b>SuspendOSInterrupts()</b><br/>
<b>ResumeAllInterrupts()</b><br/>
<b>2</b><br/>
<b>ResumeOSInterrupts()</b><br/>
<b>ISRs</b><br/>
<b>Low</b><br/>
<b>Tasks</b><br/>
&#160;<br/>
Figure&#160;2-3&#160;&#160;Interrupt&#160;API&#160;in&#160;SC2&#160;/&#160;SC4&#160;<br/>
<b>DisableAllInterrupts()&#160;</b><br/>
The&#160;functions&#160;disable all&#160;interrupts&#160;except&#160;the&#160;timing&#160;protection&#160;<br/>
<b>EnableAllInterrupts()&#160;</b><br/>
interrupt&#160;<br/>&#160;By&#160;manipulate&#160;a&#160;global&#160;interrupt&#160;mask&#160;/&#160;disable&#160;flag&#160;(if&#160;the&#160;timing&#160;<br/>
<b>SuspendAllInterrupts()&#160;</b><br/>
protection&#160;interrupt&#160;is&#160;not&#160;maskable)&#160;<br/>
<b>ResumeAllInterrupts()&#160;</b><br/>
&#160;By&#160;manipulate&#160;the&#160;interrupt&#160;priority&#160;/&#160;level&#160;(if&#160;the&#160;timing&#160;protection&#160;<br/>
interrupt&#160;is&#160;maskable)&#160;<br/>
See&#160;chapter<a href="TechnicalReference_Oss.html#68">&#160;2.19&#160;</a>for&#160;details&#160;<br/>
<b>SuspendOSInterrupts()&#160;</b><br/>
The&#160;functions&#160;disable category&#160;2 interrupts&#160;by&#160;manipulate&#160;the&#160;<br/>
<b>ResumeOSInterrupts()</b><br/>
interrupt&#160;priority&#160;/&#160;level&#160;<br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
39&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=40></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-40_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-40_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.4.2&#160;</b><br/>
<b>Interrupt&#160;Vector Table&#160;</b><br/>
The&#160;&#160;interrupt&#160;&#160;vector&#160;&#160;table&#160;&#160;is&#160;&#160;generated&#160;&#160;by&#160;&#160;MICROSAR&#160;&#160;OS&#160;&#160;with&#160;&#160;respect&#160;&#160;to&#160;&#160;the&#160;<br/>configuration,&#160;microcontroller&#160;family&#160;and&#160;used&#160;compiler.&#160;<br/>In&#160;a&#160;multi core&#160;system&#160;multiple&#160;vector tables&#160;may&#160;be&#160;generated.&#160;<br/>MICROSAR OS&#160;generates&#160;an&#160;interrupt&#160;vector for each&#160;possible&#160;interrupt&#160;source.&#160;<br/>
<b>2.4.3&#160;</b><br/>
<b>Nesting of&#160;Category&#160;2&#160;Interrupts&#160;</b><br/>
<b>2.4.3.1&#160;</b><br/>
<b>Description&#160;</b><br/>
To&#160;keep&#160;interrupt&#160;latency&#160;as low&#160;as possible&#160;it&#160;is possible&#160;that&#160;<br/>
<b>&gt;&#160;&#160;</b>A&#160;higher priority&#160;category&#160;2&#160;ISR&#160;interrupts&#160;a&#160;lower priority&#160;category&#160;2&#160;ISR.&#160;<br/>
<b>&gt;&#160;&#160;</b>A&#160;category&#160;1&#160;ISRs interrupts&#160;a&#160;category&#160;2&#160;ISR&#160;(category&#160;1&#160;ISR has&#160;always a&#160;higher&#160;<br/>
priority)&#160;<br/>
<b>2.4.3.2&#160;</b><br/>
<b>Activation&#160;</b><br/>
When&#160;&#160;setting&#160;&#160;“OsIsrEnableNesting”&#160;&#160;to&#160;TRUE&#160;&#160;the&#160;&#160;category&#160;&#160;2&#160;&#160;ISR&#160;&#160;itself&#160;&#160;is&#160;&#160;interruptible&#160;&#160;by&#160;<br/>higher priority&#160;ISRs.&#160;<br/>
<b>2.4.4&#160;</b><br/>
<b>Category&#160;1&#160;Interrupts&#160;</b><br/>
<b>2.4.4.1&#160;</b><br/>
<b>Implementation of&#160;Category&#160;1&#160;ISRs&#160;</b><br/>
MICROSAR&#160;&#160;OS&#160;&#160;offers&#160;&#160;a&#160;&#160;macro&#160;&#160;for&#160;&#160;implementing&#160;&#160;a&#160;&#160;category&#160;&#160;1&#160;&#160;ISR.&#160;&#160;This&#160;&#160;is&#160;&#160;a&#160;&#160;similar&#160;<br/>mechanism&#160;like&#160;the&#160;macro&#160;for a&#160;category&#160;2&#160;ISR defined&#160;by&#160;the&#160;AUTOSAR&#160;standard.&#160;<br/>MICROSAR OS&#160;abstracts&#160;the&#160;needed&#160;compiler keywords.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Implement&#160;a&#160;category&#160;1 ISR&#160;</b><br/>
&#160;&#160;OS_ISR1(&lt;MyCategory1ISR&gt;)&#160;<br/>
{&#160;<br/>}&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
40&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=41></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-41_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-41_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.4.4.2&#160;</b><br/>
<b>Nesting of&#160;Category&#160;1&#160;ISRs&#160;</b><br/>
Since&#160;category&#160;1&#160;ISRs&#160;are&#160;directly&#160;called&#160;&#160;from&#160;interrupt&#160;vector&#160;table&#160;&#160;without&#160;any&#160;OS&#160;pro-&#160;<br/>and&#160;epilogue,&#160;automatic nesting&#160;of&#160;category&#160;1&#160;ISRs cannot&#160;be&#160;supported.&#160;<br/>The&#160;configuration&#160;attribute&#160;“OsIsrEnableNesting”&#160;is&#160;ignored&#160;for category&#160;1&#160;ISRs.&#160;<br/>Nevertheless&#160;&#160;the&#160;&#160;interrupts&#160;&#160;may&#160;&#160;be&#160;&#160;enabled&#160;&#160;during&#160;&#160;a&#160;&#160;category&#160;&#160;1&#160;&#160;ISR&#160;&#160;to&#160;&#160;allow&#160;&#160;interrupt&#160;<br/>nesting&#160;but&#160;OS&#160;API&#160;functions&#160;cannot&#160;be&#160;used&#160;for&#160;this&#160;purpose.&#160;The&#160;application&#160;has&#160;to&#160;use&#160;<br/>compiler&#160;intrinsic&#160;functions&#160;or inline&#160;assembler statements.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Example&#160;<br/></b>OS_ISR1(&lt;MyCategory1ISR&gt;)&#160;<br/>
&#160;&#160;{&#160;<br/>
&#160; &#160;__asm(EI); /* enable nesting of this ISR */&#160;<br/>&#160;<br/>&#160; &#160;__asm(DI); /* disable nesting before leaving the function */&#160;<br/>}&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>2.4.4.3&#160;</b><br/>
<b>Category&#160;1&#160;ISRs&#160;before&#160;StartOS&#160;</b><br/>
There&#160;&#160;may&#160;&#160;be&#160;&#160;the&#160;&#160;need&#160;&#160;to&#160;&#160;activate&#160;&#160;and&#160;&#160;serve&#160;&#160;category&#160;&#160;1&#160;&#160;ISRs&#160;&#160;before&#160;&#160;the&#160;&#160;OS&#160;&#160;has&#160;&#160;been&#160;<br/>started.&#160;<br/>The&#160;following&#160;sequence&#160;should&#160;be&#160;implemented:&#160;<br/>
1.&#160;&#160;Call Os_InitMemory&#160;<br/>
2.&#160;&#160;Call&#160;Os_Init&#160;(within&#160;the&#160;function&#160;the&#160;basic&#160;interrupt&#160;controller&#160;settings&#160;are&#160;initialized&#160;<br/>
e.g.&#160;priorities of&#160;interrupt&#160;sources).&#160;<br/>
3.&#160;&#160;Enable&#160;the&#160;Interrupt&#160;sources&#160;of&#160;category&#160;1&#160;ISRs&#160;by&#160;directly&#160;manipulating&#160;the&#160;control&#160;<br/>
registers in&#160;the&#160;interrupt&#160;controller.&#160;<br/>
4.&#160;&#160;Enable&#160;&#160;the&#160;&#160;interrupts&#160;&#160;by&#160;&#160;directly&#160;&#160;manipulating&#160;&#160;the&#160;&#160;global&#160;&#160;interrupt&#160;&#160;flag&#160;&#160;and&#160;&#160;/&#160;&#160;or&#160;<br/>
current&#160;interrupt&#160;priority&#160;to&#160;allow&#160;the&#160;category&#160;1&#160;ISRs&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
41&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=42></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-42_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-42_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-42_3.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-42_4.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-42_5.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.4.4.4&#160;</b><br/>
<b>Notes&#160;on&#160;Category&#160;1&#160;ISRs&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Expert&#160;Knowledge&#160;<br/></b>On platforms&#160;which have&#160;no&#160;automatic&#160;stack&#160;switch upon&#160;interrupt&#160;request&#160;there&#160;will&#160;be&#160;<br/>
&#160;&#160;no&#160;stack&#160;switch&#160;at&#160;all&#160;if&#160;a&#160;category&#160;1&#160;ISR&#160;occurs.&#160;Thus the&#160;stack&#160;consumption&#160;of&#160;a&#160;<br/>
category&#160;1&#160;ISR&#160;should&#160;be added&#160;to all&#160;stacks&#160;which are&#160;can&#160;be&#160;consumed&#160;by&#160;category&#160;<br/>1 ISRs&#160;(see<a href="TechnicalReference_Oss.html#29">&#160;2.3&#160;</a>for&#160;an&#160;overview).&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>Although&#160;the&#160;interrupt&#160;priorities&#160;are&#160;initialized&#160;by&#160;MICROSAR&#160;OS&#160;there is&#160;no&#160;API&#160;to&#160;<br/>
&#160;&#160;enable or&#160;acknowledge&#160;category&#160;1&#160;ISRs.&#160;The&#160;interrupt&#160;control&#160;registers&#160;have to&#160;be&#160;<br/>
accessed&#160;directly.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>The&#160;AUTOSAR&#160;OS&#160;standard does&#160;not&#160;allow&#160;OS&#160;API&#160;usage&#160;within category&#160;1 ISRs&#160;(the&#160;<br/>
<b>&#160;&#160;</b>only&#160;exception&#160;is&#160;the&#160;interrupt&#160;handling&#160;API).&#160;<br/>
If&#160;a not&#160;allowed&#160;OS&#160;API&#160;is&#160;called&#160;anyway,&#160;MICROSAR&#160;OS&#160;is&#160;not&#160;able to&#160;detect&#160;this&#160;and&#160;<br/>the&#160;called&#160;API&#160;may&#160;not&#160;work&#160;as&#160;expected.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>Category&#160;1&#160;ISRs&#160;are&#160;always&#160;executed&#160;with trusted rights&#160;on&#160;supervisor&#160;level.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
42&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=43></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-43_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-43_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.4.5&#160;</b><br/>
<b>Initialization of&#160;Interrupt&#160;Sources&#160;</b><br/>
Through&#160;the&#160;OS&#160;configuration&#160;MICROSAR&#160;OS&#160;knows&#160;the&#160;assignment&#160;of&#160;interrupt&#160;sources&#160;<br/>and&#160;priorities&#160;to&#160;ISRs.&#160;In&#160;multi core system&#160;the&#160;core&#160;assignment&#160;of&#160;all&#160;ISRs is also&#160;known.&#160;<br/>Based&#160;&#160;on&#160;&#160;these&#160;&#160;configuration&#160;&#160;information&#160;&#160;MICROSAR&#160;&#160;OS&#160;&#160;generates&#160;&#160;data&#160;&#160;structures&#160;&#160;for&#160;<br/>initializing&#160;the&#160;interrupt&#160;controller.&#160;It&#160;initializes&#160;the&#160;interrupt&#160;priority&#160;and&#160;its&#160;core&#160;assignment.&#160;<br/>
<b>2.4.6&#160;</b><br/>
<b>Unhandled&#160;Interrupts&#160;</b><br/>
Interrupt&#160;sources&#160;which&#160;are&#160;not&#160;assigned&#160;to&#160;a&#160;user&#160;defined&#160;ISR&#160;are&#160;assigned&#160;to&#160;a&#160;default&#160;<br/>OS&#160;interrupt&#160;handler&#160;which&#160;collects&#160;those&#160;interrupt&#160;sources.&#160;<br/>Thus&#160;interrupt&#160;requests&#160;from&#160;unassigned&#160;interrupt&#160;sources&#160;are&#160;handled&#160;by&#160;the&#160;OS.&#160;Within&#160;<br/>OS&#160;&#160;Hooks&#160;&#160;(e.g.&#160;&#160;ProtectionHook())&#160;&#160;the&#160;&#160;application&#160;&#160;can&#160;&#160;obtain&#160;&#160;the&#160;&#160;source&#160;&#160;number&#160;&#160;of&#160;&#160;the&#160;<br/>unhandled&#160;interrupt&#160;request&#160;by&#160;an&#160;OS&#160;API&#160;(see<a href="TechnicalReference_Oss.html#160">&#160;5.5.1&#160;</a>for&#160;details).&#160;<br/>In&#160;case&#160;of&#160;an&#160;unhandled&#160;interrupt&#160;request&#160;MICROSAR&#160;OS&#160;calls&#160;the&#160;ProtectionHook()&#160;with&#160;<br/>the&#160;parameter E_OS_SYS_PROTECTION_IRQ.&#160;<br/>
<b>2.5&#160;</b><br/>
<b>Exception Concept&#160;</b><br/>
<b>2.5.1&#160;</b><br/>
<b>Exception&#160;Vector Table&#160;</b><br/>
The&#160;&#160;exception&#160;&#160;vector&#160;&#160;table&#160;&#160;is&#160;&#160;generated&#160;&#160;by&#160;&#160;MICROSAR&#160;&#160;OS&#160;&#160;with&#160;&#160;respect&#160;&#160;to&#160;&#160;the&#160;<br/>configuration,&#160;microcontroller&#160;family&#160;and&#160;used&#160;compiler.&#160;<br/>In&#160;a&#160;multi core&#160;multiple&#160;vector tables&#160;may&#160;be&#160;generated.&#160;<br/>MICROSAR OS&#160;generates&#160;an&#160;exception&#160;vector&#160;for each&#160;possible&#160;exception&#160;source.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>In a&#160;SC3 and SC4&#160;system&#160;MICROSAR&#160;OS&#160;defines&#160;OS&#160;exception&#160;handlers&#160;for&#160;memory&#160;<br/>
&#160;&#160;protection&#160;errors&#160;and&#160;for&#160;SYSCALL&#160;/&#160;TRAP&#160;instructions.&#160;<br/>
Exception&#160;sources which are&#160;used by&#160;the&#160;OS&#160;cannot&#160;be&#160;configured&#160;by&#160;the&#160;application.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>2.5.2&#160;</b><br/>
<b>Unhandled&#160;Exceptions&#160;</b><br/>
Exception&#160;&#160;sources&#160;&#160;which&#160;&#160;are&#160;&#160;not&#160;&#160;assigned&#160;&#160;to&#160;&#160;user&#160;&#160;defined&#160;&#160;exception&#160;&#160;handlers&#160;&#160;are&#160;<br/>assigned&#160;to&#160;a&#160;default&#160;OS&#160;exception&#160;handler which&#160;collects&#160;those&#160;exceptions.&#160;<br/>Thus&#160;&#160;exception&#160;&#160;requests&#160;&#160;from&#160;&#160;unassigned&#160;&#160;exception&#160;&#160;sources&#160;&#160;are&#160;&#160;handled&#160;&#160;by&#160;&#160;the&#160;&#160;OS.&#160;<br/>Within&#160;&#160;OS&#160;&#160;Hooks&#160;&#160;the&#160;&#160;application&#160;&#160;can&#160;&#160;obtain&#160;&#160;the&#160;&#160;exception&#160;&#160;number&#160;&#160;of&#160;&#160;the&#160;&#160;unhandled&#160;<br/>exception&#160;request&#160;by&#160;an&#160;OS&#160;API&#160;(see<a href="TechnicalReference_Oss.html#162">&#160;5.5.3&#160;</a>for details).&#160;<br/>In&#160;case&#160;of&#160;an&#160;unhandled&#160;exception&#160;request&#160;MICROSAR&#160;OS&#160;calls&#160;the&#160;ProtectionHook()&#160;with&#160;<br/>the&#160;parameter E_OS_PROTECTION_EXCEPTION.&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
43&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=44></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-44_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.6&#160;</b><br/>
<b>Timer Concept&#160;</b><br/>
<b>2.6.1&#160;</b><br/>
<b>Description&#160;</b><br/>
MICROSAR&#160;&#160;OS&#160;&#160;can&#160;provide&#160;&#160;a&#160;&#160;time&#160;&#160;base&#160;&#160;generated&#160;from&#160;&#160;timer&#160;&#160;hardware&#160;&#160;located&#160;&#160;on&#160;&#160;the&#160;<br/>microcontroller.&#160;This time&#160;base&#160;can&#160;be&#160;used&#160;to&#160;drive&#160;alarms&#160;and&#160;schedule-tables.&#160;<br/>
<b>2.6.2&#160;</b><br/>
<b>Activation&#160;</b><br/>
The&#160;&#160;OS&#160;&#160;configuration&#160;&#160;may&#160;&#160;define&#160;&#160;an&#160;&#160;OsCounter&#160;&#160;Object&#160;&#160;of&#160;&#160;type&#160;&#160;“HARDWARE”.&#160;&#160;Then&#160;&#160;a&#160;<br/>driving&#160;hardware must&#160;be&#160;assigned&#160;to&#160;“OsDriver”&#160;attribute.&#160;<br/>
<b>2.6.3&#160;</b><br/>
<b>Usage&#160;</b><br/>
Once&#160;the&#160;hardware&#160;counter&#160;is&#160;defined&#160;it&#160;can&#160;be&#160;assigned&#160;to&#160;alarms (“OsAlarmCounterRef”)&#160;<br/>and&#160;schedule-tables&#160;(“OsScheduleTableCounterRef”).&#160;<br/>Such&#160;alarms&#160;and&#160;schedule-tables&#160;are&#160;driven&#160;time&#160;based.&#160;<br/>Additionally&#160;&#160;MICROSAR&#160;&#160;OS&#160;&#160;provides&#160;&#160;conversion&#160;&#160;macros&#160;&#160;(which&#160;&#160;are&#160;&#160;based&#160;&#160;on&#160;&#160;the&#160;<br/>hardware&#160;counter&#160;configuration)&#160;to&#160;convert&#160;from&#160;hardware&#160;ticks&#160;to&#160;time&#160;and&#160;vice&#160;versa&#160;(see&#160;<br/>fo<a href="TechnicalReference_Oss.html#165">r&#160;5.8&#160;</a>details).&#160;<br/>
<b>2.6.4&#160;</b><br/>
<b>Dependencies&#160;</b><br/>
A&#160;hardware counter can&#160;be&#160;driven&#160;in&#160;two&#160;modes:&#160;<br/>
<b>&gt;&#160;&#160;</b>Periodical interrupt&#160;timer mode&#160;(see<a href="TechnicalReference_Oss.html#45">&#160;2.7)</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>High&#160;resolution&#160;timer&#160;mode&#160;(see<a href="TechnicalReference_Oss.html#46">&#160;2.8)</a>&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
44&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=45></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-45_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-45_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.7&#160;</b><br/>
<b>Periodical&#160;Interrupt&#160;Timer (PIT)&#160;</b><br/>
<b>2.7.1&#160;</b><br/>
<b>Description&#160;</b><br/>
The&#160;&#160;timer&#160;&#160;hardware&#160;&#160;is&#160;&#160;set&#160;&#160;up&#160;&#160;to&#160;&#160;generate&#160;&#160;timer&#160;&#160;interrupts&#160;&#160;requests&#160;&#160;in&#160;&#160;a&#160;&#160;strict&#160;&#160;periodical&#160;<br/>interval (e.g.&#160;1ms).&#160;The&#160;interval&#160;does&#160;not&#160;change&#160;during&#160;OS&#160;runtime.&#160;<br/>Within&#160;&#160;each&#160;&#160;timer&#160;&#160;ISR&#160;&#160;MICROSAR&#160;&#160;OS&#160;&#160;checks&#160;&#160;for&#160;&#160;alarm&#160;&#160;and&#160;&#160;schedule-table&#160;&#160;expirations&#160;<br/>and&#160;execute&#160;the&#160;configured&#160;OS&#160;action.&#160;<br/>
<b>2.7.2&#160;</b><br/>
<b>Activation&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Define&#160;an&#160;OsCounter of&#160;type&#160;“HARDWARE” and&#160;select&#160;the&#160;timer Hardware in&#160;<br/>
“OsDriver”.&#160;<br/>
<b>&gt;&#160;&#160;</b>Set&#160;the&#160;counter sub-attribute&#160;“OsDriverHighResolution” to&#160;FALSE.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;attribute&#160;“OsSecondsPerTick”&#160;specifies&#160;the&#160;cycle&#160;time&#160;of&#160;interrupt&#160;generation.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;attribute&#160;“OsCounterTicksPerBase” specifies&#160;the&#160;number of&#160;timer counter cycles&#160;<br/>
which&#160;are necessary&#160;to&#160;reach&#160;“OsSecondsPerTick”.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>The&#160;OS&#160;will&#160;add an&#160;appropriate&#160;ISR&#160;automatically&#160;to&#160;the&#160;configuration.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
45&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=46></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-46_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-46_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.8&#160;</b><br/>
<b>High Resolution Timer&#160;(HRT)&#160;</b><br/>
<b>2.8.1&#160;</b><br/>
<b>Description&#160;</b><br/>
The&#160;&#160;timer&#160;&#160;hardware&#160;&#160;is&#160;&#160;set&#160;&#160;up&#160;&#160;to&#160;&#160;generate&#160;&#160;one&#160;&#160;timer&#160;&#160;interrupt&#160;&#160;request&#160;&#160;when&#160;&#160;an&#160;&#160;alarm&#160;&#160;or&#160;<br/>schedule-table&#160;action&#160;shall&#160;be&#160;executed.&#160;<br/>Within&#160;each&#160;&#160;timer&#160;ISR&#160;MICROSAR&#160;OS&#160;performs&#160;&#160;that&#160;action,&#160;&#160;calculates&#160;the&#160;timer&#160;interval&#160;<br/>for the&#160;next&#160;action&#160;and&#160;reprograms the&#160;timer hardware with&#160;the&#160;new&#160;expiration&#160;time.&#160;<br/>
<b>2.8.2&#160;</b><br/>
<b>Activation&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Define&#160;an&#160;OsCounter of&#160;type&#160;“HARDWARE” and&#160;select&#160;the&#160;timer Hardware in&#160;<br/>
“OsDriver”.&#160;<br/>
<b>&gt;&#160;&#160;</b>Set&#160;the&#160;counter sub-attribute&#160;“OsDriverHighResolution” to&#160;TRUE.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;attribute&#160;“OsSecondsPerTick”&#160;specifies&#160;the&#160;cycle&#160;time&#160;of&#160;the&#160;timer counter.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;attribute&#160;“OsCounterTicksPerBase” must&#160;be&#160;set&#160;to&#160;“1”.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;attribute&#160;“OsCounterMaxAllowedValue” must&#160;be&#160;set&#160;to&#160;0x3FFFFFFF&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>The&#160;OS&#160;will&#160;add an&#160;appropriate&#160;ISR&#160;automatically&#160;to&#160;the&#160;configuration.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>2.9&#160;</b><br/>
<b>PIT&#160;versus&#160;HRT&#160;</b><br/>
<b>&#160;</b><br/>
PIT&#160;<br/>
HRT&#160;<br/>
<b>Interrupt&#160;Requests&#160;are&#160;generated&#160;…&#160;&#160;</b>&#160;&#160;Strictly&#160;periodical&#160;<br/>
&#160;On demand&#160;<br/>
<b>Precision&#160;of&#160;Alarms&#160;/&#160;Schedule-</b><br/>
&#160;Only&#160;multiples&#160;of&#160;the&#160;<br/>
&#160;Any&#160;times&#160;are&#160;possible.&#160;<br/>
<b>tables&#160;</b><br/>
attribute&#160;<br/>
With&#160;precision&#160;of&#160;the&#160;<br/>
OsSecondsPerTick&#160;are&#160;<br/>
cycle time&#160;of&#160;the&#160;used&#160;<br/>
possible&#160;for&#160;alarm&#160;/&#160;<br/>
timer&#160;hardware.&#160;<br/>
schedule-table times.&#160;<br/>
<b>Interrupt&#160;Load&#160;</b><br/>
&#160;Generates a&#160;constant&#160;<br/>
&#160;Interrupt&#160;load is&#160;not&#160;<br/>
interrupt&#160;load which&#160;is&#160;<br/>
equally&#160;distributed&#160;over&#160;<br/>
equally&#160;distributed&#160;over&#160;<br/>
runtime.&#160;<br/>
runtime.&#160;<br/>
&#160;Interrupt&#160;bursts&#160;may&#160;be&#160;<br/>
possible.&#160;<br/>
Table&#160;2-3&#160;&#160;&#160;PIT&#160;versus&#160;HRT&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
46&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=47></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-47_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.10&#160;&#160;Startup&#160;Concept&#160;</b><br/>
The&#160;&#160;following&#160;&#160;figure&#160;&#160;gives&#160;&#160;an&#160;&#160;overview&#160;&#160;of&#160;&#160;the&#160;&#160;different&#160;&#160;startup&#160;&#160;phases&#160;&#160;of&#160;&#160;the&#160;&#160;OS.&#160;&#160;It&#160;&#160;also&#160;<br/>shows which&#160;OS&#160;API&#160;functions are&#160;available&#160;in&#160;the&#160;different&#160;phases.&#160;<br/>
<b>&#160;stm&#160;API&#160;Usage&#160;before&#160;StartOS</b><br/>
Initial<br/>
<b>Startup-Phase0</b><br/>
Os_InitMemory()<br/>
Init-Step1<br/>
<b>Startup-Phase1</b><br/>
Os_Init()<br/>
Init-Step2<br/>
<b>Startup-Phases2and3</b><br/>
<b>Startup-Phase2</b><br/>
DisableAllInterrupts(),<br/>EnableAllInterrupts(),<br/>
Initial<br/>
SuspendAllInterrupts(),<br/>ResumeAllInterrupts(),<br/>SuspendOSInterrupts(),<br/>ResumeOSInterrupts(),<br/>
Os_EnterPreStartTask()<br/>
Os_CallNonTrustedFunction(),<br/>
StartCore(),&#160;GetCoreID(),<br/>
Init-Step3<br/>
CallTrustedFunction,<br/>
StartNonAutosarCore()<br/>
Os_ReadPeripheral*,<br/>Os_WritePeripheral*,<br/>Os_ModifyPeripheral*<br/>
<b>Startup-Phase3</b><br/>
StartOS()<br/>
Init-Step4<br/>
After&#160;StartOS()&#160;all&#160;API&#160;functions&#160;can&#160;be&#160;<br/>
ExitPoint<br/>
called&#160;in&#160;exactly&#160;the&#160;contexts&#160;as&#160;<br/>described&#160;in&#160;the&#160;AutosarOS&#160;standard.&#160;<br/>Mind&#160;that&#160;StartNonAutosarCore()&#160;can&#160;still&#160;<br/>be&#160;called.<br/>
&#160;<br/>
Figure&#160;2-4&#160;&#160;API&#160;functions&#160;during&#160;startup&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
47&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=48></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-48_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-48_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.11&#160;&#160;Single&#160;Core&#160;Startup&#160;</b><br/>
This chapter shows some&#160;examples&#160;how&#160;MICROSAR OS&#160;is started&#160;as single&#160;core OS.&#160;<br/>
<b>2.11.1&#160;&#160;Single&#160;Core&#160;Derivatives&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;<br/>OS&#160;single&#160;core&#160;startup&#160;on&#160;a single&#160;core&#160;derivative&#160;<br/></b>void main (void)&#160;<br/>
&#160;&#160;{&#160;<br/>
&#160; &#160;Os_InitMemory();&#160;<br/>&#160; &#160;Os_Init();&#160;<br/>&#160; &#160;StartOS(OSDEFAULTAPPMODE);&#160;<br/>}&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
48&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=49></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-49_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-49_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-49_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.11.2&#160;&#160;Multi Core&#160;Derivatives&#160;</b><br/>
<b>2.11.2.1&#160;&#160;Examples&#160;for SC1&#160;/&#160;SC2&#160;Systems&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;<br/>OS&#160;single&#160;core&#160;startup&#160;on&#160;a&#160;multi&#160;core&#160;derivative&#160;<br/></b>void main (void)&#160;<br/>
&#160;&#160;{&#160;<br/>
&#160; &#160;StatusType rv;&#160;<br/>&#160;<br/>&#160; &#160;Os_InitMemory();&#160;<br/>&#160; &#160;Os_Init();&#160;<br/>&#160;<br/>&#160; &#160;switch(GetCoreID())&#160;<br/>&#160; &#160;{&#160;<br/>&#160; &#160; &#160;&#160;case&#160;OS_CORE_ID_MASTER:&#160;<br/>&#160; &#160; &#160; &#160; &#160;StartNonAutosarCore(OS_CORE_ID_1, &amp;rv); /* call of StartNonAutosarCore is&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;optional the other core may&#160;also be&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;held in reset */&#160;<br/>&#160; &#160; &#160; &#160; &#160;StartOS(OSDEFAULTAPPMODE);&#160;<br/>&#160; &#160; &#160; &#160; &#160;break;&#160;<br/>&#160; &#160; &#160;&#160;case&#160;OS_CORE_ID_1:&#160;<br/>&#160; &#160; &#160; &#160; &#160;/* don’t call StartOS; do something else */&#160;<br/>&#160; &#160; &#160; &#160; &#160;break;&#160;<br/>&#160; &#160; &#160;&#160;default:&#160;<br/>&#160; &#160; &#160; &#160; &#160;break;&#160;<br/>&#160;&#160;&#160;}&#160;<br/>}&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>The&#160;example&#160;starts a&#160;single&#160;core OS&#160;on&#160;the&#160;master core&#160;of&#160;a&#160;multi core derivative.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>OS&#160;single&#160;core&#160;startup&#160;on&#160;a&#160;multi&#160;core&#160;derivative&#160;<br/></b>void main (void)&#160;<br/>
&#160;&#160;{&#160;<br/>
&#160; &#160;StatusType rv;&#160;<br/>&#160;<br/>&#160; &#160;Os_InitMemory();&#160;<br/>&#160; &#160;Os_Init();&#160;<br/>&#160;<br/>&#160; &#160;switch(GetCoreID())&#160;<br/>&#160; &#160;{&#160;<br/>&#160; &#160; &#160;&#160;case OS_CORE_ID_MASTER:&#160;<br/>&#160; &#160; &#160; &#160; &#160;StartCore(OS_CORE_ID_1, &amp;rv);&#160;<br/>&#160; &#160; &#160; &#160; &#160;/* don’t call StartOS; do something else */&#160;<br/>&#160; &#160; &#160; &#160; &#160;break;&#160;<br/>&#160; &#160; &#160;&#160;case OS_CORE_ID_1:&#160;<br/>&#160; &#160; &#160; &#160; &#160;StartOS(OSDEFAULTAPPMODE);&#160;<br/>&#160; &#160; &#160; &#160; &#160;break;&#160;<br/>&#160; &#160; &#160;&#160;default:&#160;<br/>&#160; &#160; &#160; &#160; &#160;break;&#160;<br/>&#160; &#160;}&#160;<br/>}&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
The&#160;example&#160;starts a&#160;single&#160;core OS&#160;on&#160;the&#160;slave&#160;core of&#160;a&#160;multi core&#160;derivative&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
49&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=50></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-50_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-50_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-50_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>2.11.2.2&#160;&#160;Examples&#160;for SC3&#160;/&#160;SC4&#160;Systems&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>The&#160;function&#160;GetCoreID&#160;requires a&#160;trap&#160;into&#160;the&#160;OS&#160;to be&#160;functional.&#160;Since&#160;the&#160;OS&#160;does&#160;<br/>
<b>&#160;&#160;</b>not&#160;initialize any&#160;trap&#160;tables on&#160;non-AUTOSAR&#160;cores&#160;GetCoreID&#160;cannot&#160;be&#160;used on&#160;<br/>
such&#160;cores.&#160;<br/>Therefore it&#160;is&#160;not&#160;possible to use&#160;the&#160;API&#160;function&#160;GetCoreID&#160;within the&#160;main&#160;function.&#160;<br/>A&#160;user&#160;function&#160;(e.g.&#160;UsrGetCoreID)&#160;is&#160;necessary&#160;which distinguishes&#160;the&#160;correct&#160;core&#160;<br/>ID.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>OS&#160;single&#160;core&#160;startup&#160;on&#160;a&#160;multi&#160;core&#160;derivative&#160;<br/></b>void main (void)&#160;<br/>
&#160;&#160;{&#160;<br/>
&#160; &#160;StatusType rv;&#160;<br/>&#160;<br/>&#160; &#160;Os_InitMemory();&#160;<br/>&#160; &#160;Os_Init();&#160;<br/>&#160;<br/>&#160; &#160;switch(UsrGetCoreID())&#160;<br/>&#160; &#160;{&#160;<br/>&#160; &#160; &#160;&#160;case&#160;0:&#160;<br/>&#160; &#160; &#160; &#160; &#160;StartNonAutosarCore(OS_CORE_ID_1, &amp;rv); /* call of StartNonAutosarCore is&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;optional the other core may also be&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;held in reset */&#160;<br/>&#160; &#160; &#160; &#160; &#160;StartOS(OSDEFAULTAPPMODE);&#160;<br/>&#160; &#160; &#160; &#160; &#160;break;&#160;<br/>&#160; &#160; &#160;&#160;case&#160;1:&#160;<br/>&#160; &#160; &#160; &#160; &#160;/* don’t call StartOS; do something else */&#160;<br/>&#160; &#160; &#160; &#160; &#160;break;&#160;<br/>&#160; &#160; &#160;&#160;default:&#160;<br/>&#160; &#160; &#160; &#160; &#160;break;&#160;<br/>&#160; &#160;}&#160;<br/>}&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
The&#160;example&#160;starts a&#160;single&#160;core OS&#160;on&#160;the&#160;master core&#160;of&#160;a&#160;multi core derivative.&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
50&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=51></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-51_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-51_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.12&#160;&#160;Multi Core&#160;Startup&#160;</b><br/>
Within&#160;a&#160;multi core system&#160;each&#160;core has the&#160;following&#160;possibilities&#160;when&#160;entering&#160;the&#160;main&#160;<br/>function:&#160;<br/>
1.&#160;&#160;Mandatory:&#160;call&#160;to&#160;Os_InitMemory&#160;and&#160;Os_Init().&#160;<br/>
2.&#160;&#160;Optional:&#160;calls to&#160;StartCore()&#160;to&#160;start&#160;additional cores&#160;under control&#160;of&#160;MICROSAR&#160;<br/>
OS.&#160;<br/>
3.&#160;&#160;Optional:&#160;calls to&#160;StartNonAutosarCore()&#160;to&#160;start&#160;additional&#160;cores&#160;which&#160;are&#160;<br/>
independent&#160;of&#160;MICROSAR OS.&#160;<br/>
4.&#160;&#160;Optional:&#160;call&#160;StartOS()&#160;to&#160;start MICROSAR&#160;OS&#160;on&#160;the&#160;core&#160;&#160;<br/>
&#160;<br/>
For a&#160;slave&#160;core&#160;this is&#160;only&#160;possible&#160;if&#160;the&#160;core&#160;once&#160;has been&#160;started&#160;with&#160;<br/>StartCore()&#160;API&#160;from&#160;another core.&#160;<br/>
&#160;<br/>
For the&#160;master core&#160;this is only&#160;possible&#160;if&#160;the&#160;core itself&#160;is configured&#160;to&#160;be&#160;<br/>an&#160;AUTOSAR&#160;core.&#160;<br/>
<b>2.12.1&#160;&#160;Example&#160;for SC1&#160;/&#160;SC2&#160;Systems&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;<br/>OS&#160;multi&#160;core&#160;startup&#160;<br/></b>void main (void)&#160;<br/>
&#160;&#160;{&#160;<br/>
&#160; &#160;StatusType rv;&#160;<br/>&#160;<br/>&#160; &#160;Os_InitMemory();&#160;<br/>&#160; &#160;Os_Init();&#160;<br/>&#160; &#160;&#160;<br/>&#160; &#160;switch(GetCoreID())&#160;<br/>&#160; &#160;{&#160;<br/>&#160; &#160; &#160;&#160;case OS_CORE_ID_MASTER:&#160;<br/>&#160; &#160; &#160; &#160; &#160;StartCore(OS_CORE_ID_1, &amp;rv);&#160;<br/>&#160; &#160; &#160; &#160; &#160;StartCore(OS_CORE_ID_2, &amp;rv);&#160;<br/>&#160; &#160; &#160; &#160; &#160;StartOS(OSDEFAULTAPPMODE);&#160;<br/>&#160; &#160; &#160; &#160; &#160;break;&#160;<br/>&#160; &#160; &#160;&#160;case &#160;OS_CORE_ID_1:&#160;<br/>&#160; &#160; &#160; &#160; &#160;StartOS(DONOTCARE);&#160;<br/>&#160; &#160; &#160; &#160; &#160;break;&#160;<br/>&#160; &#160; &#160;&#160;case &#160;OS_CORE_ID_2:&#160;<br/>&#160; &#160; &#160; &#160; &#160;StartCore(OS_CORE_ID_3, &amp;rv);&#160;<br/>&#160; &#160; &#160; &#160; &#160;StartOS(DONOTCARE);&#160;<br/>&#160; &#160; &#160; &#160; &#160;break;&#160;<br/>&#160; &#160; &#160;&#160;case &#160;OS_CORE_ID_3:&#160;<br/>&#160; &#160; &#160; &#160; &#160;StartOS(DONOTCARE);&#160;<br/>&#160; &#160; &#160; &#160; &#160;break;&#160;<br/>&#160; &#160; &#160;&#160;default:&#160;<br/>&#160; &#160; &#160; &#160; &#160;break;&#160;<br/>&#160; &#160;}&#160;<br/>}&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
The&#160;example&#160;shows a&#160;possible&#160;startup&#160;sequence&#160;for&#160;a&#160;quad&#160;core system.&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
51&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=52></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-52_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-52_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>2.12.2&#160;&#160;Examples&#160;for SC3&#160;/&#160;SC4&#160;systems&#160;</b><br/>
<b>2.12.2.1&#160;&#160;Only&#160;with&#160;AUTOSAR&#160;Cores&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;<br/>OS&#160;multi&#160;core&#160;startup&#160;<br/></b>void main (void)&#160;<br/>
&#160;&#160;{&#160;<br/>
&#160; &#160;StatusType rv;&#160;<br/>&#160;<br/>&#160; &#160;Os_InitMemory();&#160;<br/>&#160; &#160;Os_Init();&#160;<br/>&#160; &#160;&#160;<br/>&#160; &#160;switch(GetCoreID())&#160;<br/>&#160; &#160;{&#160;<br/>&#160; &#160; &#160;&#160;case OS_CORE_ID_MASTER:&#160;<br/>&#160; &#160; &#160; &#160; &#160;StartCore(OS_CORE_ID_1, &amp;rv);&#160;<br/>&#160; &#160; &#160; &#160; &#160;StartCore(OS_CORE_ID_2, &amp;rv);&#160;<br/>&#160; &#160; &#160; &#160; &#160;StartOS(OSDEFAULTAPPMODE);&#160;<br/>&#160; &#160; &#160; &#160; &#160;break;&#160;<br/>&#160; &#160; &#160;&#160;case &#160;OS_CORE_ID_1:&#160;<br/>&#160; &#160; &#160; &#160; &#160;StartOS(DONOTCARE);&#160;<br/>&#160; &#160; &#160; &#160; &#160;break;&#160;<br/>&#160; &#160; &#160;&#160;case &#160;OS_CORE_ID_2:&#160;<br/>&#160; &#160; &#160; &#160; &#160;StartCore(OS_CORE_ID_3, &amp;rv);&#160;<br/>&#160; &#160; &#160; &#160; &#160;StartOS(DONOTCARE);&#160;<br/>&#160; &#160; &#160; &#160; &#160;break;&#160;<br/>&#160; &#160; &#160;&#160;case &#160;OS_CORE_ID_3:&#160;<br/>&#160; &#160; &#160; &#160; &#160;StartOS(DONOTCARE);&#160;<br/>&#160; &#160; &#160; &#160; &#160;break;&#160;<br/>&#160; &#160; &#160;&#160;default:&#160;<br/>&#160; &#160; &#160; &#160; &#160;break;&#160;<br/>&#160; &#160;}&#160;<br/>}&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
The&#160;&#160;example&#160;&#160;shows&#160;&#160;a&#160;&#160;possible&#160;&#160;startup&#160;&#160;sequence&#160;&#160;for&#160;&#160;a&#160;&#160;quad&#160;&#160;core&#160;&#160;system.&#160;&#160;All&#160;&#160;cores&#160;&#160;are&#160;<br/>configured&#160;to&#160;be&#160;AUTOSAR cores.&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
52&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=53></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-53_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-53_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-53_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.12.2.2&#160;&#160;Mixed Core&#160;System&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>The&#160;function&#160;GetCoreID&#160;requires a&#160;trap&#160;into&#160;the&#160;OS&#160;to be&#160;functional.&#160;Since&#160;the&#160;OS&#160;does&#160;<br/>
<b>&#160;&#160;</b>not&#160;initialize any&#160;trap&#160;tables on&#160;non-AUTOSAR&#160;cores&#160;GetCoreID&#160;cannot&#160;be&#160;used on&#160;<br/>
such&#160;cores.&#160;<br/>Therefore it&#160;is&#160;not&#160;possible to use&#160;the&#160;API&#160;function&#160;GetCoreID&#160;within the&#160;main&#160;function.&#160;<br/>A&#160;user&#160;function&#160;(e.g.&#160;UsrGetCoreID)&#160;is&#160;necessary&#160;which distinguishes&#160;the&#160;correct&#160;core&#160;<br/>ID.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>OS&#160;multi&#160;core&#160;startup&#160;<br/></b>void main&#160;(void)&#160;<br/>
&#160;&#160;{&#160;<br/>
&#160; &#160;StatusType rv;&#160;<br/>&#160;<br/>&#160; &#160;Os_InitMemory();&#160;<br/>&#160; &#160;Os_Init();&#160;<br/>&#160; &#160;&#160;<br/>&#160; &#160;switch(UsrGetCoreID())&#160;<br/>&#160; &#160;{&#160;<br/>&#160; &#160; &#160;&#160;case&#160;0:&#160;<br/>&#160; &#160; &#160; &#160; &#160;StartNonAutosarCore(OS_CORE_ID_1, &amp;rv);&#160;<br/>&#160; &#160; &#160; &#160; &#160;StartCore(OS_CORE_ID_2, &amp;rv);&#160;<br/>&#160; &#160; &#160; &#160; &#160;StartOS(OSDEFAULTAPPMODE);&#160;<br/>&#160; &#160; &#160; &#160; &#160;break;&#160;<br/>&#160; &#160; &#160;&#160;case&#160;1:&#160;<br/>&#160; &#160; &#160; &#160; &#160;/* not an AUTOSAR core; do something else */&#160;<br/>&#160; &#160; &#160; &#160; &#160;break;&#160;<br/>&#160; &#160; &#160;&#160;case&#160;2:&#160;<br/>&#160; &#160; &#160; &#160; &#160;StartCore(OS_CORE_ID_3, &amp;rv);&#160;<br/>&#160; &#160; &#160; &#160; &#160;StartOS(DONOTCARE);&#160;<br/>&#160; &#160; &#160; &#160; &#160;break;&#160;<br/>&#160; &#160; &#160;&#160;case&#160;3:&#160;<br/>&#160; &#160; &#160; &#160; &#160;StartOS(DONOTCARE);&#160;<br/>&#160; &#160; &#160; &#160; &#160;break;&#160;<br/>&#160; &#160; &#160;&#160;default:&#160;<br/>&#160; &#160; &#160; &#160; &#160;break;&#160;<br/>&#160; &#160;}&#160;<br/>}&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
The&#160;example&#160;shows&#160;a&#160;possible&#160;startup&#160;sequence&#160;for&#160;a&#160;quad&#160;core&#160;system.&#160;Three&#160;cores&#160;are&#160;<br/>AUTOSAR cores&#160;and&#160;one&#160;core is&#160;a&#160;non-AUTOSAR&#160;core.&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
53&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=54></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-54_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.13&#160;&#160;Error&#160;Handling&#160;</b><br/>
MICROSAR OS&#160;is able&#160;to&#160;detect&#160;and&#160;handle&#160;the&#160;following&#160;types of&#160;errors:&#160;<br/>
<b>Application&#160;Errors&#160;…&#160;</b><br/>
&#160;Are raised&#160;if&#160;the&#160;OS&#160;could not&#160;execute a&#160;requested OS&#160;API&#160;service&#160;<br/>
correctly.&#160;Typically&#160;the&#160;OS&#160;API&#160;is&#160;used wrong&#160;(e.g.&#160;invalid object&#160;<br/>ID).&#160;<br/>
&#160;Do not&#160;corrupt&#160;the&#160;internal&#160;OS&#160;data.&#160;<br/>&#160;Will&#160;result&#160;in&#160;call&#160;of&#160;the&#160;global&#160;ErrorHook()&#160;for&#160;centralized error&#160;<br/>
handling&#160;(if&#160;configured).&#160;<br/>
&#160;Will&#160;result&#160;in&#160;call&#160;of&#160;an&#160;application specific&#160;ErrorHook (if&#160;configured).&#160;<br/>&#160;May&#160;not&#160;induce&#160;shutdown /&#160;terminate&#160;reactions.&#160;Instead&#160;the&#160;<br/>
application may&#160;continue&#160;execution&#160;by&#160;simply&#160;returning&#160;from&#160;the&#160;<br/>ErrorHooks.&#160;<br/>
<b>Protection&#160;Errors&#160;…&#160;</b><br/>
&#160;Are raised&#160;if&#160;the&#160;application violates&#160;its&#160;configured&#160;boundaries&#160;(e.g.&#160;<br/>
memory&#160;access&#160;violations,&#160;timing&#160;violations).&#160;<br/>
&#160;Do not&#160;corrupt&#160;OS&#160;internal&#160;data.&#160;<br/>&#160;Are raised&#160;upon&#160;occurrence&#160;of&#160;unhandled&#160;exceptions&#160;and&#160;<br/>
interrupts.&#160;<br/>
&#160;Will&#160;result&#160;in&#160;call&#160;of&#160;the&#160;ProtectionHook()&#160;where a&#160;shutdown or&#160;<br/>
terminate handling&#160;(with or&#160;without&#160;restart)&#160;is&#160;induced.&#160;<br/>
&#160;If&#160;Shutdown is induced&#160;the&#160;ShutdownHook()&#160;is&#160;called&#160;(if&#160;<br/>
configured).&#160;<br/>
&#160;If&#160;no&#160;ProtectionHook()&#160;is&#160;configured&#160;shutdown is induced.&#160;<br/>
<b>Kernel&#160;Errors&#160;…&#160;</b><br/>
&#160;Are raised&#160;if&#160;the&#160;OS&#160;cannot&#160;longer&#160;assume&#160;the&#160;correctness&#160;if&#160;its&#160;<br/>
internal&#160;data&#160;(e.g.&#160;memory&#160;access&#160;violation during&#160;<br/>ProtectionHook())&#160;<br/>
&#160;Will&#160;result&#160;in&#160;call&#160;of&#160;the&#160;Os_PanicHook()&#160;to inform&#160;the&#160;application.&#160;<br/>&#160;Afterwards&#160;the&#160;OS&#160;disables all&#160;interrupts&#160;and&#160;enters&#160;an&#160;infinite loop.&#160;<br/>
Table&#160;2-4&#160;&#160;&#160;Types&#160;of&#160;OS&#160;Errors&#160;<br/>
<b>2.14&#160;&#160;Error&#160;Reporting&#160;</b><br/>
MICROSAR&#160;OS&#160;supports&#160;error&#160;reporting&#160;according&#160;to&#160;the&#160;AUTOSAR&#160;[1]&#160;and&#160;OSEK&#160;OS&#160;[2]&#160;<br/>standard.&#160;<br/>This includes&#160;<br/>
<b>&gt;&#160;&#160;</b>StatusType&#160;return&#160;values of&#160;OS&#160;APIs&#160;<br/>
<b>&gt;&#160;&#160;</b>Parameter&#160;passing&#160;of&#160;error codes&#160;error to&#160;ErrorHook()&#160;<br/>
<b>&gt;&#160;&#160;</b>Service&#160;ID information&#160;provided&#160;by&#160;the&#160;macro&#160;OSErrorGetServiceId()&#160;<br/>
<b>&gt;&#160;&#160;</b>Parameter&#160;access&#160;macros&#160;(e.g.&#160;OSError_ActivateTask_TaskID())&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
54&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=55></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-55_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-55_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-55_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.14.1&#160;&#160;Extension of Service&#160;IDs&#160;<br/></b>MICROSAR OS&#160;introduces new&#160;service&#160;IDs for own&#160;services.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Reference&#160;</b><br/>
&#160;&#160;All&#160;service IDs&#160;are&#160;listed&#160;in the&#160;OS&#160;header&#160;file&#160;OsInt.h&#160;and&#160;may&#160;be&#160;looked&#160;up&#160;in&#160;the&#160;<br/>
enum&#160;data&#160;type&#160;OSServiceIdType.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>2.14.2&#160;&#160;Extension of&#160;Error&#160;Codes&#160;<br/></b>MICROSAR&#160;OS&#160;introduces&#160;new&#160;8&#160;bit&#160;error&#160;codes&#160;which&#160;extend&#160;the&#160;error&#160;codes&#160;which&#160;are&#160;<br/>already&#160;defined&#160;by&#160;AUTOSAR&#160;OS&#160;and&#160;OSEK&#160;OS&#160;standard.&#160;<br/>
<b>Type&#160;of&#160;Error&#160;</b><br/>
<b>Related&#160;Error&#160;Code&#160;</b><br/>
<b>Value&#160;</b><br/>
An internal&#160;OS&#160;buffer&#160;used&#160;for&#160;cross&#160;core&#160;<br/>
E_OS_SYS_OVERFLOW&#160;<br/>
0xF5&#160;<br/>
communication&#160;is&#160;full.&#160;<br/>A&#160;forcible termination&#160;of&#160;a&#160;kernel&#160;object&#160;has&#160;&#160;E_OS_SYS_KILL_KERNEL_OBJ&#160;<br/>
0xF6&#160;<br/>
been&#160;requested&#160;e.g.&#160;terminate&#160;system&#160;<br/>applications.&#160;<br/>An OS-Application has&#160;been terminated&#160;<br/>
E_OS_SYS_NO_RESTARTTASK&#160;<br/>
0xF7&#160;<br/>
with requested&#160;restart&#160;but&#160;no&#160;restart&#160;task&#160;<br/>has&#160;been&#160;configured.&#160;<br/>The&#160;application tries&#160;to use an&#160;API&#160;cross&#160;<br/>
E_OS_SYS_CALL_NOT_ALLOWED&#160;<br/>
0xF8&#160;<br/>
core,&#160;but&#160;the&#160;target&#160;core&#160;has&#160;not&#160;been&#160;<br/>configured&#160;for&#160;cross&#160;core&#160;API&#160;<br/>The&#160;triggered&#160;cross&#160;core&#160;function&#160;is&#160;not&#160;<br/>
E_OS_SYS_FUNCTION_UNAVAILABLE&#160;&#160;0xF9&#160;<br/>
available on&#160;the&#160;target&#160;core.&#160;<br/>A&#160;syscall&#160;instruction&#160;has&#160;been&#160;executed&#160;<br/>
E_OS_SYS_PROTECTION_SYSCALL&#160;&#160;0xFA&#160;<br/>
with an&#160;invalid syscall&#160;number.&#160;<br/>An unhandled&#160;interrupt&#160;occurred.&#160;<br/>
E_OS_SYS_PROTECTION_IRQ&#160;<br/>
0xFB&#160;<br/>
The&#160;interrupt&#160;handling&#160;API&#160;is&#160;used&#160;wrong.&#160;<br/>
E_OS_SYS_API_ERROR&#160;<br/>
0xFC&#160;<br/>
Internal&#160;OS&#160;assertion&#160;(not&#160;issued&#160;to&#160;<br/>
E_OS_SYS_ASSERTION&#160;<br/>
0xFD&#160;<br/>
customer).&#160;<br/>A&#160;system&#160;timer&#160;ISR&#160;was&#160;delayed&#160;too&#160;long.&#160;<br/>
E_OS_SYS_OVERLOAD&#160;<br/>
0xFE&#160;<br/>
Table&#160;2-5&#160;&#160;&#160;Extension&#160;of&#160;Error&#160;Codes&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Reference&#160;</b><br/>
&#160;&#160;All&#160;error&#160;codes&#160;and&#160;their&#160;values&#160;can&#160;be&#160;looked&#160;up&#160;in the&#160;header&#160;file&#160;OsInt.h&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
55&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=56></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-56_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-56_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-56_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.14.3&#160;&#160;Detailed&#160;Error&#160;Codes&#160;<br/></b>MICROSAR&#160;&#160;OS&#160;&#160;provides&#160;&#160;detailed&#160;&#160;error&#160;&#160;code&#160;&#160;to&#160;&#160;extend&#160;&#160;the&#160;&#160;standard&#160;&#160;error&#160;&#160;handling&#160;&#160;of&#160;<br/>AUTOSAR&#160;to&#160;uniquely&#160;identify&#160;each&#160;possible&#160;OS&#160;error.&#160;<br/>The&#160;detailed&#160;error&#160;code&#160;is&#160;assembled&#160;from&#160;AUTOSAR&#160;StatusType&#160;error&#160;code&#160;and&#160;unique&#160;<br/>error code.&#160;<br/>
0x&#160;XXXXXX<br/>
YY<br/>
MICROSAR OS<br/>
Error&#160;code&#160;extension<br/>
Autosar&#160;StatusType&#160;&#160;<br/>
Figure&#160;2-5&#160;&#160;MICROSAR&#160;OS&#160;Detailed&#160;Error&#160;Code&#160;<br/>
Within&#160;OS&#160;Hook&#160;routines&#160;the&#160;error&#160;code&#160;can&#160;be&#160;obtained&#160;by&#160;calling&#160;Os_GetDetailedError()&#160;<br/>(see<a href="TechnicalReference_Oss.html#160">&#160;5.5.1&#160;</a>for details).&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>Vector&#160;OS&#160;experts&#160;always&#160;asks&#160;about&#160;the&#160;detailed&#160;error&#160;codes when supporting&#160;<br/>
&#160;&#160;customers&#160;in case&#160;of&#160;OS&#160;errors.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Reference&#160;</b><br/>
&#160;&#160;The&#160;detailed&#160;error&#160;codes&#160;are&#160;listed&#160;in the&#160;file&#160;OsInt.h&#160;and&#160;may&#160;be&#160;looked up&#160;in&#160;the&#160;<br/>
enum&#160;data&#160;type&#160;Os_StatusType.&#160;<br/>Each&#160;detailed&#160;error&#160;code&#160;is&#160;preceded&#160;by&#160;a descriptive comment.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
56&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=57></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-57_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.15&#160;&#160;Multi Core&#160;Concepts&#160;</b><br/>
<b>2.15.1&#160;&#160;Scheduling&#160;and Dispatching&#160;<br/></b>MICROSAR OS&#160;implements&#160;independent&#160;schedulers and&#160;dispatchers&#160;for each&#160;core.&#160;<br/>
<b>2.15.2&#160;&#160;Multi Core&#160;Data Concepts&#160;<br/></b>The&#160;multi&#160;core&#160;data&#160;concept&#160;of&#160;MICROSAR&#160;OS&#160;tries&#160;to&#160;avoid&#160;concurrent&#160;writing&#160;accesses&#160;<br/>between&#160;cores.&#160;<br/>Although&#160;&#160;cores&#160;&#160;may&#160;&#160;read&#160;&#160;all&#160;&#160;OS&#160;&#160;data&#160;&#160;of&#160;&#160;all&#160;&#160;cores,&#160;&#160;write&#160;&#160;accesses&#160;&#160;to&#160;&#160;OS&#160;&#160;data&#160;&#160;are&#160;&#160;only&#160;<br/>performed&#160;locally&#160;from&#160;the&#160;owning&#160;core.&#160;<br/>This&#160;data&#160;concept&#160;allows optimized&#160;linking:&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;data&#160;of&#160;a&#160;particular core&#160;may&#160;be&#160;linked&#160;into&#160;fast&#160;accessible&#160;memory&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;data&#160;of&#160;a&#160;particular core&#160;may&#160;be&#160;linked&#160;into&#160;cached&#160;memory&#160;<br/>
Only&#160;the&#160;variables&#160;related&#160;to&#160;spinlocks have&#160;to&#160;be&#160;linked&#160;into&#160;global&#160;memory&#160;which&#160;must&#160;be&#160;<br/>accessible&#160;by&#160;all&#160;participating&#160;cores.&#160;<br/>
<b>2.15.3&#160;&#160;X-Signals&#160;<br/></b>To&#160;realize&#160;cross&#160;core&#160;service&#160;APIs&#160;MICROSAR&#160;OS&#160;offers&#160;the&#160;X-Signal&#160;concept&#160;(see<a href="TechnicalReference_Oss.html#86">&#160;3.7&#160;</a>for&#160;<br/>details).&#160;<br/>
<b>2.15.4&#160;&#160;Master&#160;/&#160;Slave&#160;Core&#160;<br/></b>In&#160;a&#160;real&#160;master&#160;/&#160;slave&#160;multi&#160;core&#160;architecture&#160;only&#160;one&#160;core&#160;is&#160;started&#160;upon&#160;reset.&#160;This&#160;is&#160;<br/>the&#160;master&#160;core.&#160;All&#160;other&#160;cores&#160;are&#160;held&#160;in&#160;a&#160;reset&#160;state&#160;and&#160;must&#160;be&#160;explicitly&#160;started&#160;by&#160;<br/>the&#160;master core.&#160;These&#160;are slave&#160;cores.&#160;<br/>There&#160;&#160;are&#160;&#160;also&#160;&#160;multi&#160;&#160;core&#160;&#160;systems&#160;&#160;which&#160;&#160;starts&#160;&#160;all&#160;&#160;cores&#160;&#160;simultaneously.&#160;&#160;There&#160;&#160;is&#160;&#160;no&#160;<br/>hardware master / slave&#160;classification.&#160;<br/>MICROSAR&#160;OS&#160;is&#160;capable&#160;to&#160;deal&#160;with&#160;&#160;both&#160;concepts.&#160;&#160;In&#160;a&#160;system&#160;with&#160;equal&#160;cores&#160;the&#160;<br/>OS&#160;emulates&#160;master /&#160;slave&#160;behavior according&#160;to&#160;the&#160;core&#160;configurations.&#160;<br/>
<b>2.15.5&#160;&#160;Startup&#160;of a&#160;Multi&#160;Core&#160;System&#160;<br/></b>The&#160;startup&#160;of&#160;a&#160;multi core system&#160;is&#160;described&#160;in&#160;detail&#160;in<a href="TechnicalReference_Oss.html#51">&#160;2.12.</a>&#160;<br/>MICROSAR&#160;OS&#160;offers&#160;the&#160;possibility&#160;to&#160;configure&#160;a&#160;startup&#160;symbol&#160;for&#160;each&#160;core.&#160;Within&#160;a&#160;<br/>real master / slave&#160;system&#160;the&#160;OS&#160;needs this information&#160;for starting&#160;the&#160;slave&#160;cores.&#160;<br/>
<b>2.15.6&#160;&#160;Spinlocks&#160;<br/></b>Synchronization&#160;of&#160;cores is done&#160;by&#160;<br/>
<b>&gt;&#160;&#160;</b>OS&#160;Spinlocks&#160;(see&#160;[1])&#160;or&#160;<br/>
<b>&gt;&#160;&#160;</b>Optimized&#160;spinlocks&#160;(see<a href="TechnicalReference_Oss.html#78">&#160;3.1)</a>&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
57&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=58></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-58_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.15.7&#160;&#160;Cache&#160;<br/></b>Due&#160;to&#160;cache&#160;coherency&#160;problems&#160;spinlock&#160;variables&#160;and&#160;other&#160;application&#160;variables&#160;which&#160;<br/>are shared&#160;among&#160;cores must&#160;not&#160;be&#160;cached.&#160;<br/>
<b>2.15.8&#160;&#160;Shutdown&#160;</b><br/>
<b>2.15.8.1&#160;&#160;Shutdown of one&#160;Core&#160;<br/></b>If&#160;ShutdownOS()&#160;is called&#160;on&#160;one&#160;core,&#160;it&#160;induces&#160;shutdown&#160;actions.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;core&#160;terminates all&#160;its applications&#160;<br/>
<b>&gt;&#160;&#160;</b>Application&#160;specific&#160;ShutdownHooks&#160;are called&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;global&#160;ShutdownHook()&#160;is called&#160;<br/>
<b>&gt;&#160;&#160;</b>Interrupts&#160;are&#160;disabled&#160;<br/>
<b>&gt;&#160;&#160;</b>An&#160;endless&#160;loop&#160;is entered&#160;<br/>
<b>2.15.8.2&#160;&#160;Shutdown of all&#160;Cores&#160;<br/></b>Upon&#160;&#160;call&#160;&#160;to&#160;&#160;ShutdownAllCores()&#160;&#160;synchronized&#160;&#160;shutdown&#160;&#160;of&#160;&#160;the&#160;&#160;system&#160;&#160;is&#160;&#160;invoked.&#160;&#160;An&#160;<br/>asynchronous&#160;X-Signal is used&#160;for this&#160;purpose.&#160;<br/>Synchronized&#160;shutdown&#160;is described&#160;in&#160;[1].&#160;<br/>
&#160;<br/>
<b>2.15.8.3&#160;&#160;Shutdown during Protection Violation&#160;<br/></b>If&#160;&#160;the&#160;&#160;ProtectionHook()&#160;&#160;returns&#160;&#160;with&#160;&#160;“PRO_SHUTDOWN”&#160;&#160;a&#160;&#160;shutdown&#160;&#160;of&#160;&#160;all&#160;&#160;cores&#160;&#160;is&#160;<br/>invoked.&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
58&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=59></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-59_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-59_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.16&#160;&#160;Debugging Concepts&#160;</b><br/>
<b>2.16.1&#160;&#160;Description&#160;<br/></b>MICROSAR OS&#160;offers&#160;two&#160;software utilities&#160;to&#160;support OS&#160;debugging.&#160;<br/>
<b>ORTI&#160;</b><br/>
MICROSAR&#160;OS&#160;generates an&#160;ORTI&#160;debug&#160;file&#160;(<b>O</b>SEK&#160;<b>R</b>un<b>T</b>ime&#160;<br/><b>I</b>nterface).&#160;Many&#160;debuggers&#160;are capable&#160;of&#160;loading&#160;such&#160;ORTI&#160;files&#160;<br/>and provide&#160;comfortable&#160;debug means&#160;based&#160;upon the&#160;OS&#160;<br/>configuration.&#160;<br/>See&#160;chapter<a href="TechnicalReference_Oss.html#60">&#160;2.16.3&#160;</a>for&#160;details&#160;<br/>
<b>TimingHooks&#160;</b><br/>
MICROSAR&#160;OS&#160;provides&#160;macros&#160;which may&#160;be&#160;used&#160;for&#160;debugging&#160;<br/>purposes&#160;(also suitable&#160;for&#160;third party&#160;tools).&#160;See&#160;chapter<a href="TechnicalReference_Oss.html#90">&#160;3.8&#160;</a>for&#160;<br/>details.&#160;<br/>
&#160;<br/>
<b>2.16.2&#160;&#160;Activation&#160;<br/></b>ORTI&#160;and&#160;TimingHooks&#160;may&#160;be&#160;switched&#160;on&#160;within&#160;the&#160;OsDebug&#160;container.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>There is an&#160;additional&#160;switch within the&#160;“OsDebug”&#160;container.&#160;It&#160;enables&#160;OS&#160;assertions.&#160;<br/>
&#160;&#160;They&#160;are&#160;intended&#160;for&#160;OS&#160;internal&#160;test&#160;purposes.&#160;If&#160;activated&#160;the&#160;OS&#160;performs&#160;additional&#160;<br/>
runtime&#160;checks&#160;on&#160;its&#160;own&#160;internal&#160;states.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
59&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=60></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-60_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-60_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-60_3.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-60_4.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.16.3&#160;&#160;ORTI&#160;Debugging&#160;<br/></b>ORTI&#160;is&#160;the&#160;abbreviation&#160;of&#160;“OSEK&#160;Runtime&#160;Interface”.&#160;<br/>
When&#160;ORTI&#160;debugging&#160;is&#160;activated&#160;MICROSAR&#160;OS&#160;generates&#160;additional&#160;files&#160;with&#160;“.ort”&#160;<br/>extension.&#160;&#160;These&#160;&#160;files&#160;&#160;contain&#160;&#160;information&#160;&#160;about&#160;&#160;the&#160;&#160;whole&#160;&#160;OS&#160;&#160;configuration.&#160;&#160;They&#160;&#160;are&#160;<br/>intended&#160;to&#160;be&#160;read&#160;by&#160;a&#160;debugger.&#160;<br/>The&#160;&#160;debugger&#160;&#160;uses&#160;&#160;the&#160;&#160;information&#160;&#160;from&#160;&#160;the&#160;&#160;ORTI&#160;&#160;files&#160;&#160;to&#160;&#160;display&#160;&#160;static&#160;&#160;and&#160;&#160;runtime&#160;<br/>information&#160;about&#160;OS&#160;objects&#160;e.g.&#160;task&#160;states.&#160;<br/>ORTI&#160;versions supported&#160;by&#160;MICROSAR OS:&#160;<br/>
<b>ORTI&#160;2.2&#160;</b><br/>
As&#160;described&#160;in the&#160;OSEK&#160;standard&#160;[3]&#160;and&#160;[4]&#160;<br/>
<b>ORTI&#160;2.3&#160;</b><br/>
Unofficial&#160;“Standard”&#160;based&#160;upon&#160;ORTI&#160;2.2.&#160;It&#160;does&#160;contain&#160;extensions&#160;<br/>for&#160;multi&#160;core&#160;OS&#160;and was proposed&#160;by&#160;“Lauterbach Development&#160;<br/>Tools”&#160;(described&#160;in [5]).&#160;<br/>
&#160;<br/>
Both&#160;ORTI&#160;versions are&#160;capable&#160;to&#160;be&#160;used&#160;within&#160;single&#160;core and&#160;multi core&#160;systems.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;for&#160;ORTI&#160;2.2&#160;multi&#160;core&#160;debugging&#160;</b><br/>
&#160;&#160;For&#160;each&#160;configured&#160;AUTOSAR&#160;core&#160;there&#160;is&#160;one&#160;separate&#160;ORTI&#160;file.&#160;<br/>
For&#160;multi&#160;core debugging,&#160;the&#160;debugger&#160;software&#160;must&#160;be&#160;capable to&#160;read&#160;several&#160;<br/>ORTI&#160;files.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;for&#160;ORTI&#160;2.3&#160;multi&#160;core&#160;debugging&#160;</b><br/>
&#160;&#160;The&#160;debug&#160;information&#160;for&#160;all&#160;configured&#160;cores&#160;is&#160;aggregated&#160;in one&#160;file.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;</b><br/>
&#160;&#160;Basically&#160;debuggers&#160;are&#160;capable to display&#160;the&#160;stack consumption&#160;for&#160;each stack&#160;<br/>
(OsStackUsageMeasurement&#160;must&#160;be&#160;switched on).&#160;<br/>Please note&#160;that&#160;uninitialized&#160;OS&#160;stacks&#160;may&#160;show&#160;100%&#160;stack&#160;usage&#160;within ORTI&#160;<br/>debugging.&#160;Reliable information&#160;can&#160;only&#160;be&#160;given&#160;after&#160;the&#160;OS&#160;has&#160;initialized&#160;all&#160;<br/>stacks.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
60&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=61></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-61_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-61_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-61_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;</b><br/>
<b>&#160;&#160;</b>MESSAGE&#160;objects&#160;and&#160;CONTEXT&#160;information specified&#160;by&#160;ORTI&#160;2.2&#160;Standard&#160;are not&#160;<br/>
supported&#160;in MICROSAR&#160;OS.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;</b><br/>
<b>&#160;&#160;</b>Due&#160;to performance&#160;reasons&#160;the&#160;following&#160;OS&#160;services are not&#160;traced&#160;by&#160;ORTI&#160;service&#160;<br/>
tracing:&#160;<br/>
<b>&gt;&#160;&#160;</b>GetSpinlock&#160;(for&#160;optimized&#160;spinlocks)&#160;<br/>
<b>&gt;&#160;&#160;</b>TryToGetSpinlock&#160;(for&#160;optimized&#160;spinlocks)&#160;<br/>
<b>&gt;&#160;&#160;</b>ReleaseSpinlock&#160;(for&#160;optimized&#160;spinlocks)&#160;<br/>
<b>&gt;&#160;&#160;</b>IOC&#160;<br/>
<b>&gt;&#160;&#160;</b>Os_GetVersionInfo&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
61&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=62></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-62_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.17&#160;&#160;Memory&#160;Protection&#160;</b><br/>
MICROSAR&#160;OS&#160;uses&#160;memory&#160;protection&#160;facilities&#160;of&#160;a&#160;processor&#160;to&#160;achieve&#160;freedom&#160;from&#160;<br/>interference&#160;between&#160;OS&#160;applications&#160;and&#160;cores.&#160;For&#160;this&#160;purpose&#160;it&#160;may&#160;use&#160;the&#160;system&#160;<br/>MPU and&#160;the&#160;core MPUs.&#160;<br/>
<b>2.17.1&#160;&#160;Usage&#160;of&#160;the&#160;System&#160;MPU&#160;<br/></b>In&#160;&#160;multi&#160;&#160;core&#160;&#160;systems&#160;&#160;whereas&#160;&#160;the&#160;&#160;cores&#160;&#160;have&#160;&#160;different&#160;&#160;levels&#160;&#160;of&#160;&#160;diagnostic&#160;&#160;coverage&#160;&#160;it&#160;<br/>may&#160;&#160;be&#160;&#160;necessary&#160;&#160;to&#160;&#160;use&#160;&#160;a&#160;&#160;system&#160;&#160;MPU&#160;&#160;to&#160;&#160;achieve&#160;&#160;freedom&#160;&#160;of&#160;&#160;interference&#160;&#160;between&#160;<br/>cores.&#160;<br/>A&#160;&#160;system&#160;&#160;MPU&#160;&#160;allows&#160;&#160;configuring&#160;&#160;access&#160;&#160;rights&#160;&#160;for&#160;&#160;cores&#160;&#160;to&#160;&#160;access&#160;&#160;specific&#160;&#160;memory&#160;<br/>ranges.&#160;<br/>The&#160;&#160;system&#160;&#160;MPU&#160;&#160;is&#160;&#160;only&#160;&#160;initialized&#160;&#160;once&#160;&#160;during&#160;&#160;startup&#160;&#160;of&#160;&#160;the&#160;&#160;OS.&#160;&#160;It&#160;&#160;is&#160;&#160;never&#160;<br/>reprogrammed&#160;during&#160;runtime.&#160;<br/>With&#160;&#160;a&#160;&#160;system&#160;&#160;MPU&#160;&#160;other&#160;&#160;potential&#160;&#160;bus&#160;&#160;masters&#160;&#160;(DMA,&#160;&#160;FlexRay)&#160;&#160;can&#160;&#160;be&#160;&#160;isolated&#160;&#160;to&#160;<br/>achieve&#160;freedom&#160;from&#160;interference.&#160;<br/>This is&#160;done&#160;with&#160;the&#160;following&#160;steps:&#160;<br/>
<b>Step&#160;</b><br/>
Toolchain phase&#160;<br/>
<b>Set&#160;up&#160;a&#160;SC3 system&#160;</b><br/>
<b>Configure&#160;memory&#160;regions&#160;</b><br/>
Configuration of&#160;OS&#160;<br/>
<b>Assign the&#160;memory&#160;region&#160;to&#160;the&#160;system&#160;MPU&#160;</b><br/>
&#160;<br/>
<b>2.17.2&#160;&#160;Usage&#160;of&#160;the&#160;Core&#160;MPUs&#160;<br/></b>The&#160;&#160;core&#160;&#160;MPUs&#160;&#160;are&#160;&#160;used&#160;&#160;to&#160;&#160;achieve&#160;&#160;freedom&#160;&#160;from&#160;&#160;interference&#160;&#160;between&#160;&#160;applications&#160;&#160;/&#160;<br/>tasks&#160;/&#160;ISRs&#160;on&#160;the&#160;same&#160;core.&#160;The&#160;basic&#160;concept&#160;is&#160;that&#160;access&#160;rights&#160;&#160;of&#160;these&#160;runtime&#160;<br/>entities&#160;(read/write/executable)&#160;have&#160;to&#160;be&#160;granted&#160;explicitly&#160;to&#160;software parts.&#160;<br/>This is&#160;done&#160;with&#160;the&#160;following&#160;steps:&#160;<br/>
<b>Step&#160;</b><br/>
Toolchain phase&#160;<br/>
<b>Set&#160;up&#160;a&#160;SC3 system&#160;</b><br/>
<b>Configure&#160;memory&#160;regions&#160;</b><br/>
Configuration of&#160;OS&#160;<br/>
<b>Assign the&#160;memory&#160;region&#160;to a&#160;core&#160;MPU&#160;</b><br/>
<b>Assign the&#160;memory&#160;regions&#160;to&#160;OS&#160;applications&#160;/&#160;Tasks&#160;/&#160;ISRs&#160;<br/>(optional)&#160;</b><br/>
<b>Use&#160;the&#160;AUTOSAR&#160;MemMap&#160;mechanism&#160;to&#160;place code,&#160;constants and&#160;</b><br/>
Compilation&#160;<br/>
<b>variables&#160;into&#160;appropriate&#160;sections&#160;(see<a href="TechnicalReference_Oss.html#120">&#160;4.3.1.1)</a></b><b>&#160;</b><br/>
<b>Use&#160;OS&#160;generated&#160;linker&#160;command&#160;files&#160;to&#160;locate&#160;the&#160;sections&#160;into&#160;</b><br/>
Linkage&#160;<br/>
<b>memory&#160;(se<a href="TechnicalReference_Oss.html#130">e&#160;4.3.2)</a></b><b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
62&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=63></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-63_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-63_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-63_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.17.3&#160;&#160;Configuration&#160;Aspects&#160;<br/></b>A&#160;memory&#160;region&#160;is typically&#160;configured&#160;by&#160;<br/>
<b>&gt;&#160;&#160;</b>Specify&#160;a&#160;start&#160;and&#160;end&#160;address&#160;by&#160;number,&#160;or&#160;by&#160;linker labels&#160;(see<a href="TechnicalReference_Oss.html#139">&#160;4.3.3&#160;</a>for OS&#160;<br/>
generated&#160;section&#160;labels)&#160;<br/>
<b>&gt;&#160;&#160;</b>Specify&#160;access rights&#160;to&#160;this region&#160;(a&#160;pre-defined&#160;set&#160;of&#160;access rights&#160;is referable)&#160;<br/>
<b>&gt;&#160;&#160;</b>Specify&#160;the&#160;validity&#160;of&#160;the&#160;region&#160;by&#160;ID (e.g.&#160;PID /&#160;ASID /&#160;Protection&#160;Set)&#160;<br/>
<b>&gt;&#160;&#160;</b>Specify&#160;to&#160;which&#160;memory&#160;protection&#160;unit&#160;the&#160;region&#160;belongs (e.g.&#160;Core MPU /&#160;System&#160;<br/>
MPU)&#160;<br/>
<b>&gt;&#160;&#160;</b>Specify&#160;the&#160;owner of&#160;the&#160;region&#160;<br/>
The&#160;owner&#160;of&#160;the&#160;memory&#160;region&#160;distinguishes&#160;the&#160;runtime&#160;behavior&#160;of&#160;the&#160;hardware&#160;MPU&#160;<br/>regions&#160;(whether the&#160;region&#160;is static&#160;or dynamic).&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>The&#160;start&#160;and end&#160;addresses of&#160;configured&#160;memory&#160;region&#160;should always&#160;be&#160;a&#160;multiple&#160;<br/>
&#160;&#160;of&#160;the&#160;granularity&#160;of&#160;the&#160;hardware&#160;MPU.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>The&#160;number&#160;of&#160;available hardware&#160;MPU&#160;regions&#160;is&#160;limited&#160;by&#160;hardware!&#160;<br/>
&#160;&#160;MICROSAR&#160;OS&#160;checks&#160;during&#160;code&#160;generation&#160;that&#160;the&#160;overall&#160;number&#160;of&#160;configured&#160;<br/>
memory&#160;regions&#160;does&#160;not&#160;exceed&#160;the&#160;number&#160;of&#160;available hardware&#160;MPU&#160;regions.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>2.17.3.1&#160;&#160;Static&#160;MPU Regions&#160;<br/></b>If&#160;no&#160;owner&#160;is&#160;specified,&#160;MICROSAR&#160;OS&#160;initializes&#160;a&#160;hardware&#160;MPU&#160;region&#160;to&#160;be&#160;static.&#160;It&#160;<br/>is never&#160;reprogrammed&#160;during&#160;runtime&#160;of&#160;the&#160;OS.&#160;It&#160;is valid&#160;for all software parts.&#160;<br/>
<b>2.17.3.2&#160;&#160;Dynamic&#160;MPU Regions&#160;<br/></b>If&#160;an&#160;owner&#160;is&#160;specified&#160;for&#160;a&#160;memory&#160;region&#160;MICROSAR&#160;OS&#160;initializes&#160;a&#160;hardware&#160;MPU&#160;<br/>region&#160;&#160;to&#160;&#160;be&#160;&#160;dynamically&#160;&#160;reprogrammed&#160;&#160;during&#160;&#160;OS&#160;&#160;runtime.&#160;Whenever&#160;&#160;the&#160;&#160;owner&#160;&#160;of&#160;&#160;the&#160;<br/>memory&#160;is&#160;active&#160;during&#160;runtime&#160;a&#160;specific&#160;hardware&#160;MPU&#160;region&#160;is&#160;programmed&#160;with&#160;the&#160;<br/>configured&#160;values&#160;of&#160;the&#160;memory&#160;region.&#160;<br/>Memory&#160;regions which&#160;are assigned&#160;to&#160;an&#160;OS&#160;application&#160;are&#160;reprogrammed&#160;whenever the&#160;<br/>OS&#160;application&#160;is switched.&#160;<br/>Memory&#160;regions&#160;which&#160;are&#160;assigned&#160;to&#160;tasks&#160;or&#160;ISRs&#160;are&#160;reprogrammed&#160;with&#160;each&#160;thread&#160;<br/>switch.&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
63&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=64></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-64_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.17.3.3&#160;&#160;Freedom from Interference&#160;<br/></b>MICROSAR&#160;&#160;OS&#160;&#160;is&#160;&#160;able&#160;&#160;to&#160;&#160;encapsulate&#160;&#160;OS&#160;&#160;application&#160;&#160;data,&#160;&#160;task&#160;&#160;private&#160;&#160;data&#160;&#160;and&#160;&#160;ISR&#160;<br/>private&#160;data.&#160;This does&#160;also&#160;depend&#160;on&#160;the&#160;owner of&#160;the&#160;memory&#160;region.&#160;<br/>
<b>Memory&#160;Region&#160;Owner&#160;</b><br/>
<b>Access&#160;Granted To&#160;</b><br/>
<b>Access&#160;Denied&#160;For&#160;</b><br/>
OS&#160;application&#160;<br/>
Runtime objects&#160;of&#160;this&#160;OS&#160;<br/>
<b>&gt;&#160;&#160;</b>Other&#160;non-trusted&#160;OS&#160;<br/>
application&#160;<br/>
applications and&#160;its&#160;<br/>
<b>&gt;&#160;&#160;</b>Tasks&#160;<br/>
applications objects&#160;<br/>
<b>&gt;&#160;&#160;</b>ISRs&#160;<br/>
<b>&gt;&#160;&#160;</b>IOC&#160;callbacks&#160;<br/>
<b>&gt;&#160;&#160;</b>Non-trusted&#160;functions&#160;<br/>
<b>&gt;&#160;&#160;</b>Application specific&#160;hooks&#160;<br/>
Task&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;owning&#160;task&#160;<br/>
<b>&gt;&#160;&#160;</b>Other&#160;non-trusted&#160;OS&#160;<br/>
applications and&#160;its&#160;<br/>
ISR&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;owning&#160;ISR&#160;<br/>
applications objects&#160;<br/>
<b>&gt;&#160;&#160;</b>Other&#160;runtime objects&#160;of&#160;the&#160;<br/>
belonging&#160;OS&#160;application&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
64&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=65></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-65_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-65_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-65_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.17.4&#160;&#160;Stack&#160;Monitoring&#160;<br/></b>MICROSAR&#160;OS&#160;uses&#160;one&#160;memory&#160;region&#160;of&#160;the&#160;MPU&#160;to&#160;supervise&#160;the&#160;current&#160;stack.&#160;This&#160;<br/>is the&#160;default&#160;handling&#160;in&#160;SC3&#160;and&#160;SC4&#160;systems.&#160;See<a href="TechnicalReference_Oss.html#34">&#160;2.3.5&#160;</a>for details.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>Memory&#160;regions&#160;must&#160;not&#160;be&#160;configured&#160;to allow&#160;write access&#160;into&#160;any&#160;stack&#160;regions.&#160;<br/>
<b>&#160;&#160;</b>Otherwise the&#160;OS&#160;cannot&#160;ensure stack&#160;data&#160;integrity.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>2.17.5&#160;&#160;Protection Violation&#160;Handling&#160;<br/></b>Upon&#160;any&#160;memory&#160;protection&#160;violation&#160;the&#160;OS&#160;<br/>
<b>&gt;&#160;&#160;</b>Switches to&#160;the&#160;kernel&#160;stack&#160;<br/>
<b>&gt;&#160;&#160;</b>Informs the&#160;application&#160;by&#160;execution&#160;of&#160;the&#160;ProtectionHook()&#160;<br/>
<b>2.17.6&#160;&#160;Optimized&#160;/&#160;Fast&#160;Core&#160;MPU Handling&#160;<br/></b>If&#160;the&#160;number&#160;of&#160;application&#160;/&#160;task&#160;/&#160;ISR&#160;specific&#160;memory&#160;regions&#160;is&#160;small,&#160;MICROSAR&#160;OS&#160;<br/>may&#160;have&#160;the&#160;possibility&#160;to&#160;initialize&#160;the&#160;MPU&#160;entirely&#160;with&#160;static MPU regions.&#160;<br/>By&#160;&#160;utilize&#160;&#160;memory&#160;&#160;protection&#160;&#160;identifiers&#160;&#160;different&#160;&#160;access&#160;&#160;rights&#160;&#160;may&#160;&#160;still&#160;&#160;be&#160;&#160;achieved&#160;<br/>between&#160;different&#160;applications.&#160;<br/>MICROSAR&#160;OS&#160;&#160;switches&#160;&#160;access&#160;rights&#160;&#160;by&#160;simply&#160;switching&#160;the&#160;&#160;protection&#160;&#160;identifier.&#160;This&#160;<br/>will&#160;result in&#160;a&#160;very&#160;fast&#160;MPU handling.&#160;<br/>
<b>&gt;&#160;&#160;</b>Configure only&#160;memory&#160;regions which&#160;are static (no&#160;owner is assigned).&#160;<br/>
<b>&gt;&#160;&#160;</b>Use&#160;“OsMemoryRegionIdentifier”&#160;to&#160;assign&#160;a&#160;protection&#160;identifier to&#160;that&#160;region.&#160;<br/>
<b>&gt;&#160;&#160;</b>Assign&#160;either&#160;OS&#160;applications&#160;or&#160;Tasks and&#160;ISRs to&#160;use&#160;a&#160;specific&#160;protection&#160;identifier&#160;<br/>
(OsAppMemoryProtectionIdentifier,&#160;OsTaskMemoryProtectionIdentifier,&#160;<br/>OsIsrMemoryProtectionIdentifier)&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>Depending&#160;on&#160;the&#160;used&#160;platform&#160;protection&#160;identifiers&#160;are also&#160;referred&#160;as&#160;PID&#160;(MPC),&#160;<br/>
&#160;&#160;ASID&#160;(RH850)&#160;or&#160;protection&#160;sets&#160;(TriCore).&#160;But&#160;the basic&#160;technique&#160;is&#160;the&#160;same.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
65&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=66></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-66_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.17.7&#160;&#160;Recommended&#160;Configuration&#160;<br/></b>MICROSAR OS&#160;offers&#160;a&#160;recommended&#160;MPU&#160;configuration&#160;which&#160;contains&#160;a&#160;basic setup.&#160;<br/>It&#160;configures&#160;the&#160;MPU&#160;to&#160;achieve&#160;the&#160;access rights&#160;as&#160;follows&#160;<br/>
<b>Access&#160;Rights&#160;</b><br/>
Trusted&#160;Software&#160;<br/>
Non-Trusted&#160;Software&#160;<br/>
Executable rights&#160;to&#160;whole&#160;memory&#160;<br/>
<b>X&#160;</b><br/>
<b>X&#160;</b><br/>
Read&#160;access&#160;to&#160;whole&#160;RAM /&#160;ROM&#160;<br/>
<b>X&#160;</b><br/>
<b>X&#160;</b><br/>
Write&#160;access&#160;to&#160;whole RAM&#160;(except&#160;<br/>
<b>X&#160;</b><br/>
<b>-&#160;</b><br/>
stack&#160;regions)&#160;<br/>
Read&#160;/&#160;Write&#160;access&#160;to&#160;peripheral&#160;<br/>
<b>X&#160;</b><br/>
<b>-&#160;</b><br/>
registers&#160;<br/>
Read&#160;/&#160;Write&#160;access&#160;to&#160;global&#160;shared&#160;<br/>
<b>X&#160;</b><br/>
<b>X&#160;</b><br/>
memory&#160;<br/>
Write&#160;access&#160;to&#160;current active stack&#160;<br/>
<b>X&#160;</b><br/>
<b>X&#160;</b><br/>
Table&#160;2-6&#160;&#160;&#160;Recommended&#160;Configuration&#160;MPU&#160;Access&#160;Rights&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
66&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=67></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-67_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-67_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>2.18&#160;&#160;Memory&#160;Access&#160;Checks&#160;</b><br/>
<b>2.18.1&#160;&#160;Description&#160;<br/></b>AUTOSAR&#160;OS&#160;specifies&#160;functions&#160;for&#160;checking&#160;memory&#160;access&#160;rights&#160;of&#160;an&#160;ISR&#160;or&#160;task&#160;to&#160;<br/>a&#160;specific&#160;memory&#160;region.&#160;<br/>
<b>&gt;&#160;&#160;</b>CheckTaskMemoryAccess&#160;<br/>
<b>&gt;&#160;&#160;</b>CheckISRMemoryAccess&#160;<br/>
MICROSAR OS&#160;implements&#160;these&#160;two&#160;functions (see<a href="TechnicalReference_Oss.html#166">&#160;5.9&#160;</a>for Details)&#160;<br/>
<b>2.18.2&#160;&#160;Activation&#160;<br/></b>No&#160;&#160;explicit&#160;&#160;activation&#160;&#160;of&#160;&#160;these&#160;&#160;API&#160;&#160;service&#160;&#160;functions&#160;&#160;necessary.&#160;&#160;They&#160;&#160;are&#160;&#160;provided&#160;<br/>automatically&#160;by&#160;the&#160;OS.&#160;<br/>
<b>2.18.3&#160;&#160;Usage&#160;<br/></b>The&#160;&#160;API&#160;&#160;service&#160;&#160;functions&#160;&#160;CheckTaskMemoryAccess()&#160;&#160;and&#160;&#160;CheckISRMemoryAccess()&#160;<br/>work on&#160;additional configuration&#160;data&#160;which&#160;has to&#160;be&#160;provided&#160;by&#160;the&#160;user.&#160;<br/>Therefore&#160;&#160;additional&#160;&#160;regions&#160;&#160;(“OsAccessCheckRegion“)&#160;&#160;may&#160;&#160;be&#160;&#160;configured.&#160;&#160;Tasks&#160;&#160;and&#160;<br/>ISRs may&#160;be&#160;assigned&#160;to&#160;each&#160;access check&#160;region.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>All&#160;memory&#160;access&#160;checks&#160;are&#160;based&#160;upon&#160;the&#160;configured&#160;“OsAccessCheckRegion”&#160;<br/>
&#160;&#160;objects.&#160;They&#160;are&#160;not&#160;based&#160;upon&#160;current&#160;MPU&#160;values&#160;during&#160;runtime!&#160;<br/>
OsAccessCheckRegions&#160;and&#160;OsMemoryRegions&#160;contain redundant&#160;information.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>2.18.4&#160;&#160;Dependencies&#160;<br/></b>This&#160;feature is&#160;of&#160;significance&#160;in&#160;SC3&#160;and&#160;SC4&#160;system&#160;with&#160;active&#160;memory&#160;protection.&#160;<br/>
&#160;<br/>&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
67&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=68></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-68_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-68_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-68_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.19&#160;&#160;Timing Protection&#160;Concept&#160;</b><br/>
<b>2.19.1&#160;&#160;Description&#160;<br/></b>To&#160;implement&#160;timing&#160;protection,&#160;MICROSAR&#160;OS&#160;needs&#160;a&#160;timer&#160;hardware&#160;which&#160;is&#160;able&#160;to&#160;<br/>generate&#160;an&#160;interrupt&#160;with&#160;high&#160;priority.&#160;This&#160;interrupt&#160;is&#160;never&#160;disabled&#160;by&#160;the&#160;OS&#160;interrupt&#160;<br/>handling&#160;API.&#160;<br/>Two&#160;concepts&#160;may&#160;be&#160;implemented&#160;within&#160;MICROSAR OS:&#160;<br/><b>&#160;&#160;</b>The&#160;timing&#160;protection&#160;interrupt&#160;request&#160;is&#160;non-maskable&#160;(NMI&#160;request)&#160;<br/>
<b>&#160;&#160;</b>The&#160;timing&#160;protection&#160;interrupt&#160;request&#160;is&#160;maskable&#160;<br/>
The&#160;consequences&#160;of&#160;both&#160;concepts&#160;are shown&#160;in&#160;the&#160;comparison:&#160;<br/>
<b>&#160;</b><br/>
Timing&#160;Protection&#160;IRQ&#160;is&#160;<br/>
Timing&#160;Protection&#160;IRQ&#160;is&#160;NMI&#160;<br/>
Maskable&#160;<br/>
<b>Level&#160;of&#160;timing&#160;</b><br/>
The&#160;level&#160;of&#160;the&#160;interrupt&#160;source&#160;&#160;The&#160;exception&#160;source&#160;has&#160;no&#160;<br/>
<b>protection&#160;IRQ&#160;</b><br/>
is&#160;chosen&#160;to be&#160;on&#160;the&#160;highest&#160;<br/>
interrupt&#160;level.&#160;<br/>
possible priority&#160;of&#160;the&#160;<br/>microcontroller.&#160;<br/>
<b>DisableAllInterrupts()&#160;&#160;</b>The&#160;functions&#160;disable all&#160;ISRs&#160;<br/>
The&#160;functions&#160;disable all&#160;ISRs&#160;(with&#160;<br/>
<b>EnableAllInterrupts()</b><br/>
(with exception&#160;of&#160;timing&#160;<br/>
exception&#160;of&#160;timing&#160;protection&#160;<br/>
<b>&#160;</b><br/>
protection&#160;interrupt)&#160;by&#160;<br/>
interrupt)&#160;by&#160;manipulate&#160;a&#160;global&#160;<br/>
<b>SuspendAllInterrupts()&#160;&#160;</b>manipulate&#160;the&#160;interrupt&#160;priority&#160;/&#160;&#160;interrupt&#160;mask&#160;/&#160;disable&#160;flag&#160;<br/>
level&#160;<br/>
<b>ResumeAllInterrupts()&#160;</b><br/>
<b>SuspendOSInterrupts()&#160;&#160;</b>The&#160;functions&#160;disable category&#160;2 interrupts&#160;by&#160;manipulate&#160;the&#160;interrupt&#160;<br/><b>ResumeOSInterrupts()&#160;</b>priority&#160;/&#160;level&#160;<br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>Any&#160;category&#160;1&#160;ISR&#160;bypasses&#160;the&#160;OS.&#160;For&#160;this&#160;reason&#160;such&#160;an&#160;ISR&#160;may&#160;get&#160;terminated&#160;<br/>
<b>&#160;&#160;</b>in case&#160;it&#160;is&#160;executed,&#160;while the&#160;budget&#160;of&#160;a&#160;monitored&#160;entity&#160;is&#160;exhausted.&#160;<br/>
Thus&#160;the&#160;AUTOSAR&#160;OS&#160;specification advises not&#160;to use&#160;category&#160;1&#160;ISRs&#160;within a&#160;<br/>system&#160;which uses&#160;timing protection.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>In case&#160;of&#160;an&#160;inter-arrival&#160;time&#160;violation MICROSAR&#160;OS&#160;does&#160;currently&#160;not&#160;provide&#160;the&#160;<br/>
<b>&#160;&#160;</b>information&#160;which&#160;task&#160;or&#160;ISR&#160;did violate&#160;its&#160;inter-arrival&#160;time.&#160;GetTaskID()&#160;and&#160;<br/>
GetISRID()&#160;return&#160;the&#160;current&#160;task&#160;/&#160;ISR.&#160;The&#160;suppressed&#160;task&#160;/&#160;ISR&#160;ID&#160;is&#160;not&#160;returned&#160;<br/>by&#160;these&#160;APIs.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
68&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=69></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-69_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-69_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>2.19.2&#160;&#160;Activation&#160;<br/></b>Timing&#160;&#160;protection&#160;&#160;features&#160;&#160;are&#160;&#160;activated&#160;&#160;by&#160;&#160;setting&#160;&#160;the&#160;&#160;scalability&#160;&#160;class&#160;&#160;to&#160;&#160;SC2&#160;&#160;or&#160;&#160;SC4&#160;<br/>(OsScalabilityClass).&#160;<br/>Afterwards&#160;&#160;timing&#160;&#160;protection&#160;&#160;containers&#160;&#160;may&#160;&#160;be&#160;&#160;configured&#160;&#160;for&#160;&#160;tasks&#160;&#160;or&#160;&#160;ISRs&#160;<br/>(OsTaskTimingProtection&#160;&#160;/&#160;&#160;OsIsrTimingProtection).&#160;&#160;Observed&#160;&#160;times&#160;&#160;are&#160;&#160;configured&#160;&#160;within&#160;<br/>these&#160;containers.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>The&#160;OS&#160;will&#160;add an&#160;appropriate&#160;ISR&#160;automatically&#160;to&#160;the&#160;configuration.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>2.19.3&#160;&#160;Usage&#160;<br/></b>Once&#160;the&#160;timing&#160;protection&#160;feature&#160;is&#160;active&#160;tasks&#160;and&#160;ISRs&#160;are&#160;observed&#160;automatically&#160;by&#160;<br/>the&#160;OS.&#160;<br/>Observation&#160;&#160;of&#160;&#160;a&#160;&#160;particular&#160;&#160;OS&#160;&#160;object&#160;&#160;(task&#160;&#160;/&#160;&#160;ISR)&#160;&#160;only&#160;&#160;takes&#160;&#160;place&#160;&#160;if&#160;&#160;any&#160;&#160;execution&#160;<br/>budgets&#160;or locking&#160;times are configured&#160;for this object.&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
69&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=70></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-70_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-70_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.20&#160;&#160;IOC&#160;</b><br/>
<b>2.20.1&#160;&#160;Description&#160;<br/></b>The&#160;Inter&#160;OS-Application&#160;Communicator&#160;(IOC)&#160;is&#160;responsible&#160;for&#160;data&#160;exchange&#160;between&#160;<br/>OS&#160;applications.&#160;It&#160;handles&#160;two&#160;important&#160;tasks&#160;<br/>
<b>&gt;&#160;&#160;</b>Data&#160;exchange&#160;across&#160;core boundaries&#160;<br/>
<b>&gt;&#160;&#160;</b>Data&#160;exchange&#160;across&#160;memory&#160;protection&#160;boundaries&#160;<br/>
Parts of&#160;the&#160;IOC&#160;API&#160;services&#160;are generated.&#160;<br/>
MICROSAR OS&#160;always tries to&#160;generate&#160;IOC&#160;API&#160;services&#160;and&#160;data&#160;structures&#160;to&#160;minimize&#160;<br/>resource&#160;usage.&#160;<br/>
Especially&#160;the&#160;runtime&#160;of&#160;IOC&#160;API&#160;services&#160;is influenced&#160;by&#160;the&#160;configuration&#160;of&#160;IOC&#160;<br/>objects.&#160;For the&#160;customer it is important&#160;how&#160;configuration&#160;aspects&#160;minimize&#160;the&#160;IOC&#160;<br/>runtime.&#160;<br/>
For each&#160;IOC object&#160;MICROSAR OS&#160;decides&#160;during&#160;runtime&#160;whether&#160;<br/>
<b>&gt;&#160;&#160;</b>Interrupt&#160;locks&#160;<br/>
<b>&gt;&#160;&#160;</b>Spinlocks&#160;<br/>
Are&#160;used&#160;or&#160;not.&#160;<br/>
<b>2.20.2&#160;&#160;Unqeued&#160;(Last Is&#160;Best)&#160;Communication&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>Whenever&#160;the&#160;data&#160;of&#160;a&#160;last&#160;is&#160;best&#160;IOC&#160;object&#160;can be&#160;written&#160;/&#160;read&#160;atomically&#160;(integral&#160;<br/>
&#160;&#160;data&#160;type)&#160;no&#160;spinlocks&#160;are used&#160;at&#160;all.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>2.20.2.1&#160;&#160;1:1&#160;Communication&#160;Variant&#160;</b><br/>
<b>&#160;</b><br/>
Sender&#160;and Receiver&#160;are&#160;located&#160;&#160;Sender&#160;and Receiver&#160;are&#160;located&#160;<br/>on&#160;the&#160;same&#160;core&#160;<br/>
on&#160;the&#160;different&#160;cores&#160;<br/>
<b>Interrupt&#160;Locks&#160;</b><br/>
Used&#160;<br/>
Not&#160;used&#160;<br/>
<b>Spinlocks&#160;</b><br/>
Not&#160;Used&#160;<br/>
Used&#160;<br/>
<b>System&#160;Call&#160;Traps&#160;</b><br/>
Not&#160;Used&#160;<br/>
Not&#160;Used&#160;<br/>
&#160;<br/>&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
70&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=71></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-71_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-71_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.20.2.2&#160;&#160;N:1&#160;Communication&#160;Variant&#160;</b><br/>
<b>&#160;</b><br/>
Sender&#160;and Receiver&#160;are&#160;located&#160;&#160;Sender&#160;and Receiver&#160;are&#160;located&#160;<br/>on&#160;the&#160;same&#160;core&#160;<br/>
on&#160;the&#160;different&#160;cores&#160;<br/>
<b>Interrupt&#160;Locks&#160;</b><br/>
Used&#160;<br/>
Not&#160;used&#160;<br/>
<b>Spinlocks&#160;</b><br/>
Not&#160;Used&#160;<br/>
Used&#160;<br/>
<b>System&#160;Call&#160;Traps&#160;</b><br/>
Used&#160;<br/>
Used&#160;<br/>
&#160;<br/>
<b>2.20.2.3&#160;&#160;N:M&#160;Communication&#160;Variant&#160;</b><br/>
<b>&#160;</b><br/>
Sender&#160;and Receiver&#160;are&#160;located&#160;&#160;Sender&#160;and Receiver&#160;are&#160;located&#160;<br/>on&#160;the&#160;same&#160;core&#160;<br/>
on&#160;the&#160;different&#160;cores&#160;<br/>
<b>Interrupt&#160;Locks&#160;</b><br/>
Used&#160;<br/>
Not&#160;used&#160;<br/>
<b>Spinlocks&#160;</b><br/>
Not&#160;Used&#160;<br/>
Used&#160;<br/>
<b>System&#160;Call&#160;Traps&#160;</b><br/>
Not&#160;Used&#160;<br/>
Not&#160;Used&#160;<br/>
&#160;<br/>
<b>2.20.3&#160;&#160;Queued&#160;Communication&#160;<br/></b>For 1:1&#160;and&#160;N:1&#160;Communication&#160;the&#160;following&#160;table&#160;is&#160;applied:&#160;<br/>
<b>&#160;</b><br/>
Sender&#160;and Receiver&#160;are&#160;located&#160;&#160;Sender&#160;and Receiver&#160;are&#160;located&#160;<br/>on&#160;the&#160;same&#160;core&#160;<br/>
on&#160;the&#160;different&#160;cores&#160;<br/>
<b>Interrupt&#160;Locks&#160;</b><br/>
Not&#160;Used&#160;<br/>
Not&#160;used&#160;<br/>
<b>Spinlocks&#160;</b><br/>
Not&#160;Used&#160;<br/>
Not&#160;Used&#160;<br/>
<b>System&#160;Call&#160;Traps&#160;</b><br/>
Not&#160;Used&#160;<br/>
Not&#160;Used&#160;<br/>
&#160;<br/>
<b>2.20.4&#160;&#160;Notification&#160;<br/></b>MICROSAR OS&#160;provides configurable&#160;receiver callback&#160;functions&#160;for notification&#160;purposes.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>In case&#160;an&#160;IOC&#160;object&#160;has&#160;a configured&#160;receiver&#160;callback&#160;function&#160;a system&#160;call&#160;trap&#160;is&#160;<br/>
&#160;&#160;needed&#160;in any&#160;case.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
71&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=72></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-72_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-72_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-72_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.20.5&#160;&#160;Particularities&#160;</b><br/>
<b>2.20.5.1&#160;&#160;N:1&#160;Queued&#160;Communication&#160;<br/></b>N:1&#160;queued&#160;commination&#160;is&#160;realized&#160;with&#160;multiple&#160;sender&#160;queues.&#160;The&#160;receiver&#160;application&#160;<br/>does&#160;&#160;an&#160;&#160;even&#160;&#160;multiplexing&#160;&#160;on&#160;&#160;all&#160;&#160;sender&#160;&#160;queues&#160;&#160;when&#160;&#160;calling&#160;&#160;the&#160;&#160;receive&#160;&#160;function&#160;&#160;(see&#160;<br/>figure).&#160;<br/>
&#160;<br/>
Figure&#160;2-6&#160;&#160;N:1&#160;Multiple&#160;Sender&#160;Queues&#160;<br/>
<b>2.20.5.2&#160;&#160;IOC Spinlocks&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>During&#160;generation&#160;of&#160;OS&#160;data structures,&#160;if&#160;MICROSAR&#160;OS&#160;detects&#160;that&#160;a&#160;spinlock&#160;is&#160;<br/>
&#160;&#160;needed&#160;for&#160;a&#160;particular&#160;IOC&#160;object,&#160;it&#160;automatically&#160;creates&#160;a spinlock&#160;object&#160;within the&#160;<br/>
OS&#160;configuration.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
72&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=73></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-73_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-73_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.20.5.3&#160;&#160;Notification&#160;<br/></b>Based&#160;&#160;on&#160;&#160;the&#160;&#160;core&#160;&#160;assignment&#160;&#160;of&#160;&#160;sender&#160;&#160;and&#160;&#160;receiver&#160;&#160;of&#160;&#160;an&#160;&#160;IOC&#160;&#160;object,&#160;&#160;two&#160;&#160;possible&#160;<br/>scenarios&#160;for callback&#160;handling&#160;are possible.&#160;<br/>
<b>Sender&#160;and Receiver&#160;are located&#160;on&#160;</b><br/>
<b>&gt;&#160;&#160;</b>The&#160;callback&#160;notification&#160;function&#160;is&#160;called&#160;within the&#160;<br/>
<b>the&#160;same&#160;core&#160;</b><br/>
IOC&#160;send&#160;function&#160;<br/>
<b>Sender&#160;and Receiver&#160;are located&#160;on&#160;</b><br/>
<b>&gt;&#160;&#160;</b>The&#160;sender&#160;triggers&#160;an&#160;X-Signal&#160;request&#160;on&#160;the&#160;<br/>
<b>different&#160;cores&#160;</b><br/>
receiving&#160;core&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;callback&#160;notification&#160;function&#160;is&#160;called&#160;within&#160;the&#160;<br/>
X-Signal&#160;ISR&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;</b><br/>
&#160;&#160;<b>&gt;&#160;&#160;</b>All&#160;callback&#160;functions&#160;are&#160;using&#160;the&#160;cores&#160;IOC&#160;receiver&#160;pull&#160;callback&#160;stack.&#160;<br/>
<b>&gt;&#160;&#160;</b>During&#160;execution&#160;of&#160;the&#160;IOC&#160;receiver&#160;pull&#160;callback&#160;function&#160;category&#160;2&#160;ISRs&#160;are&#160;<br/>
disabled.&#160;<br/>
<b>&gt;&#160;&#160;</b>Within IOC&#160;receiver&#160;pull&#160;callback&#160;functions&#160;only&#160;other&#160;IOC&#160;API&#160;functions&#160;and&#160;<br/>
interrupt&#160;dis/enable&#160;API&#160;functions&#160;are allowed.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
73&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=74></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-74_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-74_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>2.21&#160;&#160;Trusted&#160;OS&#160;Applications&#160;</b><br/>
Trusted&#160;&#160;OS&#160;&#160;Applications&#160;&#160;are&#160;&#160;basically&#160;&#160;executed&#160;&#160;in&#160;&#160;supervisor&#160;&#160;mode.&#160;&#160;They&#160;&#160;can&#160;&#160;have&#160;<br/>read/write&#160;access to&#160;nearly&#160;the&#160;whole&#160;memory&#160;(except&#160;stack regions).&#160;<br/>MICROSAR OS&#160;allows gradually&#160;restricting&#160;of&#160;access rights&#160;of&#160;trusted&#160;OS&#160;applications.&#160;<br/>Trusted&#160;OS&#160;applications may&#160;be&#160;restricted&#160;by&#160;memory&#160;access or&#160;by&#160;processor&#160;mode.&#160;<br/>
<b>2.21.1&#160;&#160;Trusted&#160;OS&#160;Applications&#160;with&#160;Memory&#160;Protection&#160;</b><br/>
<b>2.21.1.1&#160;&#160;Description&#160;<br/></b>Runtime&#160;objects&#160;(Tasks&#160;/&#160;ISRs&#160;/&#160;Trusted&#160;functions)&#160;of&#160;trusted&#160;OS&#160;applications&#160;with&#160;enabled&#160;<br/>memory&#160;protection&#160;have&#160;the&#160;following&#160;behavior&#160;<br/>
<b>&gt;&#160;&#160;</b>They&#160;run&#160;in&#160;supervisor mode&#160;<br/>
<b>&gt;&#160;&#160;</b>Memory&#160;access has to&#160;be&#160;granted&#160;explicitly&#160;(in&#160;the&#160;same&#160;way&#160;as&#160;for&#160;a&#160;non-trusted&#160;OS&#160;<br/>
application)&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;MPU is re-programmed&#160;whenever software of&#160;the&#160;OS&#160;application&#160;is executed.&#160;<br/>
<b>2.21.1.2&#160;&#160;Activation&#160;<br/></b>Set&#160;“OsTrustedApplicationWithProtection”&#160;to&#160;TRUE.&#160;<br/>
<b>2.21.1.3&#160;&#160;Dependencies&#160;<br/></b>This&#160;feature is&#160;of&#160;significance&#160;in&#160;SC3&#160;and&#160;SC4&#160;system&#160;with&#160;active&#160;memory&#160;protection.&#160;<br/>
<b>2.21.2&#160;&#160;Trusted&#160;OS&#160;Applications&#160;in&#160;User&#160;Mode&#160;</b><br/>
<b>2.21.2.1&#160;&#160;Description&#160;<br/></b>Such&#160;&#160;OS&#160;&#160;applications&#160;&#160;can&#160;&#160;have&#160;&#160;read/write&#160;&#160;access&#160;&#160;to&#160;&#160;nearly&#160;&#160;the&#160;&#160;whole&#160;&#160;memory&#160;&#160;(except&#160;<br/>stack&#160;&#160;regions),&#160;&#160;but&#160;&#160;they&#160;&#160;are&#160;&#160;running&#160;&#160;in&#160;&#160;user&#160;&#160;mode.&#160;&#160;This&#160;&#160;is&#160;&#160;also&#160;&#160;applied&#160;&#160;to&#160;&#160;all&#160;&#160;runtime&#160;<br/>objects (Tasks&#160;/&#160;ISRs /&#160;Trusted&#160;functions)&#160;assigned&#160;to&#160;this OS&#160;application.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;</b><br/>
&#160;&#160;&gt;&#160;&#160;API runtimes&#160;for OS&#160;applications&#160;which run&#160;in&#160;user mode&#160;are&#160;longer.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>2.21.2.2&#160;&#160;Activation&#160;<br/></b>Set&#160;“OsApplicationIsPrivileged” to&#160;FALSE.&#160;<br/>
<b>2.21.2.3&#160;&#160;Dependencies&#160;<br/></b>This&#160;feature is&#160;of&#160;significance&#160;in&#160;SC3&#160;and&#160;SC4&#160;system&#160;with&#160;active&#160;memory&#160;protection.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
74&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=75></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-75_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-75_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-75_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>2.21.3&#160;&#160;Trusted Functions&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;</b><br/>
&#160;&#160;&gt;&#160;&#160;The&#160;interrupt&#160;state&#160;of&#160;the caller&#160;is&#160;preserved&#160;when entering&#160;the&#160;trusted&#160;function.&#160;<br/>
&gt;&#160;&#160;The&#160;trusted&#160;function may&#160;manipulate&#160;the&#160;interrupt state&#160;by&#160;using OS services.&#160;The&#160;changed&#160;<br/>
interrupt&#160;state&#160;is&#160;preserved&#160;upon&#160;return from&#160;the trusted function.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>Nesting level&#160;of&#160;trusted&#160;functions&#160;is&#160;limited&#160;to 255.&#160;<br/>
<b>&#160;&#160;</b>The&#160;application has&#160;to&#160;ensure&#160;that&#160;this&#160;limitation&#160;is&#160;held.&#160;There is no&#160;error&#160;detection&#160;<br/>
within the&#160;OS.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
75&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=76></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-76_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>2.22&#160;&#160;OS&#160;Hooks&#160;</b><br/>
<b>2.22.1&#160;&#160;Runtime&#160;Context&#160;<br/></b>MICROSAR&#160;&#160;OS&#160;&#160;implements&#160;&#160;the&#160;&#160;runtime&#160;&#160;context&#160;&#160;and&#160;&#160;accessing&#160;&#160;rights&#160;&#160;of&#160;&#160;OS&#160;&#160;Hooks&#160;<br/>according&#160;to&#160;the&#160;following&#160;table&#160;<br/>
<b>Hook&#160;Name&#160;</b><br/>
<b>Processor&#160;Mode&#160;&#160;Access&#160;Rights&#160;&#160;Interrupt&#160;State&#160;</b><br/>
StartupHook&#160;<br/>
Disabled&#160;up&#160;to&#160;<br/>
ErrorHook<br/>
system&#160;level&#160;<br/>
&#160;<br/>
Supervisor&#160;<br/>
Trusted&#160;<br/>
ShutdownHook&#160;<br/>
Globally&#160;disabled&#160;<br/>
ProtectionHook&#160;<br/>StartupHook_&lt;OS&#160;application name&gt;&#160;<br/>
Disabled&#160;up&#160;to&#160;<br/>
Depending&#160;on&#160;the&#160;configuration of&#160;<br/>
ErrorHook_&lt;OS&#160;application name&gt;<br/>
system&#160;level&#160;<br/>
&#160;<br/>
the&#160;owning&#160;OS&#160;application&#160;<br/>
ShutdownHook_&lt;OS&#160;application name&gt;&#160;<br/>
Globally&#160;disabled&#160;<br/>
Os_PanicHook&#160;<br/>
Supervisor&#160;<br/>
Trusted&#160;<br/>
Globally&#160;disabled&#160;<br/>
PreTaskHook&#160;<br/>
Supervisor&#160;<br/>
Trusted&#160;<br/>
Globally&#160;disabled&#160;<br/>
PostTaskHook&#160;<br/>
Supervisor&#160;<br/>
Trusted&#160;<br/>
Globally&#160;disabled&#160;<br/>
AlarmCallbacks&#160;<br/>
Supervisor&#160;<br/>
Trusted&#160;<br/>
Globally&#160;disabled&#160;<br/>
IOC&#160;receiver&#160;pull&#160;callbacks&#160;<br/>
Disabled&#160;up&#160;to&#160;<br/>
system&#160;level&#160;<br/>
Depending&#160;on&#160;the&#160;configuration of&#160;&#160;(execution&#160;is&#160;done&#160;<br/>
the&#160;owning&#160;OS&#160;application&#160;<br/>
within ISR&#160;<br/>
context)&#160;<br/>
&#160;<br/>
<b>2.22.2&#160;&#160;Nesting behavior&#160;<br/></b>It&#160;is&#160;possible&#160;that&#160;OS&#160;hooks&#160;may&#160;be&#160;nested&#160;by&#160;other&#160;OS&#160;hooks&#160;according&#160;to&#160;the&#160;following&#160;<br/>table&#160;<br/>
<b>Nested&#160;by&#160;&#160;</b>ErrorHook(s)&#160;<br/>
ProtectionHook&#160;&#160;StartupHook(s)&#160;&#160;ShutdownHook(s))&#160;&#160;IOC Callbacks&#160;<br/>
<b>OS&#160;Hook&#160;</b><br/>
ErrorHook(s)&#160;<br/>
Not possible&#160;<br/>
possible&#160;<br/>
Not possible&#160;<br/>
possible&#160;<br/>
possible&#160;<br/>
ProtectionHook&#160;<br/>
Not possible&#160;<br/>
Not possible&#160;<br/>
Not possible&#160;<br/>
possible&#160;<br/>
possible&#160;<br/>
StartupHook(s)&#160;<br/>
possible&#160;<br/>
possible&#160;<br/>
Not possible&#160;<br/>
possible&#160;<br/>
possible&#160;<br/>
ShutdownHook(s)&#160;<br/>
Not possible&#160;<br/>
Not possible&#160;<br/>
Not possible&#160;<br/>
Not possible&#160;<br/>
possible&#160;<br/>
IOC Callbacks&#160;<br/>
possible&#160;<br/>
possible&#160;<br/>
Not possible&#160;<br/>
possible&#160;<br/>
Not possible&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
76&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=77></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-77_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-77_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-77_3.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-77_4.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>2.22.3&#160;&#160;Hints&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>Within&#160;OS&#160;Hooks&#160;the&#160;interrupts&#160;must&#160;not&#160;be&#160;enabled&#160;again!&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>Hooks&#160;must&#160;never&#160;be&#160;called&#160;by&#160;application code directly.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;for&#160;SC2&#160;or&#160;SC4&#160;<br/></b>Hooks&#160;don’t&#160;have any&#160;own runtime budgets.&#160;OS&#160;Hooks&#160;consume&#160;the&#160;budget&#160;of&#160;the&#160;<br/>
&#160;&#160;current&#160;task&#160;/&#160;ISR.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
77&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=78></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-78_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>3&#160;&#160;Vector&#160;Specific&#160;OS&#160;Features&#160;</b><br/>
This&#160;chapter&#160;describes&#160;functions&#160;which&#160;are&#160;available&#160;only&#160;in&#160;MICROSAR&#160;OS.&#160;They&#160;extend&#160;<br/>the&#160;standardized&#160;OS&#160;functions&#160;from&#160;the&#160;AUTOSAR&#160;and&#160;OSEK&#160;OS&#160;standard [1] [2].&#160;<br/>
<b>3.1&#160;</b><br/>
<b>Optimized Spinlocks&#160;</b><br/>
<b>3.1.1&#160;</b><br/>
<b>Description&#160;</b><br/>
For&#160;&#160;core&#160;&#160;synchronization&#160;&#160;in&#160;&#160;multi&#160;&#160;core&#160;&#160;systems,&#160;&#160;MICROSAR&#160;&#160;OS&#160;&#160;offers&#160;&#160;(beneath&#160;&#160;the&#160;<br/>AUTOSAR&#160;specified&#160;OS&#160;spinlocks)&#160;additional&#160;optimized&#160;spinlocks.&#160;<br/>They&#160;are able&#160;to&#160;reduce&#160;the&#160;runtime&#160;of&#160;the&#160;Spinlock&#160;API.&#160;Configuration&#160;is also&#160;easier.&#160;<br/>AUTOSAR&#160;&#160;specified&#160;&#160;OS&#160;&#160;spinlocks&#160;&#160;cannot&#160;&#160;cause&#160;&#160;any&#160;&#160;deadlocks&#160;&#160;between&#160;&#160;cores&#160;&#160;(see&#160;<br/>unique&#160;&#160;order&#160;&#160;of&#160;&#160;nesting&#160;&#160;OS&#160;&#160;spinlocks&#160;&#160;in&#160;AUTOSAR&#160;&#160;OS&#160;&#160;standard).&#160;&#160;Therefore&#160;&#160;some&#160;&#160;error&#160;<br/>checks on&#160;OS&#160;configuration&#160;data&#160;are&#160;necessary.&#160;<br/>The&#160;error checks are&#160;not&#160;performed&#160;with&#160;optimized&#160;spinlocks.&#160;<br/>
<b>&#160;</b><br/>
OS&#160;Spinlocks&#160;<br/>
Optimized&#160;Spinlocks&#160;<br/>
<b>Deadlocks&#160;</b><br/>
No deadlocks possible&#160;<br/>
Deadlocks&#160;are&#160;possible&#160;<br/>
<b>Runtime&#160;</b><br/>
Longer&#160;runtime&#160;due&#160;to&#160;more&#160;error&#160;&#160;Smaller&#160;runtime&#160;due&#160;to less&#160;error&#160;<br/>checks&#160;<br/>
checks&#160;<br/>
<b>Configuration&#160;</b><br/>
OsSpinlockSuccessor&#160;must&#160;be&#160;<br/>
OsSpinlockSuccessor&#160;need&#160;not&#160;to&#160;<br/>
configured&#160;if&#160;spinlocks&#160;must&#160;be&#160;<br/>
be&#160;configured&#160;<br/>
nested&#160;<br/>
<b>Nesting&#160;</b><br/>
Can&#160;be&#160;nested&#160;by&#160;other&#160;OS&#160;<br/>
Nesting&#160;of&#160;optimized&#160;spinlock&#160;<br/>
spinlocks&#160;<br/>
should be&#160;avoided or&#160;at&#160;least&#160;be&#160;<br/>used with caution&#160;<br/>
<b>Linking&#160;</b><br/>
OS&#160;and&#160;optimized&#160;spinlock variables are&#160;placed into&#160;different&#160;<br/>dedicated&#160;memory&#160;sections&#160;(see<a href="TechnicalReference_Oss.html#117">&#160;4.3.1)</a>.&#160;<br/>
Table&#160;3-1&#160;&#160;&#160;Differences&#160;of&#160;OS&#160;and&#160;Optimized&#160;Spinlocks&#160;<br/>
<b>3.1.2&#160;</b><br/>
<b>Activation&#160;</b><br/>
The&#160;spinlock&#160;attribute&#160;“OsSpinlockLockType”&#160;may&#160;be&#160;set&#160;to&#160;“OPTIMIZED”.&#160;<br/>The&#160;“OsSpinlockSuccessor”&#160;attribute&#160;should&#160;not&#160;be&#160;configured&#160;for an&#160;optimized&#160;spinlock.&#160;<br/>
<b>3.1.3&#160;</b><br/>
<b>Usage&#160;</b><br/>
Once&#160;a&#160;spinlock&#160;object&#160;is&#160;configured&#160;to&#160;be&#160;an&#160;optimized&#160;spinlock&#160;the&#160;application&#160;may&#160;use&#160;<br/>the&#160;&#160;Spinlock&#160;&#160;API&#160;&#160;as&#160;&#160;usual.&#160;&#160;The&#160;&#160;Spinlock&#160;&#160;service&#160;&#160;functions&#160;&#160;are&#160;&#160;capable&#160;&#160;to&#160;&#160;deal&#160;&#160;with&#160;<br/>optimized&#160;and&#160;OS&#160;spinlocks.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
78&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=79></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-79_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-79_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-79_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>3.2&#160;</b><br/>
<b>Peripheral&#160;Access&#160;API&#160;</b><br/>
<b>3.2.1&#160;</b><br/>
<b>Description&#160;</b><br/>
MICROSAR&#160;OS&#160;offers&#160;peripheral&#160;access&#160;services&#160;for&#160;manipulating&#160;registers&#160;of&#160;peripheral&#160;<br/>units.&#160;&#160;The&#160;&#160;application&#160;&#160;may&#160;&#160;delegate&#160;&#160;such&#160;&#160;accesses&#160;&#160;to&#160;&#160;the&#160;&#160;OS&#160;&#160;in&#160;&#160;case&#160;&#160;that&#160;&#160;its&#160;&#160;own&#160;<br/>accessing&#160;rights&#160;are not&#160;sufficient&#160;to&#160;manipulate&#160;specific peripheral&#160;registers.&#160;<br/>
<b>3.2.2&#160;</b><br/>
<b>Activation&#160;</b><br/>
The&#160;API&#160;service&#160;functions themselves do&#160;not&#160;need&#160;any&#160;activation.&#160;<br/>But&#160;within&#160;the&#160;OS&#160;configuration&#160;“OsPeripheralRegion”&#160;objects&#160;may&#160;be&#160;specified.&#160;They&#160;are&#160;<br/>needed&#160;for error and&#160;access checking&#160;by&#160;the&#160;OS.&#160;<br/>An&#160;OsPeripheralRegion&#160;object&#160;consists&#160;of&#160;the&#160;start&#160;address,&#160;end&#160;address&#160;and&#160;a&#160;list&#160;of&#160;OS&#160;<br/>applications which&#160;have&#160;accessing&#160;rights&#160;to&#160;the&#160;peripheral region.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>Access&#160;to a&#160;peripheral&#160;region&#160;is&#160;granted&#160;if&#160;the&#160;following&#160;constraint&#160;is&#160;held&#160;<br/>
&#160;&#160;Start&#160;address&#160;of&#160;peripheral&#160;region &lt;=&#160;Accessed&#160;address&#160;&lt;=&#160;End address&#160;of&#160;peripheral&#160;region&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.2.3&#160;</b><br/>
<b>Usage&#160;</b><br/>
Once&#160;peripheral regions are&#160;configured&#160;they&#160;may&#160;be&#160;passed&#160;to&#160;the&#160;API&#160;functions.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Reference</b>&#160;<br/>The&#160;API&#160;service&#160;functions&#160;themselves are&#160;described&#160;in chapter<a href="TechnicalReference_Oss.html#147">&#160;5.1.</a>&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.2.4&#160;</b><br/>
<b>Dependencies&#160;</b><br/>
This&#160;feature is&#160;of&#160;significance&#160;in&#160;SC3&#160;and&#160;SC4&#160;system&#160;with&#160;active&#160;memory&#160;protection.&#160;<br/>
<b>3.2.5&#160;</b><br/>
<b>Alternatives&#160;</b><br/>
The&#160;access&#160;rights&#160;to&#160;peripheral&#160;registers&#160;may&#160;also&#160;be&#160;granted&#160;by&#160;configure&#160;an&#160;additional&#160;<br/>MPU region&#160;for the&#160;accessing&#160;OS&#160;application.&#160;<br/>
<b>3.2.6&#160;</b><br/>
<b>Common Use&#160;Cases&#160;</b><br/>
The&#160;peripheral&#160;access&#160;APIs&#160;may&#160;be&#160;used&#160;…&#160;<br/>
<b>&gt;&#160;&#160;</b>… if&#160;the&#160;accessing&#160;OS&#160;application&#160;runs in&#160;user mode&#160;but&#160;the&#160;register&#160;to&#160;be&#160;<br/>
manipulated&#160;can&#160;only&#160;be&#160;accessed&#160;in&#160;supervisor mode.&#160;<br/>
<b>&gt;&#160;&#160;</b>… if&#160;the&#160;application&#160;does not&#160;want&#160;to&#160;spend&#160;a&#160;whole&#160;MPU region&#160;to&#160;grant&#160;access&#160;<br/>
rights.&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
79&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=80></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-80_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>3.3&#160;</b><br/>
<b>Trusted Function Call&#160;Stubs&#160;</b><br/>
<b>3.3.1&#160;</b><br/>
<b>Description&#160;</b><br/>
Since&#160;the&#160;OS&#160;service&#160;CallTrustedFunction()&#160;is&#160;very&#160;generic,&#160;there&#160;is&#160;the&#160;need&#160;to&#160;implement&#160;<br/>a&#160;&#160;stub-interface&#160;&#160;which&#160;&#160;does&#160;&#160;the&#160;&#160;packing&#160;&#160;and&#160;&#160;unpacking&#160;&#160;of&#160;&#160;the&#160;&#160;arguments&#160;&#160;for&#160;&#160;trusted&#160;<br/>functions.&#160;<br/>MICROSAR OS&#160;is able&#160;to&#160;generate&#160;these&#160;stub&#160;functions.&#160;<br/>
<b>3.3.2&#160;</b><br/>
<b>Activation&#160;</b><br/>
The&#160;OS&#160;application&#160;attribute&#160;“OsAppUseTrustedFunctionStubs”&#160;must&#160;be&#160;set&#160;to&#160;TRUE.&#160;Data&#160;<br/>types&#160;<br/>
must&#160;<br/>
be&#160;<br/>
defined&#160;<br/>
in&#160;<br/>
the&#160;<br/>
header&#160;<br/>
file&#160;<br/>
which&#160;<br/>
is&#160;<br/>
referred&#160;<br/>
by&#160;<br/>
“OsAppCalloutStubsIncludeHeader”.&#160;<br/>
<b>3.3.3&#160;</b><br/>
<b>Usage&#160;</b><br/>
A&#160;particular trusted&#160;function&#160;is called&#160;with&#160;the&#160;following&#160;syntax:&#160;<br/>&lt;configured return type&gt;&#160;Os_Call_&lt;trusted function name&gt;&#160;<br/>(&lt;configured parameters&gt;);&#160;<br/>
Parameter&#160;packing,&#160;unpacking&#160;and&#160;return value&#160;handling&#160;is done&#160;by&#160;the&#160;stub&#160;function.&#160;<br/>
<b>3.3.4&#160;</b><br/>
<b>Dependencies&#160;</b><br/>
This&#160;feature is&#160;of&#160;significance&#160;in&#160;SC3&#160;and&#160;SC4&#160;system&#160;with&#160;active&#160;memory&#160;protection.&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
80&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=81></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-81_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>3.4&#160;</b><br/>
<b>Non-Trusted Functions&#160;(NTF)&#160;</b><br/>
<b>3.4.1&#160;</b><br/>
<b>Description&#160;</b><br/>
Service&#160;&#160;functions&#160;&#160;which&#160;&#160;are&#160;&#160;provided&#160;&#160;by&#160;&#160;non-trusted&#160;&#160;OS&#160;&#160;applications&#160;&#160;are&#160;&#160;called&#160;&#160;non-<br/>trusted&#160;functions.&#160;They&#160;have&#160;the&#160;following&#160;characteristic:&#160;<br/>
<b>&gt;&#160;&#160;</b>They&#160;run&#160;in&#160;user mode.&#160;<br/>
<b>&gt;&#160;&#160;</b>They&#160;run&#160;with&#160;the&#160;MPU&#160;access rights&#160;of&#160;the&#160;owning&#160;OS&#160;application.&#160;<br/>
<b>&gt;&#160;&#160;</b>They&#160;perform&#160;a&#160;stack switch&#160;to&#160;specific&#160;non-trusted&#160;function&#160;stacks.&#160;<br/>
<b>&gt;&#160;&#160;</b>They&#160;run&#160;on&#160;an&#160;own&#160;secured&#160;stack.&#160;<br/>
<b>&gt;&#160;&#160;</b>They&#160;can&#160;safely&#160;provide&#160;non-trusted&#160;code&#160;to&#160;other OS&#160;applications.&#160;<br/>
<b>&gt;&#160;&#160;</b>Parameters&#160;are passed&#160;to&#160;the&#160;NTF with&#160;a&#160;reference&#160;to&#160;a&#160;data&#160;structure provided&#160;by&#160;<br/>
the&#160;caller.&#160;<br/>
<b>&gt;&#160;&#160;</b>Returning&#160;of&#160;values&#160;is&#160;only&#160;possible&#160;if&#160;the&#160;caller passes&#160;the&#160;non-trusted&#160;functions&#160;<br/>
parameters as&#160;pointer to&#160;global accessible&#160;data.&#160;<br/>
<b>3.4.2&#160;</b><br/>
<b>Activation&#160;</b><br/>
They&#160;are&#160;defined&#160;within&#160;an&#160;OsApplication&#160;container.&#160;The&#160;attribute&#160;“OsTrusted”&#160;for&#160;this&#160;OS&#160;<br/>application&#160;must&#160;be&#160;set&#160;to&#160;FALSE.&#160;<br/>Special&#160;&#160;care&#160;&#160;needs&#160;&#160;to&#160;&#160;be&#160;&#160;taken&#160;&#160;when&#160;&#160;configuring&#160;&#160;stacks&#160;&#160;for&#160;&#160;non-trusted&#160;&#160;functions.&#160;&#160;For&#160;<br/>correct&#160;stack&#160;handling&#160;the&#160;following&#160;attributes&#160;need&#160;to&#160;be&#160;configured&#160;for&#160;each&#160;non-trusted&#160;<br/>function:&#160;<br/>
<b>Non-Trusted&#160;Function&#160;Attribute&#160;</b><br/>
<b>Description&#160;</b><br/>
OsNonTrustedFunctionStackSize&#160;<br/>
Specifies&#160;the&#160;stack&#160;size&#160;for&#160;one&#160;instance&#160;of&#160;the&#160;<br/>NTF.&#160;<br/>
OsNonTrustedFunctionStacks&#160;<br/>
Specifies&#160;the&#160;number&#160;of&#160;stacks&#160;which&#160;are&#160;<br/>generated&#160;for&#160;the&#160;NTF.&#160;<br/>Note:&#160;This&#160;attribute&#160;limits&#160;the&#160;number&#160;of&#160;parallel&#160;<br/>calls&#160;to&#160;the&#160;NTF.&#160;Once&#160;the&#160;maximum&#160;number&#160;is&#160;<br/>reached any&#160;call&#160;to&#160;the&#160;NTF&#160;issues&#160;an&#160;error.&#160;<br/>
OsNonTrustedFunctionCaller&#160;<br/>
Specifies&#160;an&#160;OS&#160;application&#160;which may&#160;call&#160;the&#160;<br/>NTF.&#160;<br/>
OsNonTrustedFunctionAppStacks&#160;<br/>
Specifies&#160;the&#160;number&#160;of&#160;parallel&#160;NTF calls&#160;from&#160;<br/>the&#160;calling&#160;OS&#160;application.&#160;<br/>Note:&#160;It&#160;must&#160;not&#160;exceed&#160;the&#160;attribute&#160;<br/>OsNonTrustedFunctionStacks.&#160;<br/>
OsNonTrustedFunctionAppRef&#160;<br/>
Reference&#160;to&#160;the&#160;calling&#160;OS&#160;application.&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
81&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=82></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-82_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-82_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-82_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>3.4.3&#160;</b><br/>
<b>Usage&#160;</b><br/>
Similar&#160;&#160;to&#160;&#160;the&#160;&#160;CallTrustedFunction()&#160;API&#160;&#160;of&#160;&#160;the&#160;AUTOSAR&#160;&#160;OS&#160;&#160;standard&#160;&#160;MICROSAR&#160;&#160;OS&#160;<br/>implements&#160;&#160;an&#160;&#160;additional&#160;&#160;service&#160;&#160;which&#160;&#160;is&#160;&#160;called&#160;&#160;Os_CallNonTrustedFunction()&#160;&#160;(see&#160;<br/>chapte<a href="TechnicalReference_Oss.html#154">r&#160;5.3&#160;</a>for Details).&#160;<br/>Configured&#160;non-trusted&#160;functions&#160;are called&#160;with&#160;this&#160;API.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;</b><br/>
&#160;&#160;&gt;&#160;&#160;The&#160;interrupt&#160;state&#160;of&#160;the&#160;caller&#160;is&#160;preserved&#160;when entering&#160;the&#160;non-trusted&#160;function&#160;<br/>
&gt;&#160;&#160;The&#160;non-trusted&#160;function&#160;may&#160;manipulate&#160;the&#160;interrupt&#160;state by&#160;using&#160;OS&#160;services.&#160;The&#160;<br/>
changed&#160;interrupt state&#160;is&#160;preserved&#160;upon return from&#160;the non-trusted&#160;function.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>Non-trusted&#160;functions&#160;currently&#160;cannot&#160;be&#160;terminated&#160;without&#160;termination&#160;of&#160;the&#160;caller.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.4.4&#160;</b><br/>
<b>Dependencies&#160;</b><br/>
This&#160;feature is&#160;of&#160;significance&#160;in&#160;SC3&#160;and&#160;SC4&#160;system&#160;with&#160;active&#160;memory&#160;protection.&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
82&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=83></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-83_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>3.5&#160;</b><br/>
<b>Interrupt&#160;Source&#160;API&#160;</b><br/>
<b>3.5.1&#160;</b><br/>
<b>Description&#160;</b><br/>
MICROSAR&#160;&#160;OS&#160;&#160;offers&#160;&#160;additional&#160;&#160;API&#160;&#160;services&#160;&#160;for&#160;&#160;category&#160;&#160;2&#160;&#160;ISRs&#160;&#160;and&#160;&#160;their&#160;&#160;respective&#160;<br/>interrupt&#160;sources.&#160;<br/>The&#160;services&#160;include&#160;<br/>
<b>&gt;&#160;&#160;</b>Enable&#160;of&#160;an&#160;interrupt&#160;source&#160;<br/>
<b>&gt;&#160;&#160;</b>Disable&#160;of&#160;an&#160;interrupt&#160;source&#160;<br/>
<b>&gt;&#160;&#160;</b>Clearing&#160;of&#160;the&#160;interrupt&#160;pending&#160;bit&#160;<br/>
<b>&gt;&#160;&#160;</b>Checking&#160;if&#160;the&#160;interrupt&#160;source&#160;is enabled&#160;<br/>
<b>&gt;&#160;&#160;</b>Checking&#160;of&#160;interrupt&#160;pending&#160;bit status&#160;<br/>
(S<a href="TechnicalReference_Oss.html#155">ee&#160;5.4&#160;</a>for&#160;API&#160;details).&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
83&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=84></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-84_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-84_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-84_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>3.6&#160;</b><br/>
<b>Pre-Start Task&#160;</b><br/>
<b>3.6.1&#160;</b><br/>
<b>Description&#160;</b><br/>
MICROSAR&#160;OS&#160;offers&#160;the&#160;possibility&#160;to&#160;provide&#160;a&#160;set&#160;of&#160;OS&#160;API&#160;functions&#160;for&#160;initialization&#160;<br/>purposes&#160;before&#160;StartOS&#160;has&#160;been&#160;called.&#160;<br/>Therefore&#160;a&#160;pre-start&#160;task&#160;may&#160;be&#160;configured&#160;which&#160;is&#160;capable&#160;to&#160;run&#160;before&#160;the&#160;OS&#160;has&#160;<br/>been&#160;started.&#160;Within&#160;&#160;this&#160;task&#160;stack&#160;protection&#160;is&#160;enabled&#160;and&#160;particular&#160;OS&#160;APIs&#160;&#160;can&#160;be&#160;<br/>used.&#160;<br/>The&#160;table&#160;in<a href="TechnicalReference_Oss.html#180">&#160;5.13&#160;</a>lists&#160;the&#160;OS&#160;API&#160;functions which&#160;may&#160;be&#160;used&#160;within&#160;the&#160;Pre-Start task.&#160;<br/>
<b>3.6.2&#160;</b><br/>
<b>Activation&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Define&#160;a&#160;basic&#160;task&#160;<br/>
<b>&gt;&#160;&#160;</b>Within&#160;a&#160;core&#160;object&#160;this basic task&#160;has to&#160;be&#160;referred&#160;to&#160;be&#160;the&#160;pre-start task&#160;of&#160;this&#160;<br/>
core (attribute&#160;“OsCorePreStartTask”).&#160;Only&#160;one&#160;pre-start task&#160;per core is&#160;possible.&#160;<br/>
<b>&gt;&#160;&#160;</b>Start the&#160;OS&#160;as&#160;described&#160;below&#160;<br/>
<b>3.6.3&#160;</b><br/>
<b>Usage&#160;</b><br/>
1.&#160;&#160;Execute&#160;Startup&#160;Code&#160;<br/>
2.&#160;&#160;Call&#160;Os_InitMemory()&#160;<br/>
3.&#160;&#160;Call&#160;Os_Init()&#160;<br/>
4.&#160;&#160;Call&#160;Os_EnterPreStartTask()&#160;(see<a href="TechnicalReference_Oss.html#153">&#160;5.2&#160;</a>for Details)&#160;<br/>
5.&#160;&#160;The&#160;OS&#160;schedules&#160;and&#160;dispatches&#160;to&#160;the&#160;task&#160;which&#160;has been&#160;referred&#160;as&#160;pre-start&#160;<br/>
task.&#160;<br/>
6.&#160;&#160;The&#160;pre-start task&#160;has&#160;to&#160;be&#160;left&#160;by&#160;a&#160;call&#160;to&#160;StartOS()&#160;&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>The&#160;pre-start&#160;task&#160;may&#160;only&#160;be&#160;active once prior&#160;to StartOS()&#160;call.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>Within the&#160;pre-start&#160;task&#160;the&#160;getter&#160;OS&#160;API&#160;services (e.g.&#160;GetActiveApplicationMode())&#160;<br/>
<b>&#160;&#160;</b>neither&#160;return a&#160;valid result&#160;nor&#160;a valid error&#160;code.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
84&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=85></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-85_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-85_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-85_3.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-85_4.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>If&#160;MICROSAR&#160;OS&#160;encounters&#160;an&#160;error&#160;within the&#160;pre-start&#160;task,&#160;only&#160;the&#160;global&#160;hooks&#160;<br/>
<b>&#160;&#160;</b>(ErrorHook(),&#160;ProtectionHook()&#160;and ShutdownHook())&#160;are executed.&#160;OS&#160;application&#160;<br/>
specific&#160;hooks&#160;won’t&#160;be&#160;executed.&#160;<br/>Consider&#160;that&#160;the&#160;StartupHook()&#160;did&#160;not&#160;yet&#160;run&#160;when the&#160;Pre-Start&#160;Task&#160;is&#160;executed.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>If&#160;the&#160;Pre-Start&#160;Task&#160;is&#160;used,&#160;global&#160;hooks&#160;have to&#160;consider&#160;that&#160;the&#160;OS&#160;might&#160;not&#160;be&#160;<br/>
<b>&#160;&#160;</b>completely&#160;initialized.&#160;OS&#160;APIs&#160;which are&#160;allowed after&#160;normal&#160;initialization (e.g.&#160;<br/>
TerminateApplication())&#160;are not&#160;allowed&#160;within global&#160;hooks,&#160;if&#160;the&#160;error&#160;occurred&#160;in the&#160;<br/>Pre-Start&#160;Task.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>If&#160;the&#160;ProtectionHook()&#160;is&#160;triggered&#160;within the&#160;Pre-Start&#160;Task,&#160;the&#160;OS&#160;ignores&#160;its&#160;return&#160;<br/>
<b>&#160;&#160;</b>value.&#160;The&#160;only&#160;valid return value&#160;is&#160;PRO_SHUTDOWN.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.6.4&#160;</b><br/>
<b>Dependencies&#160;</b><br/>
This&#160;feature&#160;is&#160;of&#160;significance&#160;in&#160;SC3&#160;and&#160;SC4&#160;system&#160;with&#160;active&#160;memory&#160;protection.&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
85&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=86></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-86_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>3.7&#160;</b><br/>
<b>X-Signals&#160;</b><br/>
<b>3.7.1&#160;</b><br/>
<b>Description&#160;</b><br/>
MICROSAR&#160;OS&#160;uses&#160;cross&#160;core&#160;signaling&#160;(X-Signals)&#160;to&#160;realize&#160;API&#160;service&#160;calls&#160;between&#160;<br/>cores.&#160;<br/>The&#160;next&#160;figure&#160;shows the&#160;basic principles&#160;of&#160;an&#160;X-Signal&#160;<br/>
<b>X-Signal</b><br/>
<b>Requesting</b><br/>
<b>Serving</b><br/>
<b>Core</b><br/>
<b>Core</b><br/>
<b>Send&#160;Port&#160;Queue</b><br/>
<b>Receive&#160;Port&#160;Queue</b><br/>
<b>R/W&#160;access</b><br/>
<b>Read&#160;only&#160;access</b><br/>
&#160;<br/>
Figure&#160;3-1&#160;&#160;X-Signal&#160;<br/>
Whenever&#160;a&#160;core&#160;executes&#160;a&#160;service&#160;API&#160;cross&#160;core&#160;it&#160;writes&#160;this&#160;request&#160;into&#160;its&#160;own&#160;send&#160;<br/>port&#160;&#160;queue.&#160;Then&#160;&#160;it&#160;&#160;signals&#160;&#160;this&#160;&#160;request&#160;&#160;by&#160;an&#160;&#160;interrupt&#160;&#160;request&#160;&#160;(X-Signal)&#160;&#160;to&#160;&#160;the&#160;&#160;serving&#160;<br/>core.&#160;<br/>The&#160;serving&#160;core&#160;reads&#160;the&#160;request&#160;from&#160;the&#160;send&#160;port&#160;queue&#160;and&#160;executes&#160;the&#160;requested&#160;<br/>service&#160;API.&#160;The&#160;result&#160;of&#160;the&#160;service&#160;API&#160;is provided&#160;in&#160;the&#160;receive&#160;port queue.&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
86&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=87></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-87_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-87_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
X-Signals have&#160;the&#160;following&#160;characteristics:&#160;<br/>
<b>&gt;&#160;&#160;</b>An&#160;X-Signal is a&#160;unidirectional request&#160;from&#160;one&#160;core&#160;to&#160;another (1:1).&#160;<br/>
<b>&gt;&#160;&#160;</b>For each&#160;core interconnection&#160;one&#160;X-Signal is needed.&#160;<br/>
<b>&gt;&#160;&#160;</b>All&#160;accesses&#160;to&#160;the&#160;(sender / receiver)&#160;port queues&#160;are lock&#160;free.&#160;<br/>
<b>&gt;&#160;&#160;</b>Queue&#160;Sizes must&#160;be&#160;configured.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;Queues&#160;may&#160;be&#160;protected&#160;by&#160;MPU to&#160;achieve&#160;freedom&#160;of&#160;interference&#160;between&#160;<br/>
cores.&#160;<br/>
<b>&gt;&#160;&#160;</b>X-Signals may&#160;be&#160;configured&#160;to&#160;offer&#160;only&#160;a&#160;subset&#160;of&#160;possible&#160;cross&#160;core&#160;API&#160;services.&#160;<br/>
Not&#160;configured&#160;API&#160;services&#160;are refused&#160;to&#160;be&#160;served.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;API&#160;error codes&#160;for cross core&#160;API&#160;services are&#160;extended.&#160;<br/>
<b>&#160;&#160;</b>Additional error codes&#160;for queue&#160;handling.&#160;<br/>
<b>&#160;&#160;</b>Additional error code&#160;if&#160;the&#160;requested&#160;service&#160;is refused&#160;to&#160;be&#160;served.&#160;<br/>
<b>&gt;&#160;&#160;</b>X-Signals can&#160;be&#160;configured&#160;to&#160;be&#160;synchronous or asynchronous.&#160;<br/>
<b>&#160;</b><br/>
<b>Synchronous X-Signal&#160;</b><br/>
<b>Asynchronous X-Signal&#160;</b><br/>
Call&#160;behavior&#160;<br/>
After&#160;the&#160;cross&#160;core&#160;service&#160;API&#160;has&#160;&#160;After&#160;the&#160;cross&#160;core&#160;service&#160;API&#160;has&#160;<br/>been&#160;requested&#160;the&#160;requester&#160;core&#160;<br/>
been&#160;requested&#160;the&#160;requester&#160;core&#160;<br/>
goes&#160;into&#160;active waiting&#160;loop and&#160;<br/>
continues its&#160;own program&#160;execution.&#160;&#160;<br/>
polls&#160;for&#160;the&#160;result&#160;from&#160;the&#160;server&#160;<br/>core&#160;(remote&#160;procedure&#160;call).&#160;<br/><b>Note:</b>&#160;During&#160;active wait&#160;the&#160;<br/>interrupts&#160;are enabled.&#160;<br/>
Error&#160;signaling&#160;<br/>
Error&#160;handling&#160;is&#160;induced&#160;on&#160;the&#160;<br/>
Error&#160;handling&#160;is&#160;induced&#160;with the&#160;<br/>
requester&#160;core immediately,&#160;if&#160;the&#160;<br/>
next&#160;X-Signal&#160;request&#160;on&#160;the&#160;<br/>
polled&#160;API&#160;result&#160;is&#160;not&#160;E_OK.&#160;<br/>
requester&#160;core,&#160;if&#160;the&#160;result&#160;of&#160;the&#160;<br/>previously&#160;requested&#160;API&#160;is&#160;not&#160;<br/>E_OK.&#160;<br/><b>Note</b>:&#160;Upon&#160;potential&#160;errors&#160;of&#160;the&#160;<br/>previously&#160;requested&#160;API&#160;the&#160;current&#160;<br/>application ID&#160;on&#160;sender&#160;and&#160;receiver&#160;<br/>side&#160;meanwhile may&#160;have changed.&#160;<br/>
AUTOSAR&#160;standard&#160;&#160;Compliant&#160;to&#160;the&#160;AUTOSAR&#160;<br/>
Deviation to the&#160;AUTOSAR&#160;Standard&#160;<br/>
compliance&#160;<br/>
Standard&#160;<br/>
Table&#160;3-2&#160;&#160;&#160;Comparison&#160;between&#160;Synchronous&#160;and&#160;Asynchronous&#160;X-Signal&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>Any&#160;cross core&#160;“getter”&#160;APIs&#160;e.g.&#160;GetTaskState()&#160;are&#160;always&#160;executed&#160;with a&#160;<br/>
&#160;&#160;synchronous&#160;X-Signal.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
87&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=88></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-88_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-88_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-88_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>The&#160;sender&#160;core&#160;as&#160;well&#160;as the&#160;receiver&#160;core&#160;may&#160;cause protection&#160;violations.&#160;<br/>
&#160;&#160;Protection&#160;error&#160;handling&#160;is&#160;performed&#160;on&#160;the&#160;core&#160;where the&#160;violation is detected.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;</b><br/>
&#160;&#160;When a&#160;cross&#160;core&#160;API&#160;is&#160;induced by&#160;an&#160;X-Signal,&#160;all&#160;static error&#160;checks&#160;(e.g.&#160;validity&#160;of&#160;<br/>
parameters)&#160;are done&#160;on&#160;the&#160;caller&#160;side.&#160;<br/>All&#160;dynamic&#160;error&#160;checks&#160;(which depend&#160;on&#160;runtime states)&#160;are&#160;executed&#160;on&#160;the&#160;<br/>receiver&#160;side.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
88&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=89></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-89_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-89_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>3.7.1.1&#160;</b><br/>
<b>Notes&#160;on Synchronous&#160;X-Signals&#160;</b><br/>
The&#160;priority&#160;of&#160;the&#160;receiver&#160;ISR&#160;determines&#160;which&#160;other&#160;category&#160;2&#160;ISRs&#160;of&#160;one&#160;core&#160;may&#160;<br/>use&#160;cross core&#160;API&#160;services.&#160;<br/>Additionally&#160;category&#160;2&#160;ISRs may&#160;only&#160;use&#160;cross core&#160;API&#160;services&#160;if&#160;they&#160;allow&#160;nesting.&#160;<br/>The&#160;following&#160;table&#160;gives&#160;an&#160;overview.&#160;<br/>
<b>Logical&#160;Priority&#160;</b><br/>
<b>ISR&#160;Nesting&#160;</b><br/>
<b>Synchronous&#160;Cross&#160;<br/>Core&#160;API&#160;Calls&#160;</b><br/>
ISR&#160;with higher&#160;priority&#160;than X-Signal&#160;priority&#160;<br/>
ISR&#160;nesting is allowed&#160;&#160;Not&#160;allowed&#160;<br/>
ISR&#160;with higher&#160;priority&#160;than X-Signal&#160;priority&#160;<br/>
ISR&#160;nesting is disabled&#160;&#160;Not&#160;allowed&#160;<br/>
X-Signal&#160;ISR&#160;priority&#160;<br/>
-&#160;<br/>
-&#160;<br/>
ISR&#160;with lower&#160;priority&#160;than&#160;X-Signal&#160;priority&#160;<br/>
ISR&#160;nesting is&#160;allowed&#160;&#160;Allowed&#160;<br/>
ISR&#160;with lower&#160;priority&#160;than&#160;X-Signal&#160;priority&#160;<br/>
ISR&#160;nesting&#160;is&#160;disabled&#160;&#160;Not&#160;allowed&#160;<br/>
Table&#160;3-3&#160;&#160;&#160;Priority&#160;of&#160;X-Signal&#160;receiver&#160;ISR&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>If&#160;the&#160;priority&#160;and&#160;nesting requirements&#160;from&#160;the&#160;previous&#160;table are&#160;not&#160;fulfilled&#160;there&#160;<br/>
<b>&#160;&#160;</b>may&#160;be&#160;deadlocks&#160;within&#160;a&#160;multicore&#160;system!&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.7.1.2&#160;</b><br/>
<b>Notes&#160;on Mixed Criticality&#160;Systems&#160;</b><br/>
MICROSAR&#160;&#160;OS&#160;&#160;checks&#160;&#160;application&#160;&#160;access&#160;&#160;rights&#160;&#160;on&#160;&#160;sender&#160;&#160;and&#160;&#160;on&#160;&#160;receiver&#160;&#160;side.&#160;&#160;This&#160;<br/>increases&#160;&#160;isolation&#160;&#160;of&#160;&#160;safety-critical&#160;&#160;parts&#160;&#160;in&#160;&#160;mixed&#160;&#160;criticality&#160;&#160;systems&#160;&#160;(e.g.&#160;&#160;protect&#160;&#160;a&#160;<br/>lockstep&#160;core&#160;from&#160;a&#160;non-lockstep&#160;core).&#160;<br/>Consider&#160;that&#160;these&#160;application&#160;access&#160;checks&#160;are&#160;not&#160;performed&#160;for&#160;ShutdownAllCores().&#160;<br/>Thus&#160;&#160;switching&#160;&#160;off&#160;&#160;the&#160;&#160;usage&#160;&#160;of&#160;&#160;ShutdownAllCores&#160;&#160;API&#160;&#160;for&#160;&#160;non-lockstep&#160;&#160;cores&#160;&#160;is&#160;<br/>recommended.&#160;This can&#160;be&#160;done&#160;within&#160;the&#160;X-Signal configuration.&#160;<br/>
<b>3.7.2&#160;</b><br/>
<b>Activation&#160;</b><br/>
X-Signals&#160;&#160;must&#160;&#160;be&#160;&#160;configured&#160;&#160;explicitly&#160;&#160;in&#160;&#160;a&#160;&#160;multi&#160;&#160;core&#160;&#160;environment.&#160;&#160;See&#160;&#160;chapte<a href="TechnicalReference_Oss.html#140">r&#160;&#160;4.5&#160;&#160;</a>for&#160;<br/>details.&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
89&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=90></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-90_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-90_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>3.8&#160;</b><br/>
<b>Timing Hooks&#160;</b><br/>
<b>3.8.1&#160;</b><br/>
<b>Description&#160;</b><br/>
MICROSAR&#160;OS&#160;supports&#160;timing&#160;measurement&#160;and&#160;analysis&#160;by&#160;external&#160;tools.&#160;Therefor&#160;it&#160;<br/>provides&#160;timing&#160;hooks.&#160;Timing&#160;hooks&#160;inform&#160;the&#160;external&#160;tools&#160;about&#160;several&#160;events&#160;within&#160;<br/>the&#160;OS:&#160;<br/>
<b>&gt;&#160;&#160;</b>Activation&#160;(arrival)&#160;of&#160;a&#160;task or ISR&#160;<br/>
<b>&#160;&#160;</b>These&#160;allow&#160;an&#160;external tool&#160;to&#160;trace&#160;all&#160;activations&#160;of&#160;task as&#160;well&#160;as further&#160;arrivals&#160;<br/>
(e.g.&#160;setting&#160;of&#160;an&#160;event&#160;or the&#160;release&#160;of&#160;a&#160;semaphore&#160;with&#160;transfer to&#160;another task.&#160;<br/>
<b>&#160;&#160;</b>They&#160;allow&#160;external tools to&#160;visualize&#160;the&#160;arrivals and&#160;to&#160;measure&#160;the&#160;time&#160;between&#160;<br/>
them&#160;in&#160;order to&#160;allow&#160;a&#160;schedule-ability&#160;analysis.&#160;<br/>
<b>&gt;&#160;&#160;</b>Context&#160;switch&#160;<br/>
<b>&#160;&#160;</b>These&#160;allow&#160;external tools to&#160;trace&#160;all&#160;context&#160;switches from&#160;task to&#160;ISR and&#160;back&#160;as&#160;<br/>
well&#160;as between&#160;tasks.&#160;So&#160;external tools may&#160;visualize&#160;the&#160;information&#160;or&#160;measure&#160;<br/>the&#160;execution&#160;time&#160;of&#160;tasks and&#160;ISRs.&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>Locking&#160;of&#160;interrupts,&#160;resources&#160;or spinlocks&#160;<br/>
<b>&#160;&#160;</b>These&#160;allow&#160;an&#160;external tool&#160;to&#160;trace&#160;locks.&#160;This&#160;is important&#160;as locking&#160;times of&#160;<br/>
tasks and&#160;ISRs influence&#160;the&#160;execution&#160;of&#160;other tasks and&#160;ISRs.&#160;The&#160;kind&#160;of&#160;<br/>influence&#160;is different&#160;for different&#160;locks.&#160;<br/>
Within&#160;MICROSAR OS&#160;code&#160;the&#160;timing&#160;hooks&#160;are called.&#160;Additionally it&#160;provides empty&#160;<br/>hooks&#160;by&#160;default.&#160;<br/>
The&#160;application&#160;may&#160;decide&#160;to&#160;implement&#160;any&#160;of&#160;the&#160;hooks&#160;by&#160;itself.&#160;The&#160;empty&#160;OS&#160;default&#160;<br/>hook is&#160;then&#160;replaced&#160;by&#160;the&#160;application&#160;implemented&#160;hook.&#160;<br/>
<b>3.8.2&#160;</b><br/>
<b>Activation&#160;</b><br/>
An&#160;&#160;include&#160;&#160;header&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;specified&#160;&#160;in&#160;&#160;the&#160;&#160;attribute&#160;&#160;“OsTimingHooksIncludeHeader”&#160;<br/>located&#160;in&#160;the&#160;“OsDebug” container.&#160;<br/>
<b>3.8.3&#160;</b><br/>
<b>Usage&#160;</b><br/>
The&#160;timing&#160;hooks&#160;may&#160;be&#160;implemented&#160;in&#160;the&#160;configuration&#160;specified&#160;header.&#160;All&#160;available&#160;<br/>macros&#160;are introduced&#160;in&#160;chapte<a href="TechnicalReference_Oss.html#170">r&#160;5.11.</a>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>Within the&#160;timing&#160;hooks&#160;trusted&#160;access&#160;rights&#160;are&#160;active e.g.&#160;access&#160;rights&#160;to&#160;OS&#160;<br/>
<b>&#160;&#160;</b>variables.&#160;<br/>
Thus&#160;the&#160;timing&#160;hooks&#160;must&#160;be&#160;disabled&#160;for&#160;a&#160;safety&#160;serial&#160;production&#160;system.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
90&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=91></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-91_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-91_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>3.9&#160;</b><br/>
<b>Kernel&#160;Panic&#160;</b><br/>
If&#160;&#160;MICROSAR&#160;&#160;OS&#160;&#160;recognizes&#160;&#160;an&#160;&#160;inconsistent&#160;&#160;internal&#160;&#160;state&#160;&#160;it&#160;&#160;enters&#160;&#160;the&#160;&#160;kernel&#160;&#160;panic&#160;<br/>mode.&#160;In&#160;such&#160;cases,&#160;the&#160;OS&#160;does&#160;not&#160;know&#160;how&#160;to&#160;correctly&#160;continue&#160;execution.&#160;Even&#160;a&#160;<br/>regular shutdown&#160;cannot&#160;be&#160;reached.&#160;E.g.:&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;protection&#160;hook itself causes errors&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;shutdown&#160;hook itself causes errors&#160;<br/>
MICROSAR OS&#160;goes&#160;into&#160;freeze&#160;as&#160;fast&#160;as&#160;possible&#160;<br/>
1.&#160;&#160;Disable&#160;all&#160;interrupts&#160;<br/>
2.&#160;&#160;Inform&#160;the&#160;application&#160;about&#160;the&#160;kernel panic&#160;by&#160;calling&#160;the&#160;Os_PanicHook()&#160;(see<a href="TechnicalReference_Oss.html#179">&#160;5.12)</a>&#160;<br/>
3.&#160;&#160;Enter&#160;an&#160;endless&#160;loop&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;</b><br/>
<b>&#160;&#160;</b>&gt;&#160;&#160;The&#160;OS&#160;cannot recover from&#160;kernel&#160;panic.&#160;<br/>
&gt;&#160;&#160;ProtectionHook()&#160;is&#160;not called&#160;<br/>
&gt;&#160;&#160;ErrorHook()&#160;is&#160;not called&#160;<br/>
&gt;&#160;&#160;There is&#160;no&#160;stack&#160;switch.&#160;The&#160;Os_PanicHook()&#160;runs&#160;on&#160;the&#160;current active stack&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
91&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=92></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-92_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-92_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>3.10&#160;&#160;Generate&#160;callout&#160;stubs&#160;</b><br/>
<b>3.10.1&#160;&#160;Description&#160;<br/></b>MICROSAR&#160;&#160;OS&#160;&#160;offers&#160;&#160;the&#160;&#160;feature&#160;&#160;to&#160;&#160;generate&#160;&#160;the&#160;&#160;function&#160;&#160;bodies&#160;&#160;of&#160;&#160;all&#160;&#160;configured&#160;&#160;OS&#160;<br/>hook&#160;functions&#160;(all&#160;global hooks and&#160;application&#160;specific&#160;hooks).&#160;<br/>The&#160;function&#160;bodies&#160;are generated&#160;into&#160;the&#160;file&#160;“Os_Callout_Stubs.c”.&#160;<br/>
<b>3.10.2&#160;&#160;Activation&#160;<br/></b>The&#160;Configuration&#160;attribute&#160;“OsGenerateCalloutStubs”&#160;has to&#160;be&#160;set&#160;to&#160;TRUE.&#160;<br/>
<b>3.10.3&#160;&#160;Usage&#160;<br/></b>Once&#160;the&#160;C-File&#160;has&#160;been&#160;generated&#160;it&#160;may&#160;be&#160;altered&#160;by&#160;the&#160;user.&#160;&#160;Code&#160;parts&#160;between&#160;<br/>certain&#160;&#160;special&#160;&#160;comments&#160;&#160;are&#160;&#160;permanent&#160;&#160;and&#160;&#160;won’t&#160;&#160;get&#160;&#160;lost&#160;&#160;between&#160;&#160;two&#160;&#160;generation&#160;<br/>processes.&#160;<br/>If&#160;&#160;a&#160;&#160;hook&#160;&#160;is&#160;&#160;switched&#160;off,&#160;&#160;the&#160;&#160;corresponding&#160;function&#160;&#160;body&#160;&#160;is&#160;&#160;also&#160;&#160;removed.&#160;&#160;But&#160;&#160;the&#160;user&#160;<br/>code&#160;(between&#160;the&#160;special&#160;comments)&#160;is&#160;preserved.&#160;Once&#160;the&#160;hook&#160;is&#160;switched&#160;on&#160;again,&#160;<br/>the&#160;preserved&#160;user code&#160;is also&#160;restored.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Example&#160;<br/></b>FUNC(void, OS_STARTUPHOOK_CODE)&#160;StartupHook(void)&#160;<br/>
&#160;&#160;{&#160;<br/>
/***********************************************************************&#160;<br/>&#160;* DO NOT CHANGE THIS COMMENT! &#160; &#160; &#160; &#160; &#160; &lt;USERBLOCK OS_Callout_Stubs_StartupHook&gt;&#160;<br/>&#160;**********************************************************************/&#160;<br/>&#160;<br/>&#160; &#160;/* user code starts here */&#160;<br/>&#160; &#160;/* code between those comments is preserved even if the file is newly generated&#160;&#160;<br/>&#160; &#160; &#160;&#160;Or even if the hook is switched off in the meanwhile&#160;*/&#160;<br/>&#160;<br/>/***********************************************************************&#160;<br/>&#160;* DO NOT CHANGE THIS COMMENT! &#160; &#160; &#160; &#160; &#160; &lt;/USERBLOCK&gt;&#160;<br/>&#160;**********************************************************************/&#160;<br/>&#160;<br/>}&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
92&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=93></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-93_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>4&#160;&#160;Integration&#160;</b><br/>
<b>4.1&#160;</b><br/>
<b>Compiler Optimization&#160;Assumptions&#160;</b><br/>
MICROSAR OS&#160;makes the&#160;following&#160;assumptions&#160;for compiler optimization:&#160;<br/>
<b>&gt;&#160;&#160;</b>Inlining&#160;of&#160;functions is&#160;active&#160;<br/>
<b>&gt;&#160;&#160;</b>Not&#160;used&#160;functions are&#160;removed&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;statements&#160;with&#160;a&#160;constant&#160;condition&#160;(due&#160;to&#160;configuration) are&#160;optimized&#160;<br/>
<b>4.1.1&#160;</b><br/>
<b>Compile&#160;Time&#160;</b><br/>
To&#160;shorten&#160;the&#160;compile&#160;time&#160;of&#160;the&#160;OS&#160;the&#160;following&#160;measures&#160;can&#160;be&#160;taken&#160;within&#160;the&#160;OS&#160;<br/>configuration:&#160;<br/>
<b>Systems&#160;without&#160;active memory&#160;</b><br/>
Set&#160;“OsGenerateMemMap”&#160;to&#160;“EMPTY”&#160;<br/>
<b>protection&#160;(SC1/SC2)&#160;</b><br/>
<b>Systems&#160;with&#160;memory&#160;protection&#160;</b><br/>
Set&#160;“OsGenerateMemMap”&#160;to&#160;“COMPLETE”&#160;and&#160;<br/>
<b>(SC3/SC4)&#160;</b><br/>
&#34;OsGenerateMemMapForThreads”&#160;to&#160;“FALSE”&#160;<br/>
&#160;<br/>
<b>4.2&#160;</b><br/>
<b>Hardware&#160;Software&#160;Interfaces&#160;(HSI)&#160;</b><br/>
The&#160;&#160;following&#160;&#160;chapter&#160;&#160;describes&#160;&#160;the&#160;&#160;Hardware-Software&#160;&#160;Interface&#160;&#160;for&#160;&#160;the&#160;&#160;supported&#160;<br/>processor&#160;families&#160;of&#160;the&#160;MICROSAR OS.&#160;<br/>The&#160;HSI&#160;describes&#160;all&#160;hardware&#160;registers&#160;which&#160;are&#160;used&#160;by&#160;the&#160;OS.&#160;Such&#160;registers&#160;must&#160;<br/>not&#160;be&#160;altered&#160;by&#160;user&#160;software.&#160;<br/>Included&#160;&#160;within&#160;&#160;the&#160;&#160;HSI&#160;&#160;is&#160;&#160;the&#160;&#160;context&#160;&#160;of&#160;&#160;the&#160;&#160;OS.&#160;The&#160;&#160;context&#160;&#160;is&#160;&#160;the&#160;&#160;sum&#160;&#160;of&#160;&#160;all&#160;&#160;registers&#160;<br/>which&#160;are preserved&#160;upon&#160;a&#160;task switch&#160;and&#160;ISR execution.&#160;<br/>Additionally&#160;platform&#160;specific characteristics&#160;of&#160;the&#160;OS&#160;are&#160;described&#160;here.&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
93&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=94></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-94_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-94_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>4.2.1&#160;</b><br/>
<b>TriCore&#160;Aurix&#160;Family&#160;</b><br/>
<b>4.2.1.1&#160;</b><br/>
<b>Context&#160;</b><br/>
<b>&#160;&#160;</b>A0-A15&#160;<br/>
<b>&#160;&#160;</b>D0-D15&#160;<br/>
<b>&#160;&#160;</b>PSW&#160;<br/>
<b>&#160;&#160;</b>PCXI&#160;<br/>
<b>&#160;&#160;</b>DPR0L,&#160;DPR0H&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>The&#160;register&#160;A8&#160;is&#160;exclusively&#160;used by&#160;the&#160;OS&#160;to hold the&#160;pointer&#160;to&#160;the&#160;current&#160;thread.&#160;<br/>
&#160;&#160;Thus&#160;any&#160;addressing modes&#160;which would use&#160;A8&#160;register&#160;are&#160;not&#160;possible.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>4.2.1.2&#160;</b><br/>
<b>Core&#160;Registers&#160;</b><br/>
<b>&#160;&#160;</b>ICR&#160;<br/>
<b>&#160;&#160;</b>SYSCON&#160;<br/>
<b>&#160;&#160;</b>PCXI&#160;<br/>
<b>&#160;&#160;</b>FCX&#160;<br/>
<b>&#160;&#160;</b>LCX&#160;<br/>
<b>&#160;&#160;</b>PSW&#160;<br/>
<b>&#160;&#160;</b>PC&#160;<br/>
<b>&#160;&#160;</b>DBGSR&#160;<br/>
<b>&#160;&#160;</b>DPRxL,&#160;DPRxH&#160;<br/>
<b>&#160;&#160;</b>CPRxL,&#160;CPRxH&#160;<br/>
<b>&#160;&#160;</b>DPRE0&#160;–&#160;DPRE3&#160;<br/>
<b>&#160;&#160;</b>DPWE0&#160;–&#160;DPWE3&#160;<br/>
<b>&#160;&#160;</b>CPXE0&#160;–&#160;CPXE3&#160;<br/>
<b>4.2.1.3&#160;</b><br/>
<b>Interrupt&#160;Registers&#160;</b><br/>
<b>&#160;&#160;</b>INT_SRC0&#160;–&#160;INTSRC255&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
94&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=95></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-95_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>4.2.1.4&#160;</b><br/>
<b>GPT&#160;Registers&#160;</b><br/>
<b>&#160;&#160;</b>T2,&#160;T3,&#160;T6&#160;<br/>
<b>&#160;&#160;</b>T2CON,&#160;T3CON,&#160;T6CON&#160;<br/>
<b>&#160;&#160;</b>CAPREL&#160;<br/>
<b>4.2.1.5&#160;</b><br/>
<b>STM&#160;Registers&#160;</b><br/>
<b>&#160;&#160;</b>TIM0,&#160;TIM5,&#160;TIM6&#160;<br/>
<b>&#160;&#160;</b>CMCON&#160;<br/>
<b>&#160;&#160;</b>CAP&#160;<br/>
<b>&#160;&#160;</b>CMP0,&#160;CMP1&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
95&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=96></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-96_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-96_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>4.2.1.6&#160;</b><br/>
<b>Aurix&#160;Special&#160;Characteristics&#160;</b><br/>
<b>&#160;&#160;</b>The&#160;exception&#160;handler&#160;for trap&#160;class 1&#160;is implemented&#160;by&#160;the&#160;OS&#160;<br/>
<b>&#160;&#160;</b>The&#160;exception&#160;handler&#160;for trap&#160;class 6&#160;is implemented&#160;by&#160;the&#160;OS&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;</b><br/>
<b>&#160;&#160;</b>The&#160;TriCore&#160;Hardware&#160;enforces&#160;that&#160;a configured&#160;MPU&#160;region&#160;must&#160;be&#160;followed&#160;by&#160;at&#160;<br/>
least&#160;15&#160;padding&#160;bytes before&#160;the&#160;next&#160;region&#160;may&#160;be&#160;started.&#160;<br/>MICROSAR&#160;OS&#160;obey&#160;to&#160;this&#160;rule&#160;within the&#160;generated&#160;linker&#160;scripts.&#160;For&#160;other&#160;<br/>additional&#160;configured&#160;MPU&#160;regions&#160;the&#160;user&#160;has&#160;to take&#160;care&#160;to&#160;fulfill&#160;this&#160;requirement&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
Start&#160;Address&#160;of&#160;MPU&#160;Region<br/>
End&#160;Address&#160;of&#160;MPU Region<br/>
At&#160;least&#160;15&#160;padding&#160;bytes<br/>
Start&#160;Address&#160;of&#160;adjacent&#160;MPU Region<br/>
End&#160;Address&#160;of&#160;adjacent&#160;MPU&#160;Region<br/>
&#160;<br/>
Figure&#160;4-1&#160;&#160;Padding&#160;bytes&#160;between&#160;MPU&#160;regions&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
96&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=97></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-97_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-97_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-97_3.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-97_4.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-97_5.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;</b><br/>
<b>&#160;&#160;</b>Due&#160;to MPU&#160;granularity&#160;all&#160;start&#160;addresses&#160;and end&#160;addresses&#160;of&#160;configured&#160;MPU&#160;<br/>
regions&#160;must&#160;be&#160;a&#160;multiple of&#160;8.&#160;<br/>MICROSAR&#160;OS&#160;programs&#160;the&#160;MPU&#160;to&#160;grant&#160;access&#160;to&#160;the&#160;memory&#160;region&#160;between&#160;<br/>start&#160;address&#160;and end&#160;address.&#160;<br/>&gt;&#160;&#160;Access&#160;to&#160;configured start&#160;address&#160;itself&#160;is&#160;granted&#160;<br/>
&gt;&#160;&#160;Access&#160;to&#160;configured end address&#160;is&#160;prohibited&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;</b><br/>
<b>&#160;&#160;</b>MICROSAR&#160;OS&#160;does not&#160;use&#160;the&#160;System&#160;MPU&#160;to achieve&#160;freedom&#160;of&#160;interference&#160;<br/>
between cores.&#160;<br/>This&#160;has&#160;to be&#160;done&#160;by&#160;the&#160;application.&#160;<br/>The&#160;system&#160;MPU&#160;has&#160;to&#160;be&#160;initialized&#160;by&#160;a lockstep core.&#160;It&#160;must&#160;not&#160;be&#160;accessed by&#160;<br/>non-lockstep&#160;cores.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>All&#160;stack&#160;sizes shall&#160;be&#160;configured&#160;to be&#160;a&#160;multiple of&#160;8&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Expert&#160;Knowledge&#160;<br/></b>For&#160;proper&#160;context&#160;management&#160;exception&#160;handling&#160;the&#160;LCX&#160;should be&#160;initialized&#160;<br/>
&#160;&#160;during&#160;startup&#160;code&#160;that&#160;it&#160;does&#160;not&#160;point&#160;to&#160;the&#160;last&#160;available CSA.&#160;<br/>
In&#160;this&#160;way&#160;some&#160;CSAs&#160;are reserved&#160;which can&#160;be used within the&#160;context&#160;exception&#160;<br/>handling&#160;for&#160;further&#160;function&#160;calls.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
97&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=98></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-98_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>4.2.1.7&#160;</b><br/>
<b>PSW&#160;handling&#160;</b><br/>
<b>PSW.RM&#160;bit&#160;handling&#160;</b><br/>
MICROSAR&#160;OS&#160;sets&#160;the&#160;rounding&#160;mode bits&#160;to 0&#160;upon&#160;start&#160;of&#160;a&#160;<br/>thread.&#160;<br/>
<b>PSW.S&#160;bit&#160;handling&#160;</b><br/>
MICROSAR&#160;OS&#160;sets&#160;the&#160;safety&#160;task&#160;identifier&#160;bit&#160;to 1&#160;for&#160;trusted&#160;<br/>software&#160;parts&#160;and&#160;to 0&#160;for&#160;non-trusted&#160;software&#160;parts.&#160;<br/>
<b>PSW.IS&#160;bit&#160;handling&#160;</b><br/>
MICROSAR&#160;OS&#160;sets&#160;the&#160;interrupt&#160;stack&#160;bit&#160;to 1.&#160;<br/>Thus&#160;automatic&#160;hardware stack&#160;switch is not&#160;supported.&#160;<br/>
<b>PSW.GW&#160;bit&#160;handling&#160;</b><br/>
MICROSAR&#160;OS&#160;sets&#160;the&#160;global&#160;address&#160;register&#160;write permission&#160;to 0.&#160;<br/>Write permission&#160;to&#160;A0,&#160;A1,&#160;A8&#160;and&#160;A9&#160;are&#160;not&#160;allowed.&#160;<br/>
<b>PSW.CDE&#160;bit&#160;handling&#160;</b><br/>
MICROSAR&#160;OS&#160;sets&#160;the&#160;call&#160;depth&#160;enable bit&#160;to&#160;1&#160;upon&#160;start&#160;of&#160;a&#160;<br/>thread.&#160;<br/>Call&#160;depth&#160;counting is enabled.&#160;<br/>
<b>PSW.CDC&#160;bits handling&#160;&#160;</b>MICROSAR&#160;OS&#160;sets&#160;the&#160;call&#160;depth&#160;counter&#160;to 1&#160;upon start&#160;of&#160;a&#160;thread.&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
98&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=99></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-99_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>4.2.2&#160;</b><br/>
<b>RH850&#160;Family&#160;</b><br/>
<b>4.2.2.1&#160;</b><br/>
<b>Context&#160;</b><br/>
<b>&#160;&#160;</b>R1&#160;...&#160;R31&#160;<br/>
<b>&#160;&#160;</b>PC&#160;<br/>
<b>&#160;&#160;</b>PSW&#160;<br/>
<b>&#160;&#160;</b>PMR&#160;<br/>
<b>&#160;&#160;</b>LP&#160;<br/>
<b>&#160;&#160;</b>SP&#160;<br/>
<b>&#160;&#160;</b>EIPC,&#160;EIPSW&#160;<br/>
<b>&#160;&#160;</b>FPSR, FPEPC&#160;<br/>
<b>&#160;&#160;</b>ASID&#160;<br/>
<b>&#160;&#160;</b>MPLA0,&#160;MPUA0&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
99&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=100></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-100_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-100_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>4.2.2.2&#160;</b><br/>
<b>Core&#160;Registers&#160;</b><br/>
<b>&#160;&#160;</b>PC&#160;<br/>
<b>&#160;&#160;</b>PSW&#160;<br/>
<b>&#160;&#160;</b>PMR&#160;<br/>
<b>&#160;&#160;</b>LP&#160;<br/>
<b>&#160;&#160;</b>SP&#160;<br/>
<b>&#160;&#160;</b>ASID&#160;<br/>
<b>&#160;&#160;</b>SCCFG&#160;<br/>
<b>&#160;&#160;</b>SCBP&#160;<br/>
<b>&#160;&#160;</b>EIPC&#160;<br/>
<b>&#160;&#160;</b>EIPSW&#160;<br/>
<b>&#160;&#160;</b>EIWR&#160;<br/>
<b>&#160;&#160;</b>FPSR&#160;<br/>
<b>&#160;&#160;</b>FPEPC&#160;<br/>
<b>&#160;&#160;</b>EBASE&#160;<br/>
<b>&#160;&#160;</b>INTBP&#160;<br/>
<b>&#160;&#160;</b>INTCFG&#160;<br/>
<b>&#160;&#160;</b>CTPC&#160;<br/>
<b>&#160;&#160;</b>EIIC&#160;<br/>
<b>&#160;&#160;</b>FEIC&#160;<br/>
<b>&#160;&#160;</b>FEPC&#160;<br/>
<b>&#160;&#160;</b>FEPSW&#160;&#160;<br/>
<b>&#160;&#160;</b>HTCFG0&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;</b><br/>
&#160;&#160;The&#160;register&#160;EIWR&#160;is&#160;exclusively&#160;used by&#160;the&#160;OS&#160;to hold the&#160;pointer&#160;to&#160;the&#160;current&#160;<br/>
thread.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
100&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=101></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-101_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>4.2.2.3&#160;</b><br/>
<b>MPU Registers&#160;</b><br/>
<b>&#160;&#160;</b>MPM&#160;<br/>
<b>&#160;&#160;</b>MPRC&#160;<br/>
<b>&#160;&#160;</b>MPLA0&#160;...&#160;MPLA15&#160;<br/>
<b>&#160;&#160;</b>MPUA0&#160;...&#160;MPUA15&#160;<br/>
<b>&#160;&#160;</b>MPAT0&#160;...&#160;MPAT15&#160;<br/>
<b>4.2.2.4&#160;</b><br/>
<b>INTC&#160;Registers&#160;</b><br/>
<b>&#160;&#160;</b>EIC0&#160;...&#160;EIC511&#160;<br/>
<b>&#160;&#160;</b>IBD0&#160;…&#160;IBD511&#160;<br/>
<b>4.2.2.5&#160;</b><br/>
<b>Inter&#160;Processor&#160;Interrupt&#160;Control&#160;Registers&#160;</b><br/>
<b>&#160;&#160;</b>IPIR_CH0&#160;<br/>
<b>&#160;&#160;</b>IPIR_CH1&#160;<br/>
<b>&#160;&#160;</b>IPIR_CH2&#160;<br/>
<b>&#160;&#160;</b>IPIR_CH3&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
101&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=102></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-102_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>4.2.2.6&#160;</b><br/>
<b>Timer&#160;TAUJ&#160;Registers&#160;</b><br/>
<b>&#160;&#160;</b>TAUJnCDR&#160;<br/>
<b>&#160;&#160;</b>TAUJnCNT&#160;<br/>
<b>&#160;&#160;</b>TAUJnCMUR&#160;<br/>
<b>&#160;&#160;</b>TAUJnCSR&#160;<br/>
<b>&#160;&#160;</b>TAUJnCSC&#160;<br/>
<b>&#160;&#160;</b>TAUJnTE&#160;<br/>
<b>&#160;&#160;</b>TAUJnTE0&#160;<br/>
<b>&#160;&#160;</b>TAUJnTE1&#160;<br/>
<b>&#160;&#160;</b>TAUJnTS&#160;<br/>
<b>&#160;&#160;</b>TAUJnTS0&#160;<br/>
<b>&#160;&#160;</b>TAUJnTS1&#160;<br/>
<b>&#160;&#160;</b>TAUJnTT&#160;<br/>
<b>&#160;&#160;</b>TAUJnTT0&#160;<br/>
<b>&#160;&#160;</b>TAUJnTT1&#160;<br/>
<b>&#160;&#160;</b>TAUJnTO&#160;<br/>
<b>&#160;&#160;</b>TAUJnTO0&#160;<br/>
<b>&#160;&#160;</b>TAUJnTO1&#160;<br/>
<b>&#160;&#160;</b>TAUJnTOE&#160;<br/>
<b>&#160;&#160;</b>TAUJnTOE0&#160;<br/>
<b>&#160;&#160;</b>TAUJnTOE1&#160;<br/>
<b>&#160;&#160;</b>TAUJnTOL&#160;<br/>
<b>&#160;&#160;</b>TAUJnTOL0&#160;<br/>
<b>&#160;&#160;</b>TAUJnTOL1&#160;<br/>
<b>&#160;&#160;</b>TAUJnRDT&#160;<br/>
<b>&#160;&#160;</b>TAUJnRDT0&#160;<br/>
<b>&#160;&#160;</b>TAUJnRDT1&#160;<br/>
<b>&#160;&#160;</b>TAUJnRSF&#160;<br/>
<b>&#160;&#160;</b>TAUJnRSF0&#160;<br/>
<b>&#160;&#160;</b>TAUJnRSF1&#160;<br/>
<b>&#160;&#160;</b>TAUJnRSF2&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
102&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=103></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-103_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>&#160;&#160;</b>TAUJnCMOR&#160;<br/>
<b>&#160;&#160;</b>TAUJnTPS&#160;<br/>
<b>&#160;&#160;</b>TAUJnTPS0&#160;<br/>
<b>&#160;&#160;</b>TAUJnBRS&#160;<br/>
<b>&#160;&#160;</b>TAUJnBRS0&#160;<br/>
<b>&#160;&#160;</b>TAUJnBRS1&#160;<br/>
<b>&#160;&#160;</b>TAUJnTOM&#160;<br/>
<b>&#160;&#160;</b>TAUJnTOM0&#160;<br/>
<b>&#160;&#160;</b>TAUJnTOM1&#160;<br/>
<b>&#160;&#160;</b>TAUJnTOC&#160;<br/>
<b>&#160;&#160;</b>TAUJnTOC0&#160;<br/>
<b>&#160;&#160;</b>TAUJnTOC1&#160;<br/>
<b>&#160;&#160;</b>TAUJnRDE&#160;<br/>
<b>&#160;&#160;</b>TAUJnRDE0&#160;<br/>
<b>&#160;&#160;</b>TAUJnRDE1&#160;<br/>
<b>&#160;&#160;</b>TAUJnRDM&#160;<br/>
<b>&#160;&#160;</b>TAUJnRDM0<b>&#160;</b><br/>
<b>&#160;&#160;</b>TAUJnRDM1<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
103&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=104></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-104_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>&#160;</b><br/>
<b>4.2.2.7&#160;</b><br/>
<b>Timer STM&#160;Registers&#160;</b><br/>
<b>&#160;&#160;</b>STMnCKSEL&#160;<br/>
<b>&#160;&#160;</b>STMnTS&#160;<br/>
<b>&#160;&#160;</b>STMnTT&#160;<br/>
<b>&#160;&#160;</b>STMnCSTR&#160;<br/>
<b>&#160;&#160;</b>STMnSTR&#160;<br/>
<b>&#160;&#160;</b>STMnSTC&#160;<br/>
<b>&#160;&#160;</b>STMnIS&#160;<br/>
<b>&#160;&#160;</b>STMnRM&#160;<br/>
<b>&#160;&#160;</b>STMnCNT0L&#160;<br/>
<b>&#160;&#160;</b>STMnCNT0H&#160;<br/>
<b>&#160;&#160;</b>STMnCMP0AL&#160;<br/>
<b>&#160;&#160;</b>STMnCMP0AH&#160;<br/>
<b>&#160;&#160;</b>STMnCMP0BL&#160;<br/>
<b>&#160;&#160;</b>STMnCMP0BH&#160;<br/>
<b>&#160;&#160;</b>STMnCMP0CL&#160;<br/>
<b>&#160;&#160;</b>STMnCMP0CH&#160;<br/>
<b>&#160;&#160;</b>STMnCMP0DL&#160;<br/>
<b>&#160;&#160;</b>STMnCMP0DH&#160;<br/>
<b>&#160;&#160;</b>STMnCNT1&#160;<br/>
<b>&#160;&#160;</b>STMnCMP1A&#160;<br/>
<b>&#160;&#160;</b>STMnCMP1B&#160;<br/>
<b>&#160;&#160;</b>STMnCMP1C&#160;<br/>
<b>&#160;&#160;</b>STMnCMP1D&#160;<br/>
<b>&#160;&#160;</b>STMnCNT2&#160;<br/>
<b>&#160;&#160;</b>STMnCMP2A&#160;<br/>
<b>&#160;&#160;</b>STMnCMP2B&#160;<br/>
<b>&#160;&#160;</b>STMnCMP2C&#160;<br/>
<b>&#160;&#160;</b>STMnCMP2D&#160;<br/>
<b>&#160;&#160;</b>STMnCNT3&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
104&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=105></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-105_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>&#160;&#160;</b>STMnCMP3A&#160;<br/>
<b>&#160;&#160;</b>STMnCMP3B&#160;<br/>
<b>&#160;&#160;</b>STMnCMP3C&#160;<br/>
<b>&#160;&#160;</b>STMnCMP3D&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
105&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=106></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-106_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>4.2.2.8&#160;</b><br/>
<b>Timer OSTM&#160;Registers&#160;</b><br/>
<b>&#160;&#160;</b>OSTMnCMP&#160;<br/>
<b>&#160;&#160;</b>OSTMnCNT&#160;<br/>
<b>&#160;&#160;</b>OSTMnTO&#160;<br/>
<b>&#160;&#160;</b>OSTMnTOE&#160;<br/>
<b>&#160;&#160;</b>OSTMnTE&#160;<br/>
<b>&#160;&#160;</b>OSTMnTS&#160;<br/>
<b>&#160;&#160;</b>OSTMnTT&#160;<br/>
<b>&#160;&#160;</b>OSTMnCTL&#160;<br/>
<b>&#160;&#160;</b>OSTMnEMU&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
106&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=107></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-107_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-107_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-107_3.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-107_4.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-107_5.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-107_6.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-107_7.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>4.2.2.9&#160;</b><br/>
<b>RH850&#160;Special&#160;Characteristics&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;</b><br/>
&#160;&#160;<b>&gt;&#160;&#160;</b>The&#160;exception&#160;handler&#160;for&#160;TRAP1 (offset&#160;=&#160;0x50)&#160;is&#160;implemented&#160;by&#160;the&#160;OS.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;</b><br/>
&#160;&#160;In SC3&#160;/&#160;SC4&#160;systems&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;exception&#160;handler&#160;for&#160;TRAP0 (offset&#160;=&#160;0x40)&#160;is&#160;implemented&#160;by&#160;the&#160;OS.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;exception&#160;handler&#160;for&#160;MIP/MDP&#160;(offset&#160;=&#160;0x90)&#160;is&#160;implemented by&#160;the&#160;OS.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;</b><br/>
<b>&#160;&#160;</b>The&#160;MPU&#160;in RH850 has&#160;a&#160;granularity&#160;of&#160;4Byte.&#160;Each&#160;data&#160;section&#160;must&#160;have 4Byte&#160;<br/>
address&#160;alignement.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;</b><br/>
<b>&#160;&#160;</b>Due&#160;to MPU&#160;granularity&#160;the&#160;start&#160;address&#160;of&#160;any&#160;configured&#160;MPU&#160;region&#160;must&#160;be&#160;a&#160;<br/>
multiple of&#160;4Byte.&#160;<br/>The&#160;end address&#160;of&#160;any&#160;configured&#160;MPU&#160;region&#160;must&#160;be&#160;the&#160;address&#160;of&#160;the&#160;last&#160;valid&#160;<br/>Byte&#160;of&#160;the&#160;section.&#160;<br/>MICROSAR&#160;OS&#160;programs&#160;the&#160;MPU&#160;to&#160;grant&#160;access&#160;to&#160;the&#160;memory&#160;region&#160;from&#160;start&#160;<br/>address&#160;and&#160;end&#160;address.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>All&#160;stack&#160;sizes shall&#160;be&#160;configured&#160;to be&#160;a&#160;multiple of&#160;4&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;</b><br/>
&#160;&#160;Tiny&#160;data&#160;area&#160;(TDA)&#160;and zero&#160;data&#160;area&#160;(ZDA)&#160;addressing&#160;are not&#160;supported.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
107&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=108></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-108_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-108_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-108_3.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-108_4.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-108_5.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;</b><br/>
&#160;&#160;For&#160;multicore-core&#160;derivatives,&#160;the&#160;stack&#160;used&#160;before&#160;StartOS&#160;should be&#160;linked&#160;into&#160;the&#160;<br/>
respective core&#160;local&#160;RAM&#160;areas.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>4.2.2.10&#160;&#160;PSW&#160;Register&#160;Handling&#160;</b><br/>
<b>PSW.EBV&#160;</b><br/>
MICROSAR&#160;OS&#160;sets&#160;PSW.EBV&#160;to 1&#160;upon&#160;Os_Init().&#160;<br/>
<b>PSW.UM&#160;</b><br/>
MICROSAR&#160;OS&#160;sets&#160;PSW.UM&#160;to 0&#160;for&#160;trusted&#160;software&#160;parts&#160;and&#160;to&#160;1&#160;for&#160;non-<br/>trusted&#160;software&#160;parts.&#160;<br/>
<b>PSW.NP&#160;</b><br/>
MICROSAR&#160;OS&#160;sets&#160;PSW.NP&#160;to 1&#160;to&#160;disable FE&#160;level&#160;interrupts&#160;and&#160;to 0&#160;to&#160;<br/>enable FE&#160;level&#160;interrupts.&#160;<br/>
<b>PSW.ID&#160;</b><br/>
MICROSAR&#160;OS&#160;sets&#160;PSW.ID&#160;to&#160;1&#160;to&#160;disable EI&#160;level&#160;interrupts&#160;and&#160;to 0&#160;to&#160;<br/>enable EI&#160;level&#160;interrupts.&#160;<br/>
<b>PSW.CU0&#160;</b><br/>
MICROSAR&#160;OS&#160;sets&#160;PSW.CU0&#160;&#160;to&#160;1 in&#160;order&#160;to support&#160;FPU.&#160;<br/>
&#160;<br/>
<b>4.2.2.11&#160;&#160;Instructions&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>&gt;&#160;The&#160;instructions&#160;&#34;trap&#160;16&#34;&#160;…&#160;“trap&#160;31”&#160;used&#160;for&#160;TRAP1&#160;are&#160;exclusively&#160;used by&#160;the&#160;<br/>
<b>&#160;&#160;</b>OS.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;</b><br/>
<b>&#160;&#160;</b>In SC3&#160;/&#160;SC4&#160;systems&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;instructions&#160;&#34;trap&#160;0&#34;&#160;…&#160;“trap&#160;15”&#160;used&#160;for&#160;TRAP0 are&#160;exclusively&#160;used by&#160;the&#160;<br/>
OS.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;instruction&#160;&#34;syscall&#34;&#160;is&#160;not&#160;supported&#160;and&#160;therefore&#160;shall&#160;not&#160;be&#160;used.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>4.2.2.12&#160;&#160;Exception&#160;and Interrupt&#160;Cause&#160;Address&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note</b>&#160;<br/>
&#160;&#160;The&#160;exception&#160;and&#160;interrupt&#160;cause&#160;address&#160;from&#160;EIPC&#160;and FEPC&#160;is&#160;stored in&#160;register&#160;<br/>
CTPC&#160;when unhandled&#160;EIINT,&#160;unhandled&#160;SYSCALL,&#160;MIP/MDP&#160;exception&#160;(SC3/SC4)&#160;<br/>or&#160;unhandled&#160;core&#160;exception&#160;is&#160;reported.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
108&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=109></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-109_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>4.2.3&#160;</b><br/>
<b>Power PC Family&#160;</b><br/>
<b>4.2.3.1&#160;</b><br/>
<b>Context&#160;</b><br/>
<b>&#160;&#160;</b>R2&#160;<br/>
<b>&#160;&#160;</b>R13-R31&#160;<br/>
<b>&#160;&#160;</b>PID&#160;<br/>
<b>&#160;&#160;</b>SP&#160;<br/>
<b>&#160;&#160;</b>PC&#160;<br/>
<b>&#160;&#160;</b>LR&#160;<br/>
<b>&#160;&#160;</b>MSR&#160;<br/>
<b>&#160;&#160;</b>INTC_CPR[0|1|2]&#160;<br/>
<b>&#160;&#160;</b>SPEFSCR&#160;<br/>
<b>4.2.3.2&#160;</b><br/>
<b>Core&#160;Registers&#160;</b><br/>
<b>&#160;&#160;</b>SPRG0,&#160;SPRG1&#160;<br/>
<b>&#160;&#160;</b>SRR0,&#160;SRR1&#160;<br/>
<b>&#160;&#160;</b>IVPR&#160;<br/>
<b>&#160;&#160;</b>PIR&#160;<br/>
<b>4.2.3.3&#160;</b><br/>
<b>Interrupt&#160;Registers&#160;</b><br/>
<b>&#160;&#160;</b>INTC_BCR&#160;<br/>
<b>&#160;&#160;</b>INTC_CPR0&#160;–&#160;INTC_CPR2&#160;<br/>
<b>&#160;&#160;</b>INTC_IACKR0&#160;–&#160;INTC_IACKR2&#160;<br/>
<b>&#160;&#160;</b>INTC_EOIR0&#160;–&#160;INTC_EOIR2&#160;<br/>
<b>&#160;&#160;</b>INTC_SSCIRn&#160;<br/>
<b>&#160;&#160;</b>INTC_PSRn&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
109&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=110></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-110_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>4.2.3.4&#160;</b><br/>
<b>PIT Registers&#160;</b><br/>
<b>&#160;&#160;</b>PIT_MCR&#160;<br/>
<b>&#160;&#160;</b>PIT_LDVALn&#160;<br/>
<b>&#160;&#160;</b>PIT_CVALn&#160;<br/>
<b>&#160;&#160;</b>PIT_TCTRLn&#160;<br/>
<b>&#160;&#160;</b>PIT_TFLGn&#160;<br/>
<b>4.2.3.5&#160;</b><br/>
<b>STM&#160;Registers&#160;</b><br/>
<b>&#160;&#160;</b>STM_CR&#160;<br/>
<b>&#160;&#160;</b>STM_CNT&#160;<br/>
<b>&#160;&#160;</b>STM_CCRn&#160;<br/>
<b>&#160;&#160;</b>STM_CIRn&#160;<br/>
<b>&#160;&#160;</b>STM_CMPn&#160;<br/>
<b>4.2.3.6&#160;</b><br/>
<b>MPU Registers&#160;</b><br/>
<b>Core MPU&#160;</b><br/>
<b>System&#160;MPU&#160;</b><br/>
<b>&gt;&#160;&#160;</b>CMPU_MAS0&#160;<br/>
<b>&gt;&#160;&#160;</b>SMPU_CESR0&#160;<br/>
<b>&gt;&#160;&#160;</b>CMPU_MAS1&#160;<br/>
<b>&gt;&#160;&#160;</b>SMPU_RGDn_WRD0&#160;<br/>
<b>&gt;&#160;&#160;</b>CMPU_MAS2&#160;<br/>
<b>&gt;&#160;&#160;</b>SMPU_RGDn_WRD1&#160;<br/>
<b>&gt;&#160;&#160;</b>CMPU_MAS3&#160;<br/>
<b>&gt;&#160;&#160;</b>SMPU_RGDn_WRD2&#160;<br/>
<b>&gt;&#160;&#160;</b>CMPU_MPU0CSR0&#160;<br/>
<b>&gt;&#160;&#160;</b>SMPU_RGDn_WRD3&#160;<br/>
<b>&gt;&#160;&#160;</b>SMPU_RGDn_WRD4&#160;<br/>
<b>&gt;&#160;&#160;</b>SMPU_RGDn_WRD5&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
110&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=111></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-111_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-111_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-111_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>4.2.3.7&#160;</b><br/>
<b>SEMA4&#160;Registers&#160;</b><br/>
<b>&#160;&#160;</b>SEMA42_GATE0&#160;<br/>
&#160;<br/>
<b>4.2.3.8&#160;</b><br/>
<b>Power PC&#160;Special&#160;Characteristics&#160;</b><br/>
<b>&#160;&#160;</b>The&#160;exception&#160;handler&#160;for Machine&#160;check&#160;is implemented&#160;by&#160;the&#160;OS&#160;&#160;<br/>
<b>&#160;&#160;</b>The&#160;exception&#160;handler&#160;for Data&#160;Storage&#160;is implemented&#160;by&#160;the&#160;OS&#160;&#160;<br/>
<b>&#160;&#160;</b>The&#160;exception&#160;handler&#160;for Instruction&#160;Storage&#160;is implemented&#160;by&#160;the&#160;OS&#160;&#160;<br/>
<b>&#160;&#160;</b>The&#160;exception&#160;handler&#160;for External Input&#160;is implemented&#160;by&#160;the&#160;OS&#160;&#160;<br/>
<b>&#160;&#160;</b>The&#160;exception&#160;handler&#160;for Program&#160;is implemented&#160;by&#160;the&#160;OS&#160;&#160;<br/>
<b>&#160;&#160;</b>The&#160;exception&#160;handler&#160;for System&#160;call&#160;is implemented&#160;by&#160;the&#160;OS&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>The&#160;register&#160;SPRG0 is exclusively&#160;used by&#160;the&#160;OS&#160;to hold&#160;the&#160;identifier&#160;of&#160;the&#160;current&#160;<br/>
&#160;&#160;thread.&#160;<br/>
The&#160;register&#160;SPRG1 is exclusively&#160;used by&#160;the&#160;OS&#160;to hold&#160;the&#160;address&#160;of&#160;the&#160;<br/>INTC_CPR&#160;register.&#160;<br/>The&#160;register&#160;SEMA42_GATE0&#160;is&#160;exclusively&#160;used by&#160;the&#160;OS&#160;to&#160;provide&#160;mutual&#160;<br/>exclusion&#160;in multicore&#160;systems&#160;for&#160;spinlock handling.&#160;<br/>Thus&#160;these&#160;registers&#160;must&#160;not&#160;be&#160;used&#160;otherwise.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;</b><br/>
<b>&#160;&#160;</b>Due&#160;to MPU&#160;granularity&#160;all&#160;start&#160;addresses&#160;of&#160;configured&#160;MPU&#160;regions&#160;for&#160;the&#160;<br/>
SystemMPU&#160;must&#160;be&#160;a&#160;multiple of&#160;32.&#160;The&#160;configured&#160;end&#160;addresses&#160;must&#160;be&#160;a&#160;<br/>multiple of&#160;32&#160;minus&#160;one&#160;byte.&#160;<br/>MICROSAR&#160;OS&#160;programs&#160;the&#160;MPU&#160;to&#160;grant&#160;access&#160;to&#160;the&#160;memory&#160;region&#160;between&#160;<br/>start&#160;address&#160;and end&#160;address.&#160;<br/>&gt;&#160;&#160;Access&#160;to&#160;configured start&#160;address&#160;and end&#160;address&#160;itself&#160;is&#160;granted&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
111&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=112></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-112_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-112_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-112_3.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-112_4.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-112_5.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>For&#160;the&#160;CoreMPU,&#160;no&#160;restrictions&#160;on&#160;start&#160;address&#160;and end&#160;address&#160;apply.&#160;<br/>
&#160;&#160;MICROSAR&#160;OS&#160;programs&#160;the&#160;MPU&#160;to&#160;grant&#160;access&#160;to&#160;the&#160;memory&#160;region&#160;between&#160;<br/>
start&#160;address&#160;and end&#160;address.&#160;<br/>
&gt;&#160;&#160;Access&#160;to&#160;configured start&#160;address&#160;and end&#160;address&#160;itself&#160;is&#160;granted&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>All&#160;stack&#160;sizes shall&#160;be&#160;configured&#160;to be&#160;a&#160;multiple of&#160;8&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;</b><br/>
<b>&#160;&#160;</b>MICROSAR&#160;OS&#160;assumes&#160;that&#160;Power&#160;PC&#160;multi&#160;core derivatives are booted&#160;as&#160;a&#160;master&#160;<br/>
/&#160;slave system&#160;(as&#160;described in<a href="TechnicalReference_Oss.html#57">&#160;2.15.4).</a>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;</b><br/>
&#160;&#160;For&#160;System&#160;MPU&#160;regions&#160;only&#160;the&#160;format&#160;FMT1 is&#160;supported&#160;to&#160;setting&#160;up&#160;the&#160;<br/>
SMPUx_RGDn_WORD2.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>4.2.3.9&#160;</b><br/>
<b>MSR Handling&#160;</b><br/>
<b>MSR.SPV&#160;bit&#160;handling&#160;</b><br/>
MICROSAR&#160;OS&#160;sets&#160;the&#160;SPV&#160;bit&#160;to&#160;1&#160;upon&#160;start&#160;of&#160;a&#160;thread.&#160;<br/>
<b>MSR.EE&#160;bit&#160;handling&#160;</b><br/>
MICROSAR&#160;OS&#160;sets&#160;the&#160;external&#160;interrupt&#160;enable&#160;bit&#160;to 0&#160;for&#160;non-<br/>interruptible threads without&#160;TimingProtection&#160;supervision,&#160;and to&#160;1&#160;for&#160;<br/>interruptible or&#160;TimingProtection&#160;supervised&#160;threads.&#160;<br/>
<b>MSR.PR&#160;bit&#160;handling&#160;</b><br/>
MICROSAR&#160;OS&#160;sets&#160;the&#160;problem&#160;state&#160;bit&#160;to 0&#160;for&#160;trusted&#160;software&#160;<br/>parts&#160;and&#160;to 1&#160;for&#160;non-trusted&#160;software&#160;parts.&#160;<br/>
<b>MSR.ME&#160;bit&#160;handling&#160;</b><br/>
MICROSAR&#160;OS&#160;sets&#160;the&#160;machine&#160;check&#160;enable bit&#160;to&#160;1.&#160;<br/>Asynchronous&#160;Machine&#160;Check&#160;interrupts&#160;are enabled.&#160;<br/>
<b>MSR&#160;remaining&#160;bits&#160;</b><br/>
MICROSAR&#160;OS&#160;sets&#160;all&#160;other&#160;MSR&#160;bits&#160;to 0&#160;upon&#160;start&#160;of&#160;a&#160;thread.&#160;<br/>
<b>handling&#160;</b><br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
112&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=113></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-113_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>4.2.4&#160;</b><br/>
<b>ARM&#160;Family&#160;</b><br/>
<b>4.2.4.1&#160;</b><br/>
<b>Cortex-R derivatives&#160;</b><br/>
<b>&#160;</b><br/>
Generic&#160;<br/>
Traveo&#160;Family&#160;<br/>
UltraScale Family&#160;<br/>
Cortex-R&#160;<br/>
<b>Context&#160;Registers&#160;</b><br/>
<b>&gt;&#160;&#160;</b>R4-R11&#160;<br/>
<b>&gt;&#160;&#160;</b>PC&#160;<br/>
<b>&gt;&#160;&#160;</b>LR&#160;<br/>
<b>&gt;&#160;&#160;</b>SP&#160;<br/>
<b>&gt;&#160;&#160;</b>PSR&#160;<br/>
---&#160;<br/>
<b>&gt;&#160;&#160;</b>IRQPLM&#160;<br/>
<b>&gt;&#160;&#160;</b>ICCPMR&#160;<br/>
<b>Core Registers&#160;</b><br/>
<b>&gt;&#160;&#160;</b>SCTLR&#160;<br/>
<b>&gt;&#160;&#160;</b>TPIDRURO&#160;<br/>
<b>MPU&#160;Registers&#160;</b><br/>
<b>&gt;&#160;&#160;</b>DRBAR&#160;<br/>
<b>&gt;&#160;&#160;</b>DRSR&#160;<br/>
<b>&gt;&#160;&#160;</b>DRACR&#160;<br/>
<b>&gt;&#160;&#160;</b>RGNR&#160;<br/>
<b>Bootrom&#160;Registers&#160;</b><br/>
<b>&gt;&#160;&#160;</b>UNLOCK&#160;<br/>
<b>&gt;&#160;&#160;</b>CNFG&#160;<br/>
<b>&gt;&#160;&#160;</b>UNDEFINACT&#160;<br/>
---&#160;<br/>
---&#160;<br/>
<b>&gt;&#160;&#160;</b>SVCINACT&#160;<br/>
<b>&gt;&#160;&#160;</b>PABORTINACT&#160;<br/>
<b>&gt;&#160;&#160;</b>DABORTINACT&#160;<br/>
<b>INTC&#160;Registers&#160;</b><br/>
<b>&gt;&#160;&#160;</b>NMIST&#160;<br/>
<b>&gt;&#160;&#160;</b>ICCICR&#160;<br/>
<b>&gt;&#160;&#160;</b>IRQST&#160;<br/>
<b>&gt;&#160;&#160;</b>ICCBPR&#160;<br/>
<b>&gt;&#160;&#160;</b>NMIVAn&#160;<br/>
<b>&gt;&#160;&#160;</b>ICCIAR&#160;<br/>
<b>&gt;&#160;&#160;</b>IRQVAn&#160;<br/>
<b>&gt;&#160;&#160;</b>ICCEOIR&#160;<br/>
<b>&gt;&#160;&#160;</b>NMIPLn&#160;<br/>
<b>&gt;&#160;&#160;</b>ICDDCR&#160;<br/>
<b>&gt;&#160;&#160;</b>IRQPLn&#160;<br/>
<b>&gt;&#160;&#160;</b>ICDISRn&#160;<br/>
<b>&gt;&#160;&#160;</b>NMIS&#160;<br/>
<b>&gt;&#160;&#160;</b>ICDISERn&#160;<br/>
---&#160;<br/>
<b>&gt;&#160;&#160;</b>NMIR&#160;<br/>
<b>&gt;&#160;&#160;</b>ICDICERn&#160;<br/>
<b>&gt;&#160;&#160;</b>IRQSn&#160;<br/>
<b>&gt;&#160;&#160;</b>ICDISPRn&#160;<br/>
<b>&gt;&#160;&#160;</b>IRQRn&#160;<br/>
<b>&gt;&#160;&#160;</b>ICDICPRn&#160;<br/>
<b>&gt;&#160;&#160;</b>IRQCESn&#160;<br/>
<b>&gt;&#160;&#160;</b>ICDIPRn&#160;<br/>
<b>&gt;&#160;&#160;</b>IRQCERn&#160;<br/>
<b>&gt;&#160;&#160;</b>ICDIPTRn&#160;<br/>
<b>&gt;&#160;&#160;</b>NMIHC&#160;<br/>
<b>&gt;&#160;&#160;</b>ICDSGIR&#160;<br/>
<b>&gt;&#160;&#160;</b>IRQHC&#160;<br/>
<b>&gt;&#160;&#160;</b>UNLOCK&#160;<br/>
<b>FRT&#160;Registers&#160;</b><br/>
<b>&gt;&#160;&#160;</b>TCDT&#160;<br/>
---&#160;<br/>
---&#160;<br/>
<b>&gt;&#160;&#160;</b>TCCS&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
113&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=114></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-114_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>&gt;&#160;&#160;</b>TCCSC&#160;<br/>
<b>&gt;&#160;&#160;</b>TCCSS&#160;<br/>
<b>Output&#160;Compare&#160;</b><br/>
<b>&gt;&#160;&#160;</b>OCCP0,&#160;OCCP1&#160;<br/>
<b>Registers&#160;</b><br/>
<b>&gt;&#160;&#160;</b>OCS&#160;<br/>
---&#160;<br/>
---&#160;<br/>
<b>&gt;&#160;&#160;</b>OCSC&#160;<br/>
<b>&gt;&#160;&#160;</b>OCSS&#160;<br/>
<b>TTC&#160;Registers&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Clock_Control&#160;<br/>
<b>&gt;&#160;&#160;</b>Counter_Control&#160;<br/>
<b>&gt;&#160;&#160;</b>Counter_Value&#160;<br/>
<b>&gt;&#160;&#160;</b>Interval_Counter&#160;<br/>
<b>&gt;&#160;&#160;</b>Match_1_Counter&#160;<br/>
---&#160;<br/>
---&#160;<br/>
<b>&gt;&#160;&#160;</b>Match_2_Counter&#160;<br/>
<b>&gt;&#160;&#160;</b>Match_3_Counter&#160;<br/>
<b>&gt;&#160;&#160;</b>Interrupt_Register&#160;<br/>
<b>&gt;&#160;&#160;</b>Interrupt_Enable&#160;<br/>
<b>&gt;&#160;&#160;</b>Event_Control_Timer&#160;<br/>
<b>&gt;&#160;&#160;</b>Event_Register&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
114&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=115></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-115_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-115_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>4.2.4.2&#160;</b><br/>
<b>Cortex-A&#160;derivatives&#160;</b><br/>
<b>&#160;</b><br/>
Generic&#160;Cortex-A&#160;<br/>
iMX6 Family&#160;<br/>
<b>Context&#160;Registers&#160;</b><br/>
<b>&gt;&#160;&#160;</b>R4-R11&#160;<br/>
<b>&gt;&#160;&#160;</b>PC&#160;<br/>
<b>&gt;&#160;&#160;</b>LR&#160;<br/>
<b>&gt;&#160;&#160;</b>SP&#160;<br/>
<b>&gt;&#160;&#160;</b>PSR&#160;<br/>
<b>Core&#160;Registers&#160;</b><br/>
<b>&gt;&#160;&#160;</b>SCTLR&#160;<br/>
<b>&gt;&#160;&#160;</b>VBAR&#160;<br/>
<b>INTC&#160;Registers&#160;</b><br/>
<b>&gt;&#160;&#160;</b>ICCICR&#160;<br/>
<b>&gt;&#160;&#160;</b>ICCBPR&#160;<br/>
<b>&gt;&#160;&#160;</b>ICCIAR&#160;<br/>
<b>&gt;&#160;&#160;</b>ICCEOIR&#160;<br/>
<b>&gt;&#160;&#160;</b>ICDDCR&#160;<br/>
<b>&gt;&#160;&#160;</b>ICDISRn&#160;<br/>
<b>&gt;&#160;&#160;</b>ICDISERn&#160;<br/>
---&#160;<br/>
<b>&gt;&#160;&#160;</b>ICDICERn&#160;<br/>
<b>&gt;&#160;&#160;</b>ICDISPRn&#160;<br/>
<b>&gt;&#160;&#160;</b>ICDICPRn&#160;<br/>
<b>&gt;&#160;&#160;</b>ICDIPRn&#160;<br/>
<b>&gt;&#160;&#160;</b>ICCPMR&#160;<br/>
<b>&gt;&#160;&#160;</b>ICDIPTRn&#160;<br/>
<b>&gt;&#160;&#160;</b>ICDSGIR&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.2.4.3&#160;</b><br/>
<b>ARM&#160;Special&#160;Characteristics&#160;</b><br/>
<b>&#160;&#160;</b>The&#160;exception&#160;handler&#160;for Supervisor Call&#160;is implemented&#160;by&#160;the&#160;OS&#160;&#160;<br/>
<b>&#160;&#160;</b>The&#160;exception&#160;handler&#160;for Undefined&#160;Instruction&#160;is implemented&#160;by&#160;the&#160;OS&#160;<br/>
<b>&#160;&#160;</b>The&#160;exception&#160;handler&#160;for Prefetch&#160;Abort is implemented&#160;by&#160;the&#160;OS&#160;<br/>
<b>&#160;&#160;</b>The&#160;exception&#160;handler&#160;for Data&#160;Abort is implemented&#160;by&#160;the&#160;OS&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>Due&#160;to MPU&#160;hardware&#160;restriction&#160;the&#160;sizes of&#160;MPU&#160;regions&#160;and&#160;stack&#160;sizes must&#160;be&#160;<br/>
<b>&#160;&#160;</b>configured&#160;with power&#160;of&#160;2 values.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
115&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=116></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-116_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-116_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-116_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;with&#160;UltraScale derivatives&#160;</b><br/>
<b>&#160;&#160;</b>The&#160;exception&#160;vector&#160;table&#160;of&#160;each&#160;core&#160;must&#160;be&#160;located&#160;in&#160;tightly&#160;coupled&#160;RAM&#160;<br/>
memory&#160;at&#160;address&#160;0x0.&#160;<br/>Either&#160;the&#160;debugger&#160;or&#160;the startup&#160;code&#160;has&#160;to&#160;copy&#160;the&#160;exception&#160;vector&#160;table&#160;from&#160;<br/>ROM&#160;section “OS_EXCVEC_CORE&lt;core&#160;ID&gt;_CODE”&#160;to address&#160;0x0.&#160;<br/>During&#160;OS&#160;startup&#160;OS&#160;code&#160;assumes&#160;that&#160;the&#160;exception&#160;vector&#160;table has&#160;already&#160;been&#160;<br/>copied.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;</b><br/>
<b>&#160;&#160;</b>To&#160;avoid memory&#160;violations during&#160;startup&#160;phase,&#160;the&#160;startup&#160;code shall&#160;initialize the&#160;<br/>
stack&#160;pointer&#160;to&#160;use&#160;the&#160;OS&#160;kernel&#160;stack.&#160;<br/>e.g.&#160;usage of&#160;the&#160;following&#160;function&#160;within startup&#160;code&#160;<br/>__asm void HwSpec_ChangeToKernelStackAndReturn(void)&#160;<br/>{&#160;<br/>&#160;&#160;ldr r0, =OsCfg_Stack_KernelStacks&#160;<br/>&#160;&#160;ldr r0, [r0] /* r0 = OsCfg_Stack_KernelStacks[0] */&#160;<br/>&#160;&#160;ldr r0, [r0] /* r0 = OsCfg_Stack_KernelStacks[0]-&gt;StackRegionEnd */&#160;<br/>&#160;&#160;mov sp, r0&#160;<br/>&#160;&#160;bx lr&#160;<br/>}&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
116&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=117></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-117_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-117_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-117_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>4.3&#160;</b><br/>
<b>Memory&#160;Mapping Concept&#160;</b><br/>
MICROSAR&#160;OS&#160;uses&#160;the&#160;AUTOSAR&#160;MemMap&#160;mechanism&#160;to&#160;locate&#160;its&#160;own&#160;variables&#160;but&#160;<br/>also&#160;application&#160;variables.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>To&#160;use&#160;the&#160;OS&#160;memory&#160;mapping&#160;concept&#160;within the&#160;AUTOSAR&#160;MemMap&#160;mechanism&#160;<br/>
&#160;&#160;the&#160;generated&#160;OS&#160;file&#160;“Os_MemMap.h”&#160;has&#160;to be&#160;included&#160;into&#160;“MemMap.h”.&#160;<br/>
It&#160;should be&#160;included&#160;after&#160;the&#160;inclusion&#160;of&#160;the&#160;MemMap&#160;headers&#160;of&#160;all&#160;other&#160;basic&#160;<br/>software&#160;components.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>4.3.1&#160;</b><br/>
<b>Provided&#160;MemMap&#160;Section&#160;Specifers&#160;</b><br/>
MICROSAR&#160;&#160;OS&#160;&#160;uses&#160;&#160;and&#160;&#160;specifies&#160;&#160;section&#160;&#160;specifiers&#160;&#160;as&#160;&#160;described&#160;&#160;in&#160;&#160;the&#160;&#160;AUTOSAR&#160;<br/>specification&#160;of&#160;memory&#160;mapping.&#160;All&#160;section&#160;specifiers have&#160;one&#160;of&#160;the&#160;following&#160;forms:&#160;<br/>OS_START_SEC_&lt;SectionType&gt;[_&lt;InitPolicy&gt;][_&lt;Alignment&gt;]&#160;<br/>OS_STOP_SEC_&lt;SectionType&gt;[_&lt;InitPolicy&gt;][_&lt;Alignment&gt;]&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;</b><br/>
&#160;&#160;Due&#160;to&#160;clarity&#160;and understanding&#160;this&#160;chapter&#160;does&#160;only&#160;refer&#160;to section&#160;specifiers&#160;that&#160;<br/>
shall&#160;be&#160;handled&#160;by&#160;the&#160;application.&#160;<br/>The&#160;OS&#160;internally&#160;used section specifiers&#160;are not&#160;listed&#160;here.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
117&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=118></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-118_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>SectionType&#160;</b><br/>
<b>InitPolicy&#160;</b><br/>
<b>Alignment&#160;</b><br/>
&lt;Callout&gt;_CODE&#160;<br/>
-&#160;<br/>
-&#160;<br/>
NONAUTOSAR_CORE&lt;&#160;Core&#160;Id&#160;&gt;_CONST&#160;<br/>
-&#160;<br/>
UNSPECIFIED&#160;<br/>
NONAUTOSAR_CORE&lt;&#160;Core&#160;Id&gt;_VAR&#160;<br/>
NOINIT&#160;<br/>
UNSPECIFIED&#160;<br/>
&lt;ApplicationName&gt;_VAR&#160;<br/>
-&#160;<br/>
BOOLEAN&#160;<br/>
NOINIT&#160;<br/>
8BIT&#160;<br/>
ZERO_INIT&#160;<br/>
16BIT&#160;<br/>32BIT&#160;<br/>
UNSPECIFIED&#160;<br/>
&lt;ApplicationName&gt;_VAR_FAST&#160;<br/>
-&#160;<br/>
BOOLEAN&#160;<br/>
NOINIT&#160;<br/>
8BIT&#160;<br/>
16BIT&#160;<br/>32BIT&#160;<br/>
UNSPECIFIED&#160;<br/>
&lt;ApplicationName&gt;_VAR_NOCACHE&#160;<br/>
-&#160;<br/>
BOOLEAN&#160;<br/>
NOINIT&#160;<br/>
8BIT&#160;<br/>
ZERO_INIT&#160;<br/>
16BIT&#160;<br/>32BIT&#160;<br/>
UNSPECIFIED&#160;<br/>
&lt;ApplicationName&gt;_CONST&#160;<br/>
-&#160;<br/>
BOOLEAN&#160;<br/>
8BIT&#160;<br/>
16BIT&#160;<br/>32BIT&#160;<br/>
UNSPECIFIED&#160;<br/>
&lt;ApplicationName&gt;CONST_FAST&#160;<br/>
-&#160;<br/>
BOOLEAN&#160;<br/>
8BIT&#160;<br/>
16BIT&#160;<br/>32BIT&#160;<br/>
UNSPECIFIED&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
118&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=119></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-119_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>SectionType&#160;</b><br/>
<b>InitPolicy&#160;</b><br/>
<b>Alignment&#160;</b><br/>
&lt;Task/IsrName&gt;_VAR&#160;<br/>
-&#160;<br/>
BOOLEAN&#160;<br/>
NOINIT&#160;<br/>
8BIT&#160;<br/>
ZERO_INIT&#160;<br/>
16BIT&#160;<br/>32BIT&#160;<br/>
UNSPECIFIED&#160;<br/>
&lt;Task/IsrName&gt;_VAR_FAST&#160;<br/>
-&#160;<br/>
BOOLEAN&#160;<br/>
NOINIT&#160;<br/>
8BIT&#160;<br/>
ZERO_INIT&#160;<br/>
16BIT&#160;<br/>32BIT&#160;<br/>
UNSPECIFIED&#160;<br/>
&lt;Task/IsrName&gt;_CONST&#160;<br/>
-&#160;<br/>
BOOLEAN&#160;<br/>
8BIT&#160;<br/>
16BIT&#160;<br/>32BIT&#160;<br/>
UNSPECIFIED&#160;<br/>
&lt;Task/IsrName&gt;_CONST_FAST&#160;<br/>
-&#160;<br/>
BOOLEAN&#160;<br/>
8BIT&#160;<br/>
16BIT&#160;<br/>32BIT&#160;<br/>
UNSPECIFIED&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
119&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=120></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-120_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-120_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>SectionType&#160;</b><br/>
<b>InitPolicy&#160;</b><br/>
<b>Alignment&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
GLOBALSHARED_VAR&#160;<br/>
-&#160;<br/>
BOOLEAN&#160;<br/>
NOINIT&#160;<br/>
8BIT&#160;<br/>
ZERO_INIT&#160;<br/>
16BIT&#160;<br/>32BIT&#160;<br/>
UNSPECIFIED&#160;<br/>
GLOBALSHARED_VAR_FAST&#160;<br/>
-&#160;<br/>
BOOLEAN&#160;<br/>
NOINIT&#160;<br/>
8BIT&#160;<br/>
ZERO_INIT&#160;<br/>
16BIT&#160;<br/>32BIT&#160;<br/>
UNSPECIFIED&#160;<br/>
GLOBALSHARED_VAR_NOCACHE&#160;<br/>
-&#160;<br/>
BOOLEAN&#160;<br/>
NOINIT&#160;<br/>
8BIT&#160;<br/>
ZERO_INIT&#160;<br/>
16BIT&#160;<br/>32BIT&#160;<br/>
UNSPECIFIED&#160;<br/>
GLOBALSHARED_CONST&#160;<br/>
-&#160;<br/>
BOOLEAN&#160;<br/>
8BIT&#160;<br/>
16BIT&#160;<br/>32BIT&#160;<br/>
UNSPECIFIED&#160;<br/>
GLOBALSHARED_CONST_FAST&#160;<br/>
-&#160;<br/>
BOOLEAN&#160;<br/>
8BIT&#160;<br/>
16BIT&#160;<br/>32BIT&#160;<br/>
UNSPECIFIED&#160;<br/>
Table&#160;4-1&#160;&#160;&#160;Provided&#160;MemMap&#160;Section&#160;Specifiers&#160;<br/>
<b>4.3.1.1&#160;</b><br/>
<b>Usage&#160;of&#160;MemMap Macros&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Example&#160;<br/></b>#define OS_START_SEC_MyAppl_VAR_FAST_NOINIT_UNSPECIFIED&#160;<br/>
&#160;&#160;#include “MemMap.h”&#160;<br/>
uint16&#160;MyApplicationVariable;&#160;<br/>
#define OS_STOP_SEC_MyAppl_VAR_FAST_NOINIT_UNSPECIFIED&#160;<br/>
#include “MemMap.h”&#160;<br/>
&#160;<br/>This&#160;code snippet&#160;puts&#160;the user&#160;variable into an&#160;OS&#160;application section.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
120&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=121></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-121_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-121_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>4.3.1.2&#160;</b><br/>
<b>Resulting sections&#160;</b><br/>
The&#160;usage&#160;of&#160;the&#160;above&#160;described&#160;macros&#160;will result in&#160;the&#160;following&#160;memory&#160;sections:&#160;<br/>
<b>SectionType&#160;</b><br/>
<b>Content&#160;/&#160;Description&#160;</b><br/>
OS_CODE&#160;<br/>
&gt;&#160;&#160;OS&#160;Code&#160;<br/>
OS_INTVEC_CODE&#160;<br/>
&gt;&#160;&#160;Interrupt&#160;vector table&#160;in&#160;case the&#160;system&#160;needs&#160;<br/>
one&#160;generic&#160;vector table for all&#160;cores&#160;<br/>
OS_INTVEC_CORE&lt;Core&#160;ID&gt;_CODE&#160;<br/>
&gt;&#160;&#160;Interrupt&#160;vector table&#160;of&#160;one&#160;specific&#160;core&#160;<br/>
OS_EXCVEC_CORE&lt;Core&#160;ID&gt;_CODE&#160;<br/>
&gt;&#160;&#160;Exception&#160;vector table of&#160;one&#160;core&#160;<br/>
OS_&lt;Callout&gt;_CODE&#160;<br/>
&gt;&#160;&#160;Code&#160;of&#160;Tasks, ISRs&#160;and&#160;OS&#160;Hooks&#160;<br/>
Table&#160;4-2&#160;&#160;&#160;MemMap&#160;Code&#160;Sections&#160;Descriptions&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;</b><br/>
&#160;&#160;The&#160;MPU&#160;may&#160;be&#160;set&#160;up&#160;to&#160;grant&#160;execution&#160;from&#160;the&#160;whole address&#160;space.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
121&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=122></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-122_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-122_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>SectionType&#160;</b><br/>
<b>Content&#160;/&#160;Description&#160;</b><br/>
OS_CONST&#160;<br/>
&gt;&#160;&#160;OS&#160;constant data&#160;<br/>
OS_CONST_FAST&#160;<br/>
&gt;&#160;&#160;OS&#160;constant data&#160;for fast&#160;memory&#160;<br/>
OS_INTVEC_CONST&#160;<br/>
&gt;&#160;&#160;Interrupt&#160;vector table&#160;in&#160;case the&#160;system&#160;needs&#160;<br/>
one&#160;generic&#160;vector table for all&#160;cores&#160;<br/>
OS_CORE&lt;Core&#160;Id&gt;_CONST&#160;<br/>
&gt;&#160;&#160;OS&#160;constant data&#160;related&#160;to&#160;one specific&#160;core&#160;<br/>
OS_CORE&lt;Core&#160;Id&gt;_CONST_FAST&#160;<br/>
&gt;&#160;&#160;OS&#160;constant data&#160;related&#160;to&#160;one specific&#160;for fast&#160;<br/>
memory&#160;<br/>
OS_INTVEC_&lt;Core&#160;Id&gt;_CONST&#160;<br/>
&gt;&#160;&#160;Interrupt&#160;vector table&#160;of&#160;one&#160;specific&#160;core&#160;<br/>
OS_EXCVEC_&lt;Core&#160;Id&gt;_CONST&#160;<br/>
&gt;&#160;&#160;Exception&#160;vector table of&#160;one&#160;core&#160;<br/>
OS_NONAUTOSAR_CORE&lt;&#160;Core&#160;Id&#160;&gt;_CONST&#160;&#160;&gt;&#160;&#160;OS&#160;constant data&#160;of&#160;a&#160;non-AUTOSAR core&#160;<br/>OS_NONAUTOSAR_CORE&lt;&#160;Core&#160;Id&#160;<br/>
&gt;&#160;&#160;OS&#160;constant data&#160;of&#160;a&#160;non-AUTOSAR core&#160;with&#160;<br/>
&gt;_CONST_FAST&#160;<br/>
shord addressing&#160;<br/>
OS_GLOBALSHARED_CONST&#160;<br/>
&gt;&#160;&#160;Constants&#160;which&#160;shall&#160;be&#160;shared&#160;among core&#160;<br/>
boundaries&#160;<br/>
OS_GLOBALSHARED_CONST_FAST&#160;<br/>
&gt;&#160;&#160;Constants&#160;which&#160;shall&#160;be&#160;shared&#160;among core&#160;<br/>
boundaries&#160;and&#160;which use&#160;short addressing&#160;<br/>accesses&#160;(e.g. by&#160;base&#160;address&#160;pointer)&#160;<br/>
OS_&lt;Task/IsrName&gt;_CONST&#160;<br/>
&gt;&#160;&#160;Thread&#160;specific&#160;constants&#160;<br/>
OS_&lt;Task/IsrName&gt;_CONST_FAST&#160;<br/>
&gt;&#160;&#160;Thread&#160;specific&#160;constants&#160;which&#160;use short&#160;<br/>
addressing accesses&#160;(e.g.&#160;by&#160;base address&#160;<br/>pointer)&#160;<br/>
OS_&lt;ApplicationName&gt;_CONST&#160;<br/>
&gt;&#160;&#160;Application specific&#160;constants&#160;<br/>
OS_&lt;ApplicationName&gt;_CONST_FAST&#160;<br/>
&gt;&#160;&#160;Application specific&#160;constants&#160;which&#160;use short&#160;<br/>
addressing accesses&#160;(e.g.&#160;by&#160;base address&#160;<br/>pointer)&#160;<br/>
Table&#160;4-3&#160;&#160;&#160;MemMap&#160;Const&#160;Sections&#160;Descriptions&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>The&#160;MPU&#160;may&#160;be&#160;set&#160;up&#160;to&#160;grant&#160;read&#160;access&#160;to&#160;const&#160;sections&#160;from&#160;all&#160;runtime&#160;<br/>
&#160;&#160;contexts&#160;(trusted&#160;and non-trusted)&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
122&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=123></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-123_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>Section&#160;</b><br/>
<b>t&#160;<br/>ent<br/>on<br/>C</b><br/>
OS_VAR_NOCACHE&#160;<br/>
OS&#160;global&#160;variables.&#160;All&#160;cores&#160;may&#160;<br/>have to access&#160;these variables.&#160;<br/>
OS_VAR_NOCACHE_NOINIT&#160;<br/>OS_VAR_FAST_NOCACHE&#160;<br/>OS_VAR_FAST_NOCACHE_NOINIT&#160;<br/>OS_CORE&lt;Core&#160;Id&gt;_VAR&#160;<br/>
OS&#160;core local&#160;variables.&#160;These&#160;<br/>variables are never&#160;accessed&#160;from&#160;<br/>
OS_CORE&lt;Core&#160;Id&gt;_VAR_FAST&#160;<br/>
foreign cores.&#160;<br/>
OS_CORE&lt;Core&#160;Id&gt;_VAR_NOINIT&#160;<br/>OS_CORE&lt;Core&#160;Id&gt;_VAR_FAST_NOINIT&#160;<br/>OS_CORE&lt;Core&#160;Id&gt;_VAR_NOCACHE&#160;<br/>OS_CORE&lt;Core&#160;Id&gt;_VAR_FAST_NOCACHE&#160;<br/>OS_CORE&lt;Core&#160;Id&gt;_VAR_NOCACHE_NOINIT&#160;<br/>OS_CORE&lt;Core&#160;Id&gt;_VAR_FAST_NOCACHE_NOINIT&#160;<br/>OS_PUBLIC_CORE&lt;Core&#160;Id&gt;_VAR_NOINIT&#160;<br/>
OS&#160;core local&#160;variables.&#160;These&#160;<br/>variables may&#160;also be&#160;accessed&#160;<br/>
OS_PUBLIC_CORE&lt;Core&#160;Id&gt;_VAR_FAST_NOINIT&#160;<br/>
from&#160;foreign&#160;cores&#160;<br/>
OS_NONAUTOSAR_CORE&lt;Core Id&gt;_VAR&#160;<br/>
User&#160;core local&#160;variables of&#160;non-<br/>AUTOSAR&#160;cores.&#160;Access&#160;to&#160;these&#160;<br/>
OS_NONAUTOSAR_CORE&lt;Core Id&gt;_VAR_FAST&#160;<br/>
from&#160;foreign&#160;cores&#160;may&#160;be allowed.&#160;<br/>
OS_NONAUTOSAR_CORE&lt;Core Id&gt;_VAR_NOINIT&#160;<br/>OS_NONAUTOSAR_CORE&lt;Core Id&gt;_VAR_FAST_NOINIT&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
123&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=124></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-124_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>Section&#160;</b><br/>
<b>t&#160;<br/>ent<br/>on<br/>C</b><br/>
OS_GLOBALSHARED_VAR&#160;<br/>
User&#160;global&#160;shared&#160;variables.&#160;<br/>All&#160;cores&#160;have access&#160;to&#160;them.&#160;<br/>
OS_GLOBALSHARED_VAR_FAST&#160;<br/>OS_GLOBALSHARED_VAR_NOINIT&#160;<br/>OS_GLOBALSHARED_VAR_FAST_NOINIT&#160;<br/>OS_GLOBALSHARED_VAR_ZERO_INIT&#160;<br/>OS_GLOBALSHARED_VAR_NOCACHE&#160;<br/>OS_GLOBALSHARED_VAR_FAST_NOCACHE&#160;<br/>OS_GLOBALSHARED_VAR_NOCACHE_NOINIT&#160;<br/>OS_GLOBALSHARED_VAR_FAST_NOCACHE_NOINIT&#160;<br/>OS_GLOBALSHARED_VAR_NOCACHE_ZERO_INIT&#160;<br/>OS_&lt;ApplicationName&gt;_VAR&#160;<br/>
User&#160;application private&#160;<br/>variables.&#160;Only&#160;application&#160;<br/>
OS_&lt;ApplicationName&gt;_VAR_FAST&#160;<br/>
members&#160;and&#160;other&#160;trusted&#160;<br/>
OS_&lt;ApplicationName&gt;_VAR_NOINIT&#160;<br/>
software&#160;may&#160;have access&#160;to&#160;<br/>
OS_&lt;ApplicationName&gt;_VAR_FAST_NOINIT&#160;<br/>
them.&#160;<br/>
OS_&lt;ApplicationName&gt;_VAR_FAST_ZERO_INIT&#160;<br/>OS_&lt;ApplicationName&gt;_VAR_NOCACHE&#160;<br/>OS_&lt;ApplicationName&gt;_VAR_FAST_NOCACHE&#160;<br/>OS_&lt;ApplicationName&gt;_VAR_NOCACHE_NOINIT&#160;<br/>OS_&lt;ApplicationName&gt;_VAR_FAST_NOCACHE_NOINIT&#160;<br/>OS_&lt;ApplicationName&gt;_VAR_NOCACHE_ZERO_INIT&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
124&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=125></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-125_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>Section&#160;</b><br/>
<b>t&#160;<br/>ent<br/>on<br/>C</b><br/>
OS_&lt;Task/IsrName&gt;_VAR&#160;<br/>
User&#160;thread&#160;private&#160;<br/>variables.&#160;Only&#160;the&#160;owning&#160;<br/>
OS_&lt;Task/IsrName&gt;_VAR_FAST&#160;<br/>
thread&#160;and&#160;other&#160;trusted&#160;<br/>
OS_&lt;Task/IsrName&gt;_VAR_NOINIT&#160;<br/>
software&#160;may&#160;have&#160;<br/>
OS_&lt;Task/IsrName&gt;_VAR_FAST_NOINIT&#160;<br/>
access&#160;to&#160;them&#160;<br/>
OS_&lt;Task/IsrName&gt;_VAR_ZERO_INIT&#160;<br/>OS_BARRIER_CORE&lt;Core&#160;Id&gt;_VAR_NOCACHE_NOINIT&#160;<br/>
OS&#160;synchronization&#160;<br/>barriers.&#160;Only&#160;the&#160;OS&#160;<br/>
OS_BARRIER_CORE&lt;Core&#160;Id&gt;_VAR_FAST_NOCACHE_NOINIT&#160;<br/>
must&#160;have access&#160;to&#160;<br/>them.&#160;They&#160;will&#160;be&#160;<br/>accessed&#160;from&#160;all&#160;cores&#160;<br/>
OS_CORESTATUS_CORE&lt;Core Id&gt;_VAR_ NOCACHE_NOINIT&#160;<br/>
Startup&#160;state&#160;of&#160;each&#160;<br/>physical&#160;core.&#160;Only&#160;the&#160;<br/>
OS_CORESTATUS_CORE&lt;Core&#160;<br/>
OS&#160;must&#160;have access&#160;to&#160;<br/>
Id&gt;_VAR_FAST_NOCACHE_NOINIT&#160;<br/>
them.&#160;They&#160;will&#160;be&#160;written&#160;<br/>by&#160;the&#160;master&#160;core and&#160;<br/>the&#160;owning&#160;core itself,&#160;and&#160;<br/>read&#160;from&#160;all&#160;cores.&#160;<br/>
OS_SPINLOCK_&lt;SpinlockName&gt;_VAR_NOCACHE_NOINIT&#160;<br/>
User&#160;spinlocks.&#160;Only&#160;the&#160;<br/>OS&#160;must&#160;have access&#160;to&#160;<br/>
OS_SPINLOCK_&lt;SpinlockName&gt;_VAR_FAST_NOCACHE_NOINIT&#160;<br/>
them.&#160;Potentially&#160;they&#160;will&#160;<br/>be&#160;accessed&#160;from&#160;all&#160;<br/>cores&#160;<br/>
OS_STACK_&lt;StackName&gt;_VAR_NOINIT&#160;<br/>
OS&#160;stacks.&#160;Only&#160;the&#160;<br/>current&#160;running&#160;software&#160;<br/>has&#160;access&#160;to&#160;the&#160;stack.&#160;<br/>Software&#160;which runs&#160;on&#160;a&#160;<br/>foreign&#160;must&#160;not&#160;have&#160;<br/>access&#160;to it.&#160;<br/>
Table&#160;4-4&#160;&#160;&#160;MemMap&#160;Variable&#160;Sections&#160;Descriptions&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
125&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=126></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-126_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-126_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Notes&#160;<br/></b>Sections which contain&#160;the&#160;keyword&#160;“FAST”&#160;are&#160;intended&#160;to be&#160;linked&#160;into&#160;fast&#160;RAM.&#160;<br/>
&#160;&#160;Sections which contain&#160;the&#160;keyword&#160;“NOCACHE”&#160;must&#160;never&#160;be&#160;linked&#160;into&#160;cacheable&#160;<br/>
memory.&#160;<br/>Sections which contain&#160;the&#160;keyword&#160;“NOINIT”&#160;contain non-initialized&#160;variables.&#160;<br/>Sections which contain&#160;the&#160;keyword&#160;“ZERO_INIT”&#160;contain zero&#160;initialized&#160;variables.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
126&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=127></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-127_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>4.3.1.3&#160;</b><br/>
<b>Access&#160;Rights&#160;to Variable&#160;Sections&#160;</b><br/>
The&#160;table&#160;shows the&#160;recommended&#160;access rights&#160;to&#160;the&#160;sections.&#160;<br/>
<b>Section&#160;</b><br/>
<b>&#160;<br/>n</b><br/>
<b>&#160;</b><br/>
<b>no&#160;</b><br/>
<b>re&#160;</b><br/>
<b>re&#160;</b><br/>
<b>&#160;<br/>ed</b><br/>
<b>ore</b><br/>
<b>re</b><br/>
<b>t</b><br/>
<b>&#160;</b><br/>
<b>co&#160;</b><br/>
<b>co&#160;</b><br/>
<b>C</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>co</b><br/>
<b>l</b><br/>
<b>&#160;l</b><br/>
<b>gn</b><br/>
<b>gn</b><br/>
<b>rus</b><br/>
<b>ca</b><br/>
<b>ca</b><br/>
<b>rei</b><br/>
<b>rei</b><br/>
<b>n t</b><br/>
<b>Lo</b><br/>
<b>rustedT</b><br/>
<b>Lo</b><br/>
<b>rustedt</b><br/>
<b>Fo</b><br/>
<b>rustedt</b><br/>
<b>Fo</b><br/>
<b>no</b><br/>
OS_VAR_NOCACHE&#160;<br/>OS_VAR_NOCACHE_NOINIT&#160;<br/>
RW&#160;<br/>
RO&#160;<br/>
RW&#160;<br/>
RO&#160;<br/>
OS_VAR_FAST_NOCACHE&#160;<br/>OS_VAR_FAST_NOCACHE_NOINIT&#160;<br/>OS_CORE&lt;Core&#160;Id&gt;_VAR&#160;<br/>OS_CORE&lt;Core&#160;Id&gt;_VAR_FAST&#160;<br/>OS_CORE&lt;Core&#160;Id&gt;_VAR_NOINIT&#160;<br/>OS_CORE&lt;Core&#160;Id&gt;_VAR_FAST_NOINIT&#160;<br/>
RW&#160;<br/>
RO&#160;<br/>
RO&#160;<br/>
RO&#160;<br/>
OS_CORE&lt;Core&#160;Id&gt;_VAR_NOCACHE&#160;<br/>OS_CORE&lt;Core&#160;Id&gt;_VAR_FAST_NOCACHE&#160;<br/>OS_CORE&lt;Core&#160;Id&gt;_VAR_NOCACHE_NOINIT&#160;<br/>OS_CORE&lt;Core&#160;Id&gt;_VAR_FAST_NOCACHE_NOINIT&#160;<br/>OS_PUBLIC_CORE&lt;Core&#160;Id&gt;_VAR_NOINIT&#160;<br/>
RW&#160;<br/>
RO&#160;<br/>
RW&#160;<br/>
RO&#160;<br/>
OS_PUBLIC_CORE&lt;Core&#160;Id&gt;_VAR_FAST_NOINIT&#160;<br/>OS_NONAUTOSAR_CORE&lt;Core Id&gt;_VAR&#160;<br/>OS_NONAUTOSAR_CORE&lt;Core Id&gt;_VAR_FAST&#160;<br/>
RW&#160;<br/>
RO&#160;<br/>
RW&#160;<br/>
RO&#160;<br/>
OS_NONAUTOSAR_CORE&lt;Core Id&gt;_VAR_NOINIT&#160;<br/>OS_NONAUTOSAR_CORE&lt;Core Id&gt;_VAR_FAST_NOINIT&#160;<br/>OS_GLOBALSHARED_VAR&#160;<br/>OS_GLOBALSHARED_VAR_FAST&#160;<br/>OS_GLOBALSHARED_VAR_NOINIT&#160;<br/>OS_GLOBALSHARED_VAR_FAST_NOINIT&#160;<br/>OS_GLOBALSHARED_VAR_ZERO_INIT&#160;<br/>
RW&#160;<br/>
RW&#160;<br/>
RW&#160;<br/>
RW&#160;<br/>
OS_GLOBALSHARED_VAR_NOCACHE&#160;<br/>OS_GLOBALSHARED_VAR_FAST_NOCACHE&#160;<br/>OS_GLOBALSHARED_VAR_NOCACHE_NOINIT&#160;<br/>OS_GLOBALSHARED_VAR_FAST_NOCACHE_NOINIT&#160;<br/>OS_GLOBALSHARED_VAR_NOCACHE_ZERO_INIT&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
127&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=128></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-128_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-128_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/><b>Section&#160;</b><br/>
<b>&#160;<br/>n</b><br/>
<b>&#160;</b><br/>
<b>no&#160;</b><br/>
<b>re&#160;</b><br/>
<b>re&#160;</b><br/>
<b>&#160;<br/>ed</b><br/>
<b>ore</b><br/>
<b>re</b><br/>
<b>t</b><br/>
<b>&#160;</b><br/>
<b>co&#160;</b><br/>
<b>co&#160;</b><br/>
<b>C</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>co</b><br/>
<b>l</b><br/>
<b>&#160;l</b><br/>
<b>gn</b><br/>
<b>gn</b><br/>
<b>rus</b><br/>
<b>ca</b><br/>
<b>ca</b><br/>
<b>rei</b><br/>
<b>rei</b><br/>
<b>n t</b><br/>
<b>Lo</b><br/>
<b>rustedT</b><br/>
<b>Lo</b><br/>
<b>rustedt</b><br/>
<b>Fo</b><br/>
<b>rustedt</b><br/>
<b>Fo</b><br/>
<b>no</b><br/>
OS_&lt;ApplicationName&gt;_VAR&#160;<br/>OS_&lt;ApplicationName&gt;_VAR_FAST&#160;<br/>OS_&lt;ApplicationName&gt;_VAR_NOINIT&#160;<br/>OS_&lt;ApplicationName&gt;_VAR_FAST_NOINIT&#160;<br/>OS_&lt;ApplicationName&gt;_VAR_FAST_ZERO_INIT&#160;<br/>
RW&#160;<br/>
RW&#160;<br/>
RW&#160;<br/>
RO&#160;<br/>
OS_&lt;ApplicationName&gt;_VAR_NOCACHE&#160;<br/>OS_&lt;ApplicationName&gt;_VAR_FAST_NOCACHE&#160;<br/>OS_&lt;ApplicationName&gt;_VAR_NOCACHE_NOINIT&#160;<br/>OS_&lt;ApplicationName&gt;_VAR_FAST_NOCACHE_NOINIT&#160;<br/>OS_&lt;ApplicationName&gt;_VAR_NOCACHE_ZERO_INIT&#160;<br/>OS_&lt;Task/IsrName&gt;_VAR&#160;<br/>OS_&lt;Task/IsrName&gt;_VAR_FAST&#160;<br/>OS_&lt;Task/IsrName&gt;_VAR_NOINIT&#160;<br/>
RW&#160;<br/>
RW&#160;<br/>
RW&#160;<br/>
RO&#160;<br/>
OS_&lt;Task/IsrName&gt;_VAR_FAST_NOINIT&#160;<br/>OS_&lt;Task/IsrName&gt;_VAR_ZERO_INIT&#160;<br/>OS_BARRIER_CORE&lt;Core&#160;Id&gt;_VAR_NOCACHE_NOINIT&#160;<br/>
RW&#160;<br/>
RO&#160;<br/>
RW&#160;<br/>
RO&#160;<br/>
OS_BARRIER_CORE&lt;Core&#160;Id&gt;_VAR_FAST_NOCACHE_NOINIT&#160;<br/>OS_CORESTATUS_CORE&lt;Core Id&gt;_VAR_&#160;NOCACHE_NOINIT&#160;<br/>OS_CORESTATUS_CORE&lt;Core&#160;<br/>
RW&#160;<br/>
RO&#160;<br/>
RW&#160;<br/>
RO&#160;<br/>
Id&gt;_VAR_FAST_NOCACHE_NOINIT&#160;<br/>OS_SPINLOCK_&lt;SpinlockName&gt;_VAR_NOCACHE_NOINIT&#160;<br/>
RW&#160;<br/>
RO&#160;<br/>
RW&#160;<br/>
RO&#160;<br/>
OS_SPINLOCK_&lt;SpinlockName&gt;_VAR_FAST_NOCACHE_NOINIT&#160;<br/>
Table&#160;4-5&#160;&#160;&#160;Recommended&#160;Section&#160;Access&#160;Rights&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>The&#160;access&#160;to&#160;the&#160;stack&#160;section is handled&#160;completely&#160;by&#160;MICROSAR&#160;OS&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
128&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=129></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-129_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-129_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>The&#160;table is&#160;only&#160;valid&#160;for&#160;cores&#160;which have the&#160;same diagnostic&#160;level.&#160;Cores with a&#160;<br/>
&#160;&#160;lower&#160;diagnostic&#160;level&#160;must&#160;never&#160;interact&#160;with data&#160;from&#160;a&#160;core&#160;with a&#160;higher&#160;diagnostic&#160;<br/>
level.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
129&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=130></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-130_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-130_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>4.3.2&#160;</b><br/>
<b>Link&#160;Sections&#160;</b><br/>
Once&#160;&#160;variables&#160;&#160;have&#160;&#160;been&#160;&#160;put&#160;&#160;into&#160;&#160;OS&#160;&#160;sections&#160;&#160;(by&#160;&#160;usage&#160;&#160;of&#160;&#160;the&#160;&#160;section&#160;&#160;specifiers&#160;<br/>described&#160;in<a href="TechnicalReference_Oss.html#120">&#160;4.3.1.1) t</a>he&#160;sections would&#160;have&#160;to&#160;be&#160;linked.&#160;<br/>Therefore&#160;&#160;MICROSAR&#160;&#160;OS&#160;&#160;generates&#160;&#160;linker&#160;&#160;command&#160;&#160;files&#160;&#160;which&#160;&#160;utilize&#160;&#160;the&#160;&#160;linkage&#160;&#160;of&#160;<br/>those&#160;sections.&#160;<br/>
<b>Linker&#160;Command&#160;Filename&#160;</b><br/>
Content&#160;<br/>
<b>Os_Link_&lt;Core&gt;.&lt;FileSuffix&gt;&#160;</b><br/>
All&#160;data and code sections which are bound&#160;to&#160;a&#160;<br/>core&#160;<br/>
<b>Os_Link.&lt;FileSuffix&gt;&#160;</b><br/>
All&#160;data and code sections which are&#160;global&#160;<br/>
<b>Os_Link_&lt;Core&gt;_Stacks.&lt;FileSuffix&gt;&#160;</b><br/>
all&#160;stacks&#160;of&#160;a core&#160;<br/>
Table&#160;4-6&#160;&#160;&#160;List&#160;of&#160;Generated&#160;Linker&#160;Command&#160;Files&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>&lt;Core&gt;&#160;is&#160;the&#160;logical&#160;core ID&#160;<br/>
&#160;&#160;&lt;FileSuffix&gt;&#160;is&#160;the&#160;suffix&#160;for&#160;linker&#160;command&#160;files.&#160;It&#160;depends&#160;on&#160;the&#160;used compiler.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
130&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=131></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-131_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-131_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-131_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>4.3.2.1&#160;</b><br/>
<b>Simple&#160;Linker Defines&#160;</b><br/>
The&#160;following&#160;defines&#160;are&#160;used&#160;to&#160;select&#160;groups&#160;of&#160;OS&#160;sections&#160;from&#160;&#160;the&#160;linker&#160;command&#160;<br/>files.&#160;<br/>
<b>Select&#160;OS&#160;code&#160;</b><br/>
OS_LINK_CODE&#160;<br/>
<b>Select&#160;an&#160;interrupt&#160;vector&#160;table&#160;</b><br/>
OS_LINK_INTVEC_CODE&#160;<br/>
<b>Select&#160;an&#160;exception&#160;vector&#160;table&#160;</b><br/>
OS_LINK_EXCVEC_CODE&#160;<br/>
<b>Select&#160;user&#160;callouts&#160;(Tasks,&#160;ISRs,&#160;Hooks)&#160;</b><br/>
OS_LINK_CALLOUT_CODE&#160;<br/>
<b>Select&#160;constants&#160;related to&#160;an&#160;interrupt&#160;vector&#160;table&#160;</b><br/>
OS_LINK_INTVEC_CONST&#160;<br/>
<b>Select&#160;constants&#160;related to&#160;an&#160;exception&#160;vector&#160;table&#160;</b><br/>
OS_LINK_EXCVEC_CONST&#160;<br/>
<b>Select&#160;OS&#160;stacks&#160;</b><br/>
OS_LINK_KERNEL_STACKS&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Example&#160;<br/></b>#define OS_LINK_INTVEC_CODE&#160;<br/>
&#160;&#160;#include&#160;Os_Link_Core0_Tasking.lsl&#160;<br/>
&#160;<br/>Selects&#160;the&#160;interrupt&#160;vector&#160;table&#160;from&#160;the&#160;included linker&#160;command&#160;file&#160;for&#160;linking.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>4.3.2.2&#160;</b><br/>
<b>Hierachical&#160;Linker&#160;Defines&#160;</b><br/>
The&#160;linker command&#160;files are intended&#160;to&#160;be&#160;included&#160;into&#160;a&#160;main&#160;linker command&#160;file.&#160;<br/>Single&#160;sections&#160;or group&#160;of&#160;sections&#160;can&#160;be&#160;selected&#160;for linkage&#160;by&#160;usage&#160;of&#160;C-like&#160;defines.&#160;<br/>This&#160;mechanism&#160;is similar to&#160;the&#160;MemMap&#160;mechanism&#160;of&#160;AUTOSAR.&#160;<br/>The&#160;linker&#160;defines&#160;of&#160;MICROSAR OS&#160;uses&#160;a&#160;hierarchical syntax.&#160;<br/>The&#160;more&#160;one&#160;walks&#160;down&#160;in&#160;the&#160;hierarchy&#160;the&#160;less sections&#160;are selected.&#160;<br/>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>Once&#160;one&#160;have made&#160;the decision&#160;for&#160;a&#160;specific&#160;hierarchical&#160;level&#160;one will&#160;have to&#160;stick&#160;<br/>
&#160;&#160;to&#160;this&#160;level&#160;throughout&#160;the&#160;linker&#160;defines&#160;group.&#160;Otherwise&#160;there&#160;may&#160;be&#160;multiple&#160;<br/>
section definitions.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
131&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=132></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-132_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-132_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-132_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>4.3.2.3&#160;</b><br/>
<b>Selecting OS&#160;constants&#160;</b><br/>
These&#160;are hierarchical&#160;linker defines&#160;<br/>
<b>Prefix&#160;</b><br/>
<b>Optional&#160;Hierarchy&#160;level&#160;1&#160;</b><br/>
OS_LINK_CONST_KERNEL&#160;<br/>
_NEAR&#160;<br/>_FAR&#160;<br/>
Table&#160;4-7&#160;&#160;&#160;OS&#160;constants&#160;linker&#160;define&#160;group&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Example&#160;<br/></b>#define OS_LINK_CONST_KERNEL&#160;<br/>
&#160;&#160;#include&#160;Os_Link_Core0_Tasking.lsl&#160;<br/>
&#160;<br/>Selects&#160;all&#160;OS&#160;constants&#160;from&#160;Os_Link_Core0_Tasking.lsl&#160;file&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Example&#160;<br/></b>#define OS_LINK_CONST_KERNEL_NEAR&#160;<br/>
&#160;&#160;#include&#160;Os_Link_Core0_Tasking.lsl&#160;<br/>
&#160;<br/>Selects&#160;all&#160;near&#160;addressable OS&#160;constants&#160;only&#160;from&#160;Os_Link_Core0_Tasking.lsl&#160;file&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
132&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=133></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-133_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-133_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-133_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>4.3.2.4&#160;</b><br/>
<b>Selecting OS&#160;variables&#160;</b><br/>
These&#160;are hierarchical&#160;linker defines&#160;<br/>
<b>Prefix&#160;</b><br/>
<b>Optional&#160;Hierarchy&#160;</b><br/>
<b>Optional&#160;</b><br/>
<b>Optional&#160;</b><br/>
<b>level&#160;1&#160;</b><br/>
<b>Hierarchy&#160;level&#160;&#160;Hierarchy&#160;level&#160;3&#160;<br/>2&#160;</b><br/>
OS_LINK_VAR_KERNEL&#160;<br/>
_NEAR&#160;<br/>
_CACHE&#160;<br/>
_INIT&#160;<br/>
_FAR&#160;<br/>
_NOCACHE&#160;<br/>
_NOINIT&#160;<br/>
Table&#160;4-8&#160;&#160;&#160;OS&#160;variables&#160;linker&#160;define&#160;group&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Example&#160;<br/></b>#define OS_LINK_VAR_KERNEL&#160;<br/>
&#160;&#160;#include&#160;Os_Link_Core0_Tasking.lsl&#160;<br/>
&#160;<br/>Selects&#160;all&#160;OS&#160;variables&#160;from&#160;Os_Link_Core0_Tasking.lsl&#160;file&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Example&#160;<br/></b>#define OS_LINK_VAR_KERNEL_NEAR_CACHE&#160;<br/>
&#160;&#160;#include&#160;Os_Link_Core0_Tasking.lsl&#160;<br/>
&#160;<br/>Selects&#160;all&#160;OS&#160;variables&#160;from&#160;Os_Link_Core0_Tasking.lsl&#160;file&#160;which are near&#160;<br/>addressable and&#160;cacheable&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
133&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=134></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-134_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-134_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-134_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>4.3.2.5&#160;</b><br/>
<b>Selecting OS&#160;Barriers,&#160;Core&#160;Status&#160;and Trace&#160;variables&#160;</b><br/>
These&#160;are hierarchical&#160;linker defines&#160;<br/>
<b>Prefix&#160;</b><br/>
<b>Optional&#160;Hierarchy&#160;level&#160;1&#160;</b><br/>
OS_LINK_KERNEL_BARRIERS&#160;<br/>
_NEAR&#160;<br/>
OS_LINK_KERNEL_CORESTATUS&#160;<br/>
_FAR&#160;<br/>
OS_LINK_KERNEL_TRACE&#160;<br/>
Table&#160;4-9&#160;&#160;&#160;OS&#160;Barriers&#160;and&#160;Core&#160;status&#160;linker&#160;define&#160;group&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Example&#160;<br/></b>#define OS_LINK_KERNEL_BARRIERS&#160;<br/>
&#160;&#160;#include&#160;Os_Link_Core0_Tasking.lsl&#160;<br/>
&#160;<br/>Selects&#160;all&#160;OS&#160;Barriers&#160;from&#160;Os_Link_Core0_Tasking.lsl&#160;file&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Example&#160;<br/></b>#define&#160;OS_LINK_KERNEL_CORESTATUS&#160;<br/>
&#160;&#160;#include&#160;Os_Link_Core0_Tasking.lsl&#160;<br/>
&#160;<br/>Selects&#160;all&#160;OS&#160;core&#160;state&#160;variables&#160;from&#160;Os_Link_Core0_Tasking.lsl&#160;file&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
134&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=135></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-135_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-135_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>4.3.2.6&#160;</b><br/>
<b>Selecting OS&#160;Spinlocks&#160;</b><br/>
These&#160;are hierarchical&#160;linker defines&#160;<br/>
<b>Prefix&#160;</b><br/>
<b>Optional&#160;Hierarchy&#160;level&#160;1&#160;</b><br/>
OS_LINK_SPINLOCKS&#160;<br/>
_NEAR&#160;<br/>_FAR&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Example&#160;<br/></b>#define OS_LINK_SPINLOCKS&#160;<br/>
&#160;&#160;#include Os_Link_Tasking.lsl&#160;<br/>
&#160;<br/>Selects&#160;all&#160;OS&#160;core&#160;state&#160;variables&#160;from&#160;Os_Link_Tasking.lsl&#160;file&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
135&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=136></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-136_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-136_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-136_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>4.3.2.7&#160;</b><br/>
<b>Selecting User Constant&#160;Sections&#160;</b><br/>
These&#160;are&#160;hierarchical&#160;linker defines&#160;<br/>
<b>Prefix&#160;</b><br/>
<b>Optional&#160;Hierarchy&#160;level&#160;1&#160;</b><br/>
<b>Owner&#160;Name&#160;</b><br/>
<b>Optional&#160;Hierarchy&#160;level&#160;2&#160;</b><br/>
OS_LINK_CONST&#160;<br/>
_APP&#160;<br/>
&lt;Owner&#160;Name&gt;&#160;<br/>
_TASK&#160;<br/>
_NEAR&#160;<br/>
_ISR&#160;<br/>
_FAR&#160;<br/>
_GLOBALSHARED&#160;<br/>
---&#160;<br/>
Table&#160;4-10&#160;&#160;&#160;User&#160;constants&#160;linker&#160;define&#160;group&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Example&#160;<br/></b>#define OS_LINK_CONST_APP_&lt;ApplicationName&gt;&#160;<br/>
&#160;<br/>
#include&#160;Os_Link_Core0_Tasking.lsl&#160;<br/>
&#160;<br/>Selects&#160;all&#160;constants&#160;from&#160;Os_Link_Core0_Tasking.lsl&#160;file which belong&#160;to&#160;the&#160;OS&#160;application &lt;ApplicationName&gt;&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Example&#160;<br/></b>#define OS_LINK_CONST_ISR_&lt;ISRName&gt;_FAR&#160;<br/>
&#160;<br/>
#include&#160;Os_Link_Core0_Tasking.lsl&#160;<br/>
&#160;<br/>Selects&#160;all&#160;constants&#160;from&#160;Os_Link_Core0_Tasking.lsl&#160;file which belong&#160;to&#160;the&#160;ISR&#160;&lt;ISRName&gt;&#160;which have&#160;far&#160;addressing&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
136&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=137></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-137_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-137_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>4.3.2.8&#160;</b><br/>
<b>Selecting User&#160;Variable&#160;Sections&#160;</b><br/>
These&#160;are hierarchical&#160;linker defines&#160;<br/>
<b>Prefix&#160;</b><br/>
<b>Optional&#160;Hierarchy&#160;</b><br/>
<b>Owner&#160;Name&#160;</b><br/>
<b>Optional&#160;Hierarchy&#160;</b><br/>
<b>Optional&#160;Hierarchy&#160;</b><br/>
<b>Optional&#160;Hierarchy&#160;</b><br/>
<b>level&#160;1&#160;</b><br/>
<b>level&#160;2&#160;</b><br/>
<b>level&#160;3&#160;</b><br/>
<b>level&#160;4&#160;</b><br/>
OS_LINK_VAR&#160;<br/>
_APP&#160;<br/>
&lt;Owner&#160;Name&gt;&#160;<br/>
_CACHE&#160;<br/>
_INIT&#160;<br/>
_TASK&#160;<br/>
_NEAR&#160;<br/>
_NOCACHE&#160;<br/>
_NOINIT&#160;<br/>
_ISR&#160;<br/>
_FAR&#160;<br/>
_ZEROINIT&#160;<br/>
_GLOBALSHARED&#160;<br/>
---&#160;<br/>
---&#160;<br/>
Table&#160;4-11&#160;&#160;&#160;User&#160;variables&#160;linker&#160;define&#160;group&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Example&#160;<br/></b>#define OS_LINK_VAR_APP_&lt;ApplicationName&gt;&#160;<br/>
&#160;<br/>
#include&#160;Os_Link_Core0_Tasking.lsl&#160;<br/>
&#160;<br/>Selects&#160;all&#160;variables&#160;from&#160;Os_Link_Core0_Tasking.lsl&#160;file which belong&#160;to&#160;the&#160;OS&#160;application &lt;ApplicationName&gt;&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
137&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=138></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-138_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-138_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Example&#160;<br/></b>#define OS_LINK_VAR_APP_&lt;ApplicationName&gt;_FAR_CACHE_INIT&#160;<br/>
&#160;<br/>
#include&#160;Os_Link_Core0_Tasking.lsl&#160;<br/>
&#160;<br/>Selects&#160;all&#160;variables&#160;from&#160;Os_Link_Core0_Tasking.lsl&#160;file which belong&#160;to&#160;the&#160;OS&#160;application &lt;ApplicationName&gt;&#160;which have&#160;far&#160;<br/>addressing,&#160;are&#160;cacheable&#160;and are&#160;initialized&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
138&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=139></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-139_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-139_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-139_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>4.3.3&#160;</b><br/>
<b>Section Symbols&#160;</b><br/>
The&#160;linker&#160;command&#160;files&#160;described&#160;<a href="TechnicalReference_Oss.html#130">in&#160;4.3.2&#160;</a>also&#160;generate&#160;section&#160;start&#160;and&#160;stop&#160;symbols&#160;<br/>which&#160;may&#160;be&#160;used&#160;to&#160;configure&#160;start&#160;and&#160;end&#160;addresses&#160;of&#160;MPU&#160;region&#160;objects&#160;or&#160;access&#160;<br/>check region&#160;objects.&#160;<br/>These&#160;have&#160;the&#160;syntax&#160;<br/>OS_&lt;SectionType&gt;_START&#160;<br/>OS_&lt;SectionType&gt;_END&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Example&#160;</b><br/>
&#160;&#160;OS_MyAppl_VAR_FAST_START&#160;<br/>
OS_ MyAppl_VAR_FAST_END&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>4.4&#160;</b><br/>
<b>Static&#160;Code&#160;Analysis&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;</b><br/>
&#160;&#160;When&#160;running&#160;tools&#160;for&#160;static code&#160;analysis&#160;(e.g.&#160;MISRA,&#160;MSSV),&#160;the&#160;pre-processor&#160;<br/>
definition&#160;OS_STATIC_CODE_ANALYSIS&#160;has&#160;to&#160;be&#160;set&#160;during&#160;analysis.&#160;It&#160;switches&#160;off&#160;<br/>compiler&#160;specific&#160;keywords&#160;and inline&#160;assembler&#160;parts.&#160;Typically&#160;code analysis&#160;tools&#160;<br/>cannot&#160;deal&#160;with such&#160;code&#160;parts.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
139&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=140></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-140_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-140_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>4.5&#160;</b><br/>
<b>Configuration of X-Signals&#160;</b><br/>
This chapter describes&#160;how&#160;X-Signals are configured&#160;for cross&#160;core&#160;API&#160;calls.&#160;<br/>
1.&#160;&#160;Add&#160;an&#160;“OsCoreXSignalChannel”&#160;to&#160;an&#160;“OsCore” object.&#160;This core&#160;will&#160;be&#160;the&#160;sender of&#160;<br/>
the&#160;X-Signal.&#160;<br/>
2.&#160;&#160;Specify&#160;the&#160;queue&#160;size&#160;of&#160;the&#160;channel&#160;with&#160;the&#160;“OsCoreXSignalChannelSize” attribute.&#160;<br/>
3.&#160;&#160;Add&#160;an&#160;X-Signal receiver ISR.&#160;It&#160;must&#160;be&#160;of&#160;category&#160;2.&#160;<br/>
4.&#160;&#160;Assign&#160;this ISR to&#160;be&#160;the&#160;X-Signal receiver&#160;<br/>
“OsCore/OsCoreXSignalChannelReceiverIsr”.&#160;<br/>
5.&#160;&#160;Configure an&#160;appropriate&#160;interrupt&#160;priority&#160;for the&#160;receiver ISR&#160;(see&#160;the&#160;following&#160;<br/>
chapters&#160;for&#160;details on&#160;your used&#160;platform).&#160;The&#160;configured&#160;priority&#160;must&#160;follow&#160;the&#160;<br/>rules&#160;listed&#160;in<a href="TechnicalReference_Oss.html#89">&#160;Table&#160;3-3.</a>&#160;<br/>
6.&#160;&#160;Choose&#160;an&#160;appropriate&#160;interrupt&#160;source&#160;for the&#160;receiver ISR&#160;(see&#160;the&#160;following&#160;<br/>
chapters&#160;for&#160;details on&#160;your used&#160;platform).&#160;<br/>
7.&#160;&#160;Add&#160;the&#160;&#34;OsIsrXSignalReceiver&#34;&#160;to&#160;the&#160;receiver ISR and&#160;select&#160;the&#160;provided&#160;APIs&#160;<br/>
(callable&#160;from&#160;the&#160;sender core) with&#160;the&#160;&#34;OsIsrXSignalReceiverProvidedApis&#34;&#160;attribute.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;</b><br/>
&#160;&#160;The&#160;DaVinci&#160;Configurator&#160;provides&#160;solving&#160;actions&#160;which support&#160;the&#160;correct&#160;<br/>
configuration&#160;of&#160;X-signals.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>4.5.1&#160;</b><br/>
<b>TriCore&#160;Aurix&#160;Family&#160;</b><br/>
<b>Logical&#160;Priority&#160;</b><br/>
A&#160;low&#160;number&#160;for&#160;OsIsrInterruptPriority&#160;attribute&#160;means a&#160;low&#160;<br/>logical&#160;priority&#160;<br/>
<b>X-Signal&#160;ISR&#160;Interrupt&#160;Priority&#160;</b><br/>
Beside&#160;the&#160;rules listed&#160;i<a href="TechnicalReference_Oss.html#89">n&#160;Table&#160;3-3&#160;</a>the&#160;OsIsrInterruptPriority&#160;<br/>can&#160;be&#160;chosen&#160;freely.&#160;<br/>
<b>X-Signal&#160;ISR&#160;Interrupt&#160;Source&#160;</b><br/>
Any&#160;interrupt&#160;source,&#160;which is not&#160;used&#160;by&#160;other&#160;modules,&#160;may&#160;<br/>be&#160;used&#160;for&#160;the&#160;X-Signal&#160;ISR.&#160;<br/>The&#160;offset&#160;of&#160;the&#160;SRC&#160;register&#160;of&#160;the&#160;used interrupt&#160;source has&#160;<br/>to be&#160;specified&#160;for&#160;OsIsrInterruptSource.&#160;<br/>
&#160;<br/>
<b>4.5.2&#160;</b><br/>
<b>RH850&#160;Family&#160;</b><br/>
<b>Logical&#160;Priority&#160;</b><br/>
A&#160;low&#160;number&#160;for&#160;OsIsrInterruptPriority&#160;attribute&#160;means a&#160;high&#160;<br/>logical&#160;priority&#160;<br/>
<b>X-Signal&#160;ISR&#160;Interrupt&#160;Priority&#160;</b><br/>
Beside&#160;the&#160;rules listed&#160;i<a href="TechnicalReference_Oss.html#89">n&#160;Table&#160;3-3&#160;</a>the&#160;OsIsrInterruptPriority&#160;<br/>can&#160;be&#160;chosen&#160;freely.&#160;<br/>
<b>X-Signal&#160;ISR&#160;Interrupt&#160;Source&#160;</b><br/>
Only&#160;interrupt&#160;source&#160;0 is&#160;possible.&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
140&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=141></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-141_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>4.5.3&#160;</b><br/>
<b>Power PC&#160;Family&#160;</b><br/>
<b>Logical&#160;Priority&#160;</b><br/>
A&#160;low&#160;number&#160;for&#160;OsIsrInterruptPriority&#160;attribute&#160;means a&#160;low&#160;<br/>logical&#160;priority&#160;<br/>
<b>X-Signal&#160;ISR&#160;Interrupt&#160;Priority&#160;</b><br/>
Beside&#160;the&#160;rules listed&#160;i<a href="TechnicalReference_Oss.html#89">n&#160;Table&#160;3-3&#160;</a>the&#160;OsIsrInterruptPriority&#160;<br/>can&#160;be&#160;chosen&#160;freely.&#160;<br/>
<b>X-Signal&#160;ISR&#160;Interrupt&#160;Source&#160;</b><br/>
Any&#160;Interrupt&#160;source of&#160;the&#160;available&#160;software&#160;interrupts&#160;may&#160;<br/>be&#160;used.&#160;<br/>
&#160;<br/>
<b>4.5.4&#160;</b><br/>
<b>ARM&#160;Family&#160;</b><br/>
<b>&#160;</b><br/>
NVIC&#160;Interrupt&#160;Controller&#160;<br/>
GIC&#160;Interrupt&#160;Controller&#160;<br/>
<b>Logical&#160;Priority&#160;</b><br/>
A&#160;low&#160;number&#160;for&#160;OsIsrInterruptPriority&#160;attribute&#160;means a&#160;high logical&#160;priority&#160;<br/>
<b>X-Signal&#160;ISR&#160;</b><br/>
Beside&#160;the&#160;rules listed&#160;i<a href="TechnicalReference_Oss.html#89">n&#160;Table&#160;3-3&#160;</a>the&#160;OsIsrInterruptPriority&#160;can&#160;be&#160;chosen&#160;<br/>
<b>Interrupt&#160;Priority&#160;</b><br/>
freely.&#160;<br/>
<b>X-Signal&#160;ISR&#160;</b><br/>
Any&#160;interrupt&#160;source,&#160;which is not&#160;<br/>
The&#160;interrupt&#160;sources 0..15&#160;have&#160;to&#160;be&#160;<br/>
<b>Interrupt&#160;Source&#160;</b><br/>
used by&#160;other&#160;modules,&#160;may&#160;be&#160;used&#160;&#160;used&#160;for&#160;the&#160;X-Signal&#160;ISR.&#160;<br/>for&#160;the&#160;X-Signal&#160;ISR.&#160;<br/>
&#160;<br/>
<b>4.5.5&#160;</b><br/>
<b>VTT OS&#160;</b><br/>
<b>Logical&#160;Priority&#160;</b><br/>
A&#160;low&#160;number&#160;for&#160;OsIsrInterruptPriority&#160;attribute&#160;means a&#160;low&#160;<br/>logical&#160;priority&#160;<br/>
<b>X-Signal&#160;ISR&#160;Interrupt&#160;Priority&#160;</b><br/>
Beside&#160;the&#160;rules listed&#160;i<a href="TechnicalReference_Oss.html#89">n&#160;Table&#160;3-3&#160;</a>the&#160;OsIsrInterruptPriority&#160;<br/>can&#160;be&#160;chosen&#160;freely.&#160;<br/>
<b>X-Signal&#160;ISR&#160;Interrupt&#160;Source&#160;</b><br/>
Any&#160;interrupt&#160;source,&#160;which is not&#160;used&#160;by&#160;other&#160;modules,&#160;may&#160;<br/>be&#160;used&#160;for&#160;the&#160;X-Signal&#160;ISR.&#160;<br/>
&#160;<br/>
<b>4.6&#160;</b><br/>
<b>OS&#160;generated&#160;objects&#160;</b><br/>
In&#160;&#160;dependency&#160;&#160;of&#160;&#160;its&#160;&#160;configuration&#160;&#160;MICROSAR&#160;&#160;OS&#160;&#160;may&#160;&#160;add&#160;&#160;other&#160;&#160;OS&#160;&#160;configuration&#160;<br/>objects&#160;to&#160;it.&#160;<br/>
<b>4.6.1&#160;</b><br/>
<b>System&#160;Application&#160;</b><br/>
<b>Type&#160;</b><br/>
OsApplication&#160;<br/>
<b>Name&#160;</b><br/>
SystemApplication_&lt;Core Id&gt;&#160;<br/>
<b>Condition&#160;</b><br/>
Is&#160;added&#160;when the&#160;core&#160;&lt;Core&#160;Id&gt;&#160;is&#160;configured&#160;to be&#160;an&#160;AUTOSAR&#160;<br/>core.&#160;<br/>
<b>Features&#160;</b><br/>
<b>&gt;&#160;&#160;</b>A&#160;system&#160;application contains the&#160;OS&#160;objects&#160;<br/>
<b>&gt;&#160;&#160;</b>Idle&#160;Task_&lt;Core&#160;Id&gt;&#160;<br/>
<b>&gt;&#160;&#160;</b>TpCounter_&lt;Core&#160;Id&gt;&#160;<br/>
<b>&gt;&#160;&#160;</b>XSignalIsr_&lt;Core&#160;Id&gt;&#160;<br/>
<b>&gt;&#160;&#160;</b>CounterIsr_TpCounter_&lt;Core&#160;Id&gt;&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
141&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=142></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-142_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>4.6.2&#160;</b><br/>
<b>Idle&#160;Task&#160;</b><br/>
<b>Type&#160;</b><br/>
OsTask&#160;<br/>
<b>Name&#160;</b><br/>
IdleTask_&lt;Core&#160;Id&gt;&#160;<br/>
<b>Condition&#160;</b><br/>
Is&#160;added&#160;when the&#160;core&#160;&lt;Core&#160;Id&gt;&#160;is&#160;configured&#160;to be&#160;an&#160;AUTOSAR&#160;<br/>core.&#160;<br/>
<b>Features&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Has the&#160;lowest&#160;priority&#160;of&#160;all&#160;tasks&#160;assigned&#160;to&#160;the&#160;same&#160;core.&#160;<br/>
<b>&gt;&#160;&#160;</b>Is&#160;fully&#160;preemptive.&#160;<br/>
<b>&gt;&#160;&#160;</b>Is&#160;implemented&#160;by&#160;the&#160;OS&#160;<br/>
&#160;<br/>
<b>4.6.3&#160;</b><br/>
<b>Timer ISR&#160;</b><br/>
<b>Type&#160;</b><br/>
OsIsr&#160;<br/>
<b>Name&#160;</b><br/>
CounterIsr_&lt;Core&#160;Id&gt;&#160;<br/>
<b>Condition&#160;</b><br/>
Is&#160;added&#160;if&#160;a hardware&#160;counter&#160;is&#160;configured&#160;to have a&#160;driver&#160;(attribute&#160;<br/>“OsCounterDriver”).&#160;<br/>
<b>Features&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Is&#160;Implemented&#160;by&#160;the&#160;OS.&#160;<br/>
<b>&gt;&#160;&#160;</b>Handles the&#160;system&#160;timer&#160;counter,&#160;alarms&#160;and&#160;scheduletables&#160;<br/>
which are assigned&#160;to&#160;the core.&#160;<br/>
&#160;<br/>
<b>4.6.4&#160;</b><br/>
<b>System&#160;Timer Counter&#160;</b><br/>
<b>Type&#160;</b><br/>
OsCounter&#160;<br/>
<b>Name&#160;</b><br/>
SystemTimer&#160;<br/>
<b>Condition&#160;</b><br/>
Is&#160;added&#160;optionally&#160;within the&#160;recommended configuration.&#160;<br/>
<b>Features&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Is&#160;used&#160;for&#160;OSEK&#160;backward&#160;compatibility&#160;<br/>
&#160;<br/>
<b>4.6.5&#160;</b><br/>
<b>Timing Protection Counter&#160;</b><br/>
<b>Type&#160;</b><br/>
OsCounter&#160;<br/>
<b>Name&#160;</b><br/>
TpCounter_&lt;Core&#160;Id&gt;&#160;<br/>
<b>Condition&#160;</b><br/>
Is&#160;added&#160;when OsTask/IsrTimingProtection&#160;parameters&#160;are&#160;configured&#160;<br/>on&#160;the&#160;core.&#160;<br/>
<b>Features&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Handles all&#160;times&#160;related&#160;to&#160;timing protection&#160;<br/>
&#160;<br/>
<b>4.6.6&#160;</b><br/>
<b>Timing protection ISR&#160;</b><br/>
<b>Type&#160;</b><br/>
OsIsr&#160;<br/>
<b>Name&#160;</b><br/>
CounterIsr_TpCounter_&lt;Core&#160;Id&gt;&#160;<br/>
<b>Condition&#160;</b><br/>
Is&#160;added&#160;when OsTask/IsrTimingProtection&#160;parameters&#160;are&#160;configured&#160;<br/>on&#160;the&#160;core.&#160;<br/>
<b>Features&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Interrupt&#160;service routine&#160;of&#160;the&#160;timing&#160;protection&#160;feature&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
142&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=143></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-143_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>4.6.7&#160;</b><br/>
<b>Resource&#160;Scheduler&#160;</b><br/>
<b>Type&#160;</b><br/>
OsResource&#160;<br/>
<b>Name&#160;</b><br/>
RES_SCHEDULER_&lt;Core&#160;Id&gt;&#160;<br/>
<b>Condition&#160;</b><br/>
For&#160;each&#160;core&#160;the&#160;resource scheduler&#160;is&#160;added&#160;when&#160;<br/>OsUseResScheduler&#160;is&#160;set&#160;to&#160;TRUE.&#160;<br/>
<b>Features&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Is&#160;automatically&#160;assigned to&#160;all&#160;tasks&#160;of&#160;core&#160;&lt;Core&#160;Id&gt;.&#160;<br/>
&#160;<br/>
<b>4.6.8&#160;</b><br/>
<b>X&#160;Signal&#160;ISR&#160;</b><br/>
<b>Type&#160;</b><br/>
OsIsr&#160;<br/>
<b>Name&#160;</b><br/>
XSignalIsr_&lt;Core&#160;Id&gt;&#160;<br/>
<b>Condition&#160;</b><br/>
Is&#160;added&#160;when an&#160;X&#160;signal&#160;channel&#160;is&#160;configured&#160;on&#160;the&#160;core.&#160;<br/>
<b>Features&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Handles cross&#160;core&#160;requests.&#160;<br/>
&#160;<br/>
<b>4.6.9&#160;</b><br/>
<b>IOC&#160;Spinlocks&#160;</b><br/>
<b>Type&#160;</b><br/>
OsSpinlock&#160;<br/>
<b>Name&#160;</b><br/>
IocSpinlock_&lt;IOC&#160;Name&gt;&#160;<br/>
<b>Condition&#160;</b><br/>
Is&#160;added&#160;when an&#160;IOC&#160;is&#160;configured&#160;which requires cross&#160;core&#160;<br/>communication.&#160;<br/>
<b>Features&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Each&#160;IOC&#160;has&#160;its&#160;own spinlock&#160;to&#160;reduce&#160;core&#160;wait&#160;times&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
143&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=144></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-144_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>4.7&#160;</b><br/>
<b>VTT OS&#160;Specifics&#160;</b><br/>
<b>4.7.1&#160;</b><br/>
<b>Configuration&#160;</b><br/>
As&#160;described&#160;in&#160;[6]&#160;all&#160;VTT&#160;configuration&#160;parameters&#160;are&#160;derived&#160;from&#160;the&#160;hardware&#160;target.&#160;<br/>The&#160;only&#160;exceptions&#160;are&#160;the&#160;ISR&#160;objects&#160;for the&#160;VTT&#160;OS.&#160;<br/>
&#160;&#160;ISRs&#160;&#160;from&#160;&#160;other&#160;&#160;Vector&#160;&#160;MICROSAR&#160;&#160;BSW&#160;&#160;modules&#160;&#160;(e.g.&#160;&#160;CAN)&#160;&#160;are&#160;&#160;inserted&#160;<br/>
automatically&#160;by&#160;the&#160;respective&#160;BSW&#160;module.&#160;<br/>
&#160;&#160;Other&#160;user&#160;ISRs&#160;have&#160;to&#160;be&#160;added&#160;separately.&#160;<br/>&#160;&#160;Interrupt&#160;levels for&#160;all&#160;ISRs&#160;have&#160;to&#160;be&#160;configured&#160;manually.&#160;VTT&#160;OS&#160;knows&#160;interrupt&#160;<br/>
levels from&#160;1&#160;to&#160;200&#160;(where 1&#160;is the&#160;lowest&#160;priority&#160;and&#160;200&#160;the&#160;highest).&#160;<br/>
<b>4.7.2&#160;</b><br/>
<b>CANoe&#160;Interface&#160;</b><br/>
A&#160;&#160;VTT&#160;&#160;OS&#160;&#160;is&#160;&#160;simulated&#160;&#160;within&#160;&#160;the&#160;&#160;CANoe&#160;&#160;simulation&#160;&#160;software.&#160;&#160;There&#160;&#160;are&#160;&#160;a&#160;&#160;set&#160;&#160;of&#160;&#160;API&#160;<br/>functions&#160;which&#160;are&#160;capable&#160;to&#160;communicate&#160;with&#160;CANoe&#160;(e.g.&#160;sending&#160;a&#160;message&#160;on&#160;the&#160;<br/>CAN bus).&#160;<br/>These&#160;API&#160;functions are&#160;prefixed&#160;with&#160;“CANoeAPI_”.&#160;<br/>The&#160;available&#160;set&#160;of&#160;API&#160;functions can&#160;be&#160;looked&#160;up&#160;in&#160;the&#160;delivered&#160;header “CANoeApi.h”.&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
144&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=145></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-145_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-145_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>4.8&#160;</b><br/>
<b>User include&#160;files&#160;</b><br/>
Within&#160;some&#160;features&#160;of&#160;MICROSAR&#160;OS&#160;it&#160;may&#160;be&#160;necessary&#160;to&#160;provide&#160;foreign&#160;data&#160;types&#160;<br/>to&#160;the&#160;OS.&#160;<br/>This can&#160;be&#160;done&#160;by&#160;referencing&#160;user headers&#160;within&#160;the&#160;OS&#160;configuration.&#160;<br/>The&#160;&#160;features&#160;&#160;“IOC”&#160;&#160;and&#160;&#160;“trusted&#160;&#160;functions&#160;&#160;stub&#160;&#160;generation”&#160;&#160;are&#160;&#160;relying&#160;&#160;on&#160;&#160;such&#160;&#160;include&#160;<br/>mechanisms.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>Configuration&#160;</b><br/>
<b>Content&#160;</b><br/>
<b>IOC&#160;</b><br/>
IOC&#160;include&#160;files are configured&#160;with&#160;<br/>
The&#160;headers&#160;have to&#160;provide&#160;<br/>
the&#160;IOC&#160;attribute&#160;<br/>
<b>&gt;&#160;&#160;</b>Definitions&#160;of&#160;foreign&#160;OS&#160;data&#160;<br/>
&#34;OsIocIncludeHeader“.&#160;<br/>
types&#160;which are used&#160;within IOC&#160;<br/>
A&#160;list&#160;of&#160;include&#160;files&#160;may&#160;be&#160;specified&#160;<br/>
communication.&#160;<br/>
here.&#160;<br/>
<b>Trusted&#160;</b><br/>
Include&#160;files which are&#160;needed&#160;for&#160;<br/>
The&#160;headers&#160;have to&#160;provide&#160;<br/>
<b>Functions&#160;</b><br/>
trusted&#160;function&#160;feature&#160;are configured&#160;&#160;<b>&gt;&#160;&#160;</b>The&#160;definitions&#160;of&#160;foreign&#160;OS&#160;data&#160;<br/>
within the&#160;application attribute&#160;<br/>
types&#160;which are used as&#160;trusted&#160;<br/>
“OsAppCalloutStubsIncludeHeader”.&#160;<br/>
functions&#160;parameters&#160;or&#160;return&#160;<br/>
A&#160;list&#160;of&#160;include&#160;files&#160;may&#160;be&#160;specified&#160;<br/>
values.&#160;<br/>
here.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;</b><br/>
<b>&#160;&#160;</b>All&#160;user&#160;include&#160;files need to&#160;implement&#160;a&#160;double&#160;inclusion&#160;preventer!&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
145&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=146></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-146_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>5&#160;&#160;API&#160;Description&#160;</b><br/>
This&#160;chapter&#160;lists&#160;all&#160;API&#160;service&#160;functions&#160;which&#160;are&#160;additionally&#160;provided&#160;by&#160;MICROSAR&#160;<br/>OS.&#160;AUTOSAR&#160;OS&#160;API&#160;service&#160;functions&#160;are&#160;not&#160;listed&#160;here.&#160;They&#160;can&#160;be&#160;looked&#160;up&#160;in&#160;[1]&#160;<br/>and&#160;[2].&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
146&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=147></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-147_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>5.1&#160;</b><br/>
<b>Peripheral&#160;Access&#160;API&#160;</b><br/>
The&#160;&#160;API&#160;&#160;consists&#160;&#160;of&#160;&#160;read,&#160;&#160;write&#160;&#160;and&#160;&#160;bit&#160;&#160;manipulating&#160;&#160;functions&#160;&#160;for&#160;&#160;8,&#160;&#160;16&#160;&#160;and&#160;&#160;32&#160;&#160;bit&#160;<br/>accesses.&#160;<br/>
<b>5.1.1&#160;</b><br/>
<b>Read&#160;Functions&#160;</b><br/>
<b>Prototype&#160;<br/></b>FUNC(uint8, OS_CODE) Os_ReadPeripheral8(&#160;<br/>&#160;&#160;Os_PeripheralIdType PeripheralID,&#160;<br/>&#160;&#160;uint32 Address&#160;<br/>)&#160;<br/>
FUNC(uint16, OS_CODE) Os_ReadPeripheral16(&#160;<br/>&#160;&#160;Os_PeripheralIdType&#160;PeripheralID,&#160;<br/>&#160;&#160;uint32 Address&#160;<br/>)&#160;<br/>
FUNC(uint32, OS_CODE) Os_ReadPeripheral32(&#160;<br/>&#160;&#160;Os_PeripheralIdType PeripheralID,&#160;<br/>&#160;&#160;uint32 Address&#160;<br/>)&#160;<br/>
<b>Parameter&#160;<br/></b>PeripheralID&#160;<br/>
The&#160;ID&#160;of&#160;a&#160;configured peripheral&#160;region.&#160;<br/>The&#160;symbolic&#160;name&#160;may&#160;be&#160;passed&#160;here.&#160;<br/>
Address&#160;<br/>
The&#160;address&#160;of&#160;the peripheral&#160;register&#160;which shall&#160;be&#160;read.&#160;<br/>
<b>Return&#160;code&#160;<br/></b>uint8&#160;<br/>
uint16&#160;<br/>
The&#160;content&#160;of&#160;the peripheral&#160;register&#160;which&#160;has&#160;been&#160;passed&#160;in the&#160;Address&#160;<br/>parameter.&#160;<br/>
uint32&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;function&#160;distinguishes&#160;the&#160;address&#160;range of&#160;the&#160;passed&#160;peripheral&#160;region.&#160;It checks&#160;whether the&#160;<br/>parameter&#160;“Address”&#160;is&#160;within this&#160;range.&#160;Then it checks&#160;whether the&#160;calling OS&#160;application has&#160;access&#160;<br/>rights&#160;to&#160;the&#160;passed&#160;peripheral&#160;region.&#160;<br/>If&#160;all&#160;checks&#160;did pass&#160;the&#160;API returns&#160;the content&#160;of&#160;the passed&#160;address&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;If&#160;one of&#160;the&#160;performed&#160;checks&#160;within&#160;the&#160;API&#160;is&#160;not&#160;passed&#160;the OS&#160;treats&#160;it&#160;as&#160;a&#160;memory&#160;protection&#160;<br/>
violation.&#160;The&#160;ProtectionHook()&#160;is&#160;called.&#160;<br/>
&gt;&#160;&#160;The&#160;data&#160;alignment of&#160;the “Address”&#160;parameter&#160;is&#160;not&#160;checked&#160;by&#160;the&#160;service function.&#160;Misaligned&#160;<br/>
accesses&#160;may&#160;lead to&#160;exceptions.&#160;<br/>
Table&#160;5-1&#160;&#160;&#160;Read&#160;Peripheral&#160;API&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
147&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=148></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-148_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-148_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>The&#160;former&#160;names&#160;of&#160;the&#160;API&#160;functions&#160;osReadPeripheral8(),&#160;osReadPeripheral16()&#160;<br/>
&#160;&#160;and&#160;osReadPeripheral32()&#160;may&#160;also be&#160;used&#160;(the&#160;OS&#160;is&#160;backward&#160;compatible).&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
148&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=149></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-149_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>5.1.2&#160;</b><br/>
<b>Write&#160;Functions&#160;</b><br/>
<b>Prototype&#160;<br/></b>FUNC(void, OS_CODE) Os_WritePeripheral8(&#160;<br/>&#160;&#160;Os_PeripheralIdType PeripheralID,&#160;<br/>&#160;&#160;uint32 Address,&#160;<br/>&#160;&#160;uint8 Value&#160;<br/>)&#160;<br/>
FUNC(void, OS_CODE) Os_WritePeripheral16(&#160;<br/>&#160;&#160;Os_PeripheralIdType PeripheralID,&#160;<br/>&#160;&#160;uint32 Address,&#160;<br/>&#160;&#160;uint16 Value&#160;<br/>)&#160;<br/>
FUNC(void, OS_CODE) Os_WritePeripheral32(&#160;<br/>&#160;&#160;Os_PeripheralIdType PeripheralID,&#160;<br/>&#160;&#160;uint32 Address,&#160;<br/>&#160;&#160;uint32 Value&#160;<br/>)&#160;<br/>
<b>Parameter&#160;<br/></b>PeripheralID&#160;<br/>
The&#160;ID of&#160;a&#160;configured peripheral&#160;region.&#160;<br/>The&#160;symbolic&#160;name&#160;may&#160;be&#160;passed&#160;here.&#160;<br/>
Address&#160;<br/>
The&#160;address&#160;of&#160;the peripheral&#160;register&#160;which shall&#160;be&#160;written.&#160;<br/>
Value&#160;uint8&#160;<br/>
Value&#160;uint16&#160;<br/>
Value&#160;which shall&#160;be&#160;written&#160;to&#160;the peripheral&#160;register.&#160;<br/>
Value&#160;uint32&#160;<br/>
<b>Return&#160;code&#160;<br/></b>void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;function&#160;distinguishes&#160;the&#160;address&#160;range of&#160;the&#160;passed&#160;peripheral&#160;region.&#160;It checks&#160;whether the&#160;<br/>parameter&#160;“Address”&#160;is&#160;within this&#160;range.&#160;Then it checks&#160;whether the&#160;calling OS&#160;application has&#160;access&#160;<br/>rights&#160;to&#160;the&#160;passed&#160;peripheral&#160;region.&#160;<br/>If&#160;all&#160;checks&#160;did pass&#160;the&#160;OS&#160;writes&#160;the&#160;Value&#160;into&#160;the&#160;peripheral&#160;register.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;If&#160;one of&#160;the&#160;performed&#160;checks&#160;within&#160;the&#160;API&#160;is&#160;not&#160;passed&#160;the OS&#160;treats&#160;it&#160;as&#160;a&#160;memory&#160;protection&#160;<br/>
violation.&#160;The&#160;ProtectionHook()&#160;is&#160;called.&#160;<br/>
&gt;&#160;&#160;The&#160;data&#160;alignment of&#160;the “Address”&#160;parameter&#160;is&#160;not&#160;checked&#160;by&#160;the service function.&#160;Misaligned&#160;<br/>
accesses&#160;may&#160;lead to&#160;exceptions.&#160;<br/>
Table&#160;5-2&#160;&#160;&#160;Write&#160;Peripheral&#160;APIs&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
149&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=150></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-150_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-150_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>The&#160;former&#160;names&#160;of&#160;the&#160;API&#160;functions&#160;osWritePeripheral8(),&#160;osWritePeripheral16()&#160;<br/>
&#160;&#160;and osWritePeripheral32()&#160;may&#160;also be&#160;used&#160;(the&#160;OS&#160;is&#160;backward&#160;compatible).&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
150&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=151></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-151_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>5.1.3&#160;</b><br/>
<b>Bitmask&#160;Functions&#160;</b><br/>
<b>Prototype&#160;<br/></b>FUNC(void, OS_CODE) Os_ModifyPeripheral8(&#160;<br/>&#160;&#160;Os_PeripheralIdType PeripheralID,&#160;<br/>&#160;&#160;uint32 Address,&#160;<br/>&#160;&#160;uint8&#160;ClearMask,&#160;<br/>&#160;&#160;uint8 SetMask&#160;<br/>)&#160;<br/>
FUNC(void, OS_CODE) Os_ModifyPeripheral16(&#160;<br/>&#160;&#160;Os_PeripheralIdType PeripheralID,&#160;<br/>&#160;&#160;uint32 Address,&#160;<br/>&#160;&#160;uint16 ClearMask,&#160;<br/>&#160;&#160;uint16 SetMask&#160;<br/>)&#160;<br/>
FUNC(void, OS_CODE) Os_ModifyPeripheral32(&#160;<br/>&#160;&#160;Os_PeripheralIdType PeripheralID,&#160;<br/>&#160;&#160;uint32 Address,&#160;<br/>&#160;&#160;uint32 ClearMask,&#160;<br/>&#160;&#160;uint32 SetMask&#160;<br/>)&#160;<br/>
<b>Parameter&#160;<br/></b>PeripheralID&#160;<br/>
The&#160;ID of&#160;a&#160;configured peripheral&#160;region.&#160;<br/>The&#160;symbolic&#160;name&#160;may&#160;be&#160;passed&#160;here.&#160;<br/>
Address&#160;<br/>
The&#160;address&#160;of&#160;the peripheral&#160;register&#160;which shall&#160;be&#160;modified.&#160;<br/>
ClearMask uint8&#160;<br/>
ClearMask uint16&#160;&#160;The&#160;mask&#160;for the&#160;AND operation.&#160;<br/>ClearMask uint32&#160;<br/>
SetMask uint8&#160;<br/>
SetMask uint16&#160;<br/>
The&#160;mask&#160;for the&#160;OR operation.&#160;<br/>
SetMask uint32&#160;<br/>
<b>Return&#160;code&#160;<br/></b>void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;function&#160;distinguishes&#160;the&#160;address&#160;range of&#160;the&#160;passed&#160;peripheral&#160;region.&#160;It checks&#160;whether the&#160;<br/>parameter&#160;“Address”&#160;is&#160;within this&#160;range.&#160;Then it checks&#160;whether the&#160;calling OS&#160;application has&#160;access&#160;<br/>rights&#160;to&#160;the&#160;passed&#160;peripheral&#160;region.&#160;<br/>If&#160;all&#160;checks&#160;did pass&#160;the OS&#160;performs&#160;the following&#160;operation:&#160;<br/>Address&#160;= (Address &amp; ClearMask) | SetMask;&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
151&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=152></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-152_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-152_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;If&#160;one of&#160;the&#160;performed&#160;checks&#160;within&#160;the&#160;API&#160;is&#160;not&#160;passed&#160;the OS&#160;treats&#160;it&#160;as&#160;a&#160;memory&#160;protection&#160;<br/>
violation.&#160;The&#160;ProtectionHook()&#160;is&#160;called.&#160;<br/>
&gt;&#160;&#160;The&#160;data&#160;alignment of&#160;the “Address”&#160;parameter&#160;is&#160;not&#160;checked&#160;by&#160;the service function.&#160;Misaligned&#160;<br/>
accesses&#160;may&#160;lead to&#160;exceptions.&#160;<br/>
Table&#160;5-3&#160;&#160;&#160;Bitmask&#160;Peripheral&#160;API&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>The&#160;former&#160;names&#160;of&#160;the&#160;API&#160;functions&#160;osModifyPeripheral8(),&#160;osModifyPeripheral16()&#160;<br/>
&#160;&#160;and osModifyPeripheral32()&#160;may&#160;also be&#160;used&#160;(the OS&#160;is&#160;backward&#160;compatible).&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
152&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=153></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-153_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>5.2&#160;</b><br/>
<b>Pre-Start Task&#160;</b><br/>
<b>Prototype&#160;<br/></b>FUNC(void, OS_CODE) Os_EnterPreStartTask(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
none&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;function&#160;schedules&#160;and&#160;dispatches&#160;to&#160;the&#160;pre-start task.&#160;The&#160;core&#160;is&#160;initialized that non-trusted&#160;function&#160;<br/>calls&#160;can&#160;be&#160;used&#160;safely&#160;within&#160;this&#160;task.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;Has&#160;to&#160;be called on&#160;a&#160;core&#160;which&#160;is&#160;started&#160;as&#160;an&#160;AUTOSAR&#160;core.&#160;<br/>
&gt;&#160;&#160;The&#160;core which calls&#160;this&#160;function&#160;must have&#160;a configured&#160;pre-start task.&#160;<br/>
&gt;&#160;&#160;Must only&#160;be&#160;called&#160;once.&#160;<br/>
&gt;&#160;&#160;Must be&#160;called&#160;prior&#160;to&#160;StartOS()&#160;but&#160;after&#160;Os_Init()&#160;&#160;<br/>
Table&#160;5-4&#160;&#160;&#160;API&#160;Service&#160;Os_EnterPreStartTask&#160;<br/>
&#160;<br/>&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
153&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=154></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-154_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>5.3&#160;</b><br/>
<b>Non-Trusted Functions&#160;(NTF)&#160;</b><br/>
<b>Prototype&#160;<br/></b>FUNC(StatusType, OS_CODE) Os_CallNonTrustedFunction(&#160;<br/>&#160;&#160;Os_NonTrustedFunctionIndexType FunctionIndex,&#160;<br/>&#160;&#160;Os_NonTrustedFunctionParameterRefType FunctionParams&#160;<br/>)&#160;<br/>
<b>Parameter&#160;<br/></b>FunctionIndex&#160;<br/>
The&#160;Index&#160;of&#160;the&#160;non-trusted function.&#160;<br/>
FunctionParams&#160;<br/>
Pointer&#160;to parameters&#160;which are passed&#160;to the non-trusted&#160;function.&#160;<br/>
<b>Return&#160;code&#160;<br/></b>E_OK&#160;<br/>
No error.&#160;<br/>
E_OS_SERVICEID&#160;<br/>
No function defined&#160;for this&#160;index.&#160;<br/>
E_OS_CALLEVEL&#160;&#160;<br/>
Called&#160;from&#160;invalid context.&#160;(EXTENDED status)&#160;<br/>
E_OS_ACCESS&#160;&#160;<br/>
The&#160;given&#160;object belongs&#160;to&#160;a&#160;foreign&#160;core. (EXTENDED status)&#160;<br/>
E_OS_ACCESS&#160;&#160;<br/>
Owner OS&#160;application is&#160;not accessible. (Service&#160;Protection)&#160;<br/>
E_OS_SYS_NO_NTFSTACK&#160;&#160;<br/>
No further NTF-Stacks&#160;available.&#160;(EXTENDED status)&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Performs&#160;a&#160;call&#160;to&#160;the&#160;non-trusted&#160;function passed&#160;in „FunctionIndex“.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;The&#160;non-trusted&#160;function&#160;will&#160;not&#160;be&#160;able to return&#160;any&#160;values. It has&#160;no&#160;access&#160;rights&#160;to&#160;the data&#160;<br/>
structure of&#160;the caller referenced&#160;by&#160;the&#160;“FunctionParams”&#160;parameter.&#160;<br/>
&gt;&#160;&#160;This&#160;API service&#160;may&#160;be&#160;called&#160;with&#160;disabled interrupts.&#160;<br/>
Table&#160;5-5&#160;&#160;&#160;Call&#160;Non-Trusted&#160;Function&#160;API&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
154&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=155></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-155_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-155_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>5.4&#160;</b><br/>
<b>Interrupt&#160;Source&#160;API&#160;</b><br/>
<b>5.4.1&#160;</b><br/>
<b>Disable&#160;Interrupt&#160;Source&#160;</b><br/>
<b>Prototype&#160;<br/></b>FUNC(StatusType, OS_CODE) Os_DisableInterruptSource(&#160;<br/>&#160;&#160;ISRType ISRID&#160;<br/>)&#160;<br/>
<b>Parameter&#160;<br/></b>ISRID&#160;<br/>
The&#160;ID of&#160;a&#160;category&#160;2 ISR.&#160;<br/>
<b>Return&#160;code&#160;<br/></b>E_OK&#160;<br/>
No error.&#160;<br/>
E_OS_ID&#160;<br/>
ISRID&#160;is&#160;not a&#160;valid category&#160;2 ISR&#160;identifier (EXTENDED status)&#160;<br/>
E_OS_CALLEVEL&#160;<br/>
Wrong call&#160;context&#160;of&#160;the&#160;API function (EXTENDED status)&#160;<br/>
E_OS_ACCESS&#160;<br/>
The&#160;calling&#160;application is&#160;not&#160;the owner of&#160;the&#160;ISR&#160;passed&#160;in&#160;ISRID (Service&#160;<br/>Protection)&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
MICROSAR OS&#160;disables&#160;the interrupt source by&#160;modifying the&#160;interrupt&#160;controller&#160;registers.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;May&#160;be&#160;called&#160;for&#160;category&#160;2 ISRs&#160;only.&#160;<br/>
Table&#160;5-6&#160;&#160;&#160;API&#160;Service&#160;Os_DisableInterruptSource&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;</b><br/>
<b>&#160;&#160;</b>Depending&#160;on&#160;target&#160;platform&#160;(e.g.&#160;ARM&#160;platforms),&#160;the&#160;ISR&#160;may&#160;still&#160;become active&#160;<br/>
although&#160;Os_DisableInterruptSource&#160;has&#160;returned&#160;E_OK.&#160;<br/>This&#160;may&#160;be&#160;caused&#160;by&#160;hardware&#160;racing&#160;conditions&#160;e.g.&#160;when the&#160;interrupt&#160;is&#160;requested&#160;<br/>immediately&#160;before&#160;the&#160;effect&#160;of&#160;Os_DisableInterruptSource&#160;becomes&#160;active.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
155&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=156></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-156_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>5.4.2&#160;</b><br/>
<b>Enable&#160;Interrupt&#160;Source&#160;</b><br/>
<b>Prototype&#160;<br/></b>FUNC(StatusType, OS_CODE)&#160;Os_EnableInterruptSource(&#160;<br/>&#160;&#160;ISRType ISRID,&#160;<br/>&#160;&#160;boolean ClearPending&#160;<br/>)&#160;<br/>
<b>Parameter&#160;<br/></b>ISRID&#160;<br/>
The&#160;ID of&#160;a&#160;category&#160;2 ISR.&#160;<br/>
ClearPending&#160;<br/>
Defines&#160;whether&#160;the&#160;pending flag&#160;shall&#160;be&#160;cleared (TRUE) or&#160;not&#160;(FALSE).&#160;<br/>
<b>Return&#160;code&#160;<br/></b>E_OK&#160;<br/>
No error.&#160;<br/>
E_OS_ID&#160;<br/>
ISRID&#160;is&#160;not a&#160;valid category&#160;2 ISR&#160;identifier ID (EXTENDED status)&#160;<br/>
E_OS_CALLEVEL&#160;&#160;<br/>
Wrong call&#160;context&#160;of&#160;the&#160;API function (EXTENDED status)&#160;<br/>
E_OS_VALUE&#160;&#160;<br/>
The&#160;parameter&#160;“ClearPending”&#160;is&#160;not&#160;a&#160;boolean&#160;value&#160;(EXTENDED status)&#160;<br/>
E_OS_ACCESS&#160;&#160;<br/>
The&#160;calling&#160;application is&#160;not&#160;the owner of&#160;the&#160;ISR&#160;passed&#160;in&#160;ISRID (Service&#160;<br/>Protection)&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
MICROSAR OS&#160;enables&#160;the interrupt source by&#160;modifying the&#160;interrupt&#160;controller&#160;registers.&#160;Additionally&#160;it&#160;<br/>may&#160;clear&#160;the&#160;interrupt&#160;pending flag&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;May&#160;be&#160;called&#160;for category&#160;2 ISRs&#160;only&#160;<br/>
Table&#160;5-7&#160;&#160;&#160;API&#160;Service&#160;Os_EnableInterruptSource&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
156&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=157></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-157_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-157_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-157_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>5.4.3&#160;</b><br/>
<b>Clear Pending Interrupt&#160;</b><br/>
<b>Prototype&#160;<br/></b>FUNC(StatusType, OS_CODE) Os_ClearPendingInterrupt(&#160;<br/>&#160;&#160;ISRType ISRID&#160;<br/>)&#160;<br/>
<b>Parameter&#160;<br/></b>ISRID&#160;<br/>
The&#160;ID of&#160;a&#160;category&#160;2 ISR.&#160;<br/>
<b>Return&#160;code&#160;<br/></b>E_OK&#160;<br/>
No errors&#160;<br/>
E_OS_ID&#160;<br/>
ISRID&#160;is&#160;not a&#160;valid category&#160;2 ISR&#160;identifier (EXTENDED status)&#160;<br/>
E_OS_CALLEVEL&#160;<br/>
Wrong call&#160;context&#160;of&#160;the&#160;API function (EXTENDED status)&#160;<br/>
E_OS_ACCESS&#160;<br/>
The&#160;calling&#160;application is&#160;not&#160;the owner of&#160;the&#160;ISR&#160;passed&#160;in&#160;ISRID (Service&#160;<br/>Protection)&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
MICROSAR OS&#160;clears&#160;the&#160;interrupt&#160;pending&#160;flag by&#160;modifying&#160;the&#160;interrupt&#160;controller registers.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;May&#160;be&#160;called&#160;for category&#160;2 ISRs&#160;only&#160;<br/>
Table&#160;5-8&#160;&#160;&#160;API&#160;Service&#160;Os_ClearPendingInterrupt&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;</b><br/>
&#160;&#160;In order&#160;to&#160;minimize the&#160;risk&#160;of&#160;spurious&#160;interrupts,&#160;Os_ClearPendingInterrupt&#160;shall&#160;be&#160;<br/>
called&#160;only&#160;after&#160;the&#160;ISR&#160;(IsrId)&#160;has&#160;been&#160;disabled&#160;and before&#160;it&#160;is&#160;enabled&#160;again.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;</b><br/>
&#160;&#160;The&#160;API&#160;service tries to&#160;clear&#160;the&#160;pending&#160;flag only.&#160;The&#160;interrupt&#160;cause has&#160;to&#160;be&#160;reset&#160;<br/>
by&#160;the&#160;application software.&#160;Otherwise the&#160;flag&#160;may&#160;be&#160;set&#160;again immediately&#160;after&#160;it&#160;<br/>has&#160;been&#160;cleared&#160;by&#160;the&#160;API.&#160;This&#160;may&#160;be&#160;the&#160;case e.g.&#160;with level&#160;triggered&#160;ISRs.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
157&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=158></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-158_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>5.4.4&#160;</b><br/>
<b>Check&#160;Interrupt&#160;Source&#160;Enabled&#160;</b><br/>
<b>Prototype&#160;<br/></b>FUNC(StatusType, OS_CODE) Os_IsInterruptSourceEnabled(&#160;<br/>&#160;&#160;ISRType ISRID,&#160;<br/>&#160;&#160;P2VAR(boolean, AUTOMATIC, OS_VAR_NOINIT) IsEnabled&#160;<br/>)&#160;<br/>
<b>Parameter&#160;<br/></b>ISRID&#160;<br/>
The&#160;ID of&#160;a&#160;category&#160;2 ISR.&#160;<br/>
IsEnabled&#160;<br/>
Defines&#160;wether&#160;the&#160;source&#160;of&#160;the ISR is&#160;enabled (TRUE) or&#160;not (FALSE)&#160;<br/>
<b>Return&#160;code&#160;<br/></b>E_OK&#160;<br/>
No errors&#160;<br/>
E_OS_ID&#160;<br/>
ISRID&#160;is&#160;not a&#160;valid category&#160;2 ISR&#160;identifier (EXTENDED status)&#160;<br/>
E_OS_CALLEVEL&#160;<br/>
Wrong call&#160;context&#160;of&#160;the&#160;API function (EXTENDED&#160;status)&#160;<br/>
E_OS_ACCESS&#160;<br/>
The&#160;calling&#160;application is&#160;not&#160;the owner of&#160;the&#160;ISR&#160;passed&#160;in&#160;ISRID (Service&#160;<br/>Protection)&#160;<br/>
E_OS_PARAM_POINTER&#160;&#160;Given pointer parameter&#160;(isEnabled)&#160;is&#160;NULL&#160;(EXTENDED status)&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
MICROSAR OS&#160;checks&#160;if&#160;the&#160;interrupt&#160;source&#160;is&#160;enabled&#160;reading&#160;the&#160;interrupt&#160;controller registers&#160;and&#160;<br/>update&#160;the&#160;boolean addressed&#160;by&#160;IsEnabled&#160;accordingly&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;May&#160;be&#160;called&#160;for category&#160;2 ISRs&#160;only&#160;<br/>
Table&#160;5-9&#160;&#160;&#160;API&#160;Service&#160;Os_IsInterruptSourceEnabled&#160;<br/>
&#160;<br/>&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
158&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=159></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-159_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>5.4.5&#160;</b><br/>
<b>Check&#160;Interrupt&#160;Pending&#160;</b><br/>
<b>Prototype&#160;<br/></b>FUNC(StatusType, OS_CODE) Os_IsInterruptPending(&#160;<br/>&#160;&#160;ISRType ISRID,&#160;<br/>&#160;&#160;P2VAR(boolean, AUTOMATIC, OS_VAR_NOINIT) IsPending&#160;<br/>)&#160;<br/>
<b>Parameter&#160;<br/></b>ISRID&#160;<br/>
The&#160;ID of&#160;a&#160;category&#160;2 ISR.&#160;<br/>
IsPending&#160;<br/>
Defines&#160;wether&#160;the&#160;ISR has&#160;been already&#160;<br/>requesterd&#160;(TRUE) or&#160;not (FALSE)&#160;<br/>
<b>Return&#160;code&#160;<br/></b>E_OK&#160;<br/>
No errors&#160;<br/>
E_OS_ID&#160;<br/>
ISRID&#160;is&#160;not a&#160;valid category&#160;2 ISR&#160;identifier&#160;<br/>(EXTENDED status)&#160;<br/>
E_OS_CALLEVEL&#160;<br/>
Wrong call&#160;context&#160;of&#160;the&#160;API function&#160;<br/>(EXTENDED status)&#160;<br/>
E_OS_ACCESS&#160;<br/>
The&#160;calling&#160;application is&#160;not&#160;the owner of&#160;the&#160;<br/>ISR passed&#160;in ISRID (Service Protection)&#160;<br/>
E_OS_PARAM_POINTER&#160;<br/>
Given pointer parameter&#160;(isPending)&#160;is&#160;NULL&#160;<br/>(EXTENDED status)&#160;<br/>
E_OS_SYS_UNIMPLEMENTED_FUNCTIONALITY&#160;Hardware&#160;does&#160;not support&#160;to&#160;check&#160;if&#160;there are&#160;<br/>
pending interrupts&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
MICROSAR OS&#160;checks&#160;if&#160;the&#160;ISR has&#160;been&#160;already&#160;requested,&#160;&#160;reading&#160;the&#160;interrupt controller registers&#160;<br/>and&#160;update&#160;the&#160;boolean&#160;addressed&#160;by&#160;IsPending&#160;accordingly&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;May&#160;be&#160;called&#160;for category&#160;2 ISRs&#160;only&#160;<br/>
Table&#160;5-10&#160;&#160;&#160;API&#160;Service&#160;Os_IsInterruptPending&#160;<br/>
&#160;<br/>&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
159&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=160></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-160_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>5.5&#160;</b><br/>
<b>Detailed Error&#160;API&#160;</b><br/>
<b>5.5.1&#160;</b><br/>
<b>Get detailed Error&#160;</b><br/>
<b>Prototype&#160;<br/></b>FUNC(StatusType, OS_CODE) Os_GetDetailedError(&#160;<br/>&#160;&#160;Os_ErrorInformationRefType&#160;ErrorRef&#160;<br/>)&#160;<br/>
<b>Parameter&#160;<br/></b>ErrorRef&#160;<br/>
Output&#160;parameter&#160;of&#160;type Os_ErrorInformationRefType&#160;<br/>
<b>Return&#160;code&#160;<br/></b>E_OK&#160;<br/>
No error.&#160;<br/>
E_OS_CALLEVEL&#160;<br/>
Called&#160;from&#160;invalid context.&#160;(EXTENDED status)&#160;<br/>
E_OS_PARAM_POINTER&#160;Given parameter&#160;pointer is&#160;NULL.&#160;(EXTENDED status)&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Returns&#160;error&#160;information&#160;of&#160;the&#160;last error occurred&#160;on&#160;the&#160;local&#160;core.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;The&#160;ErrorRef&#160;output parameter&#160;is&#160;a&#160;struct&#160;which&#160;holds&#160;the&#160;8&#160;bit&#160;AUTOSAR&#160;error code,&#160;the&#160;detailed&#160;error&#160;<br/>
code and&#160;the&#160;service ID&#160;of&#160;the&#160;causing&#160;API service.&#160;<br/>
Table&#160;5-11&#160;&#160;&#160;API&#160;Service&#160;Os_GetDetailedError&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
160&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=161></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-161_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>5.5.2&#160;</b><br/>
<b>Unhandled Interrupt&#160;Requests&#160;</b><br/>
<b>Prototype&#160;<br/></b>FUNC(StatusType, OS_CODE)&#160;Os_GetUnhandledIrq(&#160;<br/>&#160;&#160;Os_InterruptSourceIdRefType InterruptSource&#160;<br/>)&#160;<br/>
<b>Parameter&#160;<br/></b>InterruptSource&#160;<br/>
Output&#160;parameter&#160;of&#160;type Os_InterruptSourceIdRefType&#160;<br/>
<b>Return&#160;code&#160;<br/></b>E_OK&#160;<br/>
No error.&#160;<br/>
E_OS_CORE&#160;<br/>
Called&#160;from&#160;a&#160;non-AUTOSAR&#160;core (EXTENDED status)&#160;<br/>
E_OS_PARAM_POINTER&#160;Null&#160;pointer passed&#160;as&#160;argument (EXTENDED status)&#160;<br/>E_OS_STATE&#160;<br/>
No unhandled&#160;interrupt reported since start up (EXTENDED status)&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
In&#160;case of&#160;an&#160;unhandled interrupt request the triggering interrupt source can&#160;be&#160;distinguished&#160;with&#160;this&#160;<br/>service.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;The&#160;return value&#160;of&#160;this&#160;function&#160;may&#160;be&#160;interpreted&#160;differently&#160;for different controller families.&#160;<br/>
Table&#160;5-12&#160;&#160;&#160;API&#160;Service&#160;Os_GetUnhandledIrq&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
161&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=162></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-162_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>5.5.3&#160;</b><br/>
<b>Unhandled Exception&#160;Requests&#160;</b><br/>
<b>Prototype&#160;<br/></b>FUNC(StatusType, OS_CODE) Os_GetUnhandledExc(&#160;<br/>&#160;&#160;Os_ExceptionSourceIdRefType ExceptionSource&#160;<br/>)&#160;<br/>
<b>Parameter&#160;<br/></b>ExceptionSource&#160;<br/>
Output&#160;parameter&#160;of&#160;type Os_ExceptionSourceIdRefType&#160;<br/>
<b>Return&#160;code&#160;<br/></b>E_OK&#160;<br/>
No&#160;error.&#160;<br/>
E_OS_CORE&#160;<br/>
Called&#160;from&#160;a&#160;non-AUTOSAR&#160;core (EXTENDED status)&#160;<br/>
E_OS_PARAM_POINTER&#160;Null&#160;pointer passed&#160;as&#160;argument (EXTENDED status)&#160;<br/>E_OS_STATE&#160;<br/>
No unhandled&#160;exception&#160;reported&#160;since start&#160;up. (EXTENDED status)&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
In&#160;case of&#160;an&#160;unhandled&#160;exception&#160;request the&#160;triggering&#160;exception&#160;source can&#160;be&#160;distinguished&#160;with&#160;this&#160;<br/>service.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;The&#160;return value&#160;of&#160;this&#160;function&#160;may&#160;be&#160;interpreted&#160;differently&#160;for different controller families.&#160;<br/>
Table&#160;5-13&#160;&#160;&#160;API&#160;Service&#160;Os_GetUnhandledExc&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
162&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=163></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-163_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-163_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>5.6&#160;</b><br/>
<b>Stack&#160;Usage&#160;API&#160;</b><br/>
All&#160;Service&#160;API&#160;functions which&#160;calculate&#160;stack usage&#160;are&#160;working&#160;in&#160;the&#160;same&#160;way.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;service&#160;performs error checks:&#160;<br/>
<b>&gt;&#160;&#160;</b>validity&#160;of&#160;passed&#160;parameters&#160;<br/>
<b>&gt;&#160;&#160;</b>existence&#160;of&#160;OS&#160;Hook&#160;routine&#160;(if&#160;hook&#160;stacks&#160;are queried)&#160;<br/>
<b>&gt;&#160;&#160;</b>cross core checks (when&#160;stack sizes are queried&#160;of&#160;stacks which&#160;are&#160;located&#160;on&#160;a&#160;<br/>
foreign&#160;core)&#160;<br/>
<b>&gt;&#160;&#160;</b>if&#160;one&#160;of&#160;these&#160;checks&#160;fails,&#160;the&#160;OS&#160;initiates&#160;error&#160;handling&#160;(ErrorHook() is called)&#160;<br/>
<b>&gt;&#160;&#160;</b>Calculates the&#160;maximum&#160;stack&#160;usage&#160;of&#160;the&#160;queried&#160;stack since&#160;call&#160;of&#160;StartOS()&#160;<br/>
<b>&gt;&#160;&#160;</b>Returns&#160;the&#160;stack usage&#160;in&#160;bytes&#160;<br/>
<b>&gt;&#160;&#160;</b>Stack Usage&#160;API&#160;services&#160;may&#160;be&#160;called&#160;from&#160;any&#160;context&#160;<br/>
<b>&gt;&#160;&#160;</b>Stack Usage&#160;API&#160;services&#160;may&#160;be&#160;used&#160;cross&#160;core&#160;<br/>
<b>Stack usage service&#160;API&#160;Prototypes&#160;</b><br/>
Parameter&#160;<br/>
FUNC(uint32, OS_CODE) Os_GetTaskStackUsage (TaskType TaskID)&#160;<br/>
Task&#160;ID&#160;<br/>
FUNC(uint32, OS_CODE) Os_GetISRStackUsage (ISRType IsrID)&#160;<br/>
ISR&#160;ID&#160;<br/>
FUNC(uint32,&#160;OS_CODE) Os_GetKernelStackUsage&#160;(CoreIdType CoreID)&#160;<br/>
Core&#160;ID&#160;<br/>
FUNC(uint32, OS_CODE)&#160;Os_GetStartupHookStackUsage(CoreIdType CoreID)&#160;<br/>
Core&#160;ID&#160;<br/>
FUNC(uint32, OS_CODE) Os_GetErrorHookStackUsage&#160;(CoreIdType CoreID)&#160;<br/>
Core&#160;ID&#160;<br/>
FUNC(uint32, OS_CODE) Os_GetShutdownHookStackUsage(CoreIdType CoreID)&#160;<br/>
Core&#160;ID&#160;<br/>
FUNC(uint32, OS_CODE)&#160;Os_GetProtectionHookStackUsage(CoreIdType CoreID)&#160;<br/>
Core&#160;ID&#160;<br/>
Table&#160;5-14&#160;&#160;&#160;Overview:&#160;Stack&#160;Usage&#160;Functions&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>Any&#160;stack&#160;usage&#160;function&#160;must&#160;not&#160;be&#160;used&#160;cross&#160;core&#160;with interrupts&#160;disabled.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
163&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=164></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-164_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-164_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>5.7&#160;</b><br/>
<b>RTE&#160;Interrupt&#160;API&#160;</b><br/>
MICROSAR&#160;OS&#160;provides&#160;optimized&#160;interrupt&#160;en-/disable&#160;functions&#160;for&#160;exclusive&#160;usage&#160;for&#160;<br/>the&#160;RTE&#160;module&#160;of&#160;Vector.&#160;<br/>
&#160;<br/>
<b>API&#160;Name&#160;</b><br/>
<b>Alias&#160;(for&#160;backward&#160;compatibility)&#160;</b><br/>
Os_DisableLevelAM()&#160;<br/>
osDisableLevelAM()&#160;<br/>
Os_DisableLevelKM()&#160;<br/>
osDisableLevelKM()&#160;<br/>
Os_DisableLevelUM()&#160;<br/>
osDisableLevelUM()&#160;<br/>
Os_EnableLevelAM()&#160;<br/>
osEnableLevelAM()&#160;<br/>
Os_EnableLevelKM()&#160;<br/>
osEnableLevelKM()&#160;<br/>
Os_EnableLevelUM()&#160;<br/>
osEnableLevelUM()&#160;<br/>
Os_DisableGlobalAM()&#160;<br/>
osDisableGlobalAM()&#160;<br/>
Os_DisableGlobalKM()&#160;<br/>
osDisableGlobalKM()&#160;<br/>
Os_DisableGlobalUM()&#160;<br/>
osDisableGlobalUM()&#160;<br/>
Os_EnableGlobalAM()&#160;<br/>
osEnableGlobalAM()&#160;<br/>
Os_EnableGlobalKM()&#160;<br/>
osEnableGlobalKM()&#160;<br/>
Os_EnableGlobalUM()&#160;<br/>
osEnableGlobalUM()&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>RTE&#160;interrupt&#160;handling&#160;functions&#160;should&#160;not&#160;be&#160;used&#160;by&#160;the&#160;application&#160;and&#160;are&#160;listed&#160;<br/>
<b>&#160;&#160;</b>here&#160;to avoid naming&#160;collisions.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
164&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=165></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-165_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-165_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-165_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>5.8&#160;</b><br/>
<b>Time&#160;Conversion&#160;Macros&#160;</b><br/>
Based&#160;&#160;on&#160;&#160;counter&#160;&#160;configuration&#160;&#160;attributes&#160;&#160;conversion&#160;&#160;macros&#160;&#160;are&#160;&#160;generated&#160;&#160;which&#160;&#160;are&#160;<br/>capable&#160;to&#160;convert&#160;from&#160;time&#160;into&#160;counter ticks and&#160;vice&#160;versa.&#160;<br/>There are&#160;a&#160;set&#160;of&#160;conversion&#160;macros&#160;for each&#160;configured&#160;OS&#160;counter&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>The&#160;conversion macros&#160;embody&#160;multiplication operations&#160;which may&#160;lead&#160;to a&#160;data&#160;<br/>
<b>&#160;&#160;</b>type&#160;overflow.&#160;The&#160;macros&#160;are&#160;not&#160;capable&#160;to detect&#160;these&#160;overflows&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>Although&#160;the&#160;results&#160;of&#160;the macros&#160;are&#160;mathematically&#160;rounded&#160;the&#160;result&#160;will&#160;still&#160;be&#160;an&#160;<br/>
<b>&#160;&#160;</b>integer&#160;(e.g.&#160;results&#160;smaller&#160;than&#160;0.5&#160;are&#160;used&#160;as&#160;0).&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>5.8.1&#160;</b><br/>
<b>Convert from&#160;Time&#160;into&#160;Counter&#160;Ticks&#160;</b><br/>
<b>OS_NS2TICKS_&lt;Counter&#160;Name&gt;(x)&#160;</b><br/>
x&#160;is&#160;given&#160;in nanoseconds&#160;<br/>
<b>OS_US2TICKS_&lt;Counter&#160;Name&gt;(x)&#160;</b><br/>
x&#160;is&#160;given&#160;in microseconds&#160;<br/>
<b>OS_MS2TICKS_&lt;Counter&#160;Name&gt;(x)&#160;</b><br/>
x&#160;is&#160;given&#160;in milliseconds&#160;<br/>
<b>OS_SEC2TICKS_&lt;Counter&#160;Name&gt;(x)&#160;</b><br/>
x&#160;is&#160;given&#160;in seconds&#160;<br/>
Table&#160;5-15&#160;&#160;&#160;Conversion&#160;Macros&#160;from&#160;Time&#160;to&#160;Counter&#160;Ticks&#160;<br/>
<b>5.8.2&#160;</b><br/>
<b>Convert from&#160;Counter&#160;Ticks&#160;into Time&#160;</b><br/>
<b>OS_TICKS2NS_&lt;Counter&#160;Name&gt;(x)&#160;</b><br/>
The&#160;result&#160;is&#160;in nanoseconds&#160;<br/>
<b>OS_TICKS2US_&lt;Counter&#160;Name&gt;(x)&#160;</b><br/>
The&#160;result&#160;is&#160;in&#160;microseconds&#160;<br/>
<b>OS_TICKS2MS_&lt;Counter&#160;Name&gt;(x)&#160;</b><br/>
The&#160;result&#160;is&#160;in&#160;milliseconds&#160;<br/>
<b>OS_TICKS2SEC_&lt;Counter&#160;Name&gt;(x)&#160;</b><br/>
The&#160;result&#160;is&#160;in&#160;seconds&#160;<br/>
Table&#160;5-16&#160;&#160;&#160;Conversion&#160;Macros&#160;from&#160;Counter&#160;Ticks&#160;to&#160;Time&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
165&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=166></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-166_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>5.9&#160;</b><br/>
<b>Access&#160;Check&#160;API&#160;</b><br/>
<b>5.9.1&#160;</b><br/>
<b>Check&#160;ISR Memory&#160;Access&#160;</b><br/>
<b>Prototype&#160;<br/></b>FUNC(AccessType, OS_CODE) CheckISRMemoryAccess(&#160;<br/>&#160;&#160;ISRType ISRID,&#160;<br/>&#160;&#160;MemoryStartAddressType Address,&#160;<br/>&#160;&#160;MemorySizeType Size&#160;<br/>)&#160;<br/>
<b>Parameter&#160;<br/></b>ISRID&#160;<br/>
ID of&#160;category&#160;2&#160;ISR&#160;<br/>
Address&#160;<br/>
Start&#160;address&#160;of&#160;checked&#160;address&#160;range&#160;<br/>
Size&#160;<br/>
Size&#160;of&#160;checked&#160;address&#160;range&#160;<br/>
<b>Return&#160;code&#160;<br/></b>AccessType&#160;<br/>
Returns&#160;the access&#160;rights&#160;of&#160;the ISR&#160;to&#160;the&#160;given&#160;address&#160;range&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;service distinguishes&#160;the&#160;memory&#160;access&#160;rights&#160;of&#160;a&#160;given&#160;category&#160;2&#160;ISR&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;The&#160;access&#160;checks&#160;are based&#160;upon&#160;the&#160;“OsAccessCheckRegion”&#160;configuration objects.&#160;<br/>
&gt;&#160;&#160;The&#160;return value&#160;of&#160;this&#160;functions&#160;is&#160;typically&#160;used&#160;with&#160;the&#160;AUTOSAR&#160;OS&#160;specified macros&#160;<br/>
&gt;&#160;&#160;OSMEMORY_IS_READABLE&#160;<br/>
&gt;&#160;&#160;OSMEMORY_IS_WRITEABLE&#160;<br/>
&gt;&#160;&#160;OSMEMORY_IS_EXECUTABLE&#160;<br/>
&gt;&#160;&#160;OSMEMORY_IS_STACKSPACE&#160;<br/>
Table&#160;5-17&#160;&#160;&#160;API&#160;Service&#160;CheckISRMemoryAccess&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
166&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=167></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-167_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>5.9.2&#160;</b><br/>
<b>Check&#160;Task&#160;Memory&#160;Access&#160;</b><br/>
<b>Prototype&#160;<br/></b>FUNC(AccessType, OS_CODE) CheckTaskMemoryAccess(&#160;<br/>&#160;&#160;TaskType TaskID,&#160;<br/>&#160;&#160;MemoryStartAddressType Address,&#160;<br/>&#160;&#160;MemorySizeType Size&#160;<br/>)&#160;<br/>
<b>Parameter&#160;<br/></b>TaskID&#160;<br/>
ID of&#160;task&#160;<br/>
Address&#160;<br/>
Start&#160;address&#160;of&#160;checked&#160;address&#160;range&#160;<br/>
Size&#160;<br/>
Size&#160;of&#160;checked&#160;address&#160;range&#160;<br/>
<b>Return&#160;code&#160;<br/></b>AccessType&#160;<br/>
Returns&#160;the access&#160;rights&#160;of&#160;the&#160;Task&#160;to the given&#160;address&#160;range&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;service distinguishes&#160;the&#160;memory&#160;access&#160;rights&#160;of&#160;a&#160;given&#160;Task.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;The&#160;access&#160;checks&#160;are based&#160;upon&#160;the&#160;“OsAccessCheckRegion”&#160;configuration objects.&#160;<br/>
&gt;&#160;&#160;The&#160;return value&#160;of&#160;this&#160;functions&#160;is&#160;typically&#160;used&#160;with&#160;the&#160;AUTOSAR&#160;OS&#160;specified macros&#160;<br/>
&gt;&#160;&#160;OSMEMORY_IS_READABLE&#160;<br/>
&gt;&#160;&#160;OSMEMORY_IS_WRITEABLE&#160;<br/>
&gt;&#160;&#160;OSMEMORY_IS_EXECUTABLE&#160;<br/>
&gt;&#160;&#160;OSMEMORY_IS_STACKSPACE&#160;<br/>
Table&#160;5-18&#160;&#160;&#160;API&#160;Service&#160;CheckTaskMemoryAccess&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
167&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=168></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-168_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>5.10&#160;&#160;OS&#160;Initialization&#160;</b><br/>
<b>Prototype&#160;<br/></b>FUNC(void, OS_CODE)&#160;Os_Init(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
none&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;function&#160;performs&#160;all&#160;the basic&#160;OS&#160;initialization&#160;which includes&#160;<br/>
&gt;&#160;&#160;Variable initialization&#160;<br/>
&gt;&#160;&#160;Interrupt&#160;controller initialization&#160;<br/>
&gt;&#160;&#160;System&#160;MPU&#160;initialization&#160;in SC3 and&#160;SC4 systems&#160;(if&#160;supported by&#160;platform)&#160;<br/>
&gt;&#160;&#160;Synchronization&#160;barriers&#160;in&#160;multi&#160;core systems&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;A&#160;function&#160;call&#160;to&#160;this&#160;service must be available&#160;on&#160;all&#160;available cores&#160;(even&#160;for cores&#160;which&#160;are&#160;intended&#160;<br/>
to&#160;be&#160;a&#160;non-AUTOSAR&#160;core)&#160;<br/>
&gt;&#160;&#160;After call&#160;of&#160;Os_Init()&#160;the&#160;AUTOSAR&#160;interrupt&#160;API&#160;may&#160;be&#160;used.&#160;<br/>
&gt;&#160;&#160;After Call&#160;of&#160;Os_Init()&#160;the&#160;API&#160;GetCoreID&#160;may&#160;be&#160;used.&#160;<br/>
Table&#160;5-19&#160;&#160;&#160;API&#160;Service&#160;Os_Init&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
168&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=169></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-169_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>Prototype&#160;<br/></b>FUNC(void, OS_CODE) Os_InitMemory(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
none&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
&gt;&#160;&#160;This&#160;is&#160;an&#160;API function&#160;which is&#160;provided&#160;within all&#160;BSWs&#160;of&#160;Vector. It&#160;initializes&#160;variables&#160;of&#160;the BSW.&#160;<br/>
Within the OS module this&#160;function is&#160;currently&#160;empty&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;This&#160;service must be&#160;called&#160;on&#160;all&#160;available cores&#160;(even for cores&#160;which are intended to be a&#160;non-<br/>
AUTOSAR core)&#160;<br/>
Table&#160;5-20&#160;&#160;&#160;API&#160;Service&#160;Os_InitMemory&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
169&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=170></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-170_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-170_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>5.11&#160;&#160;Timing Hooks&#160;</b><br/>
Implementation&#160;of&#160;all&#160;timing&#160;hooks must&#160;conform&#160;to&#160;the&#160;following&#160;guidelines:&#160;<br/>
<b>&gt;&#160;&#160;</b>They&#160;are expected&#160;to&#160;be&#160;implemented&#160;as a&#160;macro.&#160;<br/>
<b>&gt;&#160;&#160;</b>Reentrancy&#160;is possible&#160;on&#160;multicore&#160;systems&#160;with&#160;different&#160;caller core IDs.&#160;<br/>
<b>&gt;&#160;&#160;</b>Calls of&#160;any&#160;operating&#160;system&#160;API&#160;functions are prohibited&#160;within&#160;the&#160;hooks.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>All&#160;hooks&#160;are&#160;called&#160;from&#160;within an&#160;OS&#160;API&#160;service.&#160;Interrupts&#160;are disabled&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>5.11.1&#160;&#160;Timing Hooks&#160;for&#160;Activation&#160;</b><br/>
<b>5.11.1.1&#160;&#160;Task&#160;Activation&#160;</b><br/>
<b>Macro&#160;<br/></b>#define&#160;OS_VTH_ACTIVATION(TaskId, DestCoreId, CallerCoreId)&#160;<br/>
<b>Parameter&#160;<br/></b>TaskId&#160;<br/>
Identifier of&#160;the&#160;task&#160;which is&#160;activated&#160;<br/>
DestCoreId&#160;<br/>
Identifier of&#160;the core on&#160;which the&#160;task&#160;is&#160;activated&#160;<br/>
CallerCoreId&#160;<br/>
Identifier of&#160;the core&#160;which&#160;performs&#160;the activation&#160;(has&#160;called&#160;ActivateTask(), has&#160;<br/>called&#160;TerminateTask()&#160;or has&#160;performed&#160;an&#160;alarm/schedule table action&#160;to&#160;activate&#160;<br/>a task)&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;hook&#160;is&#160;called on&#160;the&#160;caller core&#160;when&#160;that core has&#160;successfully&#160;performed&#160;the activation&#160;of&#160;TaskId&#160;on&#160;<br/>the&#160;destination&#160;core. On single core&#160;systems&#160;both&#160;core&#160;IDs&#160;are identical.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;none&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
170&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=171></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-171_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>5.11.1.2&#160;&#160;Set Event&#160;</b><br/>
<b>Macro&#160;<br/></b>#define&#160;OS_VTH_SETEVENT(TaskId, EventMask, StateChanged,&#160;<br/>DestCoreId, CallerCoreId)&#160;<br/>
<b>Parameter&#160;<br/></b>TaskId&#160;<br/>
Identifier of&#160;the&#160;task&#160;which receives&#160;this&#160;event&#160;<br/>
EventMask&#160;<br/>
A&#160;bit mask&#160;with the events&#160;which shall&#160;be&#160;set&#160;<br/>
StateChanged&#160;<br/>
TRUE:&#160;The&#160;task&#160;state has&#160;changed&#160;from&#160;WAITING&#160;to&#160;READY&#160;&#160;<br/>FALSE:&#160;The&#160;task&#160;state hasn’t changed&#160;<br/>
DestCoreId&#160;<br/>
Identifier of&#160;the core on&#160;which the&#160;task&#160;receives&#160;the event&#160;<br/>
CallerCoreId&#160;<br/>
Identifier of&#160;the core&#160;which&#160;performs&#160;the event&#160;setting (has&#160;called&#160;SetEvent()&#160;or&#160;<br/>performed&#160;an&#160;alarm/schedule table action&#160;to&#160;set&#160;an&#160;event)&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;hook&#160;is&#160;called on&#160;the&#160;caller core&#160;when&#160;that core has&#160;successfully&#160;performed&#160;the event&#160;setting&#160;on&#160;the&#160;<br/>destination&#160;core. On single&#160;core systems&#160;both&#160;core IDs&#160;are always&#160;identical.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;none&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
171&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=172></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-172_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>5.11.2&#160;&#160;Timing Hook&#160;for Context Switch&#160;</b><br/>
<b>Macro&#160;<br/></b>#define&#160;OS_VTH_SCHEDULE(FromThreadId,&#160;FromThreadReason,&#160;<br/>ToThreadId,&#160;ToThreadReason,&#160;CallerCoreId)&#160;<br/>
<b>Parameter&#160;<br/></b>FromThreadId&#160;<br/>
Identifier of&#160;the&#160;thread (task, ISR)&#160;which&#160;has&#160;run&#160;on&#160;the&#160;caller core before the&#160;<br/>switch took&#160;place&#160;<br/>
FromThreadReason&#160;&#160;OS_VTHP_TASK_TERMINATION&#160;<br/>
&gt;&#160;&#160;The&#160;thread&#160;is&#160;a&#160;task, which&#160;has&#160;just been terminated.&#160;<br/>
OS_VTHP_ISR_END&#160;<br/>
&gt;&#160;&#160;The&#160;thread&#160;is&#160;an&#160;ISR,&#160;which has&#160;reached&#160;its&#160;end.&#160;<br/>
OS_VTHP_TASK_WAITEVENT&#160;<br/>
&gt;&#160;&#160;The&#160;thread&#160;is&#160;a&#160;task, which&#160;waits&#160;for an&#160;event.&#160;<br/>
OS_VTHP_TASK_WAITSEMA&#160;<br/>
&gt;&#160;&#160;The&#160;thread&#160;is&#160;a&#160;task, which&#160;waits&#160;for the&#160;release of&#160;a&#160;semaphore.&#160;<br/>
OS_VTHP_THREAD_PREEMPT&#160;<br/>
&gt;&#160;&#160;The&#160;thread&#160;is&#160;interrupted&#160;by&#160;another&#160;one,&#160;which&#160;has&#160;higher&#160;priority.&#160;<br/>
ToThreadId&#160;<br/>
The&#160;identifier of&#160;the&#160;thread,&#160;which&#160;runs&#160;from&#160;now&#160;on&#160;<br/>
ToThreadReason&#160;<br/>
OS_VTHP_TASK_ACTIVATION&#160;<br/>
&gt;&#160;&#160;The&#160;thread&#160;is&#160;a&#160;task, which&#160;was&#160;activated.&#160;<br/>
OS_VTHP_ISR_START&#160;<br/>
&gt;&#160;&#160;The&#160;thread&#160;is&#160;an&#160;ISR,&#160;which now starts&#160;execution.&#160;<br/>
OS_VTHP_TASK_SETEVENT&#160;<br/>
&gt;&#160;&#160;The&#160;thread&#160;is&#160;a&#160;task,&#160;which&#160;has&#160;just received&#160;an&#160;event&#160;it was&#160;<br/>
waiting&#160;for. It&#160;resumes&#160;execution right&#160;behind&#160;the&#160;call&#160;of&#160;<br/>WaitEvent().&#160;<br/>
OS_VTHP_GOTSEMA&#160;<br/>
&gt;&#160;&#160;The&#160;thread&#160;is&#160;a&#160;task, which&#160;has&#160;just got&#160;the&#160;semaphore&#160;it&#160;was&#160;<br/>
waiting&#160;for.&#160;<br/>
OS_VTHP_THREAD_RESUME:&#160;<br/>
&gt;&#160;&#160;The&#160;thread&#160;is&#160;a&#160;task&#160;or ISR,&#160;which&#160;was&#160;preempted before and&#160;<br/>
becomes&#160;running&#160;again&#160;as&#160;all&#160;higher&#160;priority&#160;tasks&#160;and ISRs&#160;do&#160;not&#160;<br/>run&#160;anymore.&#160;<br/>
CallerCoreId&#160;<br/>
Identifier of&#160;the core&#160;which&#160;performs&#160;the thread&#160;switch&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;hook&#160;is&#160;called on&#160;the&#160;caller core&#160;when&#160;that core in&#160;case it&#160;performs&#160;a&#160;thread&#160;switch (from&#160;one task&#160;or&#160;&#160;<br/>ISR to another task&#160;or ISR). On single&#160;core systems&#160;both&#160;core IDs&#160;are always&#160;identical.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;None&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
172&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=173></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-173_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>5.11.3&#160;&#160;Timing Hooks&#160;for&#160;Locking Purposes&#160;</b><br/>
<b>5.11.3.1&#160;&#160;Get Resource&#160;</b><br/>
<b>Macro&#160;<br/></b>#define&#160;OS_VTH_GOT_RES(ResId, CallerCoreId)&#160;<br/>
<b>Parameter&#160;<br/></b>ResId&#160;<br/>
Identifier of&#160;the resource&#160;which has&#160;been&#160;taken&#160;<br/>
CallerCoreId&#160;<br/>
Identifier of&#160;the core&#160;where&#160;GetResorce()&#160;was&#160;called&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;OS&#160;calls&#160;this&#160;hook&#160;on&#160;a&#160;successful&#160;call&#160;of&#160;the&#160;API function GetResource().&#160;The priority&#160;of&#160;the calling&#160;<br/>task&#160;or ISR has&#160;been&#160;increased&#160;so that&#160;other tasks&#160;and ISRs&#160;on&#160;the&#160;same core may&#160;need to&#160;wait until&#160;they&#160;<br/>can&#160;be&#160;executed.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;none&#160;<br/>
&#160;<br/>
<b>5.11.3.2&#160;&#160;Release&#160;Resource&#160;</b><br/>
<b>Macro&#160;<br/></b>#define&#160;OS_VTH_REL_RES(ResId, CallerCoreId)&#160;<br/>
<b>Parameter&#160;<br/></b>ResId&#160;<br/>
Identifier of&#160;the resource&#160;which has&#160;been&#160;released&#160;<br/>
CallerCoreId&#160;<br/>
Identifier of&#160;the core&#160;where&#160;ReleaseResorce()&#160;was&#160;called&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
None&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;OS&#160;calls&#160;this&#160;hook&#160;on&#160;a&#160;successful&#160;call&#160;of&#160;the&#160;API function ReleaseResource().&#160;The&#160;priority&#160;of&#160;the&#160;<br/>calling&#160;task&#160;or ISR has&#160;been decreased so that&#160;other tasks&#160;and ISRs&#160;on&#160;the&#160;same core may&#160;become&#160;<br/>running&#160;as&#160;a&#160;result.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;none&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
173&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=174></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-174_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>5.11.3.3&#160;&#160;Request&#160;Spinlock&#160;</b><br/>
<b>Macro&#160;<br/></b>#define&#160;OS_VTH_REQ_SPINLOCK(SpinlockId, CallerCoreId)&#160;<br/>
<b>Parameter&#160;<br/></b>SpinlockId&#160;<br/>
Identifier of&#160;the spinlock&#160;which has&#160;been requested&#160;<br/>
CallerCoreId&#160;<br/>
Identifier of&#160;the core&#160;where&#160;GetSpinlock()&#160;was&#160;called&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;OS&#160;calls&#160;this&#160;hook&#160;on&#160;any&#160;attempt&#160;to&#160;get&#160;a spinlock.&#160;The&#160;calling task&#160;or ISR&#160;may&#160;end&#160;up in entering&#160;a&#160;<br/>busy&#160;waiting&#160;loop.&#160;In&#160;such case other tasks&#160;or ISRs&#160;of&#160;lower priority&#160;have to&#160;wait until&#160;this&#160;task&#160;or ISR&#160;has&#160;<br/>taken&#160;and released&#160;the&#160;spinlock.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;The&#160;hook&#160;is&#160;not called for optimized&#160;spinlocks&#160;&#160;<br/>
&gt;&#160;&#160;The&#160;hook&#160;is&#160;called only&#160;on&#160;multicore operating system&#160;implementations&#160;<br/>
&#160;<br/>
<b>5.11.3.4&#160;&#160;Request Internal&#160;Spinlock&#160;</b><br/>
<b>Macro&#160;<br/></b>#define&#160;OS_VTH_REQ_ISPINLOCK(SpinlockId, CallerCoreId)&#160;<br/>
<b>Parameter&#160;<br/></b>SpinlockId&#160;<br/>
Identifier of&#160;the spinlock&#160;which has&#160;been requested&#160;<br/>
CallerCoreId&#160;<br/>
Identifier of&#160;the core&#160;where&#160;the&#160;internal&#160;spinlock&#160;was&#160;requested&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;OS&#160;calls&#160;this&#160;hook&#160;on&#160;any&#160;attempt&#160;to&#160;get&#160;a spinlock&#160;for the&#160;OS&#160;itself.&#160;The&#160;OS&#160;may&#160;end up&#160;in entering&#160;a&#160;<br/>busy&#160;waiting&#160;loop.&#160;In&#160;such case other&#160;program&#160;parts&#160;on&#160;this&#160;core&#160;have to&#160;wait&#160;until&#160;the&#160;OS&#160;has&#160;taken&#160;and&#160;<br/>released the spinlock.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;Only&#160;called&#160;for Spinlocks&#160;which used internally&#160;by&#160;the&#160;OS&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
174&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=175></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-175_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>5.11.3.5&#160;&#160;Get&#160;Spinlock&#160;</b><br/>
<b>Macro&#160;<br/></b>#define&#160;OS_VTH_GOT_SPINLOCK(SpinlockId, CallerCoreId)&#160;<br/>
<b>Parameter&#160;<br/></b>SpinlockId&#160;<br/>
Identifier of&#160;the spinlock&#160;which has&#160;been taken&#160;<br/>
CallerCoreId&#160;<br/>
Identifier of&#160;the&#160;core&#160;where&#160;GetSpinlock()&#160;or&#160;TryToGetSpinlock()&#160;were called&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;OS&#160;calls&#160;this&#160;hook&#160;whenever a spinlock&#160;has&#160;successfully&#160;been&#160;taken.&#160;<br/>If&#160;a&#160;previosly&#160;attempt&#160;of&#160;getting&#160;the&#160;spinlock&#160; was&#160;not successful&#160;immediately&#160;(entered busy&#160;waiting&#160;loop),&#160;<br/>this&#160;hook&#160;means&#160;that&#160;the&#160;core leaves&#160;the&#160;busy&#160;waiting&#160;loop.&#160;<br/>From&#160;now on&#160;no&#160;other thread&#160;may&#160;get&#160;the&#160;spinlock&#160;until&#160;the&#160;current task&#160;or ISR has&#160;released it.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;The&#160;hook&#160;is&#160;not called for optimized&#160;spinlocks&#160;&#160;<br/>
&gt;&#160;&#160;The&#160;hook&#160;is&#160;called only&#160;on&#160;multicore operating system&#160;implementations&#160;<br/>
&#160;<br/>
<b>5.11.3.6&#160;&#160;Get Internal&#160;Spinlock&#160;</b><br/>
<b>Macro&#160;<br/></b>#define OS_VTH_GOT_ISPINLOCK(SpinlockId, CallerCoreId)&#160;<br/>
<b>Parameter&#160;<br/></b>SpinlockId&#160;<br/>
Identifier of&#160;the spinlock&#160;which has&#160;been taken&#160;<br/>
CallerCoreId&#160;<br/>
Identifier of&#160;the core&#160;where&#160;the&#160;internal&#160;spinlock&#160;has&#160;been&#160;taken&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
None&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;OS&#160;calls&#160;this&#160;hook&#160;whenever a spinlock&#160;has&#160;successfully&#160;been&#160;taken&#160;by&#160;the&#160;OS&#160;itself.&#160;<br/>If&#160;a&#160;previosly&#160;attempt&#160;of&#160;getting&#160;the&#160;spinlock&#160; was&#160;not successful&#160;immediately&#160;(entered busy&#160;waiting&#160;loop),&#160;<br/>this&#160;hook&#160;means&#160;that&#160;the&#160;core leaves&#160;the&#160;busy&#160;waiting&#160;loop.&#160;<br/>From&#160;now on&#160;no&#160;other thread&#160;may&#160;get&#160;the&#160;spinlock&#160;until&#160;the&#160;OS&#160;has&#160;released&#160;it.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;Only&#160;called&#160;for Spinlocks&#160;which used internally&#160;by&#160;the&#160;OS&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
175&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=176></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-176_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>5.11.3.7&#160;&#160;Release&#160;Spinlock&#160;</b><br/>
<b>Macro&#160;<br/></b>#define&#160;OS_VTH_REL_SPINLOCK(SpinlockId, CallerCoreId)&#160;<br/>
<b>Parameter&#160;<br/></b>SpinlockId&#160;<br/>
Identifier of&#160;the spinlock&#160;which has&#160;been&#160;released&#160;<br/>
CallerCoreId&#160;<br/>
Identifier of&#160;the core&#160;where&#160;ReleaseSpinlock()&#160;was&#160;called&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;OS&#160;calls&#160;this&#160;hook&#160;on&#160;a&#160;release&#160;of&#160;a&#160;spinlock. Other&#160;tasks&#160;and ISR may&#160;take the&#160;spinlock&#160;now.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;The&#160;hook&#160;is&#160;not called for optimized&#160;spinlocks&#160;&#160;<br/>
&gt;&#160;&#160;The&#160;hook&#160;is&#160;called only&#160;on&#160;multicore operating system&#160;implementations&#160;<br/>
&#160;<br/>
<b>5.11.3.8&#160;&#160;Release&#160;Internal&#160;Spinlock&#160;</b><br/>
<b>Macro&#160;<br/></b>#define OS_VTH_REL_ISPINLOCK(SpinlockId, CallerCoreId)&#160;<br/>
<b>Parameter&#160;<br/></b>SpinlockId&#160;<br/>
Identifier of&#160;the&#160;spinlock&#160;which has&#160;been released&#160;<br/>
CallerCoreId&#160;<br/>
Identifier of&#160;the core&#160;where&#160;the&#160;internal&#160;spinlock&#160;has&#160;been&#160;released&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;OS&#160;calls&#160;this&#160;hook&#160;on&#160;a&#160;release&#160;of&#160;a&#160;spinlock. Other&#160;tasks&#160;and ISR may&#160;take the&#160;spinlock&#160;now.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;Only&#160;called&#160;for Spinlocks&#160;which used internally&#160;by&#160;the&#160;OS&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
176&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=177></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-177_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
&#160;<br/>
<b>5.11.3.9&#160;&#160;Disable&#160;Interrupts&#160;</b><br/>
<b>Macro&#160;<br/></b>#define&#160;OS_VTH_DISABLEDINT(IntLockId, CallerCoreId)&#160;<br/>
<b>Parameter&#160;<br/></b>IntLockId&#160;<br/>
OS_VTHP_CAT2INTERRUPTS:&#160;<br/>Interrupts&#160;have been&#160;disabled&#160;by&#160;means&#160;of&#160;the current&#160;interrupt&#160;level.&#160;That&#160;<br/>interrupt&#160;level&#160;has&#160;been&#160;changed in order to&#160;disable&#160;all&#160;category&#160;2 interrupts,&#160;<br/>which&#160;also&#160;prevents&#160;task&#160;switch and&#160;alarm/schedule&#160;table management.&#160;<br/>OS_VTHP_ALLINTERRUPTS:&#160;<br/>Interrupts&#160;have been&#160;disabled&#160;by&#160;means&#160;of&#160;the global&#160;interrupt&#160;enable/disable&#160;<br/>flag.&#160;Additionally&#160;to&#160;the&#160;effects&#160;described&#160;above,&#160;also&#160;category&#160;1&#160;interrupts&#160;are&#160;<br/>disabled.&#160;<br/>
CallerCoreId&#160;<br/>
Identifier of&#160;the core&#160;where&#160;interrupts&#160;are&#160;disabled&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;OS&#160;calls&#160;this&#160;hook&#160;if&#160;the application&#160;has&#160;called&#160;an&#160;API&#160;function&#160;to&#160;disable&#160;interrupts.&#160;<br/>The&#160;parameter&#160;IntLockId&#160;describes&#160;whether&#160;category&#160;1 interrupts&#160;may&#160;still&#160;occur.&#160;Mind that&#160;the two types&#160;of&#160;<br/>interrupt&#160;locking&#160;(as&#160;described&#160;by&#160;the&#160;IntLockId) are&#160;independent from&#160;each other so that the hook&#160;may&#160;be&#160;<br/>called twice before the&#160;hook&#160;OS_VTH_ENABLEDINT&#160;is&#160;called,&#160;dependent&#160;on the&#160;application.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;The&#160;hook&#160;is&#160;not called for operating&#160;system&#160;internal&#160;interrupt locks&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
177&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=178></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-178_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>5.11.3.10&#160;Enable&#160;Interrupts&#160;</b><br/>
<b>Macro&#160;<br/></b>#define&#160;OS_VTH_ENABLEDINT(IntLockId, CallerCoreId)&#160;<br/>
<b>Parameter&#160;<br/></b>IntLockId&#160;<br/>
OS_VTHP_CAT2INTERRUPTS&#160;<br/>
&gt;&#160;&#160;Interrupts&#160;had&#160;been disabled by&#160;means&#160;of&#160;the current&#160;interrupt&#160;level&#160;<br/>
until&#160;this&#160;hook&#160;was&#160;called.&#160;The&#160;OS&#160;releases&#160;this&#160;lock&#160;right after the&#160;<br/>hook&#160;has&#160;returned.&#160;<br/>
OS_VTHP_ALLINTERRUPTS&#160;<br/>
&gt;&#160;&#160;Interrupts&#160;had&#160;been disabled by&#160;means&#160;of&#160;the global&#160;interrupt&#160;<br/>
enable/disable flag&#160;before this&#160;hook&#160;was&#160;called.&#160;The&#160;OS&#160;releases&#160;this&#160;<br/>lock&#160;right after the&#160;hook&#160;has&#160;returned.&#160;<br/>
CallerCoreId&#160;<br/>
Identifier of&#160;the core&#160;where&#160;interrupts&#160;are&#160;disabled&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
None&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;OS&#160;calls&#160;this&#160;hook&#160;if&#160;the application&#160;has&#160;called&#160;an&#160;API function&#160;to&#160;enable&#160;interrupts. Mind&#160;that&#160;the&#160;two&#160;<br/>types&#160;of&#160;interrupt&#160;locking&#160;(as&#160;described&#160;by&#160;the&#160;IntLockId) are independent&#160;from&#160;each other&#160;so&#160;that&#160;interrupts&#160;<br/>may&#160;still&#160;be disabled&#160;by&#160;means&#160;of&#160;the&#160;other&#160;locking&#160;type after this&#160;hook&#160;has&#160;returned.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;The&#160;hook&#160;is&#160;not called for operating&#160;system&#160;internal&#160;interrupt locks&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
178&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=179></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-179_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>5.12&#160;&#160;PanicHook&#160;</b><br/>
<b>Prototype&#160;<br/></b>FUNC(void,&#160;OS_PANICHOOK_CODE) Os_PanicHook(void)&#160;<br/>
<b>Parameter&#160;</b><br/>
none&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Called&#160;upon kernel&#160;panic&#160;mode.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&gt;&#160;&#160;Trusted&#160;access&#160;rights&#160;<br/>
&gt;&#160;&#160;Interrupts&#160;are disabled&#160;<br/>
&gt;&#160;&#160;No OS&#160;API service calls&#160;are allowed&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
179&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=180></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-180_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>5.13&#160;&#160;Calling Context Overview&#160;</b><br/>
The&#160;&#160;following&#160;&#160;table&#160;&#160;gives&#160;&#160;an&#160;&#160;overview&#160;&#160;about&#160;&#160;the&#160;&#160;valid&#160;&#160;context&#160;&#160;for&#160;&#160;MICROSAR&#160;&#160;OS&#160;<br/>additional&#160;API&#160;service&#160;calls.&#160;<br/>
&#160;<br/>
<b>Calling&#160;Context&#160;</b><br/>
S<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
R<br/>
R<br/>
k&#160;<br/>
ok<br/>
k&#160;<br/>
&#160;O<br/>
<b>&#160;</b><br/>
S<br/>
&#160;<br/>
k&#160;<br/>
I<br/>
SI<br/>
k&#160;<br/>
c<br/>
s&#160;<br/>
&#160;<br/>
ok<br/>
ba<br/>
k<br/>
l<br/>
Hook&#160;<br/>
asT<br/>
c<br/>
<b>&#160;</b><br/>
&#160;1&#160;<br/>
&#160;2&#160;<br/>
&#160;Hoo<br/>
&#160;Hoo<br/>
l<br/>
art of<br/>
k<br/>
n Ho<br/>
on<br/>
t<br/>
bal<br/>
ory<br/>
ory<br/>
k<br/>
p Ho<br/>
w<br/>
it<br/>
art&#160;<br/>
<b>&#160;</b><br/>
as<br/>
c<br/>
e S<br/>
t<br/>
al<br/>
k&#160;<br/>
g<br/>
g<br/>
as<br/>
do<br/>
r<br/>
or Hook<br/>
tT<br/>
t<br/>
m Ca<br/>
S<br/>
<b>API&#160;Service</b><br/>
r<br/>
eT<br/>
ote<br/>
e-<br/>
C c<br/>
<b>&#160;</b><br/>
as<br/>
r<br/>
r<br/>
os<br/>
tartu<br/>
hu<br/>
arl<br/>
r<br/>
efo<br/>
r<br/>
T<br/>
Cate<br/>
Cate<br/>
E<br/>
P<br/>
P<br/>
S<br/>
S<br/>
A<br/>
P<br/>
B<br/>
P<br/>
IO<br/>
Peripheral&#160;Access&#160;APIs&#160;<br/>
X&#160;<br/>
&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
&#160;<br/>
X&#160;<br/>
&#160;<br/>
Os_EnterPreStartTask&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
X&#160;<br/>
&#160;<br/>
&#160;<br/>
Os_CallNonTrustedFunction&#160;<br/>
X&#160;<br/>
&#160;<br/>
X&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
X&#160;<br/>
&#160;<br/>
Os_DisableInterruptSource&#160;<br/>
X&#160;<br/>
&#160;<br/>
X&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Os_EnableInterruptSource&#160;<br/>
X&#160;<br/>
&#160;<br/>
X&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Os_ClearPendingInterrupt&#160;<br/>
X&#160;<br/>
&#160;<br/>
X&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Os_GetDetailedError&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
X&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Os_GetUnhandledIrq&#160;<br/>
X&#160;<br/>
&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Os_GetUnhandledExc&#160;<br/>
X&#160;<br/>
&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Stack&#160;Usage&#160;APIs&#160;<br/>
X&#160;<br/>
&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Time&#160;Conversion Macros&#160;<br/>
X&#160;<br/>
&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
X&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Os_Init&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
X&#160;<br/>
&#160;<br/>
&#160;<br/>
CheckISRMemoryAccess&#160;<br/>
X&#160;<br/>
&#160;<br/>
X&#160;<br/>
X&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
X&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CheckTaskMemoryAccess&#160;<br/>
X&#160;<br/>
&#160;<br/>
X&#160;<br/>
X&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
X&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
CallTrustedFunction&#160;<br/>
X&#160;<br/>
&#160;<br/>
X&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
X&#160;<br/>
&#160;<br/>
Table&#160;5-21&#160;&#160;&#160;Calling&#160;Context&#160;Overview&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
180&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=181></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-181_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-181_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>6&#160;&#160;Configuration&#160;</b><br/>
MICROSAR OS&#160;is configured&#160;with&#160;Vectors “DaVinci Configurator”.&#160;<br/>The&#160;&#160;descriptions&#160;&#160;of&#160;&#160;all&#160;&#160;OS&#160;&#160;configuration&#160;&#160;attributes&#160;&#160;are&#160;&#160;described&#160;&#160;with&#160;&#160;tool&#160;&#160;tips&#160;&#160;within&#160;&#160;the&#160;<br/>configuration&#160;tool.&#160;<br/>They&#160;can&#160;easily&#160;be&#160;look&#160;up&#160;during&#160;configuration&#160;of&#160;the&#160;OS&#160;component.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>The&#160;configuration&#160;with OIL&#160;(OSEK&#160;implementation&#160;language)&#160;is&#160;not&#160;supported.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
181&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=182></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-182_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>7&#160;&#160;Glossary&#160;</b><br/>
<b>Term&#160;</b><br/>
<b>Description&#160;</b><br/>
Non-trusted&#160;function&#160;&#160;A&#160;non-trusted&#160;function&#160;is&#160;a&#160;functional&#160;service provided by&#160;a non-trusted&#160;<br/>(NTF)&#160;<br/>
OS&#160;application.&#160;<br/>It&#160;runs&#160;in&#160;the&#160;non-privileged&#160;mode&#160;of&#160;the&#160;processor&#160;with restricted&#160;memory&#160;<br/>rights.&#160;<br/>
Application&#160;<br/>
Any&#160;software&#160;parts&#160;that&#160;uses&#160;the&#160;OS.&#160;This&#160;may&#160;include other&#160;software&#160;<br/>modules or&#160;customer&#160;software&#160;(don’t&#160;confuse&#160;this&#160;with the&#160;OS-application&#160;<br/>object).&#160;<br/>
Pre-start&#160;task&#160;<br/>
An OS&#160;task&#160;which may&#160;run&#160;before StartOS&#160;has&#160;been called.&#160;Within the&#160;<br/>pre-start&#160;task&#160;the&#160;usage&#160;of&#160;non-trusted&#160;functions&#160;is&#160;allowed.&#160;<br/>
OS-application&#160;<br/>
An OS&#160;object&#160;of&#160;type&#160;application.&#160;<br/>
OS&#160;system&#160;level&#160;<br/>
The&#160;lowest&#160;priority&#160;of&#160;all&#160;category&#160;1&#160;ISRs.&#160;<br/>
X-Signal&#160;<br/>
MICROSAR&#160;OS&#160;mechanism&#160;which realizes cross&#160;core&#160;service&#160;APIs.&#160;<br/>
Kernel&#160;Panic&#160;<br/>
An inconsistent&#160;state&#160;of&#160;the&#160;OS&#160;results&#160;in&#160;kernel&#160;panic&#160;mode.&#160;The&#160;OS&#160;<br/>does not&#160;know&#160;how&#160;to proceed&#160;correctly.&#160;It&#160;goes&#160;into&#160;freeze&#160;as&#160;fast&#160;as&#160;<br/>possible&#160;(interrupts&#160;are disabled,&#160;the&#160;panic&#160;hook&#160;is&#160;called&#160;and afterwards&#160;<br/>an&#160;endless loop&#160;is&#160;entered).&#160;<br/>
Thread&#160;<br/>
Umbrella&#160;Term&#160;for&#160;OS&#160;Task,&#160;OS&#160;hooks&#160;and&#160;OS&#160;ISR&#160;objects&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
182&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=183></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Os/doc/TechnicalReference_Os-183_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR OS&#160;<br/>
<b>8&#160;&#160;Contact&#160;</b><br/>
Visit&#160;our website&#160;for&#160;more information&#160;on&#160;<br/>
&#160;<br/>
<b>&gt;&#160;&#160;</b>News&#160;<br/>
<b>&gt;&#160;&#160;</b>Products&#160;<br/>
<b>&gt;&#160;&#160;</b>Demo&#160;software&#160;<br/>
<b>&gt;&#160;&#160;</b>Support&#160;<br/>
<b>&gt;&#160;&#160;</b>Training&#160;data&#160;<br/>
<b>&gt;&#160;&#160;</b>Addresses&#160;<br/>
&#160;<br/>
<b>www.vector.com&#160;</b><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;1.7.0&#160;<br/>
183&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name="outline"></a><h1>Document Outline</h1>
<ul>
<li><a href="TechnicalReference_Oss.html#16">1 Introduction</a>
<ul>
<li><a href="TechnicalReference_Oss.html#16">1.1 Architecture Overview</a></li>
<li><a href="TechnicalReference_Oss.html#17">1.2 Abstract</a></li>
<li><a href="TechnicalReference_Oss.html#17">1.3 Characteristics</a></li>
<li><a href="TechnicalReference_Oss.html#18">1.4 Hardware Overview</a>
<ul>
<li><a href="TechnicalReference_Oss.html#19">1.4.1 TriCore Aurix</a></li>
<li><a href="TechnicalReference_Oss.html#20">1.4.2 Power PC</a></li>
<li><a href="TechnicalReference_Oss.html#21">1.4.3 ARM</a></li>
<li><a href="TechnicalReference_Oss.html#22">1.4.4 RH850</a></li>
<li><a href="TechnicalReference_Oss.html#23">1.4.5 VTT OS</a>
<ul>
<li><a href="TechnicalReference_Oss.html#23">1.4.5.1 Characteristics of VTT OS</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#24">2 Functional Description</a>
<ul>
<li><a href="TechnicalReference_Oss.html#24">2.1 General</a></li>
<li><a href="TechnicalReference_Oss.html#24">2.2 MICROSAR OS Deviations from AUTOSAR OS Specification</a>
<ul>
<li><a href="TechnicalReference_Oss.html#24">2.2.1 Generic Deviation for API Functions</a></li>
<li><a href="TechnicalReference_Oss.html#24">2.2.2 Trusted Function API Deviations</a></li>
<li><a href="TechnicalReference_Oss.html#25">2.2.3 Service Protection Deviation</a></li>
<li><a href="TechnicalReference_Oss.html#25">2.2.4 SyncScheduleTable API Deviation</a></li>
<li><a href="TechnicalReference_Oss.html#25">2.2.5 CheckTask/ISRMemoryAccess API Deviation</a></li>
<li><a href="TechnicalReference_Oss.html#26">2.2.6 Interrupt API Deviation</a></li>
<li><a href="TechnicalReference_Oss.html#26">2.2.7 Cross Core Getter APIs</a></li>
<li><a href="TechnicalReference_Oss.html#26">2.2.8 IOC</a></li>
<li><a href="TechnicalReference_Oss.html#27">2.2.9 Return value upon stack violation</a></li>
<li><a href="TechnicalReference_Oss.html#28">2.2.10 Forcible Termination of Applications</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#29">2.3 Stack Concept</a>
<ul>
<li><a href="TechnicalReference_Oss.html#31">2.3.1 Task Stack Sharing</a>
<ul>
<li><a href="TechnicalReference_Oss.html#31">2.3.1.1 Description</a></li>
<li><a href="TechnicalReference_Oss.html#31">2.3.1.2 Activation</a></li>
<li><a href="TechnicalReference_Oss.html#31">2.3.1.3 Usage</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#31">2.3.2 ISR Stack Sharing</a>
<ul>
<li><a href="TechnicalReference_Oss.html#31">2.3.2.1 Description</a></li>
<li><a href="TechnicalReference_Oss.html#31">2.3.2.2 Activation</a></li>
<li><a href="TechnicalReference_Oss.html#32">2.3.2.3 Usage</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#32">2.3.3 Stack Check Strategy</a></li>
<li><a href="TechnicalReference_Oss.html#33">2.3.4 Software Stack Check</a>
<ul>
<li><a href="TechnicalReference_Oss.html#33">2.3.4.1 Description</a></li>
<li><a href="TechnicalReference_Oss.html#33">2.3.4.2 Activation</a></li>
<li><a href="TechnicalReference_Oss.html#33">2.3.4.3 Usage</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#34">2.3.5 Stack Supervision by MPU</a>
<ul>
<li><a href="TechnicalReference_Oss.html#34">2.3.5.1 Description</a></li>
<li><a href="TechnicalReference_Oss.html#34">2.3.5.2 Activation</a></li>
<li><a href="TechnicalReference_Oss.html#35">2.3.5.3 Usage</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#37">2.3.6 Stack Usage Measurement</a>
<ul>
<li><a href="TechnicalReference_Oss.html#37">2.3.6.1 Description</a></li>
<li><a href="TechnicalReference_Oss.html#37">2.3.6.2 Activation</a></li>
<li><a href="TechnicalReference_Oss.html#37">2.3.6.3 Usage</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#38">2.4 Interrupt Concept</a>
<ul>
<li><a href="TechnicalReference_Oss.html#38">2.4.1 Interrupt Handling API</a>
<ul>
<li><a href="TechnicalReference_Oss.html#38">2.4.1.1 Interrupt Handling in SC1 / SC3</a></li>
<li><a href="TechnicalReference_Oss.html#39">2.4.1.2 Interrupt Handling in SC2 / SC4</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#40">2.4.2 Interrupt Vector Table</a></li>
<li><a href="TechnicalReference_Oss.html#40">2.4.3 Nesting of Category 2 Interrupts</a>
<ul>
<li><a href="TechnicalReference_Oss.html#40">2.4.3.1 Description</a></li>
<li><a href="TechnicalReference_Oss.html#40">2.4.3.2 Activation</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#40">2.4.4 Category 1 Interrupts</a>
<ul>
<li><a href="TechnicalReference_Oss.html#40">2.4.4.1 Implementation of Category 1 ISRs</a></li>
<li><a href="TechnicalReference_Oss.html#41">2.4.4.2 Nesting of Category 1 ISRs</a></li>
<li><a href="TechnicalReference_Oss.html#41">2.4.4.3 Category 1 ISRs before StartOS</a></li>
<li><a href="TechnicalReference_Oss.html#42">2.4.4.4 Notes on Category 1 ISRs</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#43">2.4.5 Initialization of Interrupt Sources</a></li>
<li><a href="TechnicalReference_Oss.html#43">2.4.6 Unhandled Interrupts</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#43">2.5 Exception Concept</a>
<ul>
<li><a href="TechnicalReference_Oss.html#43">2.5.1 Exception Vector Table</a></li>
<li><a href="TechnicalReference_Oss.html#43">2.5.2 Unhandled Exceptions</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#44">2.6 Timer Concept</a>
<ul>
<li><a href="TechnicalReference_Oss.html#44">2.6.1 Description</a></li>
<li><a href="TechnicalReference_Oss.html#44">2.6.2 Activation</a></li>
<li><a href="TechnicalReference_Oss.html#44">2.6.3 Usage</a></li>
<li><a href="TechnicalReference_Oss.html#44">2.6.4 Dependencies</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#45">2.7 Periodical Interrupt Timer (PIT)</a>
<ul>
<li><a href="TechnicalReference_Oss.html#45">2.7.1 Description</a></li>
<li><a href="TechnicalReference_Oss.html#45">2.7.2 Activation</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#46">2.8 High Resolution Timer (HRT)</a>
<ul>
<li><a href="TechnicalReference_Oss.html#46">2.8.1 Description</a></li>
<li><a href="TechnicalReference_Oss.html#46">2.8.2 Activation</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#46">2.9 PIT versus HRT</a></li>
<li><a href="TechnicalReference_Oss.html#47">2.10 Startup Concept</a></li>
<li><a href="TechnicalReference_Oss.html#48">2.11 Single Core Startup</a>
<ul>
<li><a href="TechnicalReference_Oss.html#48">2.11.1 Single Core Derivatives</a></li>
<li><a href="TechnicalReference_Oss.html#49">2.11.2 Multi Core Derivatives</a>
<ul>
<li><a href="TechnicalReference_Oss.html#49">2.11.2.1 Examples for SC1 / SC2 Systems</a></li>
<li><a href="TechnicalReference_Oss.html#50">2.11.2.2 Examples for SC3 / SC4 Systems</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#51">2.12 Multi Core Startup</a>
<ul>
<li><a href="TechnicalReference_Oss.html#51">2.12.1 Example for SC1 / SC2 Systems</a></li>
<li><a href="TechnicalReference_Oss.html#52">2.12.2 Examples for SC3 / SC4 systems</a>
<ul>
<li><a href="TechnicalReference_Oss.html#52">2.12.2.1 Only with AUTOSAR Cores</a></li>
<li><a href="TechnicalReference_Oss.html#53">2.12.2.2 Mixed Core System</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#54">2.13 Error Handling</a></li>
<li><a href="TechnicalReference_Oss.html#54">2.14 Error Reporting</a>
<ul>
<li><a href="TechnicalReference_Oss.html#55">2.14.1 Extension of Service IDs</a></li>
<li><a href="TechnicalReference_Oss.html#55">2.14.2 Extension of Error Codes</a></li>
<li><a href="TechnicalReference_Oss.html#56">2.14.3 Detailed Error Codes</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#57">2.15 Multi Core Concepts</a>
<ul>
<li><a href="TechnicalReference_Oss.html#57">2.15.1 Scheduling and Dispatching</a></li>
<li><a href="TechnicalReference_Oss.html#57">2.15.2 Multi Core Data Concepts</a></li>
<li><a href="TechnicalReference_Oss.html#57">2.15.3 X-Signals</a></li>
<li><a href="TechnicalReference_Oss.html#57">2.15.4 Master / Slave Core</a></li>
<li><a href="TechnicalReference_Oss.html#57">2.15.5 Startup of a Multi Core System</a></li>
<li><a href="TechnicalReference_Oss.html#57">2.15.6 Spinlocks</a></li>
<li><a href="TechnicalReference_Oss.html#58">2.15.7 Cache</a></li>
<li><a href="TechnicalReference_Oss.html#58">2.15.8 Shutdown</a>
<ul>
<li><a href="TechnicalReference_Oss.html#58">2.15.8.1 Shutdown of one Core</a></li>
<li><a href="TechnicalReference_Oss.html#58">2.15.8.2 Shutdown of all Cores</a></li>
<li><a href="TechnicalReference_Oss.html#58">2.15.8.3 Shutdown during Protection Violation</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#59">2.16 Debugging Concepts</a>
<ul>
<li><a href="TechnicalReference_Oss.html#59">2.16.1 Description</a></li>
<li><a href="TechnicalReference_Oss.html#59">2.16.2 Activation</a></li>
<li><a href="TechnicalReference_Oss.html#60">2.16.3 ORTI Debugging</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#62">2.17 Memory Protection</a>
<ul>
<li><a href="TechnicalReference_Oss.html#62">2.17.1 Usage of the System MPU</a></li>
<li><a href="TechnicalReference_Oss.html#62">2.17.2 Usage of the Core MPUs</a></li>
<li><a href="TechnicalReference_Oss.html#63">2.17.3 Configuration Aspects</a>
<ul>
<li><a href="TechnicalReference_Oss.html#63">2.17.3.1 Static MPU Regions</a></li>
<li><a href="TechnicalReference_Oss.html#63">2.17.3.2 Dynamic MPU Regions</a></li>
<li><a href="TechnicalReference_Oss.html#64">2.17.3.3 Freedom from Interference</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#65">2.17.4 Stack Monitoring</a></li>
<li><a href="TechnicalReference_Oss.html#65">2.17.5 Protection Violation Handling</a></li>
<li><a href="TechnicalReference_Oss.html#65">2.17.6 Optimized / Fast Core MPU Handling</a></li>
<li><a href="TechnicalReference_Oss.html#66">2.17.7 Recommended Configuration</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#67">2.18 Memory Access Checks</a>
<ul>
<li><a href="TechnicalReference_Oss.html#67">2.18.1 Description</a></li>
<li><a href="TechnicalReference_Oss.html#67">2.18.2 Activation</a></li>
<li><a href="TechnicalReference_Oss.html#67">2.18.3 Usage</a></li>
<li><a href="TechnicalReference_Oss.html#67">2.18.4 Dependencies</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#68">2.19 Timing Protection Concept</a>
<ul>
<li><a href="TechnicalReference_Oss.html#68">2.19.1 Description</a></li>
<li><a href="TechnicalReference_Oss.html#69">2.19.2 Activation</a></li>
<li><a href="TechnicalReference_Oss.html#69">2.19.3 Usage</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#70">2.20 IOC</a>
<ul>
<li><a href="TechnicalReference_Oss.html#70">2.20.1 Description</a></li>
<li><a href="TechnicalReference_Oss.html#70">2.20.2 Unqeued (Last Is Best) Communication</a>
<ul>
<li><a href="TechnicalReference_Oss.html#70">2.20.2.1 1:1 Communication Variant</a></li>
<li><a href="TechnicalReference_Oss.html#71">2.20.2.2 N:1 Communication Variant</a></li>
<li><a href="TechnicalReference_Oss.html#71">2.20.2.3 N:M Communication Variant</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#71">2.20.3 Queued Communication</a></li>
<li><a href="TechnicalReference_Oss.html#71">2.20.4 Notification</a></li>
<li><a href="TechnicalReference_Oss.html#72">2.20.5 Particularities</a>
<ul>
<li><a href="TechnicalReference_Oss.html#72">2.20.5.1 N:1 Queued Communication</a></li>
<li><a href="TechnicalReference_Oss.html#72">2.20.5.2 IOC Spinlocks</a></li>
<li><a href="TechnicalReference_Oss.html#73">2.20.5.3 Notification</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#74">2.21 Trusted OS Applications</a>
<ul>
<li><a href="TechnicalReference_Oss.html#74">2.21.1 Trusted OS Applications with Memory Protection</a>
<ul>
<li><a href="TechnicalReference_Oss.html#74">2.21.1.1 Description</a></li>
<li><a href="TechnicalReference_Oss.html#74">2.21.1.2 Activation</a></li>
<li><a href="TechnicalReference_Oss.html#74">2.21.1.3 Dependencies</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#74">2.21.2 Trusted OS Applications in User Mode</a>
<ul>
<li><a href="TechnicalReference_Oss.html#74">2.21.2.1 Description</a></li>
<li><a href="TechnicalReference_Oss.html#74">2.21.2.2 Activation</a></li>
<li><a href="TechnicalReference_Oss.html#74">2.21.2.3 Dependencies</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#75">2.21.3 Trusted Functions</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#76">2.22 OS Hooks</a>
<ul>
<li><a href="TechnicalReference_Oss.html#76">2.22.1 Runtime Context</a></li>
<li><a href="TechnicalReference_Oss.html#76">2.22.2 Nesting behavior</a></li>
<li><a href="TechnicalReference_Oss.html#77">2.22.3 Hints</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#78">3 Vector Specific OS Features</a>
<ul>
<li><a href="TechnicalReference_Oss.html#78">3.1 Optimized Spinlocks</a>
<ul>
<li><a href="TechnicalReference_Oss.html#78">3.1.1 Description</a></li>
<li><a href="TechnicalReference_Oss.html#78">3.1.2 Activation</a></li>
<li><a href="TechnicalReference_Oss.html#78">3.1.3 Usage</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#79">3.2 Peripheral Access API</a>
<ul>
<li><a href="TechnicalReference_Oss.html#79">3.2.1 Description</a></li>
<li><a href="TechnicalReference_Oss.html#79">3.2.2 Activation</a></li>
<li><a href="TechnicalReference_Oss.html#79">3.2.3 Usage</a></li>
<li><a href="TechnicalReference_Oss.html#79">3.2.4 Dependencies</a></li>
<li><a href="TechnicalReference_Oss.html#79">3.2.5 Alternatives</a></li>
<li><a href="TechnicalReference_Oss.html#79">3.2.6 Common Use Cases</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#80">3.3 Trusted Function Call Stubs</a>
<ul>
<li><a href="TechnicalReference_Oss.html#80">3.3.1 Description</a></li>
<li><a href="TechnicalReference_Oss.html#80">3.3.2 Activation</a></li>
<li><a href="TechnicalReference_Oss.html#80">3.3.3 Usage</a></li>
<li><a href="TechnicalReference_Oss.html#80">3.3.4 Dependencies</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#81">3.4 Non-Trusted Functions (NTF)</a>
<ul>
<li><a href="TechnicalReference_Oss.html#81">3.4.1 Description</a></li>
<li><a href="TechnicalReference_Oss.html#81">3.4.2 Activation</a></li>
<li><a href="TechnicalReference_Oss.html#82">3.4.3 Usage</a></li>
<li><a href="TechnicalReference_Oss.html#82">3.4.4 Dependencies</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#83">3.5 Interrupt Source API</a>
<ul>
<li><a href="TechnicalReference_Oss.html#83">3.5.1 Description</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#84">3.6 Pre-Start Task</a>
<ul>
<li><a href="TechnicalReference_Oss.html#84">3.6.1 Description</a></li>
<li><a href="TechnicalReference_Oss.html#84">3.6.2 Activation</a></li>
<li><a href="TechnicalReference_Oss.html#84">3.6.3 Usage</a></li>
<li><a href="TechnicalReference_Oss.html#85">3.6.4 Dependencies</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#86">3.7 X-Signals</a>
<ul>
<li><a href="TechnicalReference_Oss.html#86">3.7.1 Description</a>
<ul>
<li><a href="TechnicalReference_Oss.html#89">3.7.1.1 Notes on Synchronous X-Signals</a></li>
<li><a href="TechnicalReference_Oss.html#89">3.7.1.2 Notes on Mixed Criticality Systems</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#89">3.7.2 Activation</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#90">3.8 Timing Hooks</a>
<ul>
<li><a href="TechnicalReference_Oss.html#90">3.8.1 Description</a></li>
<li><a href="TechnicalReference_Oss.html#90">3.8.2 Activation</a></li>
<li><a href="TechnicalReference_Oss.html#90">3.8.3 Usage</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#91">3.9 Kernel Panic</a></li>
<li><a href="TechnicalReference_Oss.html#92">3.10 Generate callout stubs</a>
<ul>
<li><a href="TechnicalReference_Oss.html#92">3.10.1 Description</a></li>
<li><a href="TechnicalReference_Oss.html#92">3.10.2 Activation</a></li>
<li><a href="TechnicalReference_Oss.html#92">3.10.3 Usage</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#93">4 Integration</a>
<ul>
<li><a href="TechnicalReference_Oss.html#93">4.1 Compiler Optimization Assumptions</a>
<ul>
<li><a href="TechnicalReference_Oss.html#93">4.1.1 Compile Time</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#93">4.2 Hardware Software Interfaces (HSI)</a>
<ul>
<li><a href="TechnicalReference_Oss.html#94">4.2.1 TriCore Aurix Family</a>
<ul>
<li><a href="TechnicalReference_Oss.html#94">4.2.1.1 Context</a></li>
<li><a href="TechnicalReference_Oss.html#94">4.2.1.2 Core Registers</a></li>
<li><a href="TechnicalReference_Oss.html#94">4.2.1.3 Interrupt Registers</a></li>
<li><a href="TechnicalReference_Oss.html#95">4.2.1.4 GPT Registers</a></li>
<li><a href="TechnicalReference_Oss.html#95">4.2.1.5 STM Registers</a></li>
<li><a href="TechnicalReference_Oss.html#96">4.2.1.6 Aurix Special Characteristics</a></li>
<li><a href="TechnicalReference_Oss.html#98">4.2.1.7 PSW handling</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#99">4.2.2 RH850 Family</a>
<ul>
<li><a href="TechnicalReference_Oss.html#99">4.2.2.1 Context</a></li>
<li><a href="TechnicalReference_Oss.html#100">4.2.2.2 Core Registers</a></li>
<li><a href="TechnicalReference_Oss.html#101">4.2.2.3 MPU Registers</a></li>
<li><a href="TechnicalReference_Oss.html#101">4.2.2.4 INTC Registers</a></li>
<li><a href="TechnicalReference_Oss.html#101">4.2.2.5 Inter Processor Interrupt Control Registers</a></li>
<li><a href="TechnicalReference_Oss.html#102">4.2.2.6 Timer TAUJ Registers</a></li>
<li><a href="TechnicalReference_Oss.html#104">4.2.2.7 Timer STM Registers</a></li>
<li><a href="TechnicalReference_Oss.html#106">4.2.2.8 Timer OSTM Registers</a></li>
<li><a href="TechnicalReference_Oss.html#107">4.2.2.9 RH850 Special Characteristics</a></li>
<li><a href="TechnicalReference_Oss.html#108">4.2.2.10 PSW Register Handling</a></li>
<li><a href="TechnicalReference_Oss.html#108">4.2.2.11 Instructions</a></li>
<li><a href="TechnicalReference_Oss.html#108">4.2.2.12 Exception and Interrupt Cause Address</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#109">4.2.3 Power PC Family</a>
<ul>
<li><a href="TechnicalReference_Oss.html#109">4.2.3.1 Context</a></li>
<li><a href="TechnicalReference_Oss.html#109">4.2.3.2 Core Registers</a></li>
<li><a href="TechnicalReference_Oss.html#109">4.2.3.3 Interrupt Registers</a></li>
<li><a href="TechnicalReference_Oss.html#110">4.2.3.4 PIT Registers</a></li>
<li><a href="TechnicalReference_Oss.html#110">4.2.3.5 STM Registers</a></li>
<li><a href="TechnicalReference_Oss.html#110">4.2.3.6 MPU Registers</a></li>
<li><a href="TechnicalReference_Oss.html#111">4.2.3.7 SEMA4 Registers</a></li>
<li><a href="TechnicalReference_Oss.html#111">4.2.3.8 Power PC Special Characteristics</a></li>
<li><a href="TechnicalReference_Oss.html#112">4.2.3.9 MSR Handling</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#113">4.2.4 &#160;ARM Family</a>
<ul>
<li><a href="TechnicalReference_Oss.html#113">4.2.4.1 Cortex-R derivatives</a></li>
<li><a href="TechnicalReference_Oss.html#115">4.2.4.2 Cortex-A derivatives</a></li>
<li><a href="TechnicalReference_Oss.html#115">4.2.4.3 ARM Special Characteristics</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#117">4.3 Memory Mapping Concept</a>
<ul>
<li><a href="TechnicalReference_Oss.html#117">4.3.1 Provided MemMap Section Specifers</a>
<ul>
<li><a href="TechnicalReference_Oss.html#120">4.3.1.1 Usage of MemMap Macros</a></li>
<li><a href="TechnicalReference_Oss.html#121">4.3.1.2 Resulting sections</a></li>
<li><a href="TechnicalReference_Oss.html#127">4.3.1.3 Access Rights to Variable Sections</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#130">4.3.2 Link Sections</a>
<ul>
<li><a href="TechnicalReference_Oss.html#131">4.3.2.1 Simple Linker Defines</a></li>
<li><a href="TechnicalReference_Oss.html#131">4.3.2.2 Hierachical Linker Defines</a></li>
<li><a href="TechnicalReference_Oss.html#132">4.3.2.3 Selecting OS constants</a></li>
<li><a href="TechnicalReference_Oss.html#133">4.3.2.4 Selecting OS variables</a></li>
<li><a href="TechnicalReference_Oss.html#134">4.3.2.5 Selecting OS Barriers, Core Status and Trace variables</a></li>
<li><a href="TechnicalReference_Oss.html#135">4.3.2.6 Selecting OS Spinlocks</a></li>
<li><a href="TechnicalReference_Oss.html#136">4.3.2.7 Selecting User Constant Sections</a></li>
<li><a href="TechnicalReference_Oss.html#137">4.3.2.8 Selecting User Variable Sections</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#139">4.3.3 Section Symbols</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#139">4.4 Static Code Analysis</a></li>
<li><a href="TechnicalReference_Oss.html#140">4.5 Configuration of X-Signals</a>
<ul>
<li><a href="TechnicalReference_Oss.html#140">4.5.1 TriCore Aurix Family</a></li>
<li><a href="TechnicalReference_Oss.html#140">4.5.2 RH850 Family</a></li>
<li><a href="TechnicalReference_Oss.html#141">4.5.3 Power PC Family</a></li>
<li><a href="TechnicalReference_Oss.html#141">4.5.4 ARM Family</a></li>
<li><a href="TechnicalReference_Oss.html#141">4.5.5 VTT OS</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#141">4.6 OS generated objects</a>
<ul>
<li><a href="TechnicalReference_Oss.html#141">4.6.1 System Application</a></li>
<li><a href="TechnicalReference_Oss.html#142">4.6.2 Idle Task</a></li>
<li><a href="TechnicalReference_Oss.html#142">4.6.3 Timer ISR</a></li>
<li><a href="TechnicalReference_Oss.html#142">4.6.4 System Timer Counter</a></li>
<li><a href="TechnicalReference_Oss.html#142">4.6.5 Timing Protection Counter</a></li>
<li><a href="TechnicalReference_Oss.html#142">4.6.6 Timing protection ISR</a></li>
<li><a href="TechnicalReference_Oss.html#143">4.6.7 Resource Scheduler</a></li>
<li><a href="TechnicalReference_Oss.html#143">4.6.8 X Signal ISR</a></li>
<li><a href="TechnicalReference_Oss.html#143">4.6.9 IOC Spinlocks</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#144">4.7 VTT OS Specifics</a>
<ul>
<li><a href="TechnicalReference_Oss.html#144">4.7.1 Configuration</a></li>
<li><a href="TechnicalReference_Oss.html#144">4.7.2 CANoe Interface</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#145">4.8 User include files</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#146">5 API Description</a>
<ul>
<li><a href="TechnicalReference_Oss.html#147">5.1 Peripheral Access API</a>
<ul>
<li><a href="TechnicalReference_Oss.html#147">5.1.1 Read Functions</a></li>
<li><a href="TechnicalReference_Oss.html#149">5.1.2 Write Functions</a></li>
<li><a href="TechnicalReference_Oss.html#151">5.1.3 Bitmask Functions</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#153">5.2 Pre-Start Task</a></li>
<li><a href="TechnicalReference_Oss.html#154">5.3 Non-Trusted Functions (NTF)</a></li>
<li><a href="TechnicalReference_Oss.html#155">5.4 Interrupt Source API</a>
<ul>
<li><a href="TechnicalReference_Oss.html#155">5.4.1 Disable Interrupt Source</a></li>
<li><a href="TechnicalReference_Oss.html#156">5.4.2 Enable Interrupt Source</a></li>
<li><a href="TechnicalReference_Oss.html#157">5.4.3 Clear Pending Interrupt</a></li>
<li><a href="TechnicalReference_Oss.html#158">5.4.4 Check Interrupt Source Enabled</a></li>
<li><a href="TechnicalReference_Oss.html#159">5.4.5 Check Interrupt Pending</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#160">5.5 Detailed Error API</a>
<ul>
<li><a href="TechnicalReference_Oss.html#160">5.5.1 Get detailed Error</a></li>
<li><a href="TechnicalReference_Oss.html#161">5.5.2 Unhandled Interrupt Requests</a></li>
<li><a href="TechnicalReference_Oss.html#162">5.5.3 Unhandled Exception Requests</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#163">5.6 Stack Usage API</a></li>
<li><a href="TechnicalReference_Oss.html#164">5.7 RTE Interrupt API</a></li>
<li><a href="TechnicalReference_Oss.html#165">5.8 Time Conversion Macros</a>
<ul>
<li><a href="TechnicalReference_Oss.html#165">5.8.1 Convert from Time into Counter Ticks</a></li>
<li><a href="TechnicalReference_Oss.html#165">5.8.2 Convert from Counter Ticks into Time</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#166">5.9 Access Check API</a>
<ul>
<li><a href="TechnicalReference_Oss.html#166">5.9.1 Check ISR Memory Access</a></li>
<li><a href="TechnicalReference_Oss.html#167">5.9.2 Check Task Memory Access</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#168">5.10 OS Initialization</a></li>
<li><a href="TechnicalReference_Oss.html#170">5.11 Timing Hooks</a>
<ul>
<li><a href="TechnicalReference_Oss.html#170">5.11.1 Timing Hooks for Activation</a>
<ul>
<li><a href="TechnicalReference_Oss.html#170">5.11.1.1 Task Activation</a></li>
<li><a href="TechnicalReference_Oss.html#171">5.11.1.2 Set Event</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#172">5.11.2 Timing Hook for Context Switch</a></li>
<li><a href="TechnicalReference_Oss.html#173">5.11.3 Timing Hooks for Locking Purposes</a>
<ul>
<li><a href="TechnicalReference_Oss.html#173">5.11.3.1 Get Resource</a></li>
<li><a href="TechnicalReference_Oss.html#173">5.11.3.2 Release Resource</a></li>
<li><a href="TechnicalReference_Oss.html#174">5.11.3.3 Request Spinlock</a></li>
<li><a href="TechnicalReference_Oss.html#174">5.11.3.4 Request Internal Spinlock</a></li>
<li><a href="TechnicalReference_Oss.html#175">5.11.3.5 Get Spinlock</a></li>
<li><a href="TechnicalReference_Oss.html#175">5.11.3.6 Get Internal Spinlock</a></li>
<li><a href="TechnicalReference_Oss.html#176">5.11.3.7 Release Spinlock</a></li>
<li><a href="TechnicalReference_Oss.html#176">5.11.3.8 Release Internal Spinlock</a></li>
<li><a href="TechnicalReference_Oss.html#177">5.11.3.9 Disable Interrupts</a></li>
<li><a href="TechnicalReference_Oss.html#178">5.11.3.10 Enable Interrupts</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#179">5.12 PanicHook</a></li>
<li><a href="TechnicalReference_Oss.html#180">5.13 Calling Context Overview</a></li>
</ul>
</li>
<li><a href="TechnicalReference_Oss.html#181">6 Configuration</a></li>
<li><a href="TechnicalReference_Oss.html#182">7 Glossary</a></li>
<li><a href="TechnicalReference_Oss.html#183">8 Contact</a></li>
</ul>
<hr/>
</body>
</html>
