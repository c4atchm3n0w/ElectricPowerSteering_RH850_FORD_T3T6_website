---
title: TechnicalReference_CanSMs
linkTitle: TechnicalReference_CanSMs
weight: 6
---

<!DOCTYPE html><html>
<head>
<title></title>
<style type="text/css">
<!--
.xflip {
    -moz-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    -o-transform: scaleX(-1);
    transform: scaleX(-1);
    filter: fliph;
}
.yflip {
    -moz-transform: scaleY(-1);
    -webkit-transform: scaleY(-1);
    -o-transform: scaleY(-1);
    transform: scaleY(-1);
    filter: flipv;
}
.xyflip {
    -moz-transform: scaleX(-1) scaleY(-1);
    -webkit-transform: scaleX(-1) scaleY(-1);
    -o-transform: scaleX(-1) scaleY(-1);
    transform: scaleX(-1) scaleY(-1);
    filter: fliph + flipv;
}
-->
</style>
</head>
<body>
<a name=1></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-1_1.png"/><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/><b>MICROSAR CAN State Manager&#160;<br/></b>Technical Reference&#160;<br/>&#160;<br/>&#160;<br/>Version&#160;2.9.0&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
Authors&#160;<br/>
Mark&#160;A.&#160;Fingerle&#160;<br/>
Status&#160;<br/>
Released&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
<hr/>
<a name=2></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-2_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>Document&#160;Information&#160;</b><br/>
<b>History&#160;</b><br/>
<b>Author&#160;</b><br/>
<b>Date&#160;</b><br/>
<b>Version&#160;</b><br/>
<b>Remarks&#160;</b><br/>
Mark&#160;A.&#160;Fingerle&#160;<br/>
2012-08-08&#160;<br/>
2.0.0&#160;<br/>
Creation&#160;from&#160;scratch&#160;<br/>
Mark&#160;A.&#160;Fingerle&#160;<br/>
2012-10-23&#160;<br/>
2.1.0&#160;<br/>
ESCAN00062053&#160;Interface to&#160;provide&#160;<br/>internal&#160;bus-off&#160;recovery&#160;level<a href="TechnicalReference_CanSMs.html#19">&#160;3.8,&#160;</a><a href="TechnicalReference_CanSMs.html#27">Table&#160;<br/>3-4,&#160;</a><a href="TechnicalReference_CanSMs.html#32">5.1,&#160;</a><a href="TechnicalReference_CanSMs.html#39">5.2.13&#160;<br/></a>ESCAN00062050&#160;Instruction&#160;order&#160;for&#160;<br/>transition&#160;to&#160;no&#160;communicatio<a href="TechnicalReference_CanSMs.html#17">n&#160;Figure&#160;3-3&#160;<br/></a><a href="TechnicalReference_CanSMs.html#20">Figure&#160;3-5&#160;<br/></a>Update&#160;state&#160;machine&#160;pictures<a href="TechnicalReference_CanSMs.html#14">&#160;Figure&#160;3-1,&#160;<br/></a><a href="TechnicalReference_CanSMs.html#15">Figure&#160;3-2,&#160;</a><a href="TechnicalReference_CanSMs.html#18">Figure&#160;3-4&#160;</a><br/>
Mark&#160;A.&#160;Fingerle&#160;<br/>
2013-05-03&#160;<br/>
2.2.0&#160;<br/>
ESCAN00065274&#160;Trigger&#160;CanIf&#160;PduMode&#160;<br/>wake up&#160;filter&#160;in&#160;PN&#160;use&#160;case<a href="TechnicalReference_CanSMs.html#50">&#160;6.2.6&#160;<br/></a>Remove chapter&#160;“4.2&#160;Include Structure”&#160;<br/>and&#160;“4.3&#160;Compiler&#160;Abstraction&#160;and Memory&#160;<br/>Mapping”&#160;<br/>
Mark&#160;A.&#160;Fingerle&#160;<br/>
2013-06-13&#160;<br/>
2.3.0&#160;<br/>
ESCAN00068036&#160;SetEcuPassiv<a href="TechnicalReference_CanSMs.html#22">e&#160;0,&#160;<br/></a><a href="TechnicalReference_CanSMs.html#39">5.2.14,&#160;</a><a href="TechnicalReference_CanSMs.html#50">6.2.7&#160;</a>ESCAN00068039&#160;<br/>PreventBusSleepAtStartUp<a href="TechnicalReference_CanSMs.html#22">&#160;3.13,</a><a href="TechnicalReference_CanSMs.html#40">&#160;5.2.15,&#160;<br/></a><a href="TechnicalReference_CanSMs.html#50">6.2.8&#160;</a><br/>
Mark&#160;A.&#160;Fingerle&#160;<br/>
2013-08-13&#160;<br/>
2.4.0&#160;<br/>
ESCAN00069109<a href="TechnicalReference_CanSMs.html#21">&#160;3.11&#160;Baud Rate&#160;<br/>Adaption&#160;<br/></a>ESCAN00068797<a href="TechnicalReference_CanSMs.html#23">&#160;3.14&#160;BusOff&#160;Recovery&#160;<br/>Notifications&#160;&#160;</a><br/>
Mark&#160;A.&#160;Fingerle&#160;<br/>
2014-10-13&#160;<br/>
2.5.0&#160;<br/>
ESCAN00076768&#160;Post-Build Selectable&#160;<br/>(Identity&#160;Manager)&#160;support<a href="TechnicalReference_CanSMs.html#50">&#160;6.2.9&#160;<br/></a>ESCAN00076224&#160;A<a href="TechnicalReference_CanSMs.html#51">dd&#160;APIs&#160;to&#160;Assist&#160;EcuM&#160;<br/>Wakeup&#160;Validation&#160;</a><a href="TechnicalReference_CanSMs.html#23">3.15,&#160;</a><a href="TechnicalReference_CanSMs.html#38">5.2.11,&#160;5.2.12&#160;<br/></a>ESCAN00079340&#160;Description&#160;BCD-coded&#160;<br/>return-value&#160;of&#160;GetVersionInfo()&#160;<br/>AUTOSAR&#160;deviatio<a href="TechnicalReference_CanSMs.html#50">n&#160;6.1&#160;</a><br/>
Mark&#160;A.&#160;Fingerle&#160;<br/>
2015-11-13&#160;<br/>
2.6.0&#160;<br/>
ESCAN00086062<a href="TechnicalReference_CanSMs.html#21">&#160;3.10&#160;</a>Swift<a href="TechnicalReference_CanSMs.html#21">&#160;Tx&#160;Timeout&#160;<br/>Exception&#160;</a><br/>
Mark&#160;A.&#160;Fingerle&#160;<br/>
2016-01-13&#160;<br/>
2.7.0&#160;<br/>
ESCAN0008864<a href="TechnicalReference_CanSMs.html#51">3&#160;Extended RAM&#160;Check&#160;<br/></a><a href="TechnicalReference_CanSMs.html#33">5.2.2,&#160;</a><a href="TechnicalReference_CanSMs.html#40">5.2.16,&#160;</a><a href="TechnicalReference_CanSMs.html#41">5.2.17,&#160;</a><a href="TechnicalReference_CanSMs.html#46">5.4.8,&#160;5.4.9,&#160;</a><a href="TechnicalReference_CanSMs.html#47">5.5.1,&#160;<br/>5.5.2,&#160;</a><a href="TechnicalReference_CanSMs.html#48">5.5.3,&#160;5.5.4&#160;</a><br/>
Mark&#160;A.&#160;Fingerle&#160;<br/>
2016-05-13&#160;<br/>
2.8.0&#160;<br/>
ESCAN00090185&#160;Wakeup&#160;validation&#160;fail&#160;<br/>(Start/Stop&#160;wakeup&#160;sources);&#160;Wakeup&#160;<br/>validation&#160;must&#160;not&#160;be&#160;used&#160;with&#160;<br/>asynchronous&#160;Trcv&#160;(SPI)<a href="TechnicalReference_CanSMs.html#38">&#160;5.2.11&#160;5.2.12&#160;<br/></a>ESCAN00090829&#160;Improve description how&#160;<br/>to&#160;redirect&#160;&#160;&#34;Error&#160;Reporting&#160;APIs&#34;<a href="TechnicalReference_CanSMs.html#26">&#160;3.17.1,&#160;<br/></a><a href="TechnicalReference_CanSMs.html#27">3.17.2&#160;</a><br/>
Mark&#160;A.&#160;Fingerle&#160;<br/>
2016-08-01&#160;<br/>
2.9.0&#160;<br/>
ESCAN00091303<a href="TechnicalReference_CanSMs.html#51">&#160;6.2.13&#160;Expanded&#160;Tx&#160;<br/>Timeout&#160;Exception&#160;Handling&#160;</a><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
2&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=3></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-3_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-3_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>Reference&#160;Documents&#160;</b><br/>
<b>No.&#160;</b><br/>
<b>Source&#160;</b><br/>
<b>Title&#160;</b><br/>
<b>Version&#160;</b><br/>
[1]&#160;&#160;&#160;AUTOSAR&#160;<br/>
Specification&#160;of&#160;CAN&#160;State Manager&#160;<br/>
2.2.0&#160;<br/>
[2]&#160;&#160;&#160;AUTOSAR&#160;<br/>
Specification&#160;of&#160;Development&#160;Error&#160;Tracer&#160;<br/>
3.2.0&#160;<br/>
[3]&#160;&#160;&#160;AUTOSAR&#160;<br/>
Specification&#160;of&#160;Diagnostics&#160;Event&#160;Manager&#160;<br/>
4.2.0&#160;<br/>
[4]&#160;&#160;&#160;AUTOSAR&#160;<br/>
List&#160;of&#160;Basic&#160;Software&#160;Modules&#160;<br/>
1.6.0&#160;<br/>
[5]&#160;&#160;&#160;AUTOSAR&#160;<br/>
Specification&#160;of&#160;CAN&#160;Interface&#160;<br/>
5.0.0&#160;<br/>
[6]&#160;&#160;&#160;AUTOSAR&#160;<br/>
Specification&#160;of&#160;Communication Manager&#160;<br/>
4.0.0&#160;<br/>
[7]&#160;&#160;&#160;AUTOSAR&#160;<br/>
Specification&#160;of&#160;Basic&#160;Software&#160;Mode Manager&#160;<br/>
1.2.0&#160;<br/>
<b>Scope&#160;of&#160;the&#160;Document&#160;</b><br/>
This&#160;&#160;technical&#160;&#160;reference&#160;&#160;describes&#160;&#160;the&#160;&#160;general&#160;&#160;use&#160;&#160;of&#160;&#160;the&#160;&#160;CAN&#160;&#160;State&#160;&#160;Manager&#160;&#160;basis&#160;<br/>software.&#160;&#160;All&#160;&#160;aspects&#160;&#160;which&#160;&#160;are&#160;&#160;CAN&#160;&#160;controller&#160;&#160;specific&#160;&#160;are&#160;&#160;described&#160;&#160;in&#160;&#160;the&#160;&#160;technical&#160;<br/>reference&#160;of&#160;the&#160;CAN&#160;Interface,&#160;which&#160;is also&#160;part of&#160;the&#160;delivery.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>We&#160;have configured&#160;the&#160;programs&#160;in&#160;accordance&#160;with your&#160;specifications&#160;in the&#160;<br/>
<b>&#160;&#160;</b>questionnaire.&#160;Whereas&#160;the&#160;programs&#160;do&#160;support&#160;other&#160;configurations&#160;than&#160;the&#160;one&#160;<br/>
specified&#160;in your&#160;questionnaire,&#160;Vector’s&#160;release&#160;of&#160;the&#160;programs&#160;delivered to&#160;your&#160;<br/>company&#160;is&#160;expressly&#160;restricted&#160;to&#160;the&#160;configuration&#160;you&#160;have specified&#160;in&#160;the&#160;<br/>questionnaire.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
3&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=4></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-4_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>Contents&#160;</b><br/>
<a href="TechnicalReference_CanSMs.html#9"><b>1</b>&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#9"><b>Component&#160;History&#160;......................................................................................................&#160;9</b>&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#10"><b>2</b>&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#10"><b>Introduction.................................................................................................................&#160;10</b>&#160;<br/>2.1&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#10">Architecture&#160;Overview&#160;......................................................................................&#160;10&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#12"><b>3</b>&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#12"><b>Functional&#160;Description&#160;...............................................................................................&#160;12</b>&#160;<br/>3.1&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#12">Features&#160;..........................................................................................................&#160;12&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#13">3.2&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#13">Initialization&#160;......................................................................................................&#160;13&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#13">3.3&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#13">State&#160;Machine&#160;..................................................................................................&#160;13&#160;<br/></a><a href="TechnicalReference_CanSMs.html#14">3.3.1&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#14">Mode Request&#160;Indication&#160;and Repetition&#160;..........................................&#160;14&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#14">3.3.2&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#14">Communication&#160;Mode Request&#160;Change&#160;(During&#160;Pending&#160;Mode&#160;<br/>Indication or&#160;Running&#160;Bus-Off&#160;Recovery)&#160;.........................................&#160;14&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#15">3.3.3&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#15">CANSM_NO_COMMUNICATION&#160;to&#160;<br/>CANSM_FULL_COMMUNICATION&#160;.................................................&#160;15&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#16">3.3.4&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#16">CANSM_FULL_COMMUNICATION&#160;to&#160;<br/>CANSM_SILENT_COMMUNICATION&#160;.............................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#16">3.3.5&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#16">CANSM_SILENT_COMMUNICATION&#160;.............................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#16">3.3.6&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#16">CANSM_SILENT_COMMUNICATION&#160;to&#160;<br/>CANSM_FULL_COMMUNICATION&#160;.................................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#17">3.3.7&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#17">Transition&#160;to&#160;CANSM_NO_COMMUNICATION&#160;................................&#160;17&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#18">3.4&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#18">Bus-Off&#160;Recovery&#160;.............................................................................................&#160;18&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#19">3.5&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#19">Main Function&#160;..................................................................................................&#160;19&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#19">3.6&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#19">Communication&#160;Modes&#160;....................................................................................&#160;19&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#19">3.7&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#19">Communication&#160;Mode Polling...........................................................................&#160;19&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#19">3.8&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#19">Bus-off&#160;Level&#160;Polling&#160;........................................................................................&#160;19&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#19">3.9&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#19">Partial&#160;Networking&#160;............................................................................................&#160;19&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#21">3.10&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#21">Tx&#160;Timeout&#160;Exception&#160;......................................................................................&#160;21&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#21">3.11&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#21">Baud Rate&#160;Adaption&#160;.........................................................................................&#160;21&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#22">3.12&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#22">ECU&#160;Passive&#160;Mode&#160;..........................................................................................&#160;22&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#22">3.13&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#22">PreventBusSleepAtStartUp&#160;..............................................................................&#160;22&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#23">3.14&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#23">BusOff&#160;Recovery&#160;Notifications&#160;Extension&#160;of&#160;Tx&#160;Offline&#160;Duration&#160;.......................&#160;23&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#23">3.15&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#23">Wake-up&#160;Validation&#160;Assistance&#160;........................................................................&#160;23&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#23">3.16&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#23">Start/Stop&#160;Wake-up&#160;Sources&#160;............................................................................&#160;23&#160;<br/>3.16.1&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#23">Normal&#160;Behavior&#160;..............................................................................&#160;23&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#24">3.16.2&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#24">Usage&#160;..............................................................................................&#160;24&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#24">3.16.3&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#24">Exceptional&#160;Behavior&#160;.......................................................................&#160;24&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#24">3.16.4&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#24">Potential&#160;Effect&#160;.................................................................................&#160;24&#160;<br/>3.16.4.1&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#24">Start&#160;of&#160;the&#160;Wakeup&#160;Sources Fail&#160;...................................&#160;24&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#24">3.16.4.2&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#24">Stop&#160;of&#160;the&#160;Wakeup&#160;Sources Fail&#160;...................................&#160;24&#160;</a><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
4&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=5></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-5_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<a href="TechnicalReference_CanSMs.html#25">3.16.5&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#25">Countermeasures&#160;............................................................................&#160;25&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#26">3.17&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#26">Error&#160;Handling&#160;..................................................................................................&#160;26&#160;<br/>3.17.1&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#26">Development&#160;Error&#160;Reporting&#160;...........................................................&#160;26&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#27">3.17.2&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#27">Production Code&#160;Error&#160;Reporting&#160;.....................................................&#160;27&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#29"><b>4</b>&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#29"><b>Integration&#160;...................................................................................................................&#160;29</b>&#160;<br/>4.1&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#29">Scope of&#160;Delivery&#160;.............................................................................................&#160;29&#160;<br/>4.1.1&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#29">Static Files&#160;.......................................................................................&#160;29&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#29">4.1.2&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#29">Dynamic&#160;Files&#160;..................................................................................&#160;29&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#30">4.2&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#30">Critical&#160;Sections&#160;...............................................................................................&#160;30&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#32"><b>5</b>&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#32"><b>API&#160;Description&#160;...........................................................................................................&#160;32</b>&#160;<br/>5.1&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#32">Type&#160;Definitions&#160;...............................................................................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#32">5.2&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#32">Services Provided by&#160;CanSM...........................................................................&#160;32&#160;<br/>5.2.1&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#32">CanSM_InitMemory&#160;.........................................................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#33">5.2.2&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#33">CanSM_PreInit&#160;.................................................................................&#160;33&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#33">5.2.3&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#33">CanSM_Init&#160;......................................................................................&#160;33&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#34">5.2.4&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#34">CanSM_MainFunction&#160;......................................................................&#160;34&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#34">5.2.5&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#34">CanSM_RequestComMode&#160;.............................................................&#160;34&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#35">5.2.6&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#35">CanSM_GetCurrentComMode&#160;.........................................................&#160;35&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#35">5.2.7&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#35">CanSM_GetVersionInfo&#160;...................................................................&#160;35&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#36">5.2.8&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#36">CanSM_CheckBaudrate&#160;..................................................................&#160;36&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#36">5.2.9&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#36">CanSM_ChangeBaudrate&#160;................................................................&#160;36&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#37">5.2.10&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#37">CanSM_SetBaudrate&#160;.......................................................................&#160;37&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#38">5.2.11&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#38">CanSM_StartWakeupSources&#160;..........................................................&#160;38&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#38">5.2.12&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#38">CanSM_StopWakeupSources&#160;..........................................................&#160;38&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#39">5.2.13&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#39">CanSM_CheckBorLevel&#160;...................................................................&#160;39&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#39">5.2.14&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#39">CanSM_SetEcuPassive&#160;...................................................................&#160;39&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#40">5.2.15&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#40">CanSM_PreventBusSleepAtStartUp&#160;................................................&#160;40&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#40">5.2.16&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#40">CanSM_RamCheckStatus&#160;...............................................................&#160;40&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#41">5.2.17&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#41">CanSM_RamCheckEnableMailbox&#160;..................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#41">5.3&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#41">Services Used by&#160;CanSM&#160;................................................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#42">5.4&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#42">Callback&#160;Functions&#160;...........................................................................................&#160;42&#160;<br/>5.4.1&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#42">CanSM_ControllerBusOff&#160;.................................................................&#160;42&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#43">5.4.2&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#43">CanSM_ControllerModeIndication&#160;....................................................&#160;43&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#43">5.4.3&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#43">CanSM_TransceiverModeIndication&#160;.................................................&#160;43&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#44">5.4.4&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#44">CanSM_ClearTrcvWufFlagIndication&#160;...............................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#44">5.4.5&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#44">CanSM_CheckTransceiverWakeFlagIndication&#160;................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#45">5.4.6&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#45">CanSM_ConfirmPnAvailability..........................................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#45">5.4.7&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#45">CanSM_TxTimeoutException&#160;...........................................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#46">5.4.8&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#46">CanSM_RamCheckCorruptMailbox&#160;.................................................&#160;46&#160;</a><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
5&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=6></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-6_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<a href="TechnicalReference_CanSMs.html#46">5.4.9&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#46">CanSM_RamCheckCorruptController&#160;..............................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#47">5.5&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#47">Callout&#160;Functions&#160;.............................................................................................&#160;47&#160;<br/>5.5.1&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#47">Appl_CanSM_RamCheckStart&#160;.........................................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#47">5.5.2&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#47">Appl_CanSM_RamCheckCorruptController&#160;.....................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#48">5.5.3&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#48">Appl_CanSM_RamCheckCorruptMailbox&#160;........................................&#160;48&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#48">5.5.4&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#48">Appl_CanSM_RamCheckFinished&#160;...................................................&#160;48&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#50"><b>6</b>&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#50"><b>AUTOSAR&#160;Standard&#160;Compliance...............................................................................&#160;50</b>&#160;<br/>6.1&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#50">Deviations&#160;........................................................................................................&#160;50&#160;<br/>6.1.1&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#50">Communication&#160;mode&#160;requests&#160;are acceped&#160;if&#160;possible&#160;...................&#160;50&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#50">6.2&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#50">Additions/&#160;Extensions&#160;.......................................................................................&#160;50&#160;<br/>6.2.1&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#50">API&#160;CanSM_InitMemory()&#160;................................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#50">6.2.2&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#50">No Mode Notification&#160;During CanSM_Init&#160;.........................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#50">6.2.3&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#50">Configuration&#160;Options&#160;......................................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#50">6.2.4&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#50">Additional&#160;Bus-Off&#160;Recovery&#160;in State&#160;Silent......................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#50">6.2.5&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#50">API&#160;CanSM_CheckBorLevel()&#160;..........................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#50">6.2.6&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#50">Partial&#160;Network&#160;Wake&#160;Up Filter&#160;........................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#50">6.2.7&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#50">ECU&#160;Passive&#160;Mode&#160;..........................................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#50">6.2.8&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#50">PreventBusSleepAtStartUp&#160;..............................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#50">6.2.9&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#50">Post-Build Selectable (Identity&#160;Manager)&#160;.........................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#51">6.2.10&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#51">APIs&#160;to&#160;Assist&#160;EcuM&#160;Wakeup&#160;Validation&#160;...........................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#51">6.2.11&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#51">Swift&#160;or&#160;Large&#160;Tx&#160;Timeout&#160;Exception&#160;handling&#160;..................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#51">6.2.12&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#51">Extended RAM&#160;Check&#160;......................................................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#51">6.3&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#51">Limitations........................................................................................................&#160;51&#160;<br/>6.3.1&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#51">Controllers&#160;.......................................................................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#51">6.3.2&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#51">Configuration Class&#160;..........................................................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#52"><b>7</b>&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#52"><b>Glossary&#160;and&#160;Abbreviations&#160;......................................................................................&#160;52</b>&#160;<br/>7.1&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#52">Glossary&#160;..........................................................................................................&#160;52&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#52">7.2&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#52">Abbreviations&#160;...................................................................................................&#160;52&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#53"><b>8</b>&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#53"><b>Contact&#160;........................................................................................................................&#160;53</b>&#160;</a><br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
6&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=7></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-7_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>Illustration&#160;List&#160;<br/></b><a href="TechnicalReference_CanSMs.html#10">Figure&#160;2-1&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#10">AUTOSAR&#160;architecture&#160;.............................................................................&#160;10&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#11">Figure&#160;2-2&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#11">Interfaces&#160;to adjacent&#160;modules of&#160;the&#160;CanSM&#160;...........................................&#160;11&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#14">Figure&#160;3-1&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#14">CanSM&#160;state&#160;machine&#160;..............................................................................&#160;14&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#15">Figure&#160;3-2&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#15">Sub&#160;state&#160;transition&#160;to&#160;CANSM_FULL_COMMUNICATION&#160;......................&#160;15&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#17">Figure&#160;3-3&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#17">Sub&#160;state&#160;transition&#160;to&#160;CANSM_NO_COMMUNICATION&#160;..........................&#160;17&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#18">Figure&#160;3-4&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#18">CanSM&#160;sub-state&#160;bus-off&#160;recovery&#160;............................................................&#160;18&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#20">Figure&#160;3-5&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#20">Sub&#160;state Partial&#160;Network&#160;transition&#160;to CANSM_NO_COMMUNICATION&#160;.&#160;20&#160;</a><br/>
<b>&#160;</b><br/>
<b>Tables&#160;<br/></b><a href="TechnicalReference_CanSMs.html#9">Table&#160;1-1&#160;&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#9">Component&#160;history......................................................................................&#160;9&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#12">Table&#160;3-1&#160;&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#12">Supported&#160;AUTOSAR&#160;standard conform&#160;features&#160;.....................................&#160;12&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#12">Table&#160;3-2&#160;&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#12">Not&#160;supported&#160;AUTOSAR&#160;standard conform&#160;features&#160;...............................&#160;12&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#13">Table&#160;3-3&#160;&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#13">Features&#160;provided beyond the&#160;AUTOSAR&#160;standard&#160;..................................&#160;13&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#27">Table&#160;3-4&#160;&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#27">Service IDs&#160;...............................................................................................&#160;27&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#27">Table&#160;3-5&#160;&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#27">Errors&#160;reported&#160;to DET&#160;.............................................................................&#160;27&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#28">Table&#160;3-6&#160;&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#28">Errors&#160;reported&#160;to DEM&#160;.............................................................................&#160;28&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#29">Table&#160;4-1&#160;&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#29">Static&#160;files&#160;.................................................................................................&#160;29&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#30">Table&#160;4-2&#160;&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#30">Generated&#160;files&#160;.........................................................................................&#160;30&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#32">Table&#160;5-1&#160;&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#32">Type&#160;definitions&#160;.........................................................................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#33">Table&#160;5-2&#160;&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#33">CanSM_InitMemory&#160;..................................................................................&#160;33&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#33">Table&#160;5-3&#160;&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#33">CanSM_PreInit&#160;.........................................................................................&#160;33&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#34">Table&#160;5-4&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#34">CanSM_Init&#160;...............................................................................................&#160;34&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#34">Table&#160;5-5&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#34">CanSM_MainFunction&#160;..............................................................................&#160;34&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#35">Table&#160;5-6&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#35">CanSM_RequestComMode&#160;......................................................................&#160;35&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#35">Table&#160;5-7&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#35">CanSM_GetCurrentComMode&#160;..................................................................&#160;35&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#36">Table&#160;5-8&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#36">CanSM_GetVersionInfo&#160;............................................................................&#160;36&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#36">Table&#160;5-9&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#36">CanSM_CheckBaudrate&#160;...........................................................................&#160;36&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#37">Table&#160;5-10&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#37">CanSM_ChangeBaudrate&#160;.........................................................................&#160;37&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#37">Table&#160;5-11&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#37">CanSM_SetBaudrate&#160;................................................................................&#160;37&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#38">Table&#160;5-12&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#38">CanSM_StartWakeupSources&#160;..................................................................&#160;38&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#39">Table&#160;5-13&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#39">CanSM_StopWakeupSources&#160;..................................................................&#160;39&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#39">Table&#160;5-14&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#39">CanSM_CheckBorLevel&#160;...........................................................................&#160;39&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#40">Table&#160;5-15&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#40">CanSM_SetEcuPassive&#160;............................................................................&#160;40&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#40">Table&#160;5-16&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#40">CanSM_PreventBusSleepAtStartUp&#160;.........................................................&#160;40&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#41">Table&#160;5-17&#160;&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#41">CanSM_RamCheckStatus&#160;........................................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#41">Table&#160;5-18&#160;&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#41">CanSM_RamCheckEnableMailbox&#160;...........................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#42">Table&#160;5-19&#160;&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#42">Services used by&#160;the&#160;CanSM&#160;....................................................................&#160;42&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#43">Table&#160;5-20&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#43">CanSM_ControllerBusOff&#160;.........................................................................&#160;43&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#43">Table&#160;5-21&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#43">CanSM_ControllerModeIndication&#160;............................................................&#160;43&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#44">Table&#160;5-22&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#44">CanSM_TransceiverModeIndication&#160;.........................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#44">Table&#160;5-23&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#44">CanSM_ClearTrcvWufFlagIndication&#160;........................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#45">Table&#160;5-24&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#45">CanSM_CheckTransceiverWakeFlagIndication&#160;........................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#45">Table&#160;5-25&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#45">CanSM_ConfirmPnAvailability&#160;..................................................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#46">Table&#160;5-26&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#46">CanSM_TxTimeoutException&#160;...................................................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#46">Table&#160;5-27&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#46">CanSM_RamCheckCorruptMailbox&#160;..........................................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#47">Table&#160;5-28&#160;&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#47">CanSM_RamCheckCorruptController&#160;.......................................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#47">Table&#160;5-29&#160;&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#47">Appl_CanSM_RamCheckStart&#160;.................................................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#48">Table&#160;5-30&#160;&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#48">Appl_CanSM_RamCheckCorruptController&#160;..............................................&#160;48&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#48">Table&#160;5-31&#160;&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#48">Appl_CanSM_RamCheckCorruptMailbox&#160;.................................................&#160;48&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#49">Table&#160;5-32&#160;&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#49">Appl_CanSM_RamCheckFinished&#160;............................................................&#160;49&#160;</a><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
7&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=8></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-8_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<a href="TechnicalReference_CanSMs.html#52">Table&#160;7-1&#160;&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#52">Glossary&#160;...................................................................................................&#160;52&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#52">Table&#160;7-2&#160;&#160;</a><br/>
<a href="TechnicalReference_CanSMs.html#52">Abbreviations&#160;............................................................................................&#160;52&#160;</a><br/>
&#160;<br/>&#160;<br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
8&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=9></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-9_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>1&#160;&#160;Component&#160;History&#160;</b><br/>
The&#160;&#160;component&#160;&#160;history&#160;&#160;gives&#160;&#160;an&#160;&#160;overview&#160;&#160;over&#160;&#160;the&#160;&#160;important&#160;&#160;milestones&#160;&#160;that&#160;&#160;are&#160;<br/>supported&#160;in&#160;the&#160;different&#160;versions of&#160;the&#160;component.&#160;&#160;<br/>
<b>Component&#160;Version&#160;&#160;New&#160;Features&#160;<br/></b>2.0.0&#160;<br/>
Creation&#160;according&#160;to&#160;AUTOSAR&#160;4.0.3&#160;<br/>
5.1.0&#160;<br/>
Extended RAM&#160;Check&#160;<br/>
Table&#160;1-1&#160;&#160;&#160;Component&#160;history&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
9&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=10></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-10_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-10_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>2&#160;&#160;Introduction&#160;</b><br/>
This&#160;&#160;document&#160;&#160;describes&#160;&#160;the&#160;&#160;functionality,&#160;API&#160;&#160;and&#160;&#160;configuration&#160;&#160;of&#160;&#160;the&#160;AUTOSAR&#160;&#160;BSW&#160;<br/>module&#160;CanSM&#160;as&#160;specified&#160;in&#160;[1].&#160;<br/>
Supported&#160;AUTOSAR&#160;Relea<a href="TechnicalReference_CanSMs.html#10">se*:</a>&#160;<br/>
4&#160;<br/>
Supported&#160;Configuration&#160;Variants:&#160;<br/>
pre-compile,&#160;Post-Build Selectable&#160;<br/>
Vendor&#160;ID:&#160;<br/>
CANSM_VENDOR_ID&#160;<br/>
30&#160;decimal&#160;<br/>(=&#160;Vector-Informatik,&#160;<br/>according&#160;to&#160;HIS)&#160;<br/>
Module ID:&#160;<br/>
CANSM_MODULE_ID &#160;&#160;<br/>
140&#160;decimal&#160;<br/>(according&#160;to ref<a href="TechnicalReference_CanSMs.html#3">.&#160;[4])</a>&#160;<br/>
*&#160;For&#160;the precise&#160;AUTOSAR Release&#160;4.x&#160;please see the&#160;release specific&#160;documentation.&#160;<br/>&#160;<br/>
The&#160;CAN&#160;State&#160;Manager&#160;(CanSM)&#160;realizes&#160;a&#160;software&#160;layer&#160;between&#160;the&#160;Communication&#160;<br/>Manager&#160;&#160;(ComM)&#160;&#160;and&#160;&#160;the&#160;&#160;CAN&#160;&#160;Interface&#160;&#160;(CanIf).&#160;&#160;The&#160;&#160;CanSM&#160;&#160;handles&#160;&#160;the&#160;&#160;startup&#160;&#160;and&#160;<br/>shutdown&#160;&#160;of&#160;&#160;the&#160;&#160;communication&#160;&#160;of&#160;&#160;a&#160;&#160;CAN&#160;&#160;network.&#160;&#160;The&#160;&#160;CAN&#160;&#160;State&#160;&#160;Manager&#160;&#160;maps&#160;&#160;the&#160;<br/>CAN&#160;State&#160;Manager&#160;states&#160;to&#160;the&#160;states of&#160;the&#160;ComM&#160;and&#160;causes&#160;the&#160;necessary&#160;actions&#160;to&#160;<br/>change&#160;the&#160;CAN&#160;State&#160;Manager&#160;state&#160;to&#160;those&#160;requested&#160;by&#160;the&#160;ComM.&#160;The&#160;main&#160;function&#160;<br/>of&#160;the&#160;CAN&#160;State&#160;Manager is called&#160;cyclically by&#160;the&#160;Schedule&#160;Manager (SchM).&#160;<br/>
<b>2.1&#160;</b><br/>
<b>Architecture&#160;Overview&#160;</b><br/>
The&#160;following&#160;figure shows&#160;where the&#160;CanSM&#160;is located&#160;in&#160;the&#160;AUTOSAR architecture.&#160;<br/>
&#160;<br/>
Figure&#160;2-1&#160;&#160;AUTOSAR&#160;architecture&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
10&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=11></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-11_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-11_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
The&#160;next&#160;figure&#160;shows&#160;the&#160;interfaces&#160;to&#160;adjacent&#160;modules&#160;of&#160;the&#160;CanSM.&#160;These&#160;interfaces&#160;<br/>are described&#160;in&#160;chapte<a href="TechnicalReference_CanSMs.html#32">r&#160;5.&#160;</a>&#160;<br/>
&#160;<br/>
Figure&#160;2-2&#160;&#160;Interfaces&#160;to&#160;adjacent&#160;modules&#160;of&#160;the&#160;CanSM&#160;<br/>
Applications do&#160;not&#160;access the&#160;services&#160;of&#160;the&#160;BSW&#160;modules&#160;directly.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
11&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=12></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-12_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>3&#160;&#160;Functional&#160;Description&#160;</b><br/>
<b>3.1&#160;</b><br/>
<b>Features&#160;</b><br/>
The&#160;features&#160;listed&#160;in&#160;the&#160;following&#160;tables&#160;cover&#160;the&#160;complete&#160;functionality&#160;specified&#160;for&#160;the&#160;<br/>CanSM.&#160;<br/>The&#160;AUTOSAR&#160;&#160;standard&#160;&#160;functionality&#160;&#160;is&#160;&#160;specified&#160;&#160;in&#160;&#160;[1],&#160;&#160;the&#160;&#160;corresponding&#160;&#160;features&#160;&#160;are&#160;<br/>listed&#160;in&#160;the&#160;tables&#160;<br/>
<b>&gt;&#160;&#160;</b><a href="TechnicalReference_CanSMs.html#12">Table&#160;3-1&#160;&#160;&#160;Supported&#160;AUTOSAR&#160;standard conform&#160;features&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b><a href="TechnicalReference_CanSMs.html#12">Table&#160;3-2&#160;&#160;&#160;Not&#160;supported&#160;AUTOSAR standard&#160;conform&#160;features&#160;</a><br/>
For further information&#160;of&#160;not&#160;supported&#160;features see&#160;also&#160;chapte<a href="TechnicalReference_CanSMs.html#50">r&#160;6.</a>&#160;<br/>Vector&#160;&#160;Informatik&#160;&#160;provides&#160;&#160;further&#160;&#160;CanSM&#160;&#160;functionality&#160;&#160;beyond&#160;&#160;the&#160;AUTOSAR&#160;&#160;standard.&#160;<br/>The&#160;corresponding&#160;features&#160;are&#160;listed&#160;in&#160;the&#160;table&#160;<br/>
<b>&gt;&#160;&#160;</b><a href="TechnicalReference_CanSMs.html#13">Table&#160;3-3&#160;&#160;&#160;Features&#160;provided&#160;beyond&#160;the&#160;AUTOSAR standard&#160;</a><br/>
&#160;<br/>
The&#160;following&#160;features&#160;specified&#160;in&#160;[1]&#160;are&#160;supported:&#160;<br/>
<b>Supported&#160;AUTOSAR&#160;Standard&#160;Conform&#160;Features&#160;<br/></b>Translation of&#160;network&#160;communication&#160;mode&#160;requests&#160;<br/>Output&#160;of&#160;current&#160;network&#160;communication&#160;modes&#160;(Polling&#160;and Callback)&#160;<br/>Control&#160;of&#160;peripherals&#160;(CAN&#160;Transceivers,&#160;CAN&#160;Controllers)&#160;<br/>Control&#160;of&#160;PDU&#160;mode&#160;<br/>Handle the&#160;network&#160;mode via a&#160;separate state&#160;machine&#160;per&#160;network&#160;<br/>Bus error&#160;management:&#160;Bus-off&#160;recovery&#160;via a&#160;separate&#160;state&#160;machine&#160;per&#160;network&#160;<br/>Change Baud&#160;Rate&#160;handling&#160;<br/>Tx&#160;Timeout&#160;Exception&#160;handling&#160;<br/>Error&#160;classification,&#160;detection&#160;and&#160;notification&#160;<br/>Enable and disable development&#160;and&#160;production&#160;error&#160;detection&#160;<br/>
Table&#160;3-1&#160;&#160;&#160;Supported&#160;AUTOSAR&#160;standard&#160;conform&#160;features&#160;<br/>
The&#160;following&#160;features&#160;specified&#160;in&#160;[1]&#160;are&#160;not&#160;supported:&#160;<br/>
<b>Category&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>ASR&#160;<br/>Version&#160;</b><br/>
Functional&#160;<br/>
Several&#160;controllers&#160;per&#160;network.&#160;<br/>
4.0.3&#160;<br/>
Config&#160;<br/>
Change networks&#160;and&#160;controllers&#160;via Post-build configuration.&#160;<br/>
4.0.3&#160;<br/>
Config&#160;<br/>
Configuration variants&#160;“link-time”.&#160;<br/>
4.0.3&#160;<br/>
Table&#160;3-2&#160;&#160;&#160;Not&#160;supported&#160;AUTOSAR&#160;standard&#160;conform&#160;features&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
12&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=13></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-13_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-13_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
The&#160;following&#160;features&#160;are provided&#160;beyond&#160;the&#160;AUTOSAR standard:&#160;<br/>
<b>Features&#160;Provided Beyond The&#160;AUTOSAR&#160;Standard&#160;<br/></b>Deactivate&#160;the&#160;DEM&#160;at&#160;pre-compile time,&#160;like DET.&#160;<br/>Changes&#160;of&#160;the&#160;communication&#160;mode are possible&#160;even&#160;during&#160;a&#160;pending&#160;mode&#160;indication.&#160;<br/>Handling&#160;of&#160;bus-off&#160;events&#160;which occurs&#160;after&#160;CANSM_FULL_COMMUNNICATION&#160;has&#160;been&#160;left.&#160;<br/>Interface&#160;to&#160;provide&#160;internal&#160;bus-off&#160;recovery&#160;level;&#160;CanSM_CheckBorLevel()&#160;<br/>PduMode&#160;wake up&#160;filter&#160;in PN&#160;use&#160;case&#160;<br/>Execute transition&#160;from&#160;SILENT&#160;to FULL&#160;within RequestComMode&#160;<br/>ECU&#160;active/passive mode&#160;functionality&#160;<br/>Prevent&#160;the&#160;bus&#160;sleep state&#160;of&#160;the&#160;CanIf,&#160;CanDrv&#160;and CanTrcv&#160;at&#160;CanSM&#160;initialization&#160;for&#160;the&#160;<br/>given&#160;CAN&#160;network&#160;handle&#160;<br/>MICROSAR&#160;Identity&#160;Manager&#160;using&#160;Post-Build Selectable&#160;<br/>Extended RAM&#160;Check&#160;<br/>
Table&#160;3-3&#160;&#160;&#160;Features&#160;provided&#160;beyond&#160;the&#160;AUTOSAR&#160;standard&#160;<br/>
<b>3.2&#160;</b><br/>
<b>Initialization&#160;</b><br/>
Some&#160;&#160;embedded&#160;&#160;targets&#160;&#160;do&#160;&#160;not&#160;&#160;initialize&#160;&#160;RAM&#160;&#160;to&#160;&#160;zero&#160;&#160;during&#160;&#160;start-up.&#160;&#160;Therefore&#160;&#160;some&#160;<br/>variables&#160;&#160;have&#160;&#160;to&#160;&#160;be&#160;&#160;initialized&#160;&#160;explicitly&#160;&#160;if&#160;&#160;they&#160;&#160;need&#160;&#160;a&#160;&#160;specific&#160;&#160;value&#160;&#160;before&#160;&#160;the&#160;<br/>initialization&#160;&#160;function&#160;&#160;CanSM_Init&#160;&#160;is&#160;&#160;called.&#160;&#160;This&#160;&#160;is&#160;&#160;done&#160;&#160;by&#160;&#160;the&#160;&#160;function&#160;<br/>CanSM_InitMemory.&#160;The&#160;&#160;function&#160;&#160;initializes&#160;&#160;the&#160;&#160;CanSM&#160;&#160;variables&#160;&#160;and&#160;&#160;sets&#160;&#160;the&#160;&#160;state&#160;&#160;to&#160;<br/>‘not&#160;initialized’.&#160;The&#160;function&#160;has to&#160;be&#160;called&#160;before the&#160;initialization&#160;function&#160;CanSM_Init.&#160;<br/>
After&#160;that,&#160;the&#160;initialization&#160;CanSM_Init&#160;has&#160;to&#160;be&#160;triggered&#160;and&#160;the&#160;CAN&#160;State&#160;Manager&#160;<br/>will&#160;set&#160;the&#160;internal used&#160;variables&#160;to&#160;their&#160;start&#160;values to&#160;ensure a&#160;deterministic&#160;behavior&#160;of&#160;<br/>the&#160;state&#160;machines.&#160;<br/>
<b>&#160;</b><br/>
<b>Info</b>&#160;<br/>The&#160;CanSM&#160;initializes the CAN&#160;channel&#160;into&#160;the&#160;state&#160;NO&#160;COMMUNICATION.&#160;This&#160;<br/>
&#160;&#160;means,&#160;the&#160;CAN&#160;modules (CanIf,&#160;CanDrv&#160;and CanTrcv)&#160;are set&#160;into&#160;the&#160;corresponding&#160;<br/>
state&#160;for&#160;NO&#160;COMMUNCIATION&#160;(bus&#160;sleep).&#160;During&#160;this&#160;transition,&#160;detected wake-up&#160;<br/>reasons,&#160;inside&#160;the&#160;CAN&#160;modules,&#160;are&#160;cleared.&#160;<br/>This&#160;leads&#160;to&#160;the&#160;behavior&#160;that&#160;wake-up&#160;events,&#160;which&#160;are&#160;triggered&#160;by&#160;the&#160;CAN&#160;bus,&#160;<br/>cannot&#160;be&#160;detected&#160;and/or&#160;validated&#160;during&#160;the&#160;initialization phase.&#160;<br/>If&#160;the&#160;detection/validation&#160;of&#160;the&#160;wake up&#160;information&#160;is&#160;necessary&#160;for&#160;the&#160;ECU&#160;then&#160;the&#160;<br/>CanSM&#160;API&#160;CanSM_PreventBusSleepAtStartUp()&#160;can&#160;be&#160;used&#160;to prevent&#160;the bus&#160;<br/>sleep mode&#160;at&#160;start&#160;up&#160;for&#160;the&#160;above listed&#160;CAN&#160;modules.&#160;<br/>
<b>&#160;</b><br/>
<b>3.3&#160;</b><br/>
<b>State&#160;Machine&#160;</b><br/>
The&#160;CanSM&#160;functionality&#160;cannot&#160;be&#160;used&#160;before&#160;the&#160;API&#160;function&#160;&#160;CanSM_Init&#160;has&#160;been&#160;<br/>called.&#160;&#160;If&#160;&#160;the&#160;&#160;CanSM_Init&#160;&#160;function&#160;&#160;is&#160;&#160;executed&#160;&#160;successfully&#160;&#160;the&#160;&#160;CanSM&#160;&#160;starts&#160;&#160;the&#160;<br/>transition&#160;to&#160;the&#160;state&#160;CANSM_NO_COMMUNNICATION.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
13&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=14></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-14_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>stm&#160;CANSM_BSM</b><br/>
<b>CANSM_BSM_S_FULLCOM</b><br/>
T_NO_COM_MODE_REQUEST,<br/>T_SILENT_COM_MODE_REQUEST<br/>/E_FULL_TO_SILENT_COM<br/>
T_FULL_COM_MODE_REQUEST<br/>/E_SILENT_TO_FULL_COM<br/>
/E_FULLCOM<br/>
<b>CANSM_BSM_S_SILENTCOM</b><br/>
<i>A</i><br/>
<b>CANSM_BSM_S_PRE_FULLCOM</b><br/>
T_NO_COM_MODE_REQUEST<br/>/E_PRE_NO_COM<br/>
T_NO_COM_MODE_REQUEST<br/>
T_FULL_COM_MODE_REQUEST<br/>
<b>CANSM_BSM_S_PRE_NOCOM</b><br/>
T_FULL_COM_MODE_REQUEST<br/>
CanSM_Init<br/>
/E_NOCOM<br/>
PowerOn<br/>
/E_PRE_NO_COM<br/>
PowerOff<br/>
<b>CANSM_BSM_S_NOT_INITIALIZED</b><br/>
<b>CANSM_BSM_S_NOCOM</b><br/>
&#160;<br/>
Figure&#160;3-1&#160;&#160;CanSM&#160;state&#160;machine&#160;<br/>
<b>3.3.1&#160;</b><br/>
<b>Mode&#160;Request&#160;Indication and&#160;Repetition&#160;</b><br/>
If&#160;&#160;the&#160;&#160;CanSM&#160;&#160;triggers&#160;&#160;the&#160;&#160;transceiver&#160;&#160;or&#160;&#160;the&#160;&#160;controller,&#160;&#160;the&#160;&#160;CanSM&#160;&#160;waits&#160;&#160;for&#160;&#160;the&#160;<br/>corresponding&#160;&#160;indication&#160;&#160;that&#160;&#160;the&#160;&#160;requested&#160;&#160;mode&#160;&#160;is&#160;&#160;reached.&#160;&#160;If&#160;&#160;the&#160;&#160;function&#160;&#160;call&#160;&#160;returns&#160;<br/>E_NOT_OK&#160;and&#160;the&#160;corresponding&#160;indication&#160;is&#160;missing,&#160;the&#160;CanSM&#160;repeats&#160;the&#160;request&#160;<br/>in&#160;&#160;the&#160;next&#160;&#160;main&#160;cycle.&#160;The&#160;CanSM&#160;repeats&#160;a&#160;controller/transceiver&#160;mode&#160;&#160;request&#160;&#160;also&#160;if&#160;<br/>the&#160;<br/>
correct&#160;<br/>
mode&#160;<br/>
indication&#160;<br/>
is&#160;<br/>
not&#160;<br/>
received&#160;<br/>
within&#160;<br/>
the&#160;<br/>
CanSMModeRequestRepetitionTime.&#160;&#160;<br/>
Each&#160;<br/>
repetition&#160;<br/>
is&#160;<br/>
counted&#160;<br/>
and&#160;<br/>
if&#160;<br/>
the&#160;<br/>
amount&#160;<br/>
exceeds&#160;<br/>
the&#160;<br/>
value&#160;<br/>
CanSMModeRequestRepetitionMax,&#160;the&#160;counter&#160;is&#160;reset,&#160;the&#160;Det&#160;will&#160;be&#160;informed&#160;with&#160;<br/>E_MODE_REQUEST_TIMEOUT&#160;<br/>
and&#160;<br/>
the&#160;<br/>
CanSM&#160;<br/>
performs&#160;<br/>
the&#160;<br/>
transition&#160;<br/>
to&#160;<br/>
CANSM_NO_COMMUNICATION.&#160;The&#160;repetition&#160;counter&#160;is&#160;also&#160;reset&#160;if&#160;the&#160;desired&#160;final&#160;state&#160;<br/>is&#160;reached.&#160;<br/>
<b>3.3.2&#160;</b><br/>
<b>Communication&#160;Mode&#160;Request&#160;Change&#160;(During&#160;Pending&#160;Mode&#160;Indication or&#160;<br/>Running&#160;Bus-Off&#160;Recovery)&#160;</b><br/>
If&#160;the&#160;state&#160;machine&#160;reachs&#160;a&#160;sub&#160;state&#160;and&#160;a&#160;changed&#160;mode&#160;request&#160;is&#160;present,&#160;the&#160;state&#160;<br/>machine&#160;changes&#160;immediately&#160;the&#160;“current&#160;direction”&#160;to&#160;reach&#160;the&#160;desired&#160;communication&#160;<br/>mode.&#160;The&#160;CanSM&#160;ensures&#160;that&#160;the&#160;controller&#160;and&#160;transceiver&#160;are&#160;set&#160;to&#160;the&#160;corresponding&#160;<br/>mode.&#160;&#160;Therefore&#160;&#160;the&#160;&#160;CanSM&#160;&#160;performs&#160;&#160;always&#160;&#160;the&#160;&#160;whole&#160;&#160;sub-state&#160;&#160;machine,&#160;&#160;so&#160;&#160;if&#160;&#160;e.g.&#160;&#160;a&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
14&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=15></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-15_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
startup&#160;is&#160;skipped&#160;by&#160;a&#160;NoCom&#160;request&#160;the&#160;CanSM&#160;changes&#160;the&#160;controller mode,&#160;too,&#160;even&#160;<br/>if&#160;it&#160;has&#160;not&#160;been&#160;changed&#160;and&#160;it&#160;is still&#160;STOPPED.&#160;<br/>
Exception:&#160;<br/>
COMM_SILENT_COMMUNICATION&#160;request&#160;can&#160;NOT&#160;be&#160;requested&#160;if&#160;<br/>
&#160;&#160;The&#160;transition&#160;(from&#160;SILENT&#160;or&#160;after&#160;initialization)&#160;to&#160;CANSM_NO_COMMUNNICATION&#160;has&#160;<br/>
been&#160;started&#160;<br/>
&#160;&#160;The&#160;CanSM&#160;is in&#160;state&#160;CANSM_SILENT_COMMUNNICATION&#160;<br/>
&#160;&#160;The&#160;CanSM&#160;is in&#160;state&#160;CANSM_NO_COMMUNNICATION&#160;<br/>
<b>3.3.3&#160;</b><br/>
<b>CANSM_NO_COMMUNICATION&#160;to CANSM_FULL_COMMUNICATION&#160;</b><br/>
<b>stm&#160;CANSM_BSM_S_PRE_FULLCOM</b><br/>
<b>CANSM_BSM_S_PRE_FULLCOM</b><br/>
<b>S_TRCV_NORMAL</b><br/>
+&#160;&#160;do&#160;/&#160;DO_SET_TRCV_MODE_NORMAL&#160;<br/>
EntryPoint<br/>
T_REPEAT_MAX<br/>
[G_TRCV_NORMAL_E_OK]<br/>
T_TRCV_NORMAL_TIMEOUT<br/>
<b>S_TRCV_NORMAL_WAIT</b><br/>
T_&#160;T<br/>
T&#160;_<br/>
R&#160;T<br/>
C&#160;R<br/>
V&#160;C<br/>
_&#160;V<br/>
N&#160;_<br/>
O&#160;N<br/>
RO<br/>
MR<br/>
AM<br/>
L&#160;A<br/>
_I&#160;L_<br/>
N&#160;I<br/>
D&#160;N<br/>
I&#160;D<br/>
C&#160;I<br/>
A&#160;C<br/>
T&#160;A<br/>
E&#160;T<br/>
D&#160;ED<br/>
<b>S_CC_STOPPED</b><br/>
T_REPEAT_MAX<br/>
+&#160;&#160;do&#160;/&#160;DO_SET_CC_MODE_STOPPED<br/>
[G_CC_STOPPED_E_OK]<br/>
T_CC_STOPPED_TIMEOUT<br/>
<b>S_CC_STOPPED_WAIT</b><br/>
T_&#160;T<br/>
C&#160;_<br/>
C&#160;C<br/>
_&#160;C<br/>
S&#160;_<br/>
T&#160;S<br/>
O&#160;T<br/>
P&#160;O<br/>
P&#160;P<br/>
E&#160;P<br/>
D&#160;E<br/>
_ID_<br/>
N&#160;I<br/>
D&#160;N<br/>
I&#160;D<br/>
C&#160;I<br/>
A&#160;C<br/>
T&#160;A<br/>
E&#160;T<br/>
D&#160;ED<br/>
ExitPoint<br/>
T_REPEAT_MAX<br/>
<b>S_CC_STARTED</b><br/>
+&#160;&#160;do&#160;/&#160;DO_SET_CC_MODE_STARTED<br/>
ExitPoint<br/>To<br/>
[G_CC_STARTED_E_OK]<br/>
FULLCOM<br/>
T_CC_STARTED_TIMEOUT<br/>
T_CC_STARTED_INDICATED<br/>
<b>S_CC_STARTED_WAIT</b><br/>
T_CC_STARTED_INDICATED<br/>
&#160;<br/>
Figure&#160;3-2&#160;&#160;Sub&#160;state&#160;transition&#160;to&#160;CANSM_FULL_COMMUNICATION&#160;<br/>
In&#160;this&#160;state&#160;there&#160;is&#160;no&#160;communication&#160;on&#160;the&#160;CAN&#160;channel.&#160;When&#160;full&#160;communication&#160;is&#160;<br/>requested&#160;&#160;the&#160;&#160;CanSM&#160;&#160;sets&#160;&#160;the&#160;&#160;transceiver&#160;&#160;mode&#160;&#160;to&#160;&#160;NORMAL&#160;&#160;and&#160;&#160;the&#160;&#160;controller&#160;&#160;mode&#160;&#160;to&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
15&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=16></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-16_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-16_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
STARTED&#160;(via&#160;STOPPED).&#160;In&#160;case&#160;of&#160;a&#160;successful&#160;transition&#160;the&#160;CanSM&#160;sets&#160;the&#160;Rx&#160;and&#160;Tx&#160;<br/>Pdu&#160;Mode&#160;to&#160;ONLINE,&#160;informs&#160;the&#160;ComM&#160;(see<a href="TechnicalReference_CanSMs.html#3">&#160;[6])&#160;</a>and&#160;the&#160;BswM&#160;(see<a href="TechnicalReference_CanSMs.html#3">&#160;[7])&#160;</a>about&#160;the&#160;new&#160;<br/>communication&#160;&#160;state&#160;&#160;and&#160;&#160;starts&#160;&#160;the&#160;&#160;“ensure&#160;&#160;timer”.&#160;&#160;If&#160;&#160;the&#160;&#160;CanSMBorTimeTxEnsured&#160;<br/>lapse&#160;without&#160;a&#160;bus-off&#160;indication&#160;the&#160;CanSM&#160;informs&#160;the&#160;Dem&#160;that&#160;no&#160;bus-off&#160;is&#160;present.&#160;<br/>Alternatively&#160;to&#160;the&#160;“ensure&#160;timer”&#160;the&#160;CanSM&#160;may&#160;poll&#160;the&#160;TxState&#160;to&#160;decide&#160;that&#160;no&#160;bus-<br/>off&#160;is present&#160;if&#160;CanSMBorTxConfirmationPolling&#160;is activated.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>This&#160;chapter&#160;describes&#160;only&#160;the&#160;normal&#160;shutdown.&#160;In&#160;case&#160;a&#160;partial&#160;network&#160;is&#160;activated&#160;<br/>
<b>&#160;&#160;</b>the&#160;CanSM&#160;performs&#160;an&#160;alternative sequence&#160;which is described in&#160;chapter<a href="TechnicalReference_CanSMs.html#19">&#160;3.9.</a>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>3.3.4&#160;</b><br/>
<b>CANSM_FULL_COMMUNICATION&#160;to&#160;CANSM_SILENT_COMMUNICATION&#160;</b><br/>
As&#160;long&#160;as&#160;full&#160;communication&#160;is&#160;requested&#160;the&#160;CanSM&#160;stays&#160;in&#160;this&#160;state,&#160;otherwise&#160;&#160;the&#160;<br/>CanSM&#160;&#160;switches&#160;&#160;to&#160;&#160;silent&#160;&#160;mode&#160;&#160;and&#160;&#160;stops&#160;&#160;the&#160;&#160;Tx&#160;&#160;PDU&#160;&#160;mode.&#160;&#160;In&#160;&#160;case&#160;&#160;of&#160;&#160;a&#160;&#160;successful&#160;<br/>transition&#160;<br/>
the&#160;<br/>
CanSM&#160;<br/>
notifies&#160;<br/>
the&#160;<br/>
ComM&#160;<br/>
and&#160;<br/>
BswM&#160;<br/>
about&#160;<br/>
the&#160;<br/>
CANSM_SILENT_COMMUNICATION&#160;communication&#160;state.&#160;<br/>
<b>3.3.5&#160;</b><br/>
<b>CANSM_SILENT_COMMUNICATION&#160;</b><br/>
The&#160;state&#160;represents&#160;the&#160;prepare&#160;bus&#160;sleep&#160;phase&#160;of&#160;the&#160;network.&#160;The&#160;node&#160;is&#160;still&#160;able&#160;to&#160;<br/>receive&#160;CAN&#160;messages but&#160;does&#160;not&#160;transmit&#160;them.&#160;<br/>
<b>3.3.6&#160;</b><br/>
<b>CANSM_SILENT_COMMUNICATION&#160;to&#160;CANSM_FULL_COMMUNICATION&#160;</b><br/>
According&#160;&#160;to&#160;&#160;the&#160;&#160;requested&#160;&#160;communication&#160;&#160;mode&#160;&#160;the&#160;&#160;CanSM&#160;&#160;switches&#160;&#160;back&#160;&#160;to&#160;<br/>CANSM_FULL_COMMUNNICATION,&#160;&#160;starts&#160;&#160;the&#160;&#160;Tx&#160;&#160;PDU&#160;&#160;mode&#160;&#160;and&#160;&#160;notifies&#160;&#160;the&#160;&#160;ComM&#160;&#160;and&#160;<br/>BswM&#160;about&#160;the&#160;new&#160;communication&#160;state.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
16&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=17></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-17_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>3.3.7&#160;</b><br/>
<b>Transition&#160;to&#160;CANSM_NO_COMMUNICATION&#160;</b><br/>
<b>stm&#160;CANSM_BSM_DeinitPnNotSupported</b><br/>
<b>CANSM_BSM_DeinitPnNotSupported</b><br/>
<b>CANSM_BSM_DeinitPnNotSupportedProceed</b><br/>
<b>S_CC_STOPPED</b><br/>
+&#160;&#160;do&#160;/&#160;DO_SET_CC_MODE_STOPPED<br/>
EntryPoint<br/>
[CANSM_BSM_G_CC_STOPPED_E_OK]<br/>
T_REPEAT_MAX<br/>
T_CC_STOPPED_TIMEOUT<br/>
T_CC_STOPPED_INDICATED<br/>
<b>S_CC_STOPPED_WAIT</b><br/>
T_CC_STOPPED_INDICATED<br/>
<b>S_CC_SLEEP</b><br/>
+&#160;&#160;do&#160;/&#160;DO_SET_CC_MODE_SLEEP<br/>
[G_CC_SLEEP_E_OK]<br/>
T_CC_SLEEP_INDICATED<br/>
T_CC_SLEEP_TIMEOUT<br/>
<b>S_CC_SLEEP_WAIT</b><br/>
T_CC_SLEEP_INDICATED<br/>
<b>S_TRCV_NORMAL</b><br/>
+&#160;&#160;do&#160;/&#160;DO_SET_TRCV_MODE_NORMAL<br/>
[G_TRCV_NORMAL_E_OK]<br/>
T_TRCV_NORMAL_INDICATED<br/>
T_TRCV_NORMAL_TIMEOUT<br/>
<b>S_TRCV_NORMAL_WAIT</b><br/>
T_TRCV_NORMAL_INDICATED<br/>
<b>S_TRCV_STANDBY</b><br/>
+&#160;&#160;do&#160;/&#160;DO_SET_TRCV_MODE_STANDBY<br/>
[G_TRCV_STANDBY_E_OK]<br/>
T_TRCV_STANDBY_INDICATED<br/>
CANSM_BSM_T_TRCV_STANDBY_TIMOUT<br/>
<b>S_TRCV_STANDBY_WAIT</b><br/>
T_TRCV_STANDBY_INDICATED<br/>
ExitPoint<br/>
&#160;<br/>
Figure&#160;3-3&#160;&#160;Sub&#160;state&#160;transition&#160;to&#160;CANSM_NO_COMMUNICATION&#160;<br/>
The&#160;&#160;CanSM&#160;&#160;informs&#160;&#160;the&#160;&#160;BswM&#160;&#160;about&#160;&#160;the&#160;&#160;communication&#160;&#160;CANSM_NO_COMMUNICATION&#160;<br/>immediately&#160;&#160;if&#160;&#160;the&#160;&#160;transition&#160;&#160;shutdown&#160;&#160;process&#160;&#160;has&#160;&#160;been&#160;&#160;started.&#160;&#160;According&#160;&#160;to&#160;&#160;the&#160;<br/>requested&#160;&#160;communication&#160;&#160;mode&#160;&#160;the&#160;&#160;CanSM&#160;&#160;switches&#160;&#160;to&#160;&#160;CANSM_NO_COMMUNICATION.&#160;<br/>Then&#160;&#160;the&#160;&#160;CanSM&#160;&#160;sets&#160;&#160;the&#160;&#160;controller&#160;&#160;to&#160;&#160;SLEEP&#160;&#160;(via&#160;&#160;STOPPED)&#160;&#160;and&#160;&#160;the&#160;&#160;transceiver&#160;&#160;to&#160;<br/>STANDBY&#160;(via&#160;NORMAL).&#160;In&#160;case&#160;of&#160;a&#160;successful&#160;transition&#160;the&#160;CanSM&#160;informs&#160;the&#160;ComM&#160;<br/>about&#160;&#160;the&#160;&#160;new&#160;&#160;communication&#160;&#160;state&#160;&#160;(if&#160;&#160;this&#160;&#160;transition&#160;&#160;is&#160;&#160;executed&#160;&#160;in&#160;&#160;the&#160;&#160;call&#160;&#160;context&#160;&#160;of&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
17&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=18></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-18_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
CanSM_Init&#160;the&#160;ComM&#160;and&#160;BswM&#160;functions&#160;are&#160;not&#160;called&#160;because&#160;these&#160;modules&#160;will&#160;<br/>be&#160;initialized&#160;after the&#160;CanSM).&#160;<br/>
<b>3.4&#160;</b><br/>
<b>Bus-Off&#160;Recovery&#160;</b><br/>
<b>stm&#160;CANSM_BSM_S_FULLCOM</b><br/>
<b>CANSM_BSM_S_FULLCOM</b><br/>
<b>S_TX_OFF</b><br/>
[G_TX_ON]<br/>/E_TX_ON<br/>
<b>S_BUS_OFF_CHECK,&#160;</b><br/>
T_RESTART_CC_INDICATED<br/>
<b>S_NO_BUS_OFF</b><br/>
/E_TX_OFF<br/>
<b>CANSM_BSM_S_RESTART_CC_WAIT</b><br/>
T_BUS_OFF<br/>/E_BUS_OFF<br/>
T_RESTART_CC_TIMEOUT<br/>
[G_BUS_OFF_PASSIVE]<br/>/E_BUS_OFF_PASSIVE<br/>
[G_RESTART_CC_E_OK]<br/>
<b>S_RESTART_CC</b><br/>
EntryPoint<br/>
+&#160;&#160;do&#160;/&#160;DO_SET_CC_MODE_STARTED<br/>
T_REPEAT_MAX<br/>
[ComModeRequest<br/>NoCom&#160;or&#160;Silent]<br/>
ExitPoint<br/>
&#160;<br/>
Figure&#160;3-4&#160;&#160;CanSM&#160;sub-state&#160;bus-off&#160;recovery&#160;<br/>
In&#160;&#160;case&#160;&#160;bus-off&#160;&#160;is&#160;&#160;indicated&#160;&#160;the&#160;&#160;CanSM&#160;&#160;informs&#160;&#160;the&#160;&#160;Dem&#160;&#160;(E_BUSOFF&#160;&#160;and&#160;<br/>EVENT_STATUS_PREFAILED),&#160;&#160;the&#160;&#160;ComM&#160;&#160;(SILENT)&#160;&#160;and&#160;&#160;BswM&#160;&#160;(BUSOFF).&#160;&#160;In&#160;&#160;the&#160;&#160;next&#160;<br/>step&#160;the&#160;CanSM&#160;restarts&#160;the&#160;controller&#160;to&#160;STARTED&#160;mode.&#160;If&#160;the&#160;according&#160;mode&#160;indication&#160;<br/>is&#160;received&#160;the&#160;CanSM&#160;sets&#160;the&#160;Rx&#160;Pdu&#160;Mode&#160;to&#160;ONLINE&#160;and&#160;Tx&#160;Pdu&#160;Mode&#160;to&#160;OFFLINE&#160;<br/>and&#160;starts&#160;the&#160;bus-off&#160;timer.&#160;If&#160;the&#160;CanSMBorTimeL1&#160;(or&#160;CanSMBorTimeL2&#160;if&#160;the&#160;bus-off&#160;<br/>count&#160;is equal or&#160;greater&#160;than&#160;CanSMBorCounterL1ToL2)&#160;elapse&#160;CanSM&#160;reactivates&#160;the&#160;<br/>Tx&#160;path&#160;of&#160;the&#160;channel&#160;again,&#160;informs&#160;the&#160;ComM&#160;(FULL)&#160;and&#160;BswM&#160;(FULL)&#160;and&#160;starts&#160;the&#160;<br/>“ensure&#160;&#160;timer”.&#160;&#160;If&#160;&#160;the&#160;&#160;CanSMBorTimeTxEnsured&#160;&#160;timer&#160;&#160;has&#160;&#160;elapsed&#160;&#160;without&#160;&#160;a&#160;&#160;bus-off&#160;<br/>indication&#160;the&#160;CanSM&#160;informs&#160;the&#160;Dem,&#160;otherwise&#160;&#160;the&#160;next&#160;&#160;bus-off&#160;recovery&#160;sequence&#160;is&#160;<br/>started.&#160;&#160;The&#160;&#160;“ensure&#160;&#160;timer”&#160;&#160;can&#160;&#160;also&#160;&#160;substituted&#160;&#160;by&#160;&#160;polling&#160;&#160;the&#160;&#160;TxState&#160;&#160;if&#160;<br/>CanSMBorTxConfirmationPolling&#160;is activated&#160;as&#160;mentioned&#160;above.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
18&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=19></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-19_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-19_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>The&#160;indicated&#160;Dem&#160;event&#160;does&#160;not&#160;instantly&#160;lead&#160;to a&#160;DTC&#160;due&#160;to&#160;the&#160;EventStatus&#160;pre-<br/>
&#160;&#160;failed.&#160;The&#160;mechanism&#160;to&#160;qualify&#160;the&#160;event&#160;as&#160;failed&#160;has&#160;to be&#160;configured&#160;within the&#160;<br/>
DEM<a href="TechnicalReference_CanSMs.html#3">&#160;[3].</a>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>3.5&#160;</b><br/>
<b>Main Function&#160;</b><br/>
The&#160;&#160;CanSM&#160;&#160;has&#160;&#160;one&#160;&#160;main&#160;&#160;function&#160;&#160;which&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;called&#160;&#160;cyclically&#160;&#160;by&#160;&#160;the&#160;&#160;SchM.&#160;&#160;The&#160;<br/>main&#160;function&#160;triggers&#160;a&#160;state&#160;transition&#160;in&#160;case&#160;of&#160;a&#160;received&#160;mode&#160;indication&#160;or&#160;if&#160;a&#160;timer&#160;<br/>elapses.&#160;<br/>
<b>3.6&#160;</b><br/>
<b>Communication Modes&#160;</b><br/>
The&#160;&#160;ComM&#160;&#160;collects&#160;&#160;the&#160;&#160;communication&#160;&#160;requests&#160;&#160;from&#160;&#160;the&#160;&#160;SWC&#160;&#160;and&#160;&#160;from&#160;&#160;the&#160;&#160;network.&#160;<br/>Accordingly&#160;the&#160;ComM&#160;calculates&#160;the&#160;needed&#160;communication&#160;mode&#160;and&#160;requests&#160;this from&#160;<br/>the&#160;CAN&#160;State&#160;Manager via&#160;the&#160;function&#160;CanSM_RequestComMode.&#160;<br/>
<b>3.7&#160;</b><br/>
<b>Communication Mode&#160;Polling&#160;</b><br/>
The&#160;&#160;ComM&#160;&#160;is&#160;&#160;informed&#160;&#160;about&#160;&#160;every&#160;&#160;mode&#160;&#160;change&#160;&#160;by&#160;&#160;the&#160;&#160;CAN&#160;&#160;State&#160;&#160;Manager&#160;&#160;via&#160;&#160;the&#160;<br/>callback&#160;function&#160;ComM_BusSM_ModeIndication.&#160;<br/>
Additional&#160;&#160;the&#160;&#160;ComM&#160;may&#160;&#160;request&#160;&#160;the&#160;&#160;communication&#160;mode&#160;&#160;which&#160;&#160;is&#160;&#160;currently&#160;&#160;active&#160;&#160;by&#160;<br/>calling&#160;&#160;the&#160;&#160;API&#160;&#160;function&#160;&#160;CanSM_GetCurrentComMode.&#160;&#160;The&#160;&#160;CAN&#160;&#160;State&#160;&#160;Manager&#160;&#160;will&#160;<br/>deliver the&#160;communication&#160;mode&#160;to&#160;the&#160;pointer passed&#160;as&#160;a&#160;function&#160;parameter.&#160;<br/>
<b>3.8&#160;</b><br/>
<b>Bus-off Level&#160;Polling&#160;</b><br/>
The&#160;&#160;current&#160;&#160;bus-off&#160;&#160;level&#160;&#160;can&#160;&#160;be&#160;&#160;determinate&#160;&#160;by&#160;&#160;calling&#160;&#160;the&#160;&#160;API&#160;&#160;function&#160;<br/>CanSM_CheckBorLevel.&#160;&#160;The&#160;&#160;CanSM&#160;&#160;will&#160;&#160;deliver&#160;&#160;the&#160;&#160;bus-off&#160;&#160;level&#160;&#160;(CANSM_BOR_NONE,&#160;<br/>CANSM_BOR_LEVEL1&#160;&#160;or&#160;&#160;CANSM_BOR_LEVEL2)&#160;&#160;to&#160;&#160;the&#160;&#160;pointer&#160;&#160;passed&#160;&#160;as&#160;&#160;a&#160;&#160;function&#160;<br/>parameter.&#160;<br/>
<b>3.9&#160;</b><br/>
<b>Partial&#160;Networking&#160;</b><br/>
If&#160;&#160;Partial&#160;&#160;Networking&#160;&#160;for&#160;&#160;a&#160;&#160;CAN&#160;&#160;channel&#160;&#160;is&#160;&#160;activated&#160;&#160;the&#160;&#160;CAN&#160;&#160;transceiver&#160;&#160;can&#160;&#160;only&#160;&#160;be&#160;<br/>woken&#160;&#160;up&#160;&#160;by&#160;&#160;a&#160;&#160;specified&#160;&#160;CAN&#160;&#160;Message.&#160;Also&#160;&#160;the&#160;&#160;Network&#160;&#160;Management&#160;&#160;will&#160;&#160;ignore&#160;&#160;NM&#160;<br/>messages&#160;&#160;which&#160;&#160;do&#160;&#160;not&#160;&#160;belong&#160;&#160;to&#160;&#160;the&#160;&#160;Partial&#160;&#160;Network&#160;&#160;and&#160;&#160;the&#160;&#160;CanSM&#160;&#160;will&#160;&#160;perform&#160;&#160;an&#160;<br/>alternative&#160;shutdown&#160;sequence.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
19&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=20></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-20_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>stm&#160;CANSM_BSM_DeinitPnSupported</b><br/>
<b>CANSM_BSM_DeinitPnSupported</b><br/>
<b>CANSM_BSM_DeinitPnSupportedProceed</b><br/>
<b>S_PN_CLEAR_WUF</b><br/>
+&#160;&#160;do&#160;/&#160;DO_CLEAR_TRCV_WUF<br/>
[G_PN_CLEAR_WUF_E_OK]<br/>
T_CLEAR_WUF_TIMEOUT<br/>
T_CLEAR_WUF_INDICATED<br/>
<b>S_PN_CLEAR_WUF_WAIT</b><br/>
T_CLEAR_WUF_INDICATED<br/>
<b>S_PN_CC_STOPPED</b><br/>
+&#160;&#160;do&#160;/&#160;DO_SET_CC_MODE_STOPPED<br/>
T_CC_STOPPED_TIMEOUT<br/>
[G_CC_STOPPED_E_OK]<br/>
<b>S_CC_STOPPED_WAIT</b><br/>
T_CC_STOPPED_INDICATED<br/>
T_CC_STOPPED_INDICATED<br/>
<b>S_TRCV_NORMAL</b><br/>
+&#160;&#160;do&#160;/&#160;DO_SET_TRCV_MODE_NORMAL<br/>
[G_TRCV_NORMAL_E_OK]<br/>
T_TRCV_NORMAL_TIMEOUT<br/>
T_TRCV_NORMAL_INDICATED<br/>
<b>S_TRCV_NORMAL_WAIT</b><br/>
T_TRCV_NORMAL_INDICATED<br/>
<b>S_TRCV_STANDBY</b><br/>
+&#160;&#160;do&#160;/&#160;DO_SET_TRCV_MODE_STANDBY<br/>
T_TRCV_STANDBY_TIMOUT<br/>
[G_TRCV_STANDBY_E_OK]<br/>
<b>S_TRCV_STANDBY_WAIT</b><br/>
T_TRCV_STANDBY_INDICATED<br/>
T_TRCV_STANDBY_INDICATED<br/>
<b>S_CC_SLEEP</b><br/>
+&#160;&#160;do&#160;/&#160;DO_SET_CC_MODE_SLEEP<br/>
T_CHECK_WFLAG_INDICATED<br/>
[G_CC_SLEEP_E_OK]<br/>
<b>S_CC_SLEEP_WAIT</b><br/>
T_CC_SLEEP_INDICATED<br/>
CANSM_BSM_T_CC_SLEEP_TIMEOUT<br/>
T_CC_SLEEP_INDICATED<br/>
<b>S_CHECK_WFLAG_IN_NOT_CC_SLEEP</b><br/>
<b>S_CHECK_WFLAG_IN_CC_SLEEP</b><br/>
+&#160;&#160;do&#160;/&#160;DO_CHECK_WFLAG<br/>
+&#160;&#160;do&#160;/&#160;DO_CHECK_WFLAG<br/>
[G_CHECK_WFLAG_E_OK]&#160;[G_CHECK_WFLAG_E_OK]<br/>
T_CHECK_WFLAG_TIMEOUT<br/>
T_CHECK_WFLAG_TIMEOUT<br/>
<b>S_CHECK_WUF_IN_CC_SLEEP_WAIT</b><br/>
<b>S_CHECK_WUF_IN_NOT_CC_SLEEP_WAIT</b><br/>
T_CHECK_WFLAG_INDICATED<br/>
T_CHECK_WFLAG_INDICATED&#160;Junction<br/>
T_CHECK_WFLAG_INDICATED<br/>
T_REPEAT_MAX<br/>
EntryPoint<br/>
ExitPoint<br/>
&#160;<br/>
Figure&#160;3-5&#160;&#160;Sub&#160;state&#160;Partial&#160;Network&#160;transition&#160;to&#160;CANSM_NO_COMMUNICATION&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
20&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=21></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-21_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
If&#160;the&#160;feature&#160;has&#160;been&#160;enabled&#160;globally&#160;(at&#160;pre-compile&#160;time)&#160;and&#160;on&#160;the&#160;desired&#160;channel,&#160;<br/>the&#160;CanSM&#160;first&#160;resets&#160;the&#160;current&#160;available&#160;wake-up&#160;information&#160;in&#160;the&#160;transceiver,&#160;before&#160;<br/>the&#160;transceiver&#160;is&#160;set&#160;to&#160;STANDBY&#160;and&#160;the&#160;controller&#160;to&#160;SLEEP.&#160;If&#160;this&#160;is&#160;done,&#160;the&#160;CanSM&#160;<br/>triggers the&#160;function&#160;CanIf_CheckTrcvWakeFlag&#160;to&#160;handle&#160;a&#160;wake-up&#160;which&#160;might&#160;have&#160;<br/>occurred&#160;during&#160;the&#160;shutdown.&#160;If&#160;an&#160;API&#160;call&#160;does&#160;not&#160;deliver&#160;the&#160;expected&#160;reaction&#160;it&#160;will&#160;<br/>called&#160;&#160;again&#160;&#160;as&#160;&#160;described&#160;&#160;in&#160;&#160;chapter&#160;&#160;<a href="TechnicalReference_CanSMs.html#13">3.3,</a>&#160;&#160;subchapter&#160;&#160;<a href="TechnicalReference_CanSMs.html#14">“Mode&#160;&#160;Request&#160;&#160;Indication&#160;&#160;and&#160;<br/>Repetition”</a>.&#160;&#160;But&#160;&#160;the&#160;&#160;absence&#160;&#160;of&#160;&#160;the&#160;&#160;controller&#160;&#160;STOPPED&#160;&#160;indication&#160;&#160;has&#160;&#160;an&#160;&#160;exceptional&#160;<br/>nature&#160;&#160;and&#160;&#160;does&#160;&#160;not&#160;&#160;lead&#160;&#160;to&#160;&#160;a&#160;&#160;repetition.&#160;&#160;Instead&#160;&#160;of&#160;&#160;the&#160;&#160;repetition&#160;&#160;the&#160;<br/>CheckTrcvWakeFlag&#160;&#160;will&#160;&#160;be&#160;&#160;triggered&#160;&#160;and&#160;&#160;the&#160;&#160;whole&#160;&#160;shutdown&#160;&#160;sequence&#160;&#160;will&#160;&#160;be&#160;<br/>repeated&#160;&#160;from&#160;&#160;start&#160;&#160;after&#160;&#160;the&#160;&#160;CanSM_CheckTransceiverWakeFlagIndication&#160;&#160;has&#160;<br/>been&#160;received.&#160;<br/>
<b>3.10&#160;&#160;Tx&#160;Timeout&#160;Exception&#160;</b><br/>
If&#160;&#160;the&#160;&#160;CanSM&#160;&#160;gets&#160;&#160;the&#160;&#160;CanSM_TxTimeoutException&#160;&#160;notification&#160;&#160;the&#160;&#160;CanSM&#160;&#160;performs&#160;<br/>the&#160;&#160;transition&#160;&#160;to&#160;&#160;CANSM_NO_COMMUNICATION,&#160;&#160;except&#160;&#160;bus-off&#160;&#160;is&#160;&#160;active.&#160;&#160;In&#160;&#160;this&#160;&#160;case&#160;&#160;the&#160;<br/>CanSM_TxTimeoutException&#160;&#160;notification&#160;&#160;will&#160;&#160;be&#160;&#160;ignored&#160;&#160;because&#160;&#160;it&#160;&#160;is&#160;&#160;quite&#160;&#160;likely&#160;&#160;a&#160;<br/>“false&#160;report”&#160;due&#160;to&#160;the&#160;TxOffline&#160;phase&#160;and&#160;the&#160;communication&#160;will&#160;work&#160;again&#160;after&#160;that&#160;<br/>and&#160;if&#160;not,&#160;the&#160;“Tx&#160;Timeout&#160;Exception”&#160;will be&#160;indicated&#160;by&#160;the&#160;CanNm&#160;again&#160;anyway.&#160;<br/>If&#160;&#160;a&#160;&#160;“Tx&#160;&#160;Timeout&#160;&#160;Exception”&#160;&#160;handling&#160;&#160;is&#160;&#160;running&#160;&#160;any&#160;&#160;incoming&#160;&#160;communication&#160;&#160;mode&#160;<br/>request&#160;will&#160;be&#160;postponed&#160;until&#160;CANSM_NO_COMMUNICATION&#160;has&#160;been&#160;reached.&#160;After&#160;that&#160;<br/>the&#160;&#160;transition&#160;&#160;to&#160;&#160;CANSM_FULL_COMMUNICATION&#160;&#160;will&#160;&#160;be&#160;&#160;started&#160;&#160;if&#160;&#160;the&#160;&#160;last&#160;&#160;requested&#160;<br/>communication&#160;<br/>
mode&#160;<br/>
was&#160;<br/>
COMM_FULL_COMMUNICATION&#160;<br/>
or&#160;<br/>
COMM_SILENT_COMMUNICATION.&#160;<br/>
In&#160;&#160;addition&#160;&#160;the&#160;&#160;CanSM&#160;&#160;provides&#160;&#160;an&#160;&#160;abbreviated&#160;&#160;recovery&#160;&#160;mechanism.&#160;&#160;If&#160;&#160;the&#160;&#160;feature&#160;<br/>CanSMSwiftTxTimeoutRecovery&#160;is&#160;activated,&#160;only&#160;the&#160;conroller&#160;is&#160;set&#160;to&#160;STOPPED&#160;and&#160;back&#160;<br/>to&#160;STARTED,&#160;instead&#160;of&#160;executing&#160;the&#160;entire&#160;shutdown&#160;and&#160;start&#160;up&#160;sequence.&#160;If&#160;it&#160;was&#160;not&#160;<br/>successful&#160;to&#160;set&#160;the&#160;controller&#160;back&#160;to&#160;STARTED&#160;within&#160;the&#160;first&#160;try&#160;the&#160;CanSM&#160;indicates&#160;<br/>COMM_SILENT_COMMUNICATION&#160;to&#160;the&#160;ComM&#160;and&#160;CANSM_BSWM_NO_COMMUNICATION&#160;to&#160;the&#160;BswM&#160;<br/>and&#160;executes&#160;the&#160;stanard repetition&#160;mechanism&#160;to&#160;reach&#160;the&#160;needed&#160;controller mode.&#160;<br/>
<b>3.11&#160;&#160;Baud Rate&#160;Adaption&#160;</b><br/>
The&#160;adaption&#160;of&#160;the&#160;baud&#160;rate&#160;is&#160;started&#160;by&#160;calling&#160;the&#160;function<a href="TechnicalReference_CanSMs.html#37">&#160;CanSM_SetBaudrate&#160;</a>(or&#160;<br/><a href="TechnicalReference_CanSMs.html#36">CanSM_ChangeBaudrate)</a>.&#160;A&#160;Baud&#160;Rate&#160;Change&#160;is&#160;only&#160;possible&#160;if&#160;the&#160;communication&#160;<br/>state&#160;is&#160;COMM_FULL_COMMUNICATION&#160;and&#160;no&#160;bus-off&#160;is&#160;present&#160;(validated&#160;by&#160;“Tx&#160;ensured&#160;<br/>time” or “Tx&#160;Confirmation”).&#160;<br/>When&#160;&#160;the&#160;&#160;Baud&#160;&#160;Rate&#160;&#160;Change&#160;&#160;has&#160;&#160;been&#160;&#160;accepted&#160;&#160;the&#160;&#160;CanSM&#160;&#160;informs&#160;&#160;the&#160;&#160;BswM&#160;<br/>(CHANGE_BAUDRATE),&#160;&#160;set&#160;&#160;the&#160;&#160;PDU&#160;&#160;mode&#160;&#160;to&#160;&#160;OFFLINE&#160;&#160;and&#160;&#160;the&#160;&#160;controller&#160;&#160;mode&#160;&#160;to&#160;<br/>STOPPED.&#160;After&#160;&#160;the&#160;&#160;controller&#160;&#160;mode&#160;&#160;STOPPED&#160;&#160;is&#160;&#160;reached&#160;&#160;the&#160;&#160;CanSM&#160;&#160;informs&#160;&#160;the&#160;&#160;ComM&#160;<br/>(NoCom)&#160;and&#160;lead&#160;the&#160;driver&#160;to&#160;set&#160;the&#160;new&#160;baud&#160;rate.&#160;Then&#160;the&#160;controller&#160;mode&#160;will&#160;be&#160;set&#160;<br/>back&#160;to&#160;STARTED.&#160;After&#160;the&#160;controller&#160;mode&#160;STARTED&#160;is&#160;reached&#160;the&#160;CanSM&#160;set&#160;the&#160;PDU&#160;<br/>mode&#160;to&#160;ONLINE.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
21&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=22></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-22_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-22_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-22_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>The&#160;feature&#160;is&#160;intended&#160;to&#160;be&#160;used&#160;by&#160;the&#160;Dcm&#160;module.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>The<a href="TechnicalReference_CanSMs.html#37">&#160;CanSM_ChangeBaudrate&#160;</a>API&#160;is&#160;deprecated.&#160;So it&#160;is&#160;recommended&#160;to&#160;use&#160;the&#160;<br/>
<b>&#160;&#160;</b><a href="TechnicalReference_CanSMs.html#37">CanSM_SetBaudrate&#160;</a>API&#160;instead.&#160;<br/>
<a href="TechnicalReference_CanSMs.html#37">CanSM_SetBaudrate&#160;</a>API&#160;and<a href="TechnicalReference_CanSMs.html#37">&#160;CanSM_ChangeBaudrate&#160;</a>API&#160;cannot&#160;be&#160;<br/>provided simultaneously.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<a href="TechnicalReference_CanSMs.html#37">If&#160;CanSM_ChangeBaudrate&#160;</a>API&#160;is&#160;used&#160;nevertheless&#160;the&#160;desired&#160;baud&#160;rate&#160;has to&#160;be&#160;<br/>validated&#160;via&#160;the&#160;function<a href="TechnicalReference_CanSMs.html#36">&#160;CanSM_CheckBaudrate&#160;</a>before&#160;the&#160;function&#160;<br/><a href="TechnicalReference_CanSMs.html#36">CanSM_ChangeBaudrate&#160;</a>will&#160;be&#160;called.&#160;<br/>
<b>3.12&#160;&#160;ECU&#160;Passive&#160;Mode&#160;</b><br/>
After&#160;the&#160;initialization&#160;of&#160;the&#160;CanSM&#160;the&#160;ECU&#160;mode&#160;is&#160;active&#160;per&#160;default.&#160;The&#160;ECU&#160;mode&#160;is&#160;<br/>the&#160;same&#160;for&#160;each&#160;CAN channel.&#160;&#160;<br/>The&#160;&#160;CanSM&#160;&#160;can&#160;&#160;be&#160;&#160;instructed&#160;&#160;to&#160;&#160;handle&#160;&#160;the&#160;&#160;passive&#160;&#160;or&#160;&#160;active&#160;&#160;mode,&#160;&#160;globally&#160;&#160;for&#160;&#160;all&#160;<br/>channels&#160;&#160;via&#160;&#160;the&#160;&#160;API&#160;&#160;CanSM_SetEcuPassive().&#160;&#160;The&#160;&#160;mode&#160;&#160;stays&#160;&#160;until&#160;&#160;a&#160;&#160;new&#160;&#160;request&#160;&#160;is&#160;<br/>issued&#160;or a&#160;(re-)initialization&#160;of&#160;the&#160;CanSM&#160;happens.&#160;<br/>In&#160;&#160;passive&#160;&#160;mode&#160;&#160;the&#160;&#160;CanSM&#160;&#160;sets&#160;&#160;the&#160;&#160;Tx&#160;&#160;PDU&#160;&#160;mode&#160;&#160;to&#160;&#160;OFFLINE_ACTIVE&#160;&#160;instead&#160;&#160;to&#160;<br/>ONLINE&#160;&#160;<a href="TechnicalReference_CanSMs.html#16">(3.3.6,&#160;&#160;</a><a href="TechnicalReference_CanSMs.html#15">3.3.3)</a>.&#160;&#160;If&#160;&#160;the&#160;&#160;ECU&#160;&#160;mode&#160;&#160;switches&#160;&#160;from&#160;&#160;passive&#160;&#160;to&#160;&#160;active&#160;&#160;the&#160;&#160;CanSM&#160;<br/>switches the&#160;Tx&#160;PDU&#160;modes which&#160;are in&#160;OFFLINE_ACTIVE&#160;to&#160;ONLINE.&#160;<br/>During&#160;a&#160;bus-off&#160;recovery&#160;phase&#160;the&#160;modification&#160;of&#160;the&#160;Tx&#160;PDU&#160;mode&#160;is&#160;postponed&#160;until&#160;<br/>the&#160;bus-off&#160;recovery&#160;phase&#160;has been&#160;finished&#160;(C<a href="TechnicalReference_CanSMs.html#18">h&#160;3.4,&#160;Figure&#160;3-4&#160;</a>E_TX_ON).&#160;<br/>
<b>3.13&#160;&#160;PreventBusSleepAtStartUp&#160;</b><br/>
If&#160;<br/>
the&#160;<br/>
feature&#160;<br/>
is&#160;<br/>
enabled&#160;<br/>
within&#160;<br/>
the&#160;<br/>
configuration&#160;<br/>
tool&#160;<br/>
the&#160;<br/>
function&#160;<br/>
CanSM_PreventBusSleepAtStartUp()&#160;becomes&#160;available.&#160;The&#160;function,&#160;if&#160;called&#160;before&#160;the&#160;<br/>initialization,&#160;causes&#160;the&#160;CanSM&#160;to&#160;skip&#160;the&#160;initial&#160;transition&#160;of&#160;the&#160;according&#160;CAN&#160;channel.&#160;<br/>Usually&#160;the&#160;CanSM&#160;sets&#160;the&#160;controller&#160;to&#160;sleep&#160;mode&#160;and&#160;the&#160;transceiver&#160;to&#160;standby&#160;during&#160;<br/>the&#160;initialization.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
22&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=23></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-23_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-23_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-23_3.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>The&#160;CanSM&#160;expects&#160;that&#160;a FULL_COMMUNICATION&#160;request&#160;follows&#160;after&#160;the&#160;function&#160;<br/>
&#160;&#160;has&#160;been&#160;used&#160;and&#160;so&#160;the CanSM&#160;performs&#160;no&#160;further&#160;actions.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>If&#160;CanSM_PreventBusSleepAtStartUp()&#160;is&#160;used&#160;the&#160;CanDrv&#160;and CanTrcv&#160;stay&#160;in their&#160;<br/>
<b>&#160;&#160;</b>initial&#160;state&#160;and&#160;so&#160;usually&#160;no&#160;CAN&#160;wake-ups&#160;are&#160;possible.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>3.14&#160;&#160;BusOff&#160;Recovery&#160;Notifications&#160;Extension&#160;of&#160;Tx&#160;Offline&#160;Duration&#160;</b><br/>
The&#160;feature&#160;gives&#160;the&#160;application&#160;the&#160;possibility&#160;to&#160;react&#160;on&#160;an&#160;active&#160;bus-off.&#160;If&#160;the&#160;feature&#160;<br/>is&#160;activated&#160;the&#160;CanSM&#160;triggers&#160;the&#160;“bus-off&#160;begin&#160;indication&#160;function”&#160;immediately,&#160;each&#160;<br/>time&#160;the&#160;CanSM&#160;is&#160;informed&#160;about&#160;a&#160;bus-off.&#160;The&#160;second&#160;parameter&#160;of&#160;the&#160;function&#160;can&#160;be&#160;<br/>used&#160;to&#160;extend&#160;the&#160;“bus-off&#160;recovery&#160;time”&#160;(TxOffline)&#160;(from&#160;0&#160;up&#160;to&#160;153ms&#160;which&#160;is&#160;the&#160;<br/>maximum&#160;value&#160;needed&#160;by&#160;the&#160;J1939Nm).&#160;<br/>
When&#160;&#160;the&#160;&#160;CanSM&#160;&#160;enters&#160;&#160;the&#160;&#160;state&#160;&#160;S_BUS_OFF_CHECK,&#160;&#160;the&#160;&#160;Tx&#160;&#160;path&#160;&#160;is&#160;&#160;restarted.&#160;&#160;The&#160;<br/>communication&#160;should&#160;work&#160;again&#160;and&#160;the&#160;CanSM&#160;informs&#160;the&#160;application&#160;via&#160;the&#160;“bus-off&#160;<br/>end&#160;indication&#160;function”.&#160;The&#160;according&#160;channel&#160;can&#160;be&#160;identified&#160;via&#160;the&#160;network&#160;handle,&#160;<br/>which&#160;is&#160;the&#160;first&#160;parameter of&#160;both&#160;functions.&#160;&#160;<br/>The&#160;&#160;name&#160;&#160;of&#160;&#160;the&#160;&#160;indication&#160;&#160;functions&#160;&#160;can&#160;&#160;be&#160;&#160;set&#160;&#160;within&#160;&#160;the&#160;&#160;configuration&#160;&#160;tool.&#160;&#160;If&#160;&#160;the&#160;<br/>indication&#160;&#160;function&#160;&#160;is&#160;&#160;not&#160;&#160;needed&#160;&#160;delete&#160;&#160;the&#160;&#160;function&#160;&#160;name&#160;&#160;(empty&#160;&#160;string)&#160;&#160;or&#160;&#160;delete&#160;&#160;the&#160;<br/>parameter.&#160;Both&#160;functions&#160;can&#160;be&#160;(de)activated&#160;separately.&#160;<br/>
If&#160;&#160;J1939Nm&#160;&#160;is&#160;&#160;used,&#160;&#160;both&#160;&#160;the&#160;&#160;begin&#160;&#160;(J1939Nm_GetBusOffDelay)&#160;&#160;and&#160;&#160;end&#160;<br/>(J1939Nm_BusOffEnd) indications&#160;are required.&#160;<br/>
<b>3.15&#160;&#160;Wake-up Validation&#160;Assistance&#160;</b><br/>
<b>3.16&#160;&#160;Start/Stop Wake-up Sources&#160;</b><br/>
With&#160;the&#160;new&#160;APIs&#160;<a href="TechnicalReference_CanSMs.html#38">(5.2.11,&#160;5.2.12)</a>&#160;the&#160;CanSM&#160;can&#160;be&#160;used,&#160;to&#160;start&#160;and&#160;stop&#160;the&#160;wake-up&#160;<br/>sources,&#160;to&#160;enable&#160;the&#160;wake-up&#160;validation.&#160;Thus&#160;it&#160;can&#160;be&#160;avoided&#160;that&#160;the&#160;EcuM&#160;callout&#160;<br/>starts&#160;the&#160;wake-up&#160;sources&#160;while&#160;the&#160;CanSM&#160;performs&#160;the&#160;transition&#160;to&#160;no&#160;communication&#160;<br/>or&#160;the&#160;EcuM&#160;callout&#160;stops&#160;the&#160;wake-up&#160;sources&#160;while&#160;the&#160;CanSM&#160;performs&#160;the&#160;transition&#160;to&#160;<br/>full&#160;communication.&#160;<br/>
<b>3.16.1&#160;&#160;Normal&#160;Behavior&#160;<br/></b>Usually&#160;&#160;the&#160;&#160;CanSM&#160;&#160;is&#160;&#160;informed&#160;&#160;about&#160;&#160;the&#160;&#160;start&#160;&#160;of&#160;&#160;the&#160;&#160;wake-up&#160;&#160;validation&#160;&#160;sequence&#160;&#160;(via&#160;<br/><a href="TechnicalReference_CanSMs.html#38">5.2.11)&#160;&#160;</a>within&#160;&#160;the&#160;&#160;state&#160;&#160;CANSM_NO_COMMUNICATION.&#160;&#160;In&#160;&#160;this&#160;&#160;case&#160;&#160;the&#160;&#160;CanSM&#160;&#160;sets&#160;&#160;the&#160;<br/>CAN&#160;&#160;controller&#160;&#160;to&#160;&#160;STARTED&#160;&#160;and&#160;&#160;the&#160;&#160;CAN&#160;&#160;transceiver&#160;&#160;to&#160;&#160;NORMAL.&#160;&#160;If&#160;&#160;the&#160;&#160;validation&#160;&#160;is&#160;<br/>successful&#160;it&#160;will&#160;be&#160;finished&#160;by&#160;a&#160;full&#160;communication&#160;request,&#160;then&#160;the&#160;Pdu&#160;mode&#160;is&#160;set&#160;to&#160;<br/>ONLINE&#160;&#160;and&#160;&#160;the&#160;&#160;ComM&#160;&#160;and&#160;&#160;the&#160;&#160;BswM&#160;&#160;are&#160;&#160;notified&#160;&#160;with&#160;&#160;the&#160;&#160;corresponding&#160;&#160;full&#160;<br/>communication&#160;indication.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
23&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=24></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-24_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
The&#160;validation&#160;is&#160;also&#160;finished&#160;if&#160;the&#160;wake-up&#160;has&#160;not&#160;been&#160;determined&#160;as&#160;valid&#160;within&#160;the&#160;<br/>specified&#160;validation&#160;time.&#160;Then&#160;the&#160;CanSM&#160;is&#160;informed&#160;by&#160;the&#160;according&#160;API&#160;<a href="TechnicalReference_CanSMs.html#38">(5.2.12)&#160;</a>and&#160;<br/>the&#160;CanSM&#160;switches&#160;the&#160;controller&#160;back&#160;to&#160;SLEEP&#160;and&#160;the&#160;CAN&#160;transceiver&#160;to&#160;STANDBY.&#160;<br/>If&#160;&#160;a&#160;&#160;validation&#160;&#160;sequence&#160;&#160;is&#160;&#160;started&#160;&#160;while&#160;&#160;the&#160;&#160;CanSM&#160;&#160;performs&#160;&#160;a&#160;&#160;transition&#160;&#160;to&#160;<br/>CANSM_NO_COMMUNICATION,&#160;&#160;the&#160;&#160;current&#160;&#160;transition&#160;&#160;to&#160;&#160;CANSM_NO_COMMUNICATION&#160;&#160;will&#160;<br/>be&#160;canceled.&#160;<br/>
<b>3.16.2&#160;&#160;Usage&#160;<br/></b>To&#160;use&#160;the&#160;wake-up&#160;validation&#160;assistance&#160;of&#160;the&#160;CanSM,&#160;remove&#160;the&#160;“set&#160;controller&#160;mode”&#160;<br/>and&#160;&#160;“set&#160;&#160;transceiver&#160;&#160;mode”&#160;&#160;functions&#160;&#160;from&#160;&#160;the&#160;&#160;EcuM&#160;&#160;wake-up&#160;&#160;sources&#160;&#160;callouts,&#160;&#160;call&#160;<br/>CanSM_StartWakeupSources&#160;<br/>
instead&#160;<br/>
within&#160;<br/>
the&#160;<br/>
EcuM&#160;<br/>
callout&#160;<br/>
EcuM_StartWakeupSources&#160;&#160;and&#160;&#160;the&#160;&#160;CanSM_StopWakeupSources&#160;&#160;within&#160;&#160;the&#160;&#160;EcuM&#160;<br/>callout&#160;EcuM_StopWakeupSources.&#160;Pay&#160;also&#160;attention&#160;to<a href="TechnicalReference_CanSMs.html#30">&#160;4.2.</a>&#160;<br/>
<b>3.16.3&#160;&#160;Exceptional&#160;Behavior&#160;<br/></b>The&#160;change&#160;of&#160;the&#160;CAN&#160;HW&#160;mode&#160;could&#160;be&#160;disturbed&#160;and&#160;is&#160;not&#160;possible&#160;within&#160;the&#160;HW&#160;<br/>loop&#160;&#160;timeout.&#160;&#160;Especially&#160;&#160;the&#160;&#160;change&#160;&#160;of&#160;&#160;the&#160;&#160;controller&#160;&#160;mode&#160;&#160;may&#160;&#160;fail&#160;&#160;due&#160;&#160;to&#160;&#160;message&#160;<br/>reception,&#160;dominant&#160;voltage&#160;level or electromagnetic interference.&#160;<br/>If&#160;any&#160;transceiver&#160;or&#160;controller mode&#160;change&#160;returns&#160;E_NOT_OK&#160;any&#160;further&#160;actions&#160;will&#160;be&#160;<br/>omitted&#160;&#160;and&#160;&#160;the&#160;&#160;CanSM&#160;&#160;will&#160;&#160;return&#160;&#160;E_NOT_OK&#160;&#160;too;&#160;&#160;except&#160;&#160;if&#160;&#160;the&#160;&#160;set&#160;&#160;controller&#160;&#160;mode&#160;&#160;to&#160;<br/>SLEEP&#160;is&#160;answered&#160;with&#160;E_NOT_OK.&#160;In&#160;this&#160;case&#160;CanSM&#160;triggers&#160;a&#160;new&#160;wake-up&#160;by&#160;the&#160;<br/>EcuM,&#160;&#160;which&#160;&#160;will&#160;&#160;start&#160;&#160;a&#160;&#160;new&#160;&#160;wake-up&#160;&#160;validation&#160;&#160;sequence.&#160;&#160;So&#160;&#160;no&#160;&#160;further&#160;&#160;exceptional&#160;<br/>actions&#160;are necessary&#160;and&#160;the&#160;CanSM&#160;StopWakeupSources&#160;returns E_OK.&#160;<br/>
In&#160;case&#160;the&#160;CanSM&#160;returns&#160;an&#160;E_NOT_OK&#160;the&#160;CanTrcv/CanDrv&#160;are&#160;in&#160;“undefined” state&#160;so&#160;<br/>it&#160;is&#160;most&#160;likely&#160;not&#160;possible&#160;to&#160;react&#160;on&#160;any&#160;event&#160;on&#160;the&#160;CAN&#160;bus&#160;respectively&#160;no&#160;Rx,&#160;no&#160;<br/>Tx&#160;&#160;or&#160;&#160;no&#160;&#160;wake-up&#160;&#160;is&#160;&#160;possible&#160;&#160;which&#160;&#160;can&#160;&#160;lead&#160;&#160;to&#160;&#160;the&#160;&#160;effects&#160;&#160;described&#160;&#160;in&#160;&#160;the&#160;&#160;following&#160;<br/>chapter.&#160;<br/>
<b>3.16.4&#160;&#160;Potential&#160;Effect&#160;</b><br/>
<b>3.16.4.1&#160;&#160;Start of&#160;the&#160;Wakeup&#160;Sources&#160;Fail&#160;<br/></b>Because&#160;&#160;of&#160;&#160;the&#160;&#160;disturbance&#160;&#160;during&#160;&#160;the&#160;&#160;mode&#160;&#160;change&#160;&#160;the&#160;&#160;CAN&#160;&#160;HW&#160;&#160;(controller&#160;&#160;and/or&#160;<br/>transceiver)&#160;might&#160;be&#160;in&#160;an&#160;undefined&#160;state&#160;and&#160;is&#160;probably&#160;not&#160;able&#160;to&#160;react&#160;on&#160;incoming&#160;<br/>messages.&#160;&#160;Messages&#160;&#160;on&#160;&#160;the&#160;&#160;bus&#160;&#160;are&#160;&#160;lost,&#160;&#160;until&#160;&#160;a&#160;&#160;new&#160;&#160;wake-up&#160;&#160;is&#160;&#160;possible,&#160;&#160;after&#160;&#160;the&#160;<br/>validation&#160;timeout&#160;elapses and&#160;a&#160;successful call&#160;of&#160;StopWakeupSources.&#160;<br/>
<b>3.16.4.2&#160;&#160;Stop of the&#160;Wakeup&#160;Sources&#160;Fail&#160;<br/></b>Because&#160;&#160;of&#160;&#160;the&#160;&#160;disturbance&#160;&#160;during&#160;&#160;the&#160;&#160;mode&#160;&#160;change&#160;&#160;the&#160;&#160;CAN&#160;&#160;HW&#160;&#160;(controller&#160;&#160;and/or&#160;<br/>transceiver)&#160;might&#160;be&#160;in&#160;an&#160;undefined&#160;state.&#160;Probably&#160;the&#160;CAN&#160;wake-up&#160;will&#160;not&#160;work&#160;and&#160;<br/>the&#160;ECU&#160;is&#160;not&#160;able&#160;to&#160;react&#160;on&#160;Rx&#160;messages&#160;on&#160;the&#160;affected&#160;CAN&#160;bus.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
24&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=25></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-25_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-25_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-25_3.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-25_4.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>The&#160;EcuM&#160;may&#160;perform&#160;a state change&#160;to stop/sleep in&#160;the&#160;same&#160;<br/>
<b>&#160;&#160;</b>EcuM_MainFunction()&#160;cycle where&#160;EcuM_StopWakeupSources()&#160;is&#160;called.&#160;So&#160;it&#160;<br/>
is&#160;possible that&#160;the&#160;ECU&#160;stays&#160;in low&#160;power&#160;mode and cannot&#160;be&#160;woken&#160;up again&#160;<br/>(internal/external&#160;wake-up&#160;or&#160;wake-up&#160;by&#160;CAN).&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>3.16.5&#160;&#160;Countermeasures&#160;</b><br/>
<b>&gt;&#160;&#160;</b>A&#160;short disturbance&#160;can&#160;probably&#160;be&#160;resolved&#160;by&#160;calling&#160;Start-/StopWakeupSources()&#160;<br/>
within&#160;the&#160;current&#160;call&#160;context&#160;again.&#160;<br/>
<b>&gt;&#160;&#160;</b>As a&#160;second&#160;approach&#160;the&#160;return value&#160;of&#160;StartWakeupSources&#160;could&#160;be&#160;ignored.&#160;As&#160;a&#160;<br/>
result the&#160;validation&#160;time&#160;elapses,&#160;the&#160;wake-up&#160;sources&#160;are stopped&#160;and&#160;a&#160;new&#160;wake-<br/>up&#160;interrupt&#160;triggers the&#160;validation&#160;again,&#160;if&#160;the&#160;CAN&#160;communication&#160;is still&#160;running.&#160;As&#160;<br/>a&#160;drawback,&#160;the&#160;ECU&#160;cannot&#160;participate&#160;in&#160;the&#160;CAN&#160;communication&#160;during&#160;this period&#160;<br/>and&#160;therefore is&#160;not&#160;recommended&#160;for&#160;time&#160;critical systems.&#160;<br/>
<b>&gt;&#160;&#160;</b>Furthermore,&#160;the&#160;validation&#160;procedure can&#160;be&#160;bypassed&#160;altogether.&#160;Instead&#160;of&#160;calling&#160;<br/>
CanIf_CheckValidation(),&#160;the&#160;wake-up&#160;can&#160;be&#160;validated&#160;&#34;manually&#34;&#160;by&#160;calling&#160;<br/>EcuM_ValidateWakeupEvent()&#160;directly.&#160;As a&#160;result,&#160;normal CAN&#160;communication&#160;is&#160;<br/>started&#160;on&#160;the&#160;channel.&#160;<br/>
Note:&#160;This&#160;may&#160;also&#160;lead&#160;to&#160;a&#160;wake-up&#160;of&#160;other ECUs on&#160;the&#160;affected&#160;CAN&#160;channel,&#160;<br/>due&#160;to&#160;the&#160;electromagnetic interference,&#160;because&#160;of&#160;inhibited&#160;wake-up&#160;validation.&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;the&#160;StopWakeupSources()&#160;fails the&#160;validation&#160;sequence&#160;could&#160;be&#160;restarted&#160;again&#160;<br/>
“manually”&#160;via&#160;EcuM_SetWakeupEvent()&#160;call.&#160;The&#160;ECU&#160;can&#160;react&#160;faster&#160;to&#160;a&#160;<br/>potential running&#160;CAN&#160;communication,&#160;under&#160;the&#160;assumption&#160;that&#160;the&#160;<br/>StartWakeupSources()&#160;will be&#160;executed&#160;successfully.&#160;Alternatively&#160;it&#160;is possible&#160;to&#160;<br/>initiate&#160;an&#160;ECU&#160;reset.&#160;The&#160;whole&#160;CAN stack&#160;becomes reinitialized&#160;by&#160;the&#160;BSW&#160;<br/>modules&#160;from&#160;scratch.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>The&#160;appropriate&#160;solution&#160;depends&#160;highly&#160;on&#160;the&#160;type&#160;of&#160;the&#160;ECU&#160;and on&#160;the&#160;<br/>
&#160;&#160;requirements&#160;which have&#160;to&#160;be&#160;fulfilled&#160;by&#160;the&#160;ECU.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>If&#160;any&#160;one of&#160;the&#160;functions&#160;CanSM_StartWakeupSources()<a href="TechnicalReference_CanSMs.html#38">&#160;5.2.11&#160;</a>or&#160;<br/>
<b>&#160;&#160;</b>CanSM_StopWakeupSources<a href="TechnicalReference_CanSMs.html#38">&#160;5.2.12&#160;</a>returns&#160;a&#160;failure&#160;(i.e.&#160;returns&#160;E_NOT_OK)&#160;the&#160;<br/>
application has&#160;to&#160;perform&#160;an&#160;ECU&#160;dependent&#160;error&#160;handling.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
25&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=26></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-26_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-26_2.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>Wakeup&#160;validation&#160;does&#160;not&#160;work&#160;with asynchronous&#160;hardware&#160;e.g.&#160;partial&#160;network&#160;<br/>
&#160;&#160;transceiver.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.17&#160;&#160;Error&#160;Handling&#160;</b><br/>
<b>3.17.1&#160;&#160;Development&#160;Error&#160;Reporting&#160;<br/></b>By&#160;&#160;default,&#160;&#160;development&#160;&#160;errors&#160;&#160;are&#160;&#160;reported&#160;&#160;to&#160;&#160;the&#160;&#160;DET&#160;&#160;using&#160;&#160;the&#160;&#160;service&#160;<br/>Det_ReportError()&#160;&#160;as&#160;&#160;specified&#160;&#160;in&#160;&#160;[2],&#160;&#160;if&#160;&#160;development&#160;&#160;error&#160;&#160;reporting&#160;&#160;is&#160;&#160;enabled&#160;&#160;(i.e.&#160;<br/>pre-compile&#160;parameter&#160;CANSM_DEV_ERROR_DETECT&#160;==&#160;STD_ON).&#160;<br/>
If&#160;&#160;another&#160;&#160;module&#160;&#160;is&#160;&#160;used&#160;&#160;for&#160;&#160;development&#160;&#160;error&#160;&#160;reporting,&#160;&#160;the&#160;&#160;function&#160;&#160;prototype&#160;&#160;for&#160;<br/>reporting&#160;the&#160;error&#160;can&#160;be&#160;configured&#160;by&#160;the&#160;integrator,&#160;but&#160;must&#160;have&#160;the&#160;same&#160;signature&#160;<br/>as&#160;the&#160;service&#160;Det_ReportError().&#160;The&#160;redirection&#160;of&#160;the&#160;function&#160;name&#160;has&#160;to&#160;be&#160;done&#160;<br/>via&#160;“User Config&#160;File”.&#160;<br/>The&#160;reported&#160;CanSM&#160;ID is&#160;140.&#160;<br/>The&#160;&#160;reported&#160;&#160;service&#160;&#160;IDs&#160;&#160;identify&#160;&#160;the&#160;&#160;services&#160;&#160;which&#160;&#160;are&#160;&#160;described&#160;&#160;in&#160;&#160;<a href="TechnicalReference_CanSMs.html#32">5.2.&#160;&#160;</a>The&#160;&#160;following&#160;<br/>table&#160;presents&#160;the&#160;service&#160;IDs and&#160;the&#160;related&#160;services:&#160;<br/>
<b>Service&#160;ID&#160;&#160;Service&#160;<br/></b>0x00&#160;<br/>
CanSM_Init&#160;<br/>
0x01&#160;<br/>
CanSM_GetVersionInfo&#160;<br/>
0x02&#160;<br/>
CanSM_RequestComMode&#160;<br/>
0x03&#160;<br/>
CanSM_GetCurrentComMode&#160;<br/>
0x04&#160;<br/>
CanSM_ControllerBusOff&#160;<br/>
0x05&#160;<br/>
CanSM_MainFunction&#160;<br/>
0x06&#160;<br/>
CanSM_ConfirmPnAvailability&#160;<br/>
0x07&#160;<br/>
CanSM_ControllerModeIndication&#160;<br/>
0x08&#160;<br/>
CanSM_ClearTrcvWufFlagIndication&#160;<br/>
0x09&#160;<br/>
CanSM_TransceiverModeIndication&#160;<br/>
0x0A&#160;<br/>
CanSM_CheckTransceiverWakeFlagIndication&#160;<br/>
0x0B&#160;<br/>
CanSM_TxTimeoutException&#160;<br/>
0x0C&#160;<br/>
CanSM_CheckBaudrate&#160;<br/>
0x0E&#160;<br/>
CanSM_ChangeBaudrate&#160;<br/>
0x0D&#160;<br/>
CanSM_SetBaudrate&#160;<br/>
0x0F&#160;<br/>
CanSM_CheckBorLevel&#160;<br/>
0x40&#160;<br/>
CanSM_PreventBusSleepAtStartUp&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
26&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=27></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-27_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>Service&#160;ID&#160;&#160;Service&#160;<br/></b>0x20u&#160;<br/>
CanSM_StartWakeupSources&#160;<br/>
0x21u&#160;<br/>
CanSM_StopWakeupSources&#160;<br/>
Table&#160;3-4&#160;&#160;&#160;Service&#160;IDs&#160;<br/>
The&#160;errors reported&#160;to&#160;DET&#160;are&#160;described&#160;in&#160;the&#160;following&#160;table:&#160;<br/>
<b>Error&#160;Code&#160;</b><br/>
<b>Description&#160;</b><br/>
0x01&#160;&#160;CANSM_E_UNINIT&#160;<br/>
API&#160;&#160;service&#160;&#160;used&#160;&#160;without&#160;&#160;having&#160;&#160;called&#160;<br/>the&#160;initialization function.&#160;<br/>
0x02&#160;&#160;CANSM_E_PARAM_POINTER&#160;<br/>
API&#160;service&#160;called&#160;with&#160;invalid&#160;pointer&#160;in&#160;<br/>parameter&#160;list&#160;<br/>
0x03&#160;&#160;CANSM_E_INVALID_NETWORK_HANDLE&#160;&#160;API&#160;&#160;service&#160;&#160;called&#160;&#160;with&#160;&#160;wrong&#160;&#160;network&#160;<br/>
handle&#160;&#160;parameter,&#160;&#160;which&#160;&#160;is&#160;&#160;not&#160;<br/>configured&#160;in&#160;the&#160;CanSM&#160;configuration.&#160;<br/>
0x04&#160;&#160;CANSM_E_PARAM_CONTROLLER&#160;<br/>
API&#160;service&#160;called&#160;with&#160;wrong&#160;&#160;controller&#160;<br/>index.&#160;<br/>
0x05&#160;&#160;CANSM_E_PARAM_TRANSCEIVER&#160;<br/>
API&#160;<br/>
service&#160;<br/>
called&#160;<br/>
with&#160;<br/>
wrong&#160;<br/>
transceiver&#160;index.&#160;<br/>
0x06&#160;&#160;CANSM_E_BUSOFF_RECOVERY_ACTIVE&#160;&#160;API&#160;network&#160;mode&#160;request&#160;called&#160;during&#160;<br/>
not&#160;finished&#160;bus-off&#160;recovery&#160;<br/>
0x07&#160;&#160;CANSM_E_WAIT_MODE_INDICATION&#160;<br/>
API&#160;network&#160;mode&#160;request&#160;called&#160;during&#160;<br/>pending&#160;indication&#160;<br/>
0x08&#160;&#160;CANSM_E_INVALID_COMM_REQUEST&#160;<br/>
API&#160;&#160;network&#160;&#160;mode&#160;&#160;request&#160;&#160;called&#160;&#160;with&#160;<br/>invalid&#160;&#160;communication&#160;&#160;mode&#160;&#160;request&#160;<br/>e.g.&#160;SILENT&#160;requested&#160;in state NoCom.&#160;<br/>
0x09&#160;&#160;CANSM_E_PARAM_INVALID_BAUDRATE&#160;&#160;API&#160;change&#160;baud&#160;rate&#160;called&#160;with&#160;invalid&#160;<br/>
baud&#160;rate&#160;i.e.&#160;the&#160;requested&#160;baud&#160;rate&#160;is&#160;<br/>not&#160;&#160;equal&#160;&#160;to&#160;&#160;the&#160;&#160;remembered,&#160;&#160;valid&#160;<br/>baud&#160;<br/>
rate&#160;<br/>
of&#160;<br/>
the&#160;<br/>
last&#160;<br/>
CanSM_CheckBaudrate&#160;call.&#160;<br/>
0x0A&#160;&#160;CANSM_E_MODE_REQUEST_TIMEOUT&#160;<br/>
API&#160;&#160;set&#160;&#160;transceiver/controller&#160;&#160;mode&#160;<br/>request&#160;&#160;for&#160;&#160;a&#160;&#160;network&#160;&#160;failed&#160;&#160;more&#160;&#160;often&#160;<br/>as allowed&#160;by&#160;configuration.&#160;<br/>
0x0B&#160;&#160;CANSM_E_INITIALIZED&#160;<br/>
API&#160;&#160;service&#160;&#160;used&#160;&#160;after&#160;&#160;the&#160;&#160;initialization&#160;<br/>function.&#160;<br/>
Table&#160;3-5&#160;&#160;&#160;Errors&#160;reported&#160;to&#160;DET&#160;<br/>
<b>3.17.2&#160;&#160;Production Code&#160;Error Reporting&#160;<br/></b>By&#160;&#160;default,&#160;&#160;production&#160;&#160;code&#160;&#160;related&#160;&#160;errors&#160;&#160;are&#160;&#160;reported&#160;&#160;to&#160;&#160;the&#160;&#160;DEM&#160;&#160;using&#160;&#160;the&#160;&#160;service&#160;<br/>Dem_ReportErrorStatus()&#160;as&#160;specified&#160;in<a href="TechnicalReference_CanSMs.html#3">&#160;[3],&#160;</a>if&#160;production&#160;error&#160;reporting&#160;is&#160;enabled&#160;<br/>(i.e.&#160;pre-compile&#160;parameter&#160;CANSM_PROD_ERROR_DETECT&#160;==&#160;STD_ON).&#160;<br/>
If&#160;&#160;another&#160;&#160;module&#160;&#160;is&#160;&#160;used&#160;&#160;for&#160;&#160;production&#160;&#160;code&#160;&#160;error&#160;&#160;reporting,&#160;&#160;the&#160;&#160;function&#160;&#160;prototype&#160;&#160;for&#160;<br/>reporting&#160;the&#160;error&#160;can&#160;be&#160;configured&#160;by&#160;the&#160;integrator,&#160;but&#160;must&#160;have&#160;the&#160;same&#160;signature&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
27&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=28></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-28_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
as&#160;the&#160;service&#160;Dem_ReportErrorStatus().&#160;The&#160;redirection&#160;of&#160;the&#160;function&#160;name&#160;has&#160;to&#160;<br/>be&#160;done&#160;via&#160;“User Config&#160;File”.&#160;<br/>
&#160;<br/>
The&#160;errors reported&#160;to&#160;DEM are described&#160;in&#160;the&#160;following&#160;table:&#160;<br/>
<b>Error&#160;Code&#160;</b><br/>
<b>Description&#160;</b><br/>
CANSM_E_BUSOFF_NETWORK_&lt;X&gt;&#160;&#160;The&#160;CAN&#160;State&#160;Manager&#160;reports&#160;to&#160;the&#160;DEM&#160;a&#160;network&#160;<br/>
specific&#160;bus-off&#160;event&#160;each time&#160;the&#160;bus-off&#160;could&#160;be&#160;<br/>recovered&#160;or&#160;the&#160;bus-off&#160;could not&#160;be&#160;recovered&#160;within the&#160;<br/>specified&#160;tries.&#160;<br/>
Table&#160;3-6&#160;&#160;&#160;Errors&#160;reported&#160;to&#160;DEM&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
28&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=29></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-29_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>4&#160;&#160;Integration&#160;</b><br/>
This&#160;&#160;chapter&#160;&#160;gives&#160;&#160;necessary&#160;&#160;information&#160;&#160;for&#160;&#160;the&#160;&#160;integration&#160;&#160;of&#160;&#160;the&#160;&#160;MICROSAR&#160;&#160;CanSM&#160;<br/>into&#160;an&#160;application&#160;environment&#160;of&#160;an&#160;ECU.&#160;<br/>
<b>4.1&#160;</b><br/>
<b>Scope&#160;of&#160;Delivery&#160;</b><br/>
The&#160;delivery&#160;of&#160;the&#160;CanSM&#160;contains&#160;the&#160;files which&#160;are&#160;described&#160;in&#160;the&#160;chapte<a href="TechnicalReference_CanSMs.html#29">rs&#160;4.1.1&#160;</a>and&#160;<br/><a href="TechnicalReference_CanSMs.html#29">4.1.2:</a>&#160;<br/>
<b>4.1.1&#160;</b><br/>
<b>Static&#160;Files&#160;</b><br/>
<b>File&#160;Name&#160;</b><br/>
<b>Source&#160;</b><br/>
<b>Object&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>Code&#160;</b><br/>
<b>Code&#160;</b><br/>
<b>Delivery&#160;&#160;Delivery&#160;</b><br/>
CanSM.c&#160;<br/>
This&#160;is&#160;the&#160;source&#160;file of&#160;the&#160;CanSM.&#160;It&#160;contains&#160;the&#160;<br/>
&#160;<br/>
&#160;<br/>
implementation&#160;of&#160;the&#160;main&#160;functionality&#160;(not&#160;available&#160;<br/>if&#160;libraries are delivered).&#160;<br/>
CanSM.h&#160;<br/>
This&#160;is&#160;the&#160;main&#160;header&#160;file of&#160;the&#160;CAN&#160;State&#160;Manager&#160;<br/>
&#160;<br/>
&#160;<br/>
which&#160;provides&#160;the&#160;“defines”,&#160;function&#160;prototypes&#160;and&#160;<br/>types&#160;of&#160;the&#160;CAN&#160;State&#160;Manager.&#160;<br/>
CanSM_BswM.h&#160;<br/>
This&#160;header&#160;exports&#160;the&#160;<br/>
&#160;<br/>
&#160;<br/>
CanSM_BswMCurrentStateType,&#160;which&#160;is&#160;dedicated&#160;to&#160;<br/>the&#160;BswM&#160;module.&#160;<br/>
CanSM_Cbk.h&#160;<br/>
This&#160;is&#160;the&#160;callback&#160;header&#160;file&#160;that&#160;declares&#160;the&#160;<br/>
&#160;<br/>
&#160;<br/>
notification&#160;functions&#160;which inform&#160;the&#160;CanSM&#160;about&#160;<br/>the&#160;transceiver&#160;or&#160;controller&#160;changes.&#160;<br/>
CanSM_ComM.h&#160;<br/>
This&#160;is&#160;a header&#160;file&#160;of&#160;the CAN&#160;State&#160;Manager&#160;which&#160;<br/>
&#160;<br/>
&#160;<br/>
is&#160;the&#160;specific&#160;interface&#160;for&#160;the&#160;ComM&#160;to the&#160;services of&#160;<br/>the&#160;CAN&#160;State&#160;Manager.&#160;<br/>
CanSM_Dcm.h&#160;<br/>
This&#160;header&#160;exports&#160;the&#160;Set/Check/ChangeBaudrate&#160;<br/>
&#160;<br/>
&#160;<br/>
interfaces,&#160;which&#160;are&#160;dedicated&#160;to&#160;the&#160;Dcm&#160;module.&#160;<br/>
CanSM_EcuM.h&#160;<br/>
This&#160;header&#160;exports&#160;the&#160;Init/InitMemory&#160;interfaces,&#160;<br/>
&#160;<br/>
&#160;<br/>
which are used&#160;to&#160;(pre)initialize the&#160;CAN&#160;state&#160;<br/>manager.&#160;<br/>
CanSM_TxTime<br/>
The&#160;header&#160;provide&#160;the&#160;callback&#160;function&#160;<br/>
outException.h&#160;<br/>
&#160;<br/>
&#160;<br/>
CanSM_TxTimeoutException&#160;as optional&#160;interface (if&#160;<br/>PN&#160;is&#160;active)&#160;to&#160;the&#160;CanNm.&#160;<br/>
Table&#160;4-1&#160;&#160;&#160;Static&#160;files&#160;<br/>
<b>4.1.2&#160;</b><br/>
<b>Dynamic&#160;Files&#160;</b><br/>
The&#160;dynamic&#160;files are&#160;generated&#160;by&#160;the&#160;configuration&#160;tool&#160;DaVinci Configurator.&#160;<br/>
<b>File&#160;Name&#160;</b><br/>
<b>Description&#160;</b><br/>
CanSM_Cfg.h&#160;<br/>
Configuration header&#160;file&#160;which is generated.&#160;It&#160;contains pre-compile switches,&#160;<br/>which enable/disable&#160;features,&#160;type&#160;definitions&#160;and constant&#160;values.&#160;<br/>
CanSM_Lcfg.c&#160;<br/>
Configuration source&#160;file.&#160;It&#160;contains configuration&#160;parameter&#160;which&#160;may&#160;be&#160;<br/>changed&#160;at&#160;link time.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
29&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=30></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-30_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>File&#160;Name&#160;</b><br/>
<b>Description&#160;</b><br/>
CanSM_PBcfg.c&#160;&#160;Configuration source&#160;file.&#160;It&#160;contains&#160;for&#160;example timer&#160;variable values&#160;or&#160;<br/>
channel&#160;configuration&#160;parameter.&#160;It&#160;contains configuration parameter&#160;which&#160;<br/>may&#160;be&#160;changed&#160;after&#160;link time.&#160;<br/>
Table&#160;4-2&#160;&#160;&#160;Generated&#160;files&#160;<br/>
<b>4.2&#160;</b><br/>
<b>Critical&#160;Sections&#160;</b><br/>
Critical&#160;sections&#160;are&#160;handled&#160;by&#160;the&#160;BSW&#160;Scheduler.&#160;The&#160;intention&#160;of&#160;the&#160;following&#160;critical&#160;<br/>sections is&#160;to&#160;block&#160;the&#160;interrupt<b>&#160;</b>of&#160;CanSM&#160;functions (with&#160;a&#160;higher&#160;priority).&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;CANSM_EXCLUSIVE_AREA_1&#160;has to&#160;be&#160;used&#160;if&#160;it&#160;is possible&#160;that&#160;the&#160;function&#160;<br/>
CanSM_MainFunction()&#160;may&#160;be&#160;interrupted&#160;by&#160;any&#160;of&#160;the&#160;functions&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>CanSM_RequestComMode()&#160;<br/>
<b>&gt;&#160;&#160;</b>CanSM_ControllerBusOff()&#160;<br/>
<b>&gt;&#160;&#160;</b>CanSM_TxTimeoutException()&#160;<br/>
<b>&gt;&#160;&#160;</b>CanSM_SetEcuPassive()&#160;<br/>
<b>&gt;&#160;&#160;</b>CanSM_StopWakeupSources()&#160;<br/>
<b>&gt;&#160;&#160;</b>CanSM_StartWakeupSources().&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;CANSM_EXCLUSIVE_AREA_2&#160;has to&#160;be&#160;used&#160;if&#160;it&#160;is possible&#160;that&#160;the&#160;function&#160;<br/>
CanSM_RequestComMode()&#160;may&#160;be&#160;interrupted&#160;by&#160;any&#160;of&#160;the&#160;functions&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>CanSM_MainFunction()&#160;<br/>
<b>&gt;&#160;&#160;</b>CanSM_ControllerModeIndication()&#160;<br/>
<b>&gt;&#160;&#160;</b>CanSM_TransceiverModeIndication()&#160;<br/>
<b>&gt;&#160;&#160;</b>CanSM_ClearTrcvWufFlagIndication()&#160;<br/>
<b>&gt;&#160;&#160;</b>CanSM_CheckTransceiverWakeFlagIndication()&#160;<br/>
<b>&gt;&#160;&#160;</b>CanSM_TxTimeoutException()&#160;<br/>
<b>&gt;&#160;&#160;</b>CanSM_SetEcuPassive()&#160;<br/>
<b>&gt;&#160;&#160;</b>CanSM_StopWakeupSources()&#160;<br/>
<b>&gt;&#160;&#160;</b>CanSM_StartWakeupSources().&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;CANSM_EXCLUSIVE_AREA_3&#160;has to&#160;be&#160;used&#160;if&#160;it&#160;is possible&#160;that&#160;the&#160;function&#160;<br/>
CanSM_ControllerBusOff()&#160;may&#160;be&#160;interrupted&#160;by&#160;any&#160;of&#160;the&#160;functions&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>CanSM_RequestComMode()&#160;<br/>
<b>&gt;&#160;&#160;</b>CanSM_ControllerBusOff()&#160;<br/>
<b>&gt;&#160;&#160;</b>CanSM_TxTimeoutException().&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
30&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=31></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-31_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
The&#160;intention&#160;of&#160;the&#160;following&#160;critical&#160;sections&#160;is&#160;to&#160;avoid&#160;a&#160;change&#160;of&#160;the&#160;CAN&#160;controller&#160;or&#160;<br/>transceiver&#160;mode&#160;during&#160;shutdown&#160;of&#160;the&#160;CAN&#160;communication&#160;when&#160;the&#160;CanSM&#160;performs&#160;<br/>the&#160;transition&#160;to&#160;from&#160;Silent&#160;Communication&#160;to&#160;No&#160;Communication.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;CANSM_EXCLUSIVE_AREA_4&#160;has to&#160;be&#160;used&#160;if&#160;it&#160;is possible&#160;that&#160;one&#160;of&#160;functions&#160;<br/>
CanSM_MainFunction()&#160;or&#160;CanSM_RequestComMode()&#160;may&#160;be&#160;interrupted&#160;by&#160;a&#160;<br/>CAN event.&#160;<br/>
<b>1.&#160;&#160;</b>By&#160;CAN&#160;Wake&#160;Up&#160;Interrupt&#160;<br/>
<b>2.&#160;&#160;</b>By&#160;CAN&#160;Wake&#160;Up&#160;Polling&#160;<br/>
<b>3.&#160;&#160;</b>By&#160;CAN Bus-Off&#160;(Can&#160;error)&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;CANSM_EXCLUSIVE_AREA_5&#160;has to&#160;be&#160;used&#160;if&#160;it&#160;is possible&#160;that&#160;one&#160;of&#160;the&#160;<br/>
functions&#160;CanSM_SetEcuPassive()&#160;or&#160;CanSM_StartWakeupSources()&#160;or&#160;<br/>CanSM_StopWakeupSources()&#160;may&#160;be&#160;interrupted&#160;by&#160;any&#160;of&#160;the&#160;functions&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>CanSM_RequestComMode()&#160;<br/>
<b>&gt;&#160;&#160;</b>CanSM_MainFunction().&#160;<br/>
<b>&gt;&#160;&#160;</b>Or&#160;it is possible&#160;that&#160;the&#160;function&#160;CanSM_ControllerModeIndication()&#160;may&#160;be&#160;<br/>
interrupted&#160;by&#160;the&#160;function&#160;<br/>
<b>&gt;&#160;&#160;</b>CanSM_SetEcuPassive().&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
31&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=32></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-32_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>5&#160;&#160;API&#160;Description&#160;</b><br/>
For an&#160;interfaces overview&#160;please&#160;see<a href="TechnicalReference_CanSMs.html#11">&#160;Figure&#160;2-2.</a>&#160;<br/>
<b>5.1&#160;</b><br/>
<b>Type&#160;Definitions&#160;</b><br/>
The&#160;types defined&#160;by&#160;the&#160;CanSM&#160;are&#160;described&#160;in&#160;this chapter.&#160;<br/>
<b>Type&#160;Name&#160;</b><br/>
<b>C-Type&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>Value&#160;Range&#160;</b><br/>
CanSM_BswMCurre&#160;uint8&#160;<br/>
CAN&#160;specific&#160;<br/>
CANSM_BSWM_NO_COMMUNICATION&#160;<br/>
ntStateType&#160;<br/>
communication&#160;<br/>
CANSM_BSWM_SILENT_COMMUNICATION&#160;<br/>
modes&#160;/&#160;states&#160;<br/>notified&#160;to&#160;the&#160;BswM&#160;&#160;CANSM_BSWM_FULL_COMMUNICATION&#160;<br/>module.&#160;<br/>
CANSM_BSWM_BUS_OFF&#160;<br/>
CANSM_BSWM_CHANGE_BAUDRATE&#160;<br/>
Pointer&#160;to&#160;the&#160;<br/>
CanSM_Channel<br/>
structure&#160;which&#160;<br/>
pointer&#160;&#160;contains&#160;the&#160;<br/>
&#160;<br/>
ConfigPtrType&#160;<br/>
configuration&#160;data&#160;<br/>of&#160;a&#160;CAN&#160;channel.&#160;<br/>Structure&#160;which&#160;<br/>
CanSM_Channel<br/>
struct&#160;<br/>
contains&#160;the&#160;<br/>
&#160;<br/>
ConfigType&#160;<br/>
configuration&#160;data&#160;<br/>of&#160;a&#160;CAN&#160;channel.&#160;<br/>
CanSM_ConfigT<br/>
Structure&#160;which&#160;<br/>
struct&#160;<br/>
contains&#160;the&#160;global&#160;&#160;&#160;<br/>
ype&#160;<br/>
configuration&#160;data.&#160;<br/>Structure&#160;contains&#160;<br/>
&#160;<br/>
CanSM_Channel<br/>
struct&#160;<br/>
the&#160;variable values&#160;<br/>
VarRecordType&#160;<br/>
of&#160;a&#160;specific&#160;CAN&#160;<br/>channel.&#160;<br/>
CanSM_BorStat<br/>
uint8&#160;<br/>
Can&#160;specific&#160;bus-off&#160;&#160;CANSM_BOR_NONE&#160;<br/>
eType<b>&#160;</b><br/>
level.&#160;<br/>
CANSM_BOR_LEVEL1&#160;<br/>
CANSM_BOR_LEVEL2&#160;<br/>
Table&#160;5-1&#160;&#160;&#160;Type&#160;definitions&#160;<br/>
<b>5.2&#160;</b><br/>
<b>Services&#160;Provided by&#160;CanSM&#160;</b><br/>
<b>5.2.1&#160;</b><br/>
<b>CanSM_InitMemory&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>CanSM_InitMemory</b>( void )&#160;<br/>
<b>Parameter&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
32&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=33></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-33_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>This&#160;function&#160;initializes&#160;the&#160;CanSM memory&#160;and sets&#160;the&#160;variable&#160;CanSM_IsInitialized&#160;to&#160;FALSE&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&#160;<br/>
Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanSMs.html#27">e 'Service IDs'&#160;</a>&#160;<br/>
&#160;<br/>
Called&#160;once at&#160;start-up&#160;before&#160;the&#160;initialization function.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
&#160;&#160;Function is called&#160;once&#160;before&#160;CanSM_Init&#160;<br/>
&#160;Table&#160;5-2&#160;&#160;&#160;CanSM_InitMemory&#160;<br/>
<b>5.2.2&#160;</b><br/>
<b>CanSM_PreInit&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>CanSM_PreInit&#160;</b>(const CanSM_ConfigType *const ConfigPtr)&#160;<br/>
<b>Parameter&#160;</b><br/>
ConfigPtr&#160;[in]&#160;<br/>
Pointer&#160;to configuration&#160;structure&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Initializes&#160;the configuration&#160;data&#160;component.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
CanSM_InitMemory&#160;has&#160;been&#160;called if&#160;CANSM_PREVENT_BUSSLEEP_AT_STARTUP&#160;is&#160;activated&#160;unless&#160;<br/>CanSM_EnableSetBusSleep[]&#160;is&#160;initialized&#160;by&#160;start&#160;up&#160;code.&#160;<br/>The&#160;API&#160;is&#160;only&#160;needed&#160;in case of&#160;extended&#160;RAM&#160;check. Otherwise&#160;use CanSM_Init&#160;without&#160;<br/>CanSM_PreInit.&#160;<br/>Configuration Variant(s): CANSM_EXTENDED_RAM_CHECK&#160;<br/>Call&#160;context&#160;<br/>
&gt;&#160;&#160;TASK&#160;<br/>
&gt;&#160;&#160;This&#160;function&#160;is&#160;Reentrant&#160;<br/>
Table&#160;5-3&#160;&#160;&#160;CanSM_PreInit&#160;<br/>
<b>5.2.3&#160;</b><br/>
<b>CanSM_Init&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>CanSM_Init</b>( const CanSM_ConfigType*&#160;const&#160;ConfigPtr )&#160;<br/>
<b>Parameter&#160;</b><br/>
ConfigPtr&#160;<br/>
Pointer&#160;to the configuration&#160;structure that&#160;shall&#160;be used&#160;for the&#160;post-build&#160;<br/>parameters.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
33&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=34></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-34_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Service for CAN&#160;State&#160;Manager initialization.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&#160;<br/>
Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanSMs.html#27">e 'Service IDs'&#160;</a>&#160;<br/>
&#160;<br/>
Non&#160;Reentrant&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
&#160;&#160;Called&#160;once after&#160;startup&#160;<br/>
Table&#160;5-4&#160;<br/>
CanSM_Init&#160;<br/>
<b>5.2.4&#160;</b><br/>
<b>CanSM_MainFunction&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>CanSM_MainFunction</b>(&#160;void )&#160;<br/>
<b>Parameter&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;main function&#160;of&#160;the CanSM executes&#160;asynchron&#160;transitions&#160;of&#160;each&#160;network,&#160;which&#160;is&#160;configured&#160;for&#160;<br/>the&#160;CanSM.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&#160;<br/>
Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanSMs.html#27">e 'Service IDs'&#160;</a>&#160;<br/>
&#160;<br/>
CanSM&#160;has&#160;to&#160;be&#160;initialized.&#160;Function&#160;has&#160;to&#160;be&#160;called&#160;cyclically.&#160;The&#160;cycle time&#160;is&#160;set&#160;in&#160;the&#160;<br/>configuration&#160;tool.&#160;<br/>
&#160;<br/>
Non&#160;Reentrant&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
&#160;&#160;Cyclic&#160;on&#160;task&#160;level&#160;<br/>
Table&#160;5-5&#160;<br/>
CanSM_MainFunction&#160;<br/>
<b>5.2.5&#160;</b><br/>
<b>CanSM_RequestComMode&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;<b>CanSM_RequestComMode</b>( NetworkHandleType NetworkHandle,&#160;<br/>ComM_ModeType&#160;CanSM_RequestedComMMode&#160;)&#160;<br/>
<b>Parameter&#160;</b><br/>
NetworkHandle&#160;<br/>
The&#160;communication&#160;network&#160;number&#160;belonging&#160;to the request.&#160;<br/>
CanSM_RequestedComMM&#160;New&#160;desired&#160;value of&#160;the communication&#160;mode.&#160;<br/>ode&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
ReturnType&#160;<br/>
Returns&#160;whether function parameter&#160;are valid or&#160;not.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
34&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=35></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-35_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;function&#160;stores&#160;the requested&#160;communication mode for the&#160;network&#160;handle&#160;and executes&#160;the&#160;<br/>corresponding&#160;network&#160;mode&#160;state machine.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&#160;<br/>
Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanSMs.html#27">e 'Service IDs'&#160;</a>&#160;<br/>
&#160;<br/>
CanSM&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>
&#160;<br/>
Reentrant&#160;for&#160;different&#160;CAN&#160;networks,&#160;not&#160;reentrant&#160;for&#160;the&#160;same CAN&#160;network&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
&#160;&#160;Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context.&#160;<br/>
Table&#160;5-6&#160;<br/>
CanSM_RequestComMode&#160;<br/>
<b>5.2.6&#160;</b><br/>
<b>CanSM_GetCurrentComMode&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;<b>CanSM_GetCurrentComMode</b>( NetworkHandleType&#160;<br/>NetworkHandle, ComM_ModeType*&#160;CanSM_ComMModePtr&#160;)&#160;<br/>
<b>Parameter&#160;</b><br/>
NetworkHandle&#160;<br/>
Index&#160;of&#160;the network&#160;channel.&#160;<br/>
CanSM_ComMModePtr&#160;<br/>
Pointer&#160;where&#160;the&#160;communication&#160;mode information&#160;is&#160;copied to.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
ReturnType&#160;<br/>
Returns&#160;whether function parameter&#160;are valid or&#160;not.&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;service delivers&#160;the&#160;current communication&#160;mode&#160;of&#160;a&#160;CAN&#160;network.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&#160;<br/>
Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanSMs.html#27">e 'Service IDs'&#160;</a>&#160;<br/>
&#160;<br/>
CanSM&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
&#160;&#160;Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context.&#160;<br/>
Table&#160;5-7&#160;<br/>
CanSM_GetCurrentComMode&#160;<br/>
<b>5.2.7&#160;</b><br/>
<b>CanSM_GetVersionInfo&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>CanSM_GetVersionInfo</b>( Std_VersionInfoType * VersionInfo )&#160;<br/>
<b>Parameter&#160;</b><br/>
VersionInfo&#160;<br/>
Pointer,&#160;where to&#160;store the&#160;version data&#160;of&#160;the CanSM.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
35&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=36></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-36_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;service&#160;returns&#160;the&#160;version&#160;information&#160;of&#160;this&#160;module.&#160;The&#160;version&#160;information includes:&#160;<br/>&#160;-&#160;Module&#160;Id&#160;<br/>&#160;-&#160;Vendor&#160;Id&#160;<br/>&#160;-&#160;Vendor specific&#160;version&#160;numbers&#160;(The&#160;versions&#160;are&#160;BCD-coded).&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&#160;<br/>
Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanSMs.html#27">e 'Service IDs'&#160;</a>&#160;<br/>
&#160;<br/>
The&#160;function&#160;is&#160;only&#160;available if&#160;enabled&#160;at&#160;compile time&#160;(CANSM_VERSION_INFO_API&#160;=&#160;<br/>STD_ON)&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
&#160;&#160;Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context.&#160;<br/>
Table&#160;5-8&#160;<br/>
CanSM_GetVersionInfo&#160;<br/>
<b>5.2.8&#160;</b><br/>
<b>CanSM_CheckBaudrate&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;<b>CanSM_CheckBaudrate</b>( NetworkHandleType&#160;<br/>CanSM_NetworkHandle,&#160;uint16&#160;CanSM_Baudrate&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
CanSM_NetworkHandle&#160;<br/>
The&#160;communication&#160;network&#160;number&#160;belonging&#160;to the request.&#160;<br/>
CanSM_Baudrate&#160;<br/>
New&#160;desired&#160;baud rate.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
ReturnType&#160;<br/>
E_OK: Baudrate&#160;supported&#160;by&#160;all&#160;configured CAN controllers&#160;of&#160;the network&#160;&#160;<br/>E_NOT_OK:&#160;Baudrate&#160;not&#160;supported /&#160;invalid&#160;network&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;service check, if&#160;a&#160;certain&#160;baud&#160;rate is&#160;supported&#160;by&#160;the&#160;configured&#160;CAN&#160;controller&#160;of&#160;a&#160;CAN network.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&#160;<br/>
Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanSMs.html#27">e 'Service IDs'&#160;</a>&#160;<br/>
&#160;<br/>
CanSM&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>
&#160;<br/>
Reentrant&#160;for&#160;different&#160;CAN&#160;networks,&#160;not&#160;reentrant&#160;for&#160;the&#160;same CAN&#160;network&#160;<br/>
&#160;<br/>
Please note&#160;that&#160;this&#160;API&#160;is&#160;deprecated&#160;and is&#160;kept&#160;only&#160;for&#160;backward&#160;compatibility&#160;reasons&#160;<br/>(Substituted&#160;by&#160;CanSM_SetBaudrate).&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
&#160;&#160;Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context.&#160;<br/>
Table&#160;5-9&#160;<br/>
CanSM_CheckBaudrate&#160;<br/>
<b>5.2.9&#160;</b><br/>
<b>CanSM_ChangeBaudrate&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;<b>CanSM_ChangeBaudrate</b>( NetworkHandleType&#160;<br/>CanSM_NetworkHandle, uin16 CanSM_Baudrate )<b>&#160;</b><br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
36&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=37></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-37_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>Parameter&#160;</b><br/>
CanSM_NetworkHandle&#160;<br/>
The&#160;communication&#160;network&#160;number&#160;belonging&#160;to the request.&#160;<br/>
CanSM_Baudrate&#160;<br/>
New&#160;desired&#160;baud rate.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
ReturnType&#160;<br/>
Returns&#160;whether&#160;function parameter&#160;are valid or&#160;not.&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;service starts&#160;a&#160;process&#160;to&#160;change&#160;the&#160;baud&#160;rate&#160;for the&#160;configured&#160;CAN controllers&#160;of&#160;a&#160;certain&#160;CAN&#160;<br/>network&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&#160;<br/>
Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanSMs.html#27">e 'Service IDs'&#160;</a>&#160;<br/>
&#160;<br/>
CanSM&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>
&#160;<br/>
CanSM_CheckBaudrate&#160;has&#160;to&#160;be&#160;called&#160;first&#160;successfully.&#160;<br/>
&#160;<br/>
Reentrant&#160;for&#160;different&#160;CAN&#160;networks,&#160;not&#160;reentrant&#160;for&#160;the&#160;same CAN&#160;network&#160;<br/>
&#160;<br/>
Please&#160;note&#160;that&#160;this&#160;API&#160;&#160;is&#160;deprecated&#160;&#160;and&#160;&#160;is&#160;kept&#160;&#160;only&#160;for&#160;&#160;backward&#160;compatibility&#160;&#160;reasons&#160;<br/>(Substituted&#160;by&#160;CanSM_SetBaudrate).&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
&#160;&#160;Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context.&#160;<br/>
Table&#160;5-10&#160;&#160;CanSM_ChangeBaudrate&#160;<br/>
<b>5.2.10&#160;&#160;CanSM_SetBaudrate&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;<b>CanSM_SetBaudrate</b>( NetworkHandleType&#160;<br/>CanSM_NetworkHandle, uin16&#160;BaudRateConfigID&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
CanSM_NetworkHandle&#160;<br/>
The&#160;communication&#160;network&#160;number&#160;belonging&#160;to the request.&#160;<br/>
BaudRateConfigID&#160;<br/>
References&#160;a&#160;baud rate&#160;configuration&#160;by&#160;ID&#160;(see&#160;<br/>CanControllerBaudRateConfigID)&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
ReturnType&#160;<br/>
E_OK: Service request accepted,&#160;setting&#160;of&#160;(new)&#160;baud rate&#160;started&#160;&#160;<br/>E_NOT_OK:&#160;Service request not&#160;accepted&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;service starts&#160;a process&#160;to&#160;change&#160;the&#160;baud&#160;rate&#160;for the&#160;configured&#160;CAN controller&#160;of&#160;a CAN network.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&#160;<br/>
Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanSMs.html#27">e 'Service IDs'&#160;</a><br/>
&#160;<br/>
CanSM&#160;has&#160;to&#160;be&#160;initialized&#160;<br/>
&#160;<br/>
Reentrant&#160;for&#160;different&#160;CAN&#160;networks,&#160;not&#160;reentrant&#160;for&#160;the&#160;same CAN&#160;network&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
&#160;&#160;Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context.&#160;<br/>
Table&#160;5-11&#160;&#160;CanSM_SetBaudrate&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
37&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=38></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-38_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>5.2.11&#160;&#160;CanSM_StartWakeupSources&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType CanSM_StartWakeupSources( NetworkHandleType&#160;<br/>CanSM_NetworkHandle )&#160;<br/>
<b>Parameter&#160;</b><br/>
NetworkHandle&#160;<br/>
Network&#160;handle&#160;of&#160;the&#160;wake-up&#160;source&#160;which should&#160;be started&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
E_OK&#160;<br/>
The&#160;CanSM has&#160;set&#160;the CanTrcv&#160;and CanDrv&#160;in the&#160;required states&#160;<br/>
E_NOT_OK&#160;<br/>
It&#160;was&#160;not&#160;possible to set the CanTrcv&#160;or CanDrv&#160;to&#160;the&#160;required&#160;state to&#160;<br/>perform&#160;the wake-up&#160;validation, e.g.&#160;because of&#160;dominant&#160;level&#160;on&#160;Rx&#160;pin.&#160;At&#160;<br/>this&#160;point the CanTrcv&#160;or CanDrv&#160;are&#160;in an “undefined”&#160;state.&#160;The&#160;CanSM&#160;itself&#160;<br/>does&#160;not&#160;execute any&#160;retry. The&#160;application&#160;has&#160;to&#160;perform&#160;an&#160;ECU dependent&#160;<br/>error handling.&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;notifies&#160;the CanSM module&#160;that&#160;the&#160;EcuM has&#160;received&#160;a&#160;wake-up&#160;event&#160;which&#160;has&#160;to&#160;be&#160;<br/>validated.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&#160;<br/>
CanSM&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>
&#160;<br/>
Reentrant&#160;for&#160;different&#160;CAN&#160;networks&#160;<br/>
&#160;<br/>
Transceiver&#160;which work&#160;asynchronous&#160;must&#160;not&#160;be&#160;used&#160;(i.e.&#160;Partial&#160;network&#160;Trcv,&#160;SPI&#160;Trcv,&#160;<br/>Trcv&#160;within&#160;SBC)&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
&#160;&#160;Function can&#160;be&#160;called&#160;in&#160;task&#160;context.&#160;<br/>
Table&#160;5-12&#160;&#160;CanSM_StartWakeupSources&#160;<br/>
<b>5.2.12&#160;&#160;CanSM_StopWakeupSources&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;CanSM_StopWakeupSources( NetworkHandleType&#160;<br/>CanSM_NetworkHandle, EcuM_WakeupSourceType WakeupSource )&#160;<br/>
<b>Parameter&#160;</b><br/>
NetworkHandle&#160;<br/>
The&#160;communication&#160;network&#160;number&#160;belonging&#160;to the request.&#160;<br/>
WakeupSource&#160;<br/>
The&#160;wake-up&#160;source&#160;handle of&#160;the CAN channel&#160;which&#160;should&#160;be&#160;stopped&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
E_OK&#160;<br/>
The&#160;CanSM has&#160;set&#160;the CanTrcv&#160;and CanDrv&#160;in the&#160;required states&#160;or started&#160;<br/>a new&#160;wakeup.&#160;<br/>
E_NOT_OK&#160;<br/>
It&#160;was&#160;not&#160;possible to set the CanTrcv&#160;or CanDrv&#160;to&#160;the&#160;required&#160;state, e.g.&#160;<br/>because&#160;of&#160;dominant&#160;level&#160;on&#160;Rx&#160;pin.&#160;At&#160;this&#160;point&#160;the&#160;CanTrcv&#160;or&#160;CanDrv&#160;are&#160;<br/>in an “undefined” state.&#160;The&#160;CanSM&#160;itself&#160;does&#160;not&#160;execute&#160;any&#160;retry.&#160;The&#160;<br/>application&#160;has&#160;to perform&#160;an&#160;ECU dependent&#160;error&#160;handling.&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;notifies&#160;the CanSM module&#160;that&#160;the&#160;wake-up&#160;has&#160;not&#160;been&#160;determined as&#160;valid&#160;within the&#160;<br/>specified&#160;validation&#160;time&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
38&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=39></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-39_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&#160;<br/>
CanSM&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>
&#160;<br/>
Reentrant&#160;for&#160;different&#160;CAN&#160;networks&#160;&#160;<br/>
&#160;<br/>
Transceiver&#160;which work&#160;asynchronous&#160;must&#160;not&#160;be&#160;used&#160;(i.e.&#160;Partial&#160;network&#160;Trcv,&#160;SPI&#160;Trcv,&#160;<br/>Trcv&#160;within SBC)&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
&#160;&#160;Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context.&#160;<br/>
Table&#160;5-13&#160;&#160;CanSM_StopWakeupSources&#160;<br/>
<b>5.2.13&#160;&#160;CanSM_CheckBorLevel&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType&#160;<b>CanSM_CheckBorLevel</b>(&#160;const&#160;NetworkHandleType&#160;<br/>NetworkHandle,&#160;const&#160;CanSM_BorStateType* CanSM_BorStatePtr)&#160;<br/>
<b>Parameter&#160;</b><br/>
NetworkHandle&#160;<br/>
Index&#160;of&#160;the network&#160;channel.&#160;<br/>
CanSM_BorStatePtr&#160;<br/>
Pointer&#160;to target&#160;variable,&#160;which shall&#160;be&#160;used&#160;for the output&#160;of&#160;the&#160;bus-off&#160;<br/>recovery&#160;level.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
ReturnType&#160;<br/>
E_OK:&#160;API&#160;request accepted&#160;<br/>E_NOT_OK:&#160;API request rejected&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;service delivers&#160;the&#160;current bus-off&#160;level&#160;of&#160;a&#160;CAN&#160;network.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&#160;<br/>
Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanSMs.html#27">e 'Service IDs'&#160;</a>&#160;<br/>
&#160;<br/>
CanSM&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
&#160;&#160;Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context.&#160;<br/>
Table&#160;5-14&#160;&#160;CanSM_CheckBorLevel&#160;<br/>
<b>5.2.14&#160;&#160;CanSM_SetEcuPassive&#160;</b><br/>
<b>Prototype&#160;<br/></b>void CanSM_SetEcuPassive( boolean CanSM_EcuPassiveMode )&#160;<br/>
<b>Parameter&#160;</b><br/>
CanSM_EcuPassiveMode&#160;&#160;Boolean&#160;parameter&#160;which switches&#160;the&#160;ECU mode between&#160;active&#160;and&#160;<br/>
passive mode&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
39&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=40></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-40_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;function&#160;stores&#160;the requested&#160;ECU mode until&#160;it’s&#160;modified&#160;by&#160;the&#160;next call&#160;of&#160;this&#160;function.&#160;In passive&#160;<br/>mode the&#160;CanSM sets&#160;the&#160;Tx&#160;PDU&#160;mode to OFFLINE_ACTIVE&#160;instead&#160;to&#160;ONLINE.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&#160;&#160;CanSM&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>
&#160;&#160;Non&#160;Reentrant&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
&#160;&#160;Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context.&#160;<br/>
Table&#160;5-15&#160;&#160;CanSM_SetEcuPassive&#160;<br/>
<b>5.2.15&#160;&#160;CanSM_PreventBusSleepAtStartUp&#160;</b><br/>
<b>Prototype&#160;<br/></b>Std_ReturnType CanSM_PreventBusSleepAtStartUp( NetworkHandleType&#160;<br/>CanSM_NetworkHandle )&#160;<br/>
<b>Parameter&#160;</b><br/>
CanSM_NetworkHandle&#160;<br/>
communication&#160;network&#160;handle&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Std_ReturnType&#160;<br/>
Returns&#160;whether the&#160;network&#160;handle&#160;is&#160;valid and&#160;if&#160;the&#160;function&#160;has&#160;been&#160;<br/>called&#160;before or after the&#160;initialization.&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;function&#160;can&#160;be&#160;used&#160;to prevent&#160;the&#160;bus&#160;sleep&#160;state&#160;of&#160;the&#160;CanIf, CanDrv&#160;and&#160;CanTrcv&#160;at&#160;start up for&#160;<br/>the&#160;given&#160;CAN&#160;network&#160;handle.&#160;<br/>The&#160;CanIf, CanDrv&#160;and&#160;CanTrcv&#160;leaves&#160;in&#160;the&#160;corresponding&#160;module initialization&#160;state.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&#160;&#160;Called&#160;at&#160;start-up&#160;before&#160;the&#160;CanSM&#160;initialization function&#160;<br/>
&#160;&#160;The&#160;function&#160;must&#160;not&#160;be&#160;used with PostBuildSelecabel&#160;configuarions&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
&#160;&#160;Function has&#160;to&#160;be&#160;called&#160;before&#160;CanSM_Init&#160;<br/>
Table&#160;5-16&#160;&#160;CanSM_PreventBusSleepAtStartUp&#160;<br/>
<b>5.2.16&#160;&#160;CanSM_RamCheckStatus&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>CanSM_RamCheckStatus&#160;</b>(NetworkHandleType CanSM_NetworkHandle)&#160;<br/>
<b>Parameter&#160;</b><br/>
CanSM_NetworkHandle&#160;<br/>
Network&#160;handle&#160;<br/>
[in]&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Std_ReturnType&#160;<br/>
CANSM_APPL_RAMCHECK_ENABLE&#160;Everything&#160;is&#160;E_OK&#160;<br/>CANSM_APPL_RAMCHECK_DISABLE&#160;Communication&#160;shall&#160;be disabled&#160;<br/>CANSM_APPL_RAMCHECK_ENABLE_REPEAT&#160;Communication&#160;shall&#160;be&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
40&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=41></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-41_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
enabled and the RAM check&#160;repeated&#160;<br/>CANSM_APPL_RAMCHECK_DISABLE_REPEAT&#160;Communication&#160;shall&#160;be&#160;<br/>disabled&#160;and the RAM check&#160;repeated&#160;<br/>E_NOT_OK&#160;wrong Parameter&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Reports&#160;the RAM check&#160;status&#160;to&#160;the ComM.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Reports&#160;the last RAM check&#160;status&#160;<br/>Configuration Variant(s): CANSM_EXTENDED_RAM_CHECK&#160;<br/>Call&#160;context&#160;<br/>&gt;&#160;&#160;ANY&#160;<br/>&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>&gt;&#160;&#160;This&#160;function&#160;is&#160;Reentrant&#160;<br/>
Table&#160;5-17&#160;&#160;&#160;CanSM_RamCheckStatus&#160;<br/>
<b>5.2.17&#160;&#160;CanSM_RamCheckEnableMailbox&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>CanSM_RamCheckEnableMailbox&#160;</b>(NetworkHandleType Network, Can_HwHandleType&#160;<br/>MailBox)&#160;<br/>
<b>Parameter&#160;</b><br/>
Network&#160;[in]&#160;<br/>
network&#160;handle&#160;<br/>
MailBox&#160;[in]&#160;<br/>
HW&#160;mail&#160;box&#160;identifier&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Forwards&#160;enable mail&#160;box.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
If&#160;a&#160;mail&#160;box&#160;shall&#160;be&#160;enabled&#160;the information&#160;from&#160;the application&#160;is&#160;passed&#160;through&#160;to&#160;the&#160;CanDrv&#160;via&#160;<br/>CanIf.&#160;<br/>Configuration Variant(s): CANSM_EXTENDED_RAM_CHECK&#160;<br/>Call&#160;context&#160;<br/>&gt;&#160;&#160;ANY&#160;<br/>&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>&gt;&#160;&#160;This&#160;function&#160;is&#160;Reentrant&#160;<br/>
Table&#160;5-18&#160;&#160;&#160;CanSM_RamCheckEnableMailbox&#160;<br/>
&#160;<br/>
<b>5.3&#160;</b><br/>
<b>Services&#160;Used by&#160;CanSM&#160;</b><br/>
In&#160;&#160;the&#160;&#160;following&#160;&#160;table&#160;&#160;services&#160;&#160;provided&#160;&#160;by&#160;&#160;other&#160;&#160;components,&#160;&#160;which&#160;&#160;are&#160;&#160;used&#160;&#160;by&#160;&#160;the&#160;<br/>CanSM&#160;are&#160;listed.&#160;For&#160;details&#160;about&#160;prototype&#160;and&#160;functionality&#160;refer&#160;to&#160;the&#160;documentation&#160;<br/>of&#160;the&#160;providing&#160;component.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
41&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=42></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-42_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>Component&#160;</b><br/>
<b>API&#160;</b><br/>
Application&#160;<br/>
Appl_CanSM_RamCheckCorruptController&#160;<br/>
Application&#160;<br/>
Appl_CanSM_RamCheckCorruptMailbox&#160;<br/>
Application&#160;<br/>
Appl_CanSM_RamCheckFinished&#160;<br/>
Application&#160;<br/>
Appl_CanSM_RamCheckStart&#160;<br/>
BswM&#160;<br/>
BswM_CanSM_CurrentState&#160;<br/>
CanIf&#160;<br/>
CanIf_SetControllerMode&#160;<br/>
CanIf&#160;<br/>
CanIf_SetTrcvMode&#160;<br/>
CanIf&#160;<br/>
CanIf_ChangeBaudrate&#160;<br/>
CanIf&#160;<br/>
CanIf_SetPduMode&#160;<br/>
CanIf&#160;<br/>
CanIf_CheckTrcvWakeFlag&#160;<br/>
CanIf&#160;<br/>
CanIf_ClearTrcvWufFlag&#160;<br/>
CanIf&#160;<br/>
CanIf_GetTxConfirmationState&#160;<br/>
CanIf&#160;<br/>
CanIf_RamCheckEnableController&#160;<br/>
CanIf&#160;<br/>
CanIf_RamCheckEnableMailbox&#160;<br/>
CanIf&#160;<br/>
CanIf_RamCheckExecute&#160;<br/>
CanNm&#160;<br/>
CanNm_ConfirmPnAvailability&#160;<br/>
DEM&#160;<br/>
Dem_ReportErrorStatus&#160;<br/>
DET&#160;<br/>
Det_ReportError&#160;<br/>
ComM&#160;<br/>
ComM_BusSM_ModeIndication&#160;<br/>
SchM&#160;<br/>
SchM_Enter_CanSM_CANSM_EXCLUSIVE_AREA_i&#160;<br/>for&#160;i=1,2,3,4,5&#160;<br/>
SchM&#160;<br/>
SchM_Exit_CanSM_CANSM_EXCLUSIVE_AREA_i&#160;<br/>for&#160;i=1,2,3,4,5&#160;<br/>
Table&#160;5-19&#160;&#160;&#160;Services&#160;used&#160;by&#160;the&#160;CanSM&#160;<br/>
<b>5.4&#160;</b><br/>
<b>Callback&#160;Functions&#160;</b><br/>
This&#160;chapter&#160;describes&#160;the&#160;callback functions that&#160;are&#160;implemented&#160;by&#160;the&#160;CanSM&#160;and&#160;can&#160;<br/>be&#160;invoked&#160;by&#160;other&#160;modules.&#160;The&#160;prototypes&#160;of&#160;the&#160;callback&#160;functions&#160;are&#160;provided&#160;in&#160;the&#160;<br/>header&#160;file&#160;CanSM_Cbk.h&#160;by&#160;the&#160;CanSM.&#160;<br/>
<b>5.4.1&#160;</b><br/>
<b>CanSM_ControllerBusOff&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>CanSM_ControllerBusOff</b>( uint8&#160;CanSM_ControllerId&#160;)&#160;<br/>
<b>Parameter&#160;</b><br/>
CanSM_ControllerId&#160;<br/>
Index&#160;of&#160;the CAN controller,&#160;which&#160;detected&#160;a&#160;bus-off&#160;event&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
42&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=43></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-43_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
The&#160;CanSM is&#160;notified&#160;about&#160;a&#160;bus-off&#160;event&#160;on&#160;a certain&#160;CAN controller&#160;with this&#160;callback&#160;function.&#160;The&#160;<br/>CanSM uses&#160;this&#160;information&#160;to&#160;execute&#160;the&#160;bus-off&#160;recovery&#160;for the&#160;corresponding&#160;controller.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&#160;&#160;CanSM&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
&#160;&#160;Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context.&#160;<br/>
Table&#160;5-20&#160;&#160;CanSM_ControllerBusOff&#160;<br/>
<b>5.4.2&#160;</b><br/>
<b>CanSM_ControllerModeIndication&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>CanSM_ControllerModeIndication</b>(uint8 CanSM_ControllerId,&#160;<br/>CanIf_ControllerModeType CanSM_ControllerMode )&#160;<br/>
<b>Parameter&#160;</b><br/>
CanSM_ControllerId&#160;<br/>
Index&#160;of&#160;the CAN controller,&#160;which&#160;detected&#160;a bus-off&#160;event&#160;<br/>
CanSM_ControllerMode&#160;&#160;Notified CAN controller mode&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;callback&#160;shall&#160;notify&#160;the CanSM&#160;module about a&#160;CAN controller mode change.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&#160;<br/>
Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanSMs.html#27">e 'Service IDs'&#160;</a>&#160;<br/>
&#160;<br/>
CanSM&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
&#160;&#160;Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context.&#160;<br/>
Table&#160;5-21&#160;&#160;CanSM_ControllerModeIndication&#160;<br/>
<b>5.4.3&#160;</b><br/>
<b>CanSM_TransceiverModeIndication&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>CanSM_TransceiverModeIndication</b>( uint8 CanSM_TransceiverId,&#160;<br/>CanIf_TrcvModeType CanSM_TransceiverMode )&#160;<br/>
<b>Parameter&#160;</b><br/>
CanSM_TransceiverId&#160;<br/>
Index&#160;of&#160;the CAN controller,&#160;which&#160;detected&#160;a bus-off&#160;event&#160;<br/>
CanSM_TransceiverMode&#160;&#160;Notified CAN transceiver mode&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;callback&#160;shall&#160;notify&#160;the CanSM&#160;module about a&#160;CAN transceiver mode change.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
43&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=44></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-44_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&#160;<br/>
Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanSMs.html#27">e 'Service IDs'&#160;</a>&#160;<br/>
&#160;<br/>
CanSM&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
&#160;&#160;Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context.&#160;<br/>
Table&#160;5-22&#160;&#160;CanSM_TransceiverModeIndication&#160;<br/>
<b>5.4.4&#160;</b><br/>
<b>CanSM_ClearTrcvWufFlagIndication&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>CanSM_ClearTrcvWufFlagIndication</b>&#160;( uint8 CanSM_TransceiverId )&#160;<br/>
<b>Parameter&#160;</b><br/>
CanSM_TransceiverId&#160;<br/>
The&#160;transceiver ID number&#160;belonging&#160;to&#160;the&#160;request.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;call-back&#160;function&#160;indicates&#160;the CanIf_ClearTrcvWufFlag&#160;API process&#160;end for the&#160;notified CAN&#160;<br/>Transceiver.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&#160;<br/>
Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanSMs.html#27">e 'Service IDs'&#160;</a>&#160;<br/>
&#160;<br/>
CanSM&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>
&#160;<br/>
Reentrant&#160;for&#160;different&#160;CAN&#160;transceivers&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
&#160;&#160;Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context.&#160;<br/>
Table&#160;5-23&#160;&#160;CanSM_ClearTrcvWufFlagIndication&#160;<br/>
<b>5.4.5&#160;</b><br/>
<b>CanSM_CheckTransceiverWakeFlagIndication&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>CanSM_CheckTransceiverWakeFlagIndication</b>&#160;( uint8&#160;<br/>CanSM_TransceiverId )&#160;<br/>
<b>Parameter&#160;</b><br/>
CanSM_TransceiverId&#160;<br/>
The&#160;transceiver ID number&#160;belonging&#160;to&#160;the&#160;request.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;call-back&#160;function&#160;indicates&#160;the CheckTransceiverWakeFlag&#160;API process&#160;end&#160;for the&#160;notified&#160;CAN&#160;<br/>Transceiver.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
44&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=45></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-45_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&#160;<br/>
Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanSMs.html#27">e 'Service IDs'&#160;</a>&#160;<br/>
&#160;<br/>
CanSM&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>
&#160;<br/>
Reentrant&#160;for&#160;different&#160;CAN&#160;transceivers&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
&#160;&#160;Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context.&#160;<br/>
Table&#160;5-24&#160;&#160;CanSM_CheckTransceiverWakeFlagIndication&#160;<br/>&#160;<br/>
<b>5.4.6&#160;</b><br/>
<b>CanSM_ConfirmPnAvailability&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>CanSM_ConfirmPnAvailability</b>&#160;( uint8 CanSM_TransceiverId )&#160;<br/>
<b>Parameter&#160;</b><br/>
CanSM_TransceiverId&#160;<br/>
The&#160;transceiver ID&#160;number&#160;belonging&#160;to&#160;the&#160;request.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;call-back&#160;function&#160;indicates&#160;that&#160;the transceiver is&#160;running&#160;in&#160;PN communication&#160;mode.&#160;In&#160;this&#160;case the&#160;<br/>CanNm&#160;will&#160;be&#160;informed&#160;by&#160;calling&#160;CanNm_ConfirmPnAvailability.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&#160;<br/>
Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanSMs.html#27">e 'Service IDs'&#160;</a>&#160;<br/>
&#160;<br/>
CanSM&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>
&#160;<br/>
Reentrant&#160;for&#160;different&#160;CAN&#160;transceivers&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
&#160;&#160;Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context.&#160;<br/>
Table&#160;5-25&#160;&#160;CanSM_ConfirmPnAvailability&#160;<br/>
<b>5.4.7&#160;</b><br/>
<b>CanSM_TxTimeoutException&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>CanSM_TxTimeoutException</b>&#160;( NetworkHandleType CanSM_NetworkHandle )&#160;<br/>
<b>Parameter&#160;</b><br/>
CanSM_NetworkHandle&#160;<br/>
The&#160;communication&#160;network&#160;number&#160;belonging&#160;to the&#160;request.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;function&#160;notifies&#160;the CanSM module&#160;that&#160;the&#160;Com&#160;has&#160;detected&#160;a&#160;Tx&#160;timeout&#160;exception,&#160;which shall&#160;be&#160;<br/>recovered by&#160;the CanSM module by&#160;a re-initialization&#160;of&#160;the CAN controller.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
45&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=46></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-46_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
&#160;<br/>
Service ID:&#160;see&#160;tabl<a href="TechnicalReference_CanSMs.html#27">e 'Service IDs'&#160;</a>&#160;<br/>
&#160;<br/>
CanSM&#160;has&#160;to&#160;be&#160;initialized.&#160;<br/>
&#160;<br/>
Reentrant&#160;for&#160;different&#160;CAN&#160;networks&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
&#160;&#160;Function can&#160;be&#160;called&#160;in&#160;task&#160;and&#160;interrupt&#160;context.&#160;<br/>
Table&#160;5-26&#160;&#160;CanSM_TxTimeoutException&#160;&#160;<br/>
<b>5.4.8&#160;</b><br/>
<b>CanSM_RamCheckCorruptMailbox&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>CanSM_RamCheckCorruptMailbox&#160;</b>(uint8 CanSM_ControllerId, Can_HwHandleType&#160;<br/>MailBox)&#160;<br/>
<b>Parameter&#160;</b><br/>
CanSM_ControllerId [in]&#160;<br/>
CAN controller&#160;index&#160;<br/>
MailBox&#160;[in]&#160;<br/>
Mail&#160;box&#160;identifier&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Handles&#160;the indication&#160;of&#160;a&#160;RAM check&#160;error.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Gets&#160;information&#160;about RAM check&#160;errors. Forwards&#160;the&#160;information&#160;to the application and&#160;evaluates&#160;HW&#160;<br/>register failures&#160;<br/>Configuration Variant(s):&#160;-&#160;<br/>Call&#160;context&#160;<br/>&gt;&#160;&#160;ANY&#160;<br/>&gt;&#160;&#160;This&#160;function&#160;is&#160;Reentrant&#160;<br/>
Table&#160;5-27&#160;&#160;CanSM_RamCheckCorruptMailbox&#160;<br/>
<b>5.4.9&#160;</b><br/>
<b>CanSM_RamCheckCorruptController&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>CanSM_RamCheckCorruptController&#160;</b>(uint8 CanSM_ControllerId)&#160;<br/>
<b>Parameter&#160;</b><br/>
CanSM_ControllerId [in]&#160;<br/>
CAN controller&#160;index&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Handles&#160;the indication&#160;of&#160;a&#160;RAM check&#160;error.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Gets&#160;information&#160;about RAM check&#160;errors. Forwards&#160;the&#160;information&#160;to the application and&#160;evaluates&#160;HW&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
46&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=47></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-47_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
register failures&#160;<br/>Configuration Variant(s):&#160;-&#160;<br/>Call&#160;context&#160;<br/>&gt;&#160;&#160;ANY&#160;<br/>&gt;&#160;&#160;This&#160;function&#160;is&#160;Reentrant&#160;<br/>
Table&#160;5-28&#160;&#160;&#160;CanSM_RamCheckCorruptController&#160;<br/>
<b>5.5&#160;</b><br/>
<b>Callout Functions&#160;</b><br/>
<b>5.5.1&#160;</b><br/>
<b>Appl_CanSM_RamCheckStart&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Appl_CanSM_RamCheckStart&#160;</b>(NetworkHandleType CanSM_NetworkHandle)&#160;<br/>
<b>Parameter&#160;</b><br/>
CanSM_NetworkHandle&#160;<br/>
network&#160;handle&#160;<br/>
[in]&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Indicates&#160;the&#160;start&#160;of&#160;the&#160;RAM check.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
Indicates&#160;the&#160;start&#160;of&#160;the&#160;RAM check.&#160;<br/>Configuration Variant(s): CANSM_EXTENDED_RAM_CHECK&#160;<br/>Call&#160;context&#160;<br/>&gt;&#160;&#160;ANY&#160;<br/>&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>&gt;&#160;&#160;This&#160;function&#160;is&#160;Reentrant&#160;<br/>
Table&#160;5-29&#160;&#160;&#160;Appl_CanSM_RamCheckStart&#160;<br/>
<b>5.5.2&#160;</b><br/>
<b>Appl_CanSM_RamCheckCorruptController&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Appl_CanSM_RamCheckCorruptController&#160;</b>(NetworkHandleType&#160;<br/>CanSM_NetworkHandle)&#160;<br/>
<b>Parameter&#160;</b><br/>
CanSM_NetworkHandle&#160;<br/>
network&#160;handle&#160;<br/>
[in]&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Forwards&#160;register RAM failures.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
If&#160;register RAM failures&#160;occurs&#160;the&#160;information&#160;from&#160;the CanDrv&#160;is&#160;passed&#160;through&#160;the&#160;Application.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
47&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=48></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-48_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
Configuration Variant(s):&#160;CANSM_EXTENDED_RAM_CHECK&#160;<br/>Call&#160;context&#160;<br/>&gt;&#160;&#160;ANY&#160;<br/>&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>&gt;&#160;&#160;This&#160;function&#160;is&#160;Reentrant&#160;<br/>
Table&#160;5-30&#160;&#160;&#160;Appl_CanSM_RamCheckCorruptController&#160;<br/>
<b>5.5.3&#160;</b><br/>
<b>Appl_CanSM_RamCheckCorruptMailbox&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Appl_CanSM_RamCheckCorruptMailbox&#160;</b>(NetworkHandleType CanSM_NetworkHandle,&#160;<br/>Can_HwHandleType MailBox)&#160;<br/>
<b>Parameter&#160;</b><br/>
CanSM_NetworkHandle&#160;<br/>
Network&#160;handle&#160;<br/>
[in]&#160;<br/>
Can_HwHandleType&#160;[in]&#160;<br/>
HW&#160;mail&#160;box&#160;identifier&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
void&#160;<br/>
none&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Forwards&#160;message box&#160;RAM failures.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
If&#160;a&#160;message box&#160;RAM failure occurs&#160;the&#160;information&#160;from&#160;the CanDrv&#160;is&#160;passed&#160;through&#160;the&#160;Application.&#160;<br/>Configuration Variant(s): CANSM_EXTENDED_RAM_CHECK&#160;<br/>Call&#160;context&#160;<br/>&gt;&#160;&#160;ANY&#160;<br/>&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>&gt;&#160;&#160;This&#160;function&#160;is&#160;Reentrant&#160;<br/>
Table&#160;5-31&#160;&#160;&#160;Appl_CanSM_RamCheckCorruptMailbox&#160;<br/>
<b>5.5.4&#160;</b><br/>
<b>Appl_CanSM_RamCheckFinished&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Std_ReturnType&#160;<b>Appl_CanSM_RamCheckFinished&#160;</b>(NetworkHandleType&#160;<br/>CanSM_NetworkHandle)&#160;<br/>
<b>Parameter&#160;</b><br/>
CanSM_NetworkHandle&#160;<br/>
Network&#160;handle&#160;<br/>
[in]&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Std_ReturnType&#160;<br/>
CANSM_APPL_RAMCHECK_ENABLE&#160;Everything&#160;is&#160;E_OK&#160;<br/>CANSM_APPL_RAMCHECK_DISABLE&#160;Communication&#160;shall&#160;be disabled&#160;<br/>CANSM_APPL_RAMCHECK_ENABLE_REPEAT&#160;Communication&#160;shall&#160;be&#160;<br/>enabled and the RAM check&#160;repeated&#160;<br/>CANSM_APPL_RAMCHECK_DISABLE_REPEAT&#160;Communication&#160;shall&#160;be&#160;<br/>disabled&#160;and the RAM check&#160;repeated&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
48&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=49></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-49_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Indicates&#160;the end of&#160;the&#160;RAM check.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
The&#160;CanDrv&#160;has&#160;finished&#160;the extended&#160;RAM check.&#160;All&#160;potential&#160;errors&#160;have&#160;been reported.&#160;The&#160;Application&#160;<br/>has&#160;to&#160;specify&#160;further actions&#160;via&#160;return&#160;value.&#160;<br/>Configuration Variant(s): CANSM_EXTENDED_RAM_CHECK&#160;<br/>Call&#160;context&#160;<br/>&gt;&#160;&#160;ANY&#160;<br/>&gt;&#160;&#160;This&#160;function&#160;is&#160;Synchronous&#160;<br/>&gt;&#160;&#160;This&#160;function&#160;is&#160;Reentrant&#160;<br/>
Table&#160;5-32&#160;&#160;&#160;Appl_CanSM_RamCheckFinished&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
49&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=50></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-50_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>6&#160;&#160;AUTOSAR&#160;Standard&#160;Compliance&#160;</b><br/>
<b>6.1&#160;</b><br/>
<b>Deviations&#160;</b><br/>
<b>6.1.1&#160;</b><br/>
<b>Communication mode&#160;requests&#160;are&#160;acceped&#160;if possible&#160;</b><br/>
The&#160;module&#160;accepts&#160;the&#160;communication&#160;mode&#160;requests&#160;even&#160;if&#160;there&#160;is&#160;a&#160;pending&#160;mode&#160;<br/>indication.&#160;&#160;E.g.&#160;&#160;the&#160;&#160;CanSM&#160;&#160;is&#160;&#160;in&#160;&#160;state&#160;&#160;S_CC_STARTED_WAIT&#160;&#160;<a href="TechnicalReference_CanSMs.html#15">(3.3.3)&#160;&#160;</a>and&#160;&#160;gets&#160;&#160;a&#160;<br/>NO_COMMUNICATION request&#160;the&#160;deinitialization<a href="TechnicalReference_CanSMs.html#17">&#160;(3.3.7)&#160;</a>becomes&#160;started.&#160;<br/>Det_ReportError&#160;with&#160;the&#160;ErrorId&#160;parameter&#160;CANSM_E_WAIT_MODE_INDICATION&#160;is&#160;not&#160;<br/>used.&#160;<br/>
<b>6.2&#160;</b><br/>
<b>Additions/&#160;Extensions&#160;</b><br/>
<b>6.2.1&#160;</b><br/>
<b>API&#160;CanSM_InitMemory()&#160;</b><br/>
This service&#160;function&#160;was added&#160;to&#160;be&#160;called&#160;at&#160;“Power On”&#160;or after&#160;reset&#160;to&#160;set&#160;the&#160;global&#160;<br/>CanSM&#160;state.&#160;Afterwards&#160;the&#160;CanSM&#160;can&#160;be&#160;initialized&#160;correctly.&#160;<br/>
<b>6.2.2&#160;</b><br/>
<b>No&#160;Mode&#160;Notification&#160;During CanSM_Init&#160;</b><br/>
The&#160;ComM_BusSM_ModeIndication&#160;and&#160;BswM_CanSM_CurrentState&#160;are&#160;not&#160;called&#160;<br/>during&#160;the&#160;transition&#160;from&#160;CANSM_INIT&#160;to&#160;CANSM_NO_COMMUNNICATION&#160;because&#160;the&#160;<br/>ComM&#160;and&#160;BswM&#160;become&#160;initialized&#160;after the&#160;CanSM.&#160;<br/>
<b>6.2.3&#160;</b><br/>
<b>Configuration Options&#160;</b><br/>
It’s possible&#160;to&#160;(de)activate&#160;the&#160;DEM&#160;at&#160;pre-compile&#160;time,&#160;like&#160;DET.&#160;<br/>
<b>6.2.4&#160;</b><br/>
<b>Additional&#160;Bus-Off&#160;Recovery&#160;in&#160;State&#160;Silent&#160;</b><br/>
If&#160;bus-off&#160;occurs outside&#160;the&#160;state&#160;FULL_COMMUNICATION, the&#160;CanSM&#160;handles&#160;bus-off&#160;<br/>and&#160;sets&#160;the&#160;CAN&#160;controller mode&#160;to&#160;STARTED&#160;once.&#160;<br/>
<b>6.2.5&#160;</b><br/>
<b>API&#160;CanSM_CheckBorLevel()&#160;</b><br/>
This service&#160;function&#160;delivers the&#160;current&#160;bus-off&#160;level of&#160;a&#160;CAN&#160;network.&#160;<br/>
<b>6.2.6&#160;</b><br/>
<b>Partial&#160;Network&#160;Wake&#160;Up Filter&#160;</b><br/>
For the&#160;partial&#160;network use&#160;case&#160;it&#160;has to&#160;be&#160;ensured&#160;that&#160;that&#160;the&#160;first&#160;message&#160;on&#160;the&#160;bus&#160;<br/>is a&#160;wake&#160;up&#160;message.&#160;Therefore&#160;the&#160;CanSM&#160;triggers the&#160;PDU&#160;Mode&#160;<br/>CANIF_SET_ONLINE_WAKF&#160;instead&#160;CANIF_SET_ONLINE.&#160;The&#160;CanSM&#160;feature is&#160;automatically&#160;<br/>active&#160;if&#160;the&#160;feature is&#160;active&#160;in&#160;the&#160;CanIf.&#160;<br/>
<b>6.2.7&#160;</b><br/>
<b>ECU&#160;Passive&#160;Mode&#160;</b><br/>
The&#160;&#160;passive&#160;&#160;mode&#160;&#160;deactivates&#160;&#160;the&#160;&#160;Tx&#160;&#160;part&#160;&#160;during&#160;&#160;full&#160;&#160;communication.&#160;&#160;The&#160;&#160;ECU&#160;&#160;listens&#160;<br/>“passively” on&#160;all&#160;CAN&#160;busses.&#160;<br/>
<b>6.2.8&#160;</b><br/>
<b>PreventBusSleepAtStartUp&#160;</b><br/>
The&#160;additional&#160;API&#160;CanSM_PreventBusSleepAtStartUp()&#160;allows&#160;to&#160;skip&#160;the&#160;initial&#160;transition&#160;<br/>for the&#160;selected&#160;channel(s).&#160;<br/>
<b>6.2.9&#160;</b><br/>
<b>Post-Build Selectable&#160;(Identity&#160;Manager)&#160;</b><br/>
The&#160;code&#160;generator&#160;and&#160;the&#160;static code&#160;supports post&#160;build&#160;selectable&#160;configuration.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
50&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=51></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-51_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>6.2.10&#160;&#160;APIs&#160;to&#160;Assist EcuM&#160;Wakeup Validation&#160;<br/></b>The&#160;APIs&#160;can&#160;be&#160;used&#160;to&#160;ensure that&#160;the&#160;CAN&#160;HW&#160;is started/online&#160;during&#160;running&#160;wakeup&#160;&#160;<br/>Validation&#160;(chapte<a href="TechnicalReference_CanSMs.html#23">rs&#160;3.15,&#160;</a><a href="TechnicalReference_CanSMs.html#26">3.17.1,&#160;</a><a href="TechnicalReference_CanSMs.html#30">4.2,&#160;</a><a href="TechnicalReference_CanSMs.html#38">5.2.11,&#160;5.2.12).</a>&#160;<br/>
<b>6.2.11&#160;&#160;Swift&#160;or&#160;Large&#160;Tx&#160;Timeout&#160;Exception handling&#160;<br/></b>The&#160;CanSM&#160;provides&#160;two&#160;different&#160;versions&#160;o<a href="TechnicalReference_CanSMs.html#21">f&#160;Tx&#160;Timeout&#160;Exception&#160;</a>handling.&#160;The&#160;desired&#160;<br/>one&#160;can&#160;be&#160;configured.&#160;The&#160;new&#160;swift&#160;version&#160;sets&#160;the&#160;controller&#160;to&#160;stopped&#160;and&#160;back&#160;to&#160;<br/>started&#160;instead&#160;executing&#160;the&#160;whole&#160;shut&#160;down&#160;sequence&#160;to&#160;NoCom.&#160;<br/>
<b>6.2.12&#160;&#160;Extended RAM&#160;Check&#160;<br/></b>The&#160;CanSM&#160;triggers the&#160;DrvCan&#160;to&#160;execute&#160;CanSelfDiag&#160;(Extended&#160;RAM Check).&#160;&#160;<br/>
<b>6.2.13&#160;&#160;Expanded&#160;Tx&#160;Timeout Exception&#160;Handling&#160;<br/></b>The&#160;CanSM&#160;provides&#160;the&#160;option&#160;to&#160;configure&#160;a&#160;callout&#160;function&#160;which&#160;is&#160;called&#160;at&#160;the&#160;end&#160;of&#160;<br/>the&#160;timeout&#160;exception&#160;handling.&#160;If&#160;a&#160;valid&#160;function&#160;name&#160;is&#160;configured&#160;the&#160;CanSM&#160;activates&#160;<br/>the&#160;&#34;expanded&#34;&#160;time&#160;out&#160;exception&#160;handling.&#160;The&#160;&#34;expanded&#34;&#160;time&#160;out&#160;exception&#160;handling&#160;<br/>is&#160;equal&#160;to&#160;the&#160;CanSMSwiftTxTimeoutRecovery&#160;followed&#160;by&#160;the&#160;configured&#160;end&#160;indication.&#160;<br/>In&#160;addition&#160;the&#160;CanSM&#160;executes&#160;the&#160;handling&#160;also&#160;if&#160;the&#160;Tx&#160;timeout&#160;exception&#160;is&#160;indicated&#160;<br/>in&#160;the&#160;states &#34;SILENTCOM&#34;&#160;or &#34;BUS_OFF_CHECK&#34;.&#160;<br/>
<b>6.3&#160;</b><br/>
<b>Limitations&#160;</b><br/>
<b>6.3.1&#160;</b><br/>
<b>Controllers&#160;</b><br/>
The&#160;CanSM&#160;supports&#160;only&#160;one&#160;controller per&#160;channel.&#160;<br/>
<b>6.3.2&#160;</b><br/>
<b>Configuration Class&#160;</b><br/>
Only&#160;VARIANT-PRE-COMPILE&#160;is supported.&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
51&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=52></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-52_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>7&#160;&#160;Glossary&#160;and&#160;Abbreviations&#160;</b><br/>
<b>7.1&#160;</b><br/>
<b>Glossary&#160;</b><br/>
<b>Term&#160;</b><br/>
<b>Description&#160;</b><br/>
DaVinci&#160;Configurator&#160;&#160;Generation&#160;tool&#160;for&#160;MICROSAR&#160;components&#160;<br/>
Table&#160;7-1&#160;&#160;&#160;Glossary&#160;<br/>
<b>7.2&#160;</b><br/>
<b>Abbreviations&#160;</b><br/>
<b>Abbreviation&#160;</b><br/>
<b>Description&#160;</b><br/>
API&#160;<br/>
Application Programming Interface&#160;<br/>
AUTOSAR&#160;<br/>
Automotive Open System&#160;Architecture&#160;<br/>
BSW&#160;<br/>
Basis&#160;Software&#160;<br/>
BswM&#160;<br/>
Basic&#160;Software&#160;Mode Manager&#160;<br/>
CAN&#160;<br/>
Controller&#160;Area&#160;Network&#160;<br/>
CanDrv&#160;<br/>
CAN&#160;Driver&#160;<br/>
CanIf&#160;<br/>
CAN&#160;Interface&#160;<br/>
CanNm&#160;<br/>
CAN&#160;Network&#160;Management&#160;<br/>
CanSM&#160;<br/>
CAN&#160;State&#160;Manager&#160;<br/>
CanTrcv&#160;<br/>
CAN&#160;Transceiver&#160;<br/>
Cbk&#160;<br/>
Call-back&#160;/&#160;call-out&#160;notification (functions)&#160;<br/>
Cfg&#160;<br/>
Configuration&#160;<br/>
ComM&#160;<br/>
Communication&#160;Manager&#160;<br/>
DEM,&#160;Dem&#160;<br/>
Diagnostic&#160;Event&#160;Manager&#160;<br/>
DET,&#160;Det&#160;<br/>
Development&#160;Error&#160;Tracer&#160;<br/>
DTC&#160;<br/>
Diagnostic&#160;Trouble Code&#160;<br/>
ECU&#160;<br/>
Electronic&#160;Control&#160;Unit&#160;<br/>
EcuM&#160;<br/>
ECU&#160;State&#160;Manager&#160;<br/>
HIS&#160;<br/>
Hersteller&#160;Initiative Software&#160;<br/>
MICROSAR&#160;<br/>
Microcontroller&#160;Open&#160;System&#160;Architecture&#160;(the&#160;Vector&#160;AUTOSAR&#160;<br/>solution)&#160;<br/>
PDU&#160;<br/>
Protocol&#160;Data Unit&#160;<br/>
PN&#160;<br/>
Partial&#160;Networking&#160;<br/>
RAM&#160;<br/>
Random&#160;Access&#160;Memory&#160;<br/>
SBC&#160;<br/>
System&#160;Basis&#160;Chip&#160;<br/>
SchM&#160;<br/>
BSW&#160;Scheduler&#160;<br/>
SPI&#160;<br/>
Serial&#160;Peripheral&#160;Interface&#160;<br/>
SWC&#160;<br/>
Software&#160;Component&#160;<br/>
Table&#160;7-2&#160;&#160;&#160;Abbreviations&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
52&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name=53></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/CanSm/doc/TechnicalReference_CanSM-53_1.png"/><br/>
Technical&#160;Reference&#160;MICROSAR&#160;CAN&#160;State&#160;Manager&#160;<br/>
<b>8&#160;&#160;Contact&#160;</b><br/>
Visit&#160;our website&#160;for&#160;more information&#160;on&#160;<br/>&#160;<br/><b>&gt;&#160;&#160;</b>News&#160;<br/>
<b>&gt;&#160;&#160;</b>Products&#160;<br/>
<b>&gt;&#160;&#160;</b>Demo&#160;software&#160;<br/>
<b>&gt;&#160;&#160;</b>Support&#160;<br/>
<b>&gt;&#160;&#160;</b>Training&#160;data&#160;<br/>
<b>&gt;&#160;&#160;</b>Addresses&#160;<br/>
&#160;<br/>www.vector.com&#160;<br/>
©&#160;2016&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.9.0&#160;<br/>
53&#160;<br/>
based&#160;on&#160;template&#160;version&#160;5.0.0&#160;<br/>
<hr/>
<a name="outline"></a><h1>Document Outline</h1>
<ul>
<li><a href="TechnicalReference_CanSMs.html#9">1 Component History</a></li>
<li><a href="TechnicalReference_CanSMs.html#10">2 Introduction</a>
<ul>
<li><a href="TechnicalReference_CanSMs.html#10">2.1 Architecture Overview</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanSMs.html#12">3 Functional Description</a>
<ul>
<li><a href="TechnicalReference_CanSMs.html#12">3.1 Features</a></li>
<li><a href="TechnicalReference_CanSMs.html#13">3.2 Initialization</a></li>
<li><a href="TechnicalReference_CanSMs.html#13">3.3 State Machine</a>
<ul>
<li><a href="TechnicalReference_CanSMs.html#14">3.3.1 Mode Request Indication and Repetition</a></li>
<li><a href="TechnicalReference_CanSMs.html#14">3.3.2 Communication Mode Request Change (During Pending Mode Indication or Running Bus-Off Recovery)</a></li>
<li><a href="TechnicalReference_CanSMs.html#15">3.3.3 CANSM_NO_COMMUNICATION to CANSM_FULL_COMMUNICATION</a></li>
<li><a href="TechnicalReference_CanSMs.html#16">3.3.4 CANSM_FULL_COMMUNICATION to CANSM_SILENT_COMMUNICATION</a></li>
<li><a href="TechnicalReference_CanSMs.html#16">3.3.5 CANSM_SILENT_COMMUNICATION</a></li>
<li><a href="TechnicalReference_CanSMs.html#16">3.3.6 CANSM_SILENT_COMMUNICATION to CANSM_FULL_COMMUNICATION</a></li>
<li><a href="TechnicalReference_CanSMs.html#17">3.3.7 Transition to CANSM_NO_COMMUNICATION</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanSMs.html#18">3.4 Bus-Off Recovery</a></li>
<li><a href="TechnicalReference_CanSMs.html#19">3.5 Main Function</a></li>
<li><a href="TechnicalReference_CanSMs.html#19">3.6 Communication Modes</a></li>
<li><a href="TechnicalReference_CanSMs.html#19">3.7 Communication Mode Polling</a></li>
<li><a href="TechnicalReference_CanSMs.html#19">3.8 Bus-off Level Polling</a></li>
<li><a href="TechnicalReference_CanSMs.html#19">3.9 Partial Networking</a></li>
<li><a href="TechnicalReference_CanSMs.html#21">3.10 Tx Timeout Exception</a></li>
<li><a href="TechnicalReference_CanSMs.html#21">3.11 Baud Rate Adaption</a></li>
<li><a href="TechnicalReference_CanSMs.html#22">3.12 ECU Passive Mode</a></li>
<li><a href="TechnicalReference_CanSMs.html#22">3.13 PreventBusSleepAtStartUp</a></li>
<li><a href="TechnicalReference_CanSMs.html#23">3.14 BusOff Recovery Notifications Extension of Tx Offline Duration</a></li>
<li><a href="TechnicalReference_CanSMs.html#23">3.15 Wake-up Validation Assistance</a></li>
<li><a href="TechnicalReference_CanSMs.html#23">3.16 Start/Stop Wake-up Sources</a>
<ul>
<li><a href="TechnicalReference_CanSMs.html#23">3.16.1 Normal Behavior</a></li>
<li><a href="TechnicalReference_CanSMs.html#24">3.16.2 Usage</a></li>
<li><a href="TechnicalReference_CanSMs.html#24">3.16.3 Exceptional Behavior</a></li>
<li><a href="TechnicalReference_CanSMs.html#24">3.16.4 Potential Effect</a>
<ul>
<li><a href="TechnicalReference_CanSMs.html#24">3.16.4.1 Start of the Wakeup Sources Fail</a></li>
<li><a href="TechnicalReference_CanSMs.html#24">3.16.4.2 Stop of the Wakeup Sources Fail</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanSMs.html#25">3.16.5 Countermeasures</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanSMs.html#26">3.17 Error Handling</a>
<ul>
<li><a href="TechnicalReference_CanSMs.html#26">3.17.1 Development Error Reporting</a></li>
<li><a href="TechnicalReference_CanSMs.html#27">3.17.2 Production Code Error Reporting</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_CanSMs.html#29">4 Integration</a>
<ul>
<li><a href="TechnicalReference_CanSMs.html#29">4.1 Scope of Delivery</a>
<ul>
<li><a href="TechnicalReference_CanSMs.html#29">4.1.1 Static Files</a></li>
<li><a href="TechnicalReference_CanSMs.html#29">4.1.2 Dynamic Files</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanSMs.html#30">4.2 Critical Sections</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanSMs.html#32">5 API Description</a>
<ul>
<li><a href="TechnicalReference_CanSMs.html#32">5.1 Type Definitions</a></li>
<li><a href="TechnicalReference_CanSMs.html#32">5.2 Services Provided by CanSM</a>
<ul>
<li><a href="TechnicalReference_CanSMs.html#32">5.2.1 CanSM_InitMemory</a></li>
<li><a href="TechnicalReference_CanSMs.html#33">5.2.2 CanSM_PreInit</a></li>
<li><a href="TechnicalReference_CanSMs.html#33">5.2.3 CanSM_Init</a></li>
<li><a href="TechnicalReference_CanSMs.html#34">5.2.4 CanSM_MainFunction</a></li>
<li><a href="TechnicalReference_CanSMs.html#34">5.2.5 CanSM_RequestComMode</a></li>
<li><a href="TechnicalReference_CanSMs.html#35">5.2.6 CanSM_GetCurrentComMode</a></li>
<li><a href="TechnicalReference_CanSMs.html#35">5.2.7 CanSM_GetVersionInfo</a></li>
<li><a href="TechnicalReference_CanSMs.html#36">5.2.8 CanSM_CheckBaudrate</a></li>
<li><a href="TechnicalReference_CanSMs.html#36">5.2.9 CanSM_ChangeBaudrate</a></li>
<li><a href="TechnicalReference_CanSMs.html#37">5.2.10 CanSM_SetBaudrate</a></li>
<li><a href="TechnicalReference_CanSMs.html#38">5.2.11 CanSM_StartWakeupSources</a></li>
<li><a href="TechnicalReference_CanSMs.html#38">5.2.12 CanSM_StopWakeupSources</a></li>
<li><a href="TechnicalReference_CanSMs.html#39">5.2.13 CanSM_CheckBorLevel</a></li>
<li><a href="TechnicalReference_CanSMs.html#39">5.2.14 CanSM_SetEcuPassive</a></li>
<li><a href="TechnicalReference_CanSMs.html#40">5.2.15 CanSM_PreventBusSleepAtStartUp</a></li>
<li><a href="TechnicalReference_CanSMs.html#40">5.2.16 CanSM_RamCheckStatus</a></li>
<li><a href="TechnicalReference_CanSMs.html#41">5.2.17 CanSM_RamCheckEnableMailbox</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanSMs.html#41">5.3 Services Used by CanSM</a></li>
<li><a href="TechnicalReference_CanSMs.html#42">5.4 Callback Functions</a>
<ul>
<li><a href="TechnicalReference_CanSMs.html#42">5.4.1 CanSM_ControllerBusOff</a></li>
<li><a href="TechnicalReference_CanSMs.html#43">5.4.2 CanSM_ControllerModeIndication</a></li>
<li><a href="TechnicalReference_CanSMs.html#43">5.4.3 CanSM_TransceiverModeIndication</a></li>
<li><a href="TechnicalReference_CanSMs.html#44">5.4.4 CanSM_ClearTrcvWufFlagIndication</a></li>
<li><a href="TechnicalReference_CanSMs.html#44">5.4.5 CanSM_CheckTransceiverWakeFlagIndication</a></li>
<li><a href="TechnicalReference_CanSMs.html#45">5.4.6 CanSM_ConfirmPnAvailability</a></li>
<li><a href="TechnicalReference_CanSMs.html#45">5.4.7 CanSM_TxTimeoutException</a></li>
<li><a href="TechnicalReference_CanSMs.html#46">5.4.8 CanSM_RamCheckCorruptMailbox</a></li>
<li><a href="TechnicalReference_CanSMs.html#46">5.4.9 CanSM_RamCheckCorruptController</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanSMs.html#47">5.5 Callout Functions</a>
<ul>
<li><a href="TechnicalReference_CanSMs.html#47">5.5.1 Appl_CanSM_RamCheckStart</a></li>
<li><a href="TechnicalReference_CanSMs.html#47">5.5.2 Appl_CanSM_RamCheckCorruptController</a></li>
<li><a href="TechnicalReference_CanSMs.html#48">5.5.3 Appl_CanSM_RamCheckCorruptMailbox</a></li>
<li><a href="TechnicalReference_CanSMs.html#48">5.5.4 Appl_CanSM_RamCheckFinished</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_CanSMs.html#50">6 AUTOSAR Standard Compliance</a>
<ul>
<li><a href="TechnicalReference_CanSMs.html#50">6.1 Deviations</a>
<ul>
<li><a href="TechnicalReference_CanSMs.html#50">6.1.1 Communication mode requests are acceped if possible</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanSMs.html#50">6.2 Additions/ Extensions</a>
<ul>
<li><a href="TechnicalReference_CanSMs.html#50">6.2.1 API CanSM_InitMemory()</a></li>
<li><a href="TechnicalReference_CanSMs.html#50">6.2.2 No Mode Notification During CanSM_Init</a></li>
<li><a href="TechnicalReference_CanSMs.html#50">6.2.3 Configuration Options</a></li>
<li><a href="TechnicalReference_CanSMs.html#50">6.2.4 Additional Bus-Off Recovery in State Silent</a></li>
<li><a href="TechnicalReference_CanSMs.html#50">6.2.5 API CanSM_CheckBorLevel()</a></li>
<li><a href="TechnicalReference_CanSMs.html#50">6.2.6 Partial Network Wake Up Filter</a></li>
<li><a href="TechnicalReference_CanSMs.html#50">6.2.7 ECU Passive Mode</a></li>
<li><a href="TechnicalReference_CanSMs.html#50">6.2.8 PreventBusSleepAtStartUp</a></li>
<li><a href="TechnicalReference_CanSMs.html#50">6.2.9 Post-Build Selectable (Identity Manager)</a></li>
<li><a href="TechnicalReference_CanSMs.html#51">6.2.10 APIs to Assist EcuM Wakeup Validation</a></li>
<li><a href="TechnicalReference_CanSMs.html#51">6.2.11 Swift or Large Tx Timeout Exception handling</a></li>
<li><a href="TechnicalReference_CanSMs.html#51">6.2.12 Extended RAM Check</a></li>
<li><a href="TechnicalReference_CanSMs.html#51">6.2.13 Expanded Tx Timeout Exception Handling</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanSMs.html#51">6.3 Limitations</a>
<ul>
<li><a href="TechnicalReference_CanSMs.html#51">6.3.1 Controllers</a></li>
<li><a href="TechnicalReference_CanSMs.html#51">6.3.2 Configuration Class</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_CanSMs.html#52">7 Glossary and Abbreviations</a>
<ul>
<li><a href="TechnicalReference_CanSMs.html#52">7.1 Glossary</a></li>
<li><a href="TechnicalReference_CanSMs.html#52">7.2 Abbreviations</a></li>
</ul>
</li>
<li><a href="TechnicalReference_CanSMs.html#53">8 Contact</a></li>
</ul>
<hr/>
</body>
</html>
