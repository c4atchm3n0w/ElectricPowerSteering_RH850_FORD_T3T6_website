---
title: UserManual_AUTOSAR_Calibrations
linkTitle: UserManual_AUTOSAR_Calibrations
weight: 13
---

<!DOCTYPE html><html>
<head>
<title></title>
<style type="text/css">
<!--
.xflip {
    -moz-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    -o-transform: scaleX(-1);
    transform: scaleX(-1);
    filter: fliph;
}
.yflip {
    -moz-transform: scaleY(-1);
    -webkit-transform: scaleY(-1);
    -o-transform: scaleY(-1);
    transform: scaleY(-1);
    filter: flipv;
}
.xyflip {
    -moz-transform: scaleX(-1) scaleY(-1);
    -webkit-transform: scaleX(-1) scaleY(-1);
    -o-transform: scaleX(-1) scaleY(-1);
    transform: scaleX(-1) scaleY(-1);
    filter: fliph + flipv;
}
-->
</style>
</head>
<body>
<a name=1></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-1_1.jpg"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-1_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-1_3.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-1_4.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-1_5.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-1_6.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-1_7.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-1_8.png"/><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>User Manual&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;&#160;AUTOSAR Calibration&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;&#160;</b>Measuring&#160;and&#160;Calibrating&#160;of&#160;AUTOSAR&#160;<br/>
Applications&#160;with&#160;XCP&#160;and&#160;CANape&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;&#160;Version&#160;1.0&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>English</b>&#160;<br/>
&#160;<br/>
<hr/>
<a name=2></a>&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>Imprint&#160;<br/></b>&#160;<br/>Vector&#160;Informatik&#160;GmbH&#160;<br/>Ingersheimer&#160;Straße&#160;24&#160;<br/>D-70499&#160;Stuttgart&#160;<br/>&#160;<br/>Vector&#160;reserves&#160;the&#160;right&#160;to&#160;modify&#160;any&#160;information&#160;and/or&#160;data&#160;in&#160;this&#160;user&#160;documentation&#160;without&#160;notice.&#160;This&#160;documentation&#160;nor&#160;any&#160;of&#160;<br/>its&#160;parts&#160;may&#160;be&#160;reproduced&#160;in&#160;any&#160;form&#160;or&#160;by&#160;any&#160;means&#160;without&#160;the&#160;prior&#160;written&#160;consent&#160;of&#160;Vector.&#160;To&#160;the&#160;maximum&#160;extent&#160;permitted&#160;<br/>under&#160;law,&#160;all&#160;technical&#160;data,&#160;texts,&#160;graphics,&#160;images&#160;and&#160;their design&#160;are&#160;protected&#160;by&#160;copyright&#160;law,&#160;various&#160;international&#160;treaties&#160;and&#160;<br/>other&#160;applicable&#160;law.&#160;Any&#160;unauthorized&#160;use&#160;may&#160;violate&#160;copyright&#160;and&#160;other&#160;applicable&#160;laws&#160;or&#160;regulations.&#160;<br/>
&#160;Copyright&#160;2013,&#160;Vector&#160;Informatik&#160;GmbH.&#160;Printed&#160;in&#160;Germany.&#160;<br/>All&#160;rights&#160;reserved.&#160;<br/>&#160;<br/>
<hr/>
<a name=3></a>User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Contents&#160;<br/>
Contents&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#5"><b>1</b>&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#5"><b>Introduction&#160;</b></a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#5"><b>3</b>&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#6">1.1&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#6">Purpose&#160;of&#160;the&#160;AUTOSAR&#160;Calibration&#160;User Manual&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#6">4&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#7">1.2&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#7">About&#160;This&#160;User Manual&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#7">5&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#8">1.2.1&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#8">Certification&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#8">6&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#8">1.2.2&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#8">Warranty&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#8">6&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#8">1.2.3&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#8">Support&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#8">6&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#8">1.2.4&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#8">Trademarks&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#8">6&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#9"><b>2</b>&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#9"><b>Introduction to&#160;AUTOSAR&#160;</b></a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#9"><b>7</b>&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#10">2.1&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#10">Background&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#10">8&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#11">2.2&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#11">Approach&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#11">9&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#12">2.3&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#12">Basic&#160;Concept&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#12">10&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#13">2.4&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#13">Architecture&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#13">11&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#15"><b>3</b>&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#15"><b>Measuring and Calibrating of&#160;ECU&#160;Software&#160;</b></a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#15"><b>13</b>&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#16">3.1&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#16">Basics&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#16">14&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#17">3.2&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#17">XCP&#160;Driver&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#17">15&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#19">3.2.1&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#19">Measurement Modes&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#19">17&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#20">3.2.2&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#20">Autoselection&#160;and Software&#160;Version Check&#160;of&#160;the A2L&#160;File&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#20">18&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#21">3.2.3&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#21">Online&#160;Calibration&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#21">19&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#21">3.2.4&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#21">Page Switching&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#21">19&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#22">3.2.5&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#22">Bypassing&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#22">20&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#23">3.2.6&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#23">Resume Mode&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#23">21&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#24">3.3&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#24">A2L&#160;File&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#24">22&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#25">3.3.1&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#25">Structure&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#25">23&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#34">3.3.2&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#34">Mode&#160;of&#160;Functioning&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#34">32&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#35"><b>4</b>&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#35"><b>OEM&#160;</b></a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#35"><b>33</b>&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#36">4.1&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#36">Objective&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#36">34&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#36">4.2&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#36">Content&#160;of&#160;the Performance Specifications&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#36">34&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#36">4.3&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#36">Measurement Task&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#36">34&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#37">4.4&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#37">Calibration&#160;Task&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#37">35&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#37">4.5&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#37">XCP&#160;Features&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#37">35&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#38"><b>5</b>&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#38"><b>Supplier&#160;</b></a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#38"><b>36</b>&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#39">5.1&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#39">Preface&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#39">37&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#39">5.2&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#39">Requirements&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#39">37&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#39">5.3&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#39">Definition&#160;of&#160;Measurement&#160;and Calibration Parameters&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#39">37&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#40">5.3.1&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#40">Measuring&#160;and&#160;Calibrating&#160;of&#160;AUTOSAR Software Components&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#40">38&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#40">5.3.2&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#40">Measuring&#160;of&#160;Ports&#160;and Variables&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#40">38&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#41">5.3.3&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#41">XCP&#160;Events&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#41">39&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#42">5.3.4&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#42">Software Component&#160;with&#160;Calibration&#160;Parameters&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#42">40&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#42">5.3.5&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#42">Calibration&#160;Parameters&#160;for&#160;Multiple&#160;Software&#160;Components&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#42">40&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#43">5.3.6&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#43">Configuration of&#160;the&#160;RTE&#160;(Runtime Environment)&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#43">41&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#43">5.3.7&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#43">Measuring&#160;and&#160;Calibrating&#160;Without&#160;the Support of&#160;the&#160;RTE&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#43">41&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#44">5.3.8&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#44">Debugging&#160;of&#160;the&#160;BSW&#160;(Basic&#160;Software)&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#44">42&#160;</a><br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;I&#160;-&#160;<br/>
<hr/>
<a name=4></a>User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;<br/>
Contents&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#44">5.4&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#44">Configuration of&#160;the&#160;XCP&#160;Module&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#44">42&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#45">5.4.1&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#45">DAQ&#160;List Configuration&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#45">43&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#46">5.4.2&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#46">Tool-Driven DAQ&#160;Timestamp Option&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#46">44&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#46">5.4.3&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#46">XCP&#160;Event&#160;Information&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#46">44&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#46">5.4.4&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#46">Software&#160;Version Check&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#46">44&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#48">5.4.5&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#48">Use of&#160;the XCP&#160;Component in the&#160;Implementation&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#48">46&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#48">5.4.6&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#48">Recommendations&#160;for the&#160;Configuration of&#160;the&#160;XCP&#160;Module&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#48">46&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#50">5.5&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#50">Configuration of&#160;the&#160;Driver&#160;Modules&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#50">48&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#50">5.5.1&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#50">CAN&#160;Module&#160;MICROSAR XCP&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#50">48&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#50">5.6&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#50">Configuration of&#160;the&#160;Memory&#160;Management&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#50">48&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#50">5.6.1&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#50">Configuration for Resume Mode&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#50">48&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#51">5.7&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#51">Creating&#160;an&#160;A2L&#160;File&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#51">49&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#51">5.7.1&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#51">Creation&#160;of&#160;a&#160;Master&#160;A2L&#160;File&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#51">49&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#53">5.7.2&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#53">Expansion&#160;of&#160;the Master A2L&#160;File&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#53">51&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#54">5.7.3&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#54">Working&#160;with&#160;ASAP2 Tool-Set&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#54">52&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#56">5.7.4&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#56">Working&#160;with&#160;CANape&#160;and&#160;the&#160;ASAP2 Editor&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#56">54&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#57">5.8&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#57">Fast Access&#160;to&#160;the ECU Via the&#160;VX&#160;Module&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#57">55&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#58">5.9&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#58">Additional&#160;Topics&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#58">56&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#59"><b>6</b>&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#59"><b>Delivery&#160;Test/Quick&#160;Start&#160;</b></a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#59"><b>57</b>&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#60"><b>7</b>&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#60"><b>CANape&#160;Introduction&#160;</b></a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#60"><b>58</b>&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#61">7.1&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#61">Creation&#160;of&#160;a&#160;Project&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#61">59&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#62">7.2&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#62">Device Configuration&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#62">60&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#63">7.2.1&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#63">Devices&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#63">61&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#64">7.2.2&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#64">Networks&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#64">62&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#64">7.2.3&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#64">Vector Hardware&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#64">62&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#65">7.2.4&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#65">XCP&#160;Features&#160;in&#160;CANape&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#65">63&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#66">7.3&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#66">Online&#160;Measurement Configuration&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#66">64&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#66">7.3.1&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#66">Measurement&#160;Options&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#66">64&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#67">7.3.2&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#67">Measurement Signals&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#67">65&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#69">7.3.3&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#69">Recorder&#160;List&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#69">67&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#71">7.3.4&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#71">Event&#160;List&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#71">69&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#71">7.4&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#71">Working&#160;with&#160;Parameter&#160;Set Files&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#71">69&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#72">7.5&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#72">Dataset&#160;Management&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#72">70&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#72">7.5.1&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#72">Tool-Based&#160;in&#160;CANape&#160;11.0 and Higher&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#72">70&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#74">7.6&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#74">Offline&#160;Evaluation&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#74">72&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#76">7.7&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#76">Flashing&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#76">74&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#77"><b>8</b>&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#77"><b>Addresses&#160;</b></a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#77"><b>75</b>&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#78"><b>9</b>&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#78"><b>Abbreviations&#160;</b></a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#78"><b>76</b>&#160;</a><br/>
&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;II&#160;-&#160;<br/>
<hr/>
<a name=5></a>User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Introduction&#160;<br/>
<b>1&#160;&#160;Introduction&#160;</b><br/>
<b>In this&#160;chapter&#160;you&#160;will&#160;find&#160;the following&#160;information:&#160;</b><br/>
1.1&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#6">Purpose&#160;of&#160;the&#160;AUTOSAR&#160;Calibration&#160;User&#160;Manual&#160;</a><br/>
&#160;page&#160;4&#160;<br/>
1.2&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#7">About&#160;This&#160;User Manual&#160;</a><br/>
&#160;page&#160;5&#160;<br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#8">Certification&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#8">Warranty&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#8">Support&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#8">Trademarks&#160;</a><br/>
&#160;&#160;<br/>
&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;3&#160;-&#160;<br/>
<hr/>
<a name=6></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-6_1.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Introduction&#160;<br/>
<b>1.1&#160;&#160;Purpose&#160;of&#160;the&#160;AUTOSAR&#160;Calibration&#160;User&#160;Manual&#160;</b><br/>
AUTOSAR&#160;Standard&#160;&#160;The&#160;AUTOSAR Standard&#160;describes&#160;methods&#160;that&#160;enable standardized development&#160;<br/>
of&#160;reusable&#160;and replaceable software&#160;components&#160;within&#160;vehicles. This&#160;approach&#160;<br/>minimizes&#160;the&#160;development effort&#160;for electronic&#160;control&#160;unit&#160;(ECU)&#160;software. The&#160;<br/>software&#160;is&#160;then optimized&#160;using&#160;CANape.&#160;<br/>
Calibration&#160;and&#160;<br/>
Since&#160;the&#160;software developer cannot&#160;yet optimize&#160;the&#160;parameters&#160;for a control&#160;<br/>
measurement&#160;<br/>
algorithm&#160;of&#160;the ECU at&#160;the&#160;time of&#160;implementation,&#160;these parameters&#160;are defined&#160;in&#160;<br/>
parameters&#160;<br/>
the&#160;software as&#160;calibration&#160;parameters. The&#160;calibration&#160;parameters&#160;are ultimately&#160;<br/>variables&#160;in&#160;the source code that reside in RAM memory&#160;and remain unchanged&#160;by&#160;<br/>the&#160;algorithm&#160;itself. They&#160;can then be calibrated&#160;using&#160;CANape. To record the&#160;effects&#160;<br/>of&#160;the calibration process, additional&#160;measurement parameters&#160;are defined&#160;in&#160;the&#160;<br/>software. These parameters&#160;are also&#160;variables&#160;in the&#160;source code&#160;and reside in RAM&#160;<br/>memory. In contrast to&#160;calibration parameters, however, measurement parameters&#160;<br/>are continually&#160;changed&#160;by&#160;the&#160;ECU algorithm&#160;and reflect the current&#160;value. This&#160;<br/>makes&#160;the effects&#160;of&#160;the calibration&#160;process&#160;visible&#160;and&#160;allows&#160;the behavior of&#160;the&#160;<br/>ECU to be&#160;optimized.&#160;For&#160;example,&#160;the&#160;wheel&#160;speed&#160;(calibration&#160;parameter)&#160;of&#160;a&#160;<br/>driving dynamics&#160;control&#160;system&#160;is&#160;changed&#160;and&#160;the&#160;measuring equipment measures&#160;<br/>the&#160;corresponding&#160;sensor values&#160;(measurement parameters)&#160;in&#160;order&#160;to&#160;acquire the&#160;<br/>change&#160;in&#160;behavior of&#160;the algorithm.&#160;<br/>
CCP/XCP&#160;protocols&#160;<br/>
In&#160;order&#160;to&#160;access&#160;the&#160;ECU-internal&#160;measurement and&#160;calibration&#160;parameters&#160;during&#160;<br/>
with&#160;A2L file&#160;<br/>
runtime,&#160;the&#160;CCP&#160;and&#160;XCP&#160;protocols&#160;are used.&#160;A&#160;fundamental&#160;component&#160;of&#160;these&#160;<br/>address-oriented&#160;protocols&#160;is&#160;an&#160;A2L&#160;file.&#160;This&#160;file facilitates&#160;data&#160;handling,&#160;since&#160;it&#160;<br/>enables&#160;the&#160;symbolic&#160;selection&#160;of&#160;data&#160;objects&#160;independent&#160;from&#160;their&#160;memory&#160;<br/>addresses&#160;in the ECU. Thus, it is&#160;possible to access&#160;ECU-internal&#160;parameters&#160;using&#160;<br/>symbolic&#160;names. The&#160;measurement, calibration,&#160;and&#160;diagnostics&#160;system&#160;(CANape)&#160;<br/>maintains&#160;the link&#160;between&#160;the&#160;ECU-internal&#160;addresses&#160;and the&#160;associated&#160;symbolic&#160;<br/>names. For&#160;this, a&#160;separate&#160;A2L&#160;file&#160;is&#160;required&#160;for each ECU<a href="UserManual_AUTOSAR_Calibrations.html#6">.&#160;Figure&#160;1-1&#160;</a>shows&#160;the&#160;<br/>integration&#160;of&#160;the&#160;A2L&#160;file&#160;in&#160;the&#160;MCD system.&#160;<br/>
<i>Figure&#160;1-1:&#160;Integration&#160;<br/>of&#160;the&#160;A2L&#160;file&#160;in&#160;the&#160;<br/>MCD&#160;system&#160;</i><br/>
&#160;<br/>
ECU-independent&#160;<br/>
An&#160;ECU-independent concept for measuring and calibrating&#160;AUTOSAR&#160;applications&#160;<br/>
concept&#160;<br/>
is&#160;needed&#160;for the&#160;development of&#160;ECUs&#160;based on&#160;the&#160;AUTOSAR&#160;Standard.&#160;The&#160;<br/>AUTOSAR Calibration&#160;user&#160;manual&#160;describes&#160;a&#160;standardized&#160;procedure&#160;for&#160;<br/>implementing&#160;and calibrating an&#160;ECU&#160;according to&#160;AUTOSAR.&#160;<br/>
Structure&#160;of&#160;this&#160;<br/>
The&#160;document begins&#160;with&#160;a brief&#160;introduction of&#160;the&#160;AUTOSAR Standard.&#160;Aspects&#160;of&#160;<br/>
document&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#15">Measuring&#160;and&#160;Calibrating&#160;of&#160;ECU Software&#160;</a>are&#160;then explained.&#160;<br/>
&#160;<br/>
The<a href="UserManual_AUTOSAR_Calibrations.html#35">&#160;OEM&#160;</a>chapter serves&#160;as&#160;a&#160;checklist for OEMs&#160;when creating&#160;performance&#160;<br/>specifications. It&#160;briefly&#160;explains&#160;the&#160;details&#160;that must be communicated to the&#160;supplier&#160;<br/>in order to realize the&#160;desired&#160;measurement task.&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;4&#160;-&#160;<br/>
<hr/>
<a name=7></a>User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Introduction&#160;<br/>
&#160;<br/>
The<a href="UserManual_AUTOSAR_Calibrations.html#38">&#160;Supplier&#160;</a>chapter describes&#160;the&#160;procedure on the part of&#160;the supplier. It describes&#160;<br/>details&#160;for configuring&#160;MICROSAR&#160;XCP&#160;and&#160;the&#160;software components&#160;of&#160;AUTOSAR.&#160;<br/>It also&#160;explains&#160;the&#160;process&#160;of&#160;generating the A2L&#160;file.&#160;<br/>
&#160;<br/>
The<a href="UserManual_AUTOSAR_Calibrations.html#59">&#160;Delivery&#160;Test/Quick&#160;Start&#160;</a>chapter then explains&#160;how&#160;CANape&#160;can&#160;be&#160;used&#160;to&#160;<br/>perform&#160;a&#160;simple delivery&#160;test of&#160;the&#160;A2L&#160;file.&#160;This&#160;can&#160;additionally&#160;be&#160;used&#160;as&#160;a&#160;<br/>CANape&#160;Quick&#160;Start for the&#160;OEM.&#160;<br/>
&#160;<br/>
The&#160;final<a href="UserManual_AUTOSAR_Calibrations.html#60">&#160;CANape Introduction&#160;</a>chapter describes&#160;the&#160;path&#160;from&#160;project creation&#160;to&#160;<br/>flashing&#160;of&#160;optimized parameters&#160;in&#160;CANape.&#160;<br/>
<b>1.2&#160;&#160;About&#160;This&#160;User&#160;Manual&#160;</b><br/>
To Find&#160;information&#160;<br/>
This&#160;user&#160;manual&#160;provides&#160;you&#160;with the following&#160;access&#160;help:&#160;<br/>
quickly&#160;<br/>
<b>&gt;&#160;</b><br/>
At the beginning&#160;of&#160;each chapter&#160;you&#160;will&#160;find&#160;a&#160;summary&#160;of&#160;the contents.&#160;<br/>
<b>&gt;&#160;</b><br/>
The&#160;header shows&#160;in&#160;which&#160;chapter&#160;of&#160;the manual&#160;you&#160;are.&#160;<br/>
<b>&gt;&#160;</b><br/>
The&#160;footer shows&#160;the&#160;version&#160;of&#160;the&#160;manual.&#160;<br/>
<b>&gt;&#160;</b><br/>
At the end&#160;of&#160;the user manual&#160;you&#160;will&#160;find&#160;a list of&#160;abbreviations&#160;to&#160;look-up&#160;used&#160;<br/>abbreviations.&#160;<br/>
&#160;&#160;<br/>
Conventions&#160;<br/>
In&#160;the two&#160;tables&#160;below&#160;you&#160;will&#160;find&#160;the&#160;notation&#160;and&#160;icon&#160;conventions&#160;used&#160;<br/>throughout the manual.&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
<b>Style&#160;</b><br/>
<b>Utilization&#160;</b><br/>
&#160;<br/>
<b>bold&#160;</b><br/>
Fields/blocks,&#160;user/surface interface&#160;elements,&#160;window-&#160;and&#160;<br/>dialog&#160;names of&#160;the&#160;software,&#160;special&#160;emphasis&#160;of&#160;terms.&#160;<br/><b>[OK]</b>&#160;&#160;&#160;<br/>
Push&#160;buttons&#160;in&#160;square&#160;brackets&#160;<br/>
<b>File</b>|<b>Save</b>&#160;<br/>
Notation&#160;for&#160;menus&#160;and&#160;menu entries&#160;<br/>
&#160;<br/>
MICROSAR&#160;<br/>
Legally&#160;protected&#160;proper&#160;names and&#160;marginal&#160;notes.&#160;<br/>
&#160;<br/>
Source Code&#160;&#160;File and directory&#160;names,&#160;source&#160;code,&#160;class and&#160;object&#160;<br/>
names,&#160;object&#160;attributes&#160;and values&#160;<br/>
&#160;<br/>
Hyperlink&#160;<br/>
Hyperlinks&#160;and&#160;references.&#160;<br/>
&#160;<br/>
&lt;Ctrl&gt;+&lt;S&gt;&#160;<br/>
Notation&#160;for&#160;shortcuts.&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;5&#160;-&#160;<br/>
<hr/>
<a name=8></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-8_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-8_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-8_3.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-8_4.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-8_5.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Introduction&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
<b>Symbol&#160;</b><br/>
<b>Utilization&#160;</b><br/>
&#160;<br/>
This&#160;icon&#160;indicates&#160;notes&#160;and&#160;tips&#160;that&#160;facilitate&#160;your&#160;work.&#160;<br/>
&#160;<br/>
&#160;<br/>
This&#160;icon&#160;warns&#160;of&#160;dangers&#160;that&#160;could lead&#160;to damage.&#160;<br/>
&#160;<br/>
&#160;<br/>
This&#160;icon&#160;indicates&#160;more&#160;detailed&#160;information.&#160;<br/>
&#160;<br/>
&#160;<br/>
This&#160;icon&#160;indicates&#160;examples.&#160;<br/>
&#160;<br/>
&#160;<br/>
This&#160;icon&#160;indicates&#160;step-by-step&#160;instructions.&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
<b>1.2.1&#160;&#160;Certification&#160;</b><br/>
Quality&#160;<br/>
Vector Informatik&#160;GmbH&#160;has&#160;ISO&#160;9001:2008&#160;certification. The&#160;ISO&#160;standard is&#160;a&#160;<br/>
management system&#160;&#160;globally&#160;recognized&#160;standard.&#160;<br/>&#160;&#160;<br/>
<b>1.2.2&#160;&#160;Warranty&#160;</b><br/>
Restriction of&#160;<br/>
We&#160;reserve the&#160;right&#160;to&#160;modify&#160;the contents&#160;of&#160;the documentation&#160;or the software&#160;<br/>
warranty&#160;<br/>
without&#160;notice.&#160;Vector disclaims&#160;all&#160;liabilities&#160;for&#160;the&#160;completeness&#160;or correctness&#160;of&#160;<br/>the&#160;contents&#160;and for damages&#160;which may&#160;result from&#160;the use of&#160;this&#160;documentation.&#160;<br/>
&#160;&#160;<br/>
<b>1.2.3&#160;&#160;Support&#160;</b><br/>
&#160;&#160;<br/>
Need&#160;support?&#160;<br/>
You&#160;can get&#160;through to&#160;our&#160;hotline by&#160;calling&#160;<br/>
+49&#160;(0)711&#160;80670-200&#160;<br/>
or&#160;you can&#160;send&#160;a problem&#160;report to&#160;canape-support@vector.com.&#160;<br/>
&#160;&#160;<br/>
<b>1.2.4&#160;&#160;Trademarks&#160;</b><br/>
Protected&#160;<br/>
All&#160;brand&#160;names&#160;in this&#160;documentation&#160;are either registered or&#160;non-registered&#160;<br/>
trademarks&#160;<br/>
trademarks&#160;of&#160;their&#160;respective&#160;owners.&#160;<br/>
&#160;&#160;<br/>&#160;<br/>&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;6&#160;-&#160;<br/>
<hr/>
<a name=9></a>User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Introduction&#160;to&#160;AUTOSAR&#160;<br/>
<b>2&#160;&#160;Introduction to&#160;AUTOSAR&#160;</b><br/>
<b>In This&#160;Chapter&#160;You&#160;Will&#160;Find&#160;the Following&#160;Information:&#160;</b><br/>
2.1&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#10">Background&#160;</a><br/>
&#160;page&#160;8&#160;<br/>
2.2&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#11">Approach&#160;</a><br/>
&#160;page&#160;9&#160;<br/>
2.3&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#12">Basic&#160;Concept&#160;</a><br/>
&#160;page&#160;10&#160;<br/>
2.4&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#13">Architecture&#160;</a><br/>
&#160;page&#160;11&#160;<br/>
&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;7&#160;-&#160;<br/>
<hr/>
<a name=10></a>User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Introduction&#160;to&#160;AUTOSAR&#160;<br/>
<b>2.1&#160;&#160;Background&#160;</b><br/>
AUTOSAR&#160;<br/>
AUTOSAR (<b>AUT</b>omotive&#160;<b>O</b>pen&#160;<b>S</b>ystem&#160;<b>AR</b>chitecture)&#160;is&#160;a&#160;working&#160;group of&#160;<br/>automobile manufacturers&#160;and suppliers&#160;whose objective is&#160;to establish a&#160;joint&#160;<br/>industry&#160;standard for automotive&#160;E/E&#160;(electrics/electronics)&#160;architectures.&#160;<br/>
Main objectives&#160;<br/>
The&#160;main objectives&#160;of&#160;this&#160;effort are:&#160;<br/>
<b>&gt;&#160;</b><br/>
Management of&#160;the&#160;increasing&#160;E/E&#160;complexity&#160;<br/>
<b>&gt;&#160;</b><br/>
Improved&#160;flexibility&#160;for updates&#160;and&#160;modifications&#160;<br/>
<b>&gt;&#160;</b><br/>
Scalability&#160;to&#160;different vehicle and&#160;platform&#160;variants&#160;<br/>
<b>&gt;&#160;</b><br/>
Improved&#160;reliability&#160;and&#160;quality&#160;of&#160;E/E&#160;systems&#160;<br/>
<b>&gt;&#160;</b><br/>
Ability&#160;to&#160;identify&#160;errors&#160;in early&#160;phases&#160;of&#160;development&#160;<br/>
<b>&gt;&#160;</b><br/>
Reusability&#160;of&#160;functions&#160;irrespective of&#160;the&#160;supplier&#160;<br/>
<b>&gt;&#160;</b><br/>
Standardized&#160;model&#160;tools&#160;and&#160;code generators&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;8&#160;-&#160;<br/>
<hr/>
<a name=11></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-11_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-11_2.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Introduction&#160;to&#160;AUTOSAR&#160;<br/>
<b>2.2&#160;&#160;Approach&#160;</b><br/>
AUTOSAR&#160;elements&#160;&#160;<a href="UserManual_AUTOSAR_Calibrations.html#11">Figure&#160;2-1&#160;</a>shows&#160;the&#160;AUTOSAR&#160;approach.&#160;The&#160;individual&#160;elements&#160;are explained in&#160;<br/>
more detail&#160;below.&#160;<br/>
<i>Figure&#160;2-1:&#160;Concept&#160;of&#160;<br/>AUTOSAR1&#160;</i><br/>
&#160;<br/>
<b>AUTOSAR&#160;SW-C&#160;</b><br/>
The&#160;AUTOSAR software components&#160;form&#160;the framework&#160;of&#160;an&#160;application&#160;that runs&#160;<br/>on&#160;the AUTOSAR infrastructure.&#160;<br/>
&#160;&#160;<br/>
<b>Reference:</b>&#160;The&#160;interfaces&#160;of&#160;the AUTOSAR software&#160;components&#160;are described&#160;in&#160;<br/>more detail&#160;on<a href="http://www.autosar.org/index.php?p=1&up=2&uup=1&uuup=0">&#160;http://www.autosar.org/index.php?p=1&amp;up=2&amp;uup=1&amp;uuup=0.</a>&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
<b>SW-C Description&#160;</b><br/>
The&#160;software component&#160;description is&#160;provided&#160;by&#160;AUTOSAR, for example,&#160;for&#160;<br/>defining&#160;interfaces.&#160;<br/>
<b>Virtual&#160;Functional&#160;</b><br/>
The&#160;VFB&#160;describes&#160;all&#160;communication&#160;mechanisms&#160;of&#160;AUTOSAR at an&#160;abstract&#160;level.&#160;<br/>
<b>Bus (VFB)&#160;</b><br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;<br/>
1&#160;Source&#160;of&#160;figure:&#160;AUTOSAR&#160;Technical&#160;Overview&#160;V2.2.2&#160;R3.2&#160;Rev&#160;1&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;9&#160;-&#160;<br/>
<hr/>
<a name=12></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-12_1.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Introduction&#160;to&#160;AUTOSAR&#160;<br/>
<b>System&#160;Constraint&#160;</b><br/>
In&#160;order&#160;to&#160;integrate&#160;software components&#160;into&#160;a network&#160;of&#160;an&#160;ECU,&#160;AUTOSAR&#160;<br/>
<b>and&#160;ECU&#160;</b><br/>
provides&#160;descriptions&#160;for entire systems&#160;or for configurations&#160;and signals&#160;of&#160;individual&#160;<br/>
<b>Descriptions&#160;</b><br/>
ECUs.&#160;<br/>
<b>Runtime&#160;</b><br/>
The&#160;RTE&#160;implements&#160;the functionality&#160;of&#160;the&#160;VFB&#160;of&#160;a&#160;particular ECU. However, it can&#160;<br/>
<b>Environment&#160;(RTE)&#160;</b><br/>
delegate a&#160;portion&#160;to&#160;the&#160;basic&#160;software.&#160;<br/>
<b>Basic&#160;Software&#160;</b><br/>
The&#160;basic&#160;software&#160;provides&#160;the infrastructural&#160;functionality&#160;of&#160;the&#160;ECU.&#160;<br/>
<b>(BSW)&#160;<br/></b>&#160;&#160;<br/>
<b>2.3&#160;&#160;Basic&#160;Concept&#160;</b><br/>
Communication&#160;via&#160;<br/>
The&#160;communication&#160;between the&#160;individual&#160;components&#160;takes&#160;place via the&#160;Virtual&#160;<br/>
VFB&#160;<br/>
Functional&#160;Bus&#160;(VFB).&#160;At this&#160;stage,&#160;there&#160;is&#160;not&#160;yet&#160;any&#160;memory&#160;management of&#160;the&#160;<br/>ECUs. The&#160;VFB&#160;is&#160;used&#160;both&#160;within the ECU and&#160;across&#160;ECUs&#160;and has&#160;no&#160;<br/>knowledge&#160;of&#160;the&#160;bus&#160;technology&#160;used. This&#160;enables&#160;replacement of&#160;the&#160;application&#160;<br/>software, regardless&#160;of&#160;the&#160;bus&#160;technology&#160;use<a href="UserManual_AUTOSAR_Calibrations.html#12">d.&#160;Figure&#160;2-2&#160;</a>shows&#160;the&#160;<br/>communication&#160;flow&#160;of&#160;the&#160;Virtual&#160;Functional&#160;Bus.&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
<i>Figure&#160;2-2:&#160;Communication&#160;flow of&#160;the&#160;VFB&#160;<br/></i>&#160;&#160;<br/>
Running&#160;of&#160;the&#160;<br/>
As&#160;soon&#160;as&#160;all&#160;relevant&#160;objects&#160;have&#160;been&#160;defined, they&#160;are mapped to the ECU. The&#160;<br/>
components&#160;<br/>
VFB&#160;is&#160;implemented&#160;using&#160;an&#160;ECU-specific&#160;Runtime Environment (RTE)&#160;and,&#160;<br/>together&#160;with&#160;the&#160;operating&#160;system, takes&#160;over the running of&#160;the components.&#160;<br/>
Consistence of&#160;<br/>
Software components,&#160;here&#160;e.g.,&#160;<b>Left&#160;Door</b>&#160;and&#160;<b>Right&#160;Door</b>, consist&#160;of:&#160;<br/>
software components&#160;&#160;<b>&gt;&#160;&#160;Ports:</b>&#160;These serve as&#160;the interface for communication&#160;with&#160;other software&#160;<br/>
components. They&#160;can&#160;act&#160;either as&#160;sender/receiver&#160;or client/server. The&#160;ports&#160;<br/>are interconnected&#160;using&#160;<b>connectors</b>.&#160;<br/>
<b>&gt;&#160;</b><br/>
<b>Runnables:</b>&#160;Each atomic&#160;SW-C&#160;contains&#160;one&#160;or more runnables. These&#160;<br/>represent the&#160;runnable portion&#160;of&#160;the software component and&#160;reference functions&#160;<br/>and&#160;procedures.&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;10&#160;-&#160;<br/>
<hr/>
<a name=13></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-13_1.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Introduction&#160;to&#160;AUTOSAR&#160;<br/>
<b>2.4&#160;&#160;Architecture&#160;</b><br/>
Layers&#160;<br/>
The&#160;AUTOSAR architecture essentially&#160;has&#160;seven different&#160;layers&#160;(see<a href="UserManual_AUTOSAR_Calibrations.html#13">&#160;Figure&#160;2-3)</a>.&#160;<br/>The&#160;top and bottom&#160;layers&#160;are not&#160;explained&#160;in&#160;detail&#160;here as&#160;they&#160;do&#160;not&#160;belong to&#160;<br/>the&#160;basic&#160;software.&#160;<br/>
<i>Figure&#160;2-3:&#160;Overview of&#160;<br/>AUTOSAR layers&#160;</i><br/>
&#160;<br/>
<b>Microcontroller&#160;</b><br/>
The&#160;Microcontroller&#160;Abstraction&#160;Layer&#160;is&#160;the&#160;lowest software layer&#160;of&#160;the&#160;basic&#160;<br/>
<b>Abstraction&#160;Layer&#160;</b><br/>
software architecture and provides&#160;the upper&#160;layers&#160;their&#160;independence&#160;from&#160;the&#160;<br/>actual&#160;microcontroller.&#160;<br/>
<b>ECU&#160;Abstraction&#160;</b><br/>
The&#160;purpose of&#160;the ECU Abstraction&#160;Layer&#160;is&#160;to&#160;ensure the&#160;independence&#160;of&#160;higher&#160;<br/>
<b>Layer&#160;</b><br/>
layers&#160;from&#160;the actual&#160;ECU.&#160;<br/>
<b>Service Layer&#160;</b><br/>
The&#160;Service Layer&#160;is&#160;the highest&#160;layer of&#160;the&#160;basic&#160;software.&#160;It contains&#160;the operating&#160;<br/>system&#160;and assumes&#160;functions&#160;such as&#160;the network&#160;and NVRAM&#160;management and&#160;<br/>diagnostic&#160;services.&#160;<br/>
<b>Complex&#160;Device&#160;</b><br/>
The&#160;device driver&#160;layer controls&#160;special&#160;sensors&#160;and&#160;actuators&#160;via&#160;direct&#160;access&#160;to&#160;the&#160;<br/>
<b>Drivers&#160;</b><br/>
microcontroller. This&#160;involves&#160;sensors&#160;with&#160;special&#160;time conditions, for example,&#160;that&#160;<br/>supply&#160;fuel&#160;injection&#160;to&#160;paths.&#160;<br/>
<b>Runtime&#160;</b><br/>
As&#160;middleware,&#160;the Runtime Environment (RTE)&#160;integrates&#160;different applications&#160;with&#160;<br/>
<b>Environment&#160;</b><br/>
the&#160;basic&#160;software. It&#160;organizes&#160;the communication&#160;and&#160;data&#160;exchange&#160;between&#160;the&#160;<br/>two layers&#160;and&#160;manages&#160;the running of&#160;the runnables.&#160;Because&#160;all&#160;layers&#160;are&#160;<br/>described&#160;exactly, the&#160;application&#160;software can&#160;be&#160;implemented&#160;independent&#160;of&#160;the&#160;<br/>hardware&#160;and&#160;without&#160;knowledge&#160;of&#160;how the other&#160;layers&#160;behave.&#160;The&#160;communication&#160;<br/>between&#160;the&#160;layers&#160;takes&#160;place via&#160;ports&#160;defined&#160;beforehand.&#160;<br/>
&#160;<br/>
The&#160;following&#160;Figure&#160;2-4&#160;shows&#160;the complete AUTOSAR ECU software&#160;architecture.&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;11&#160;-&#160;<br/>
<hr/>
<a name=14></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-14_1.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Introduction&#160;to&#160;AUTOSAR&#160;<br/>
&#160;<br/>
<i>Figure&#160;2-4:&#160;AUTOSAR&#160;software&#160;architecture2&#160;</i><br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;<br/>
2&#160;Source&#160;of&#160;figure:&#160;AUTOSAR&#160;Technical&#160;Overview&#160;V2.2.2&#160;R3.2&#160;Rev&#160;1&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;12&#160;-&#160;<br/>
<hr/>
<a name=15></a>User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Measuring&#160;and Calibrating of&#160;ECU&#160;Software&#160;<br/>
<b>3&#160;&#160;Measuring and&#160;Calibrating&#160;of&#160;ECU Software&#160;</b><br/>
<b>In This&#160;Chapter&#160;You&#160;Will&#160;Find&#160;the Following&#160;Information:&#160;</b><br/>
3.1&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#16">Basics&#160;</a><br/>
&#160;page&#160;14&#160;<br/>
3.2&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#17">XCP&#160;Driver&#160;</a><br/>
&#160;page&#160;15&#160;<br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#19">Measurement Modes&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#20">Autoselection&#160;and Software&#160;Version Check&#160;of&#160;the A2L&#160;File&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#21">Online&#160;Calibration&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#21">Page Switching&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#22">Bypassing&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#23">Resume Mode&#160;</a><br/>
3.3&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#24">A2L&#160;File&#160;</a><br/>
&#160;page&#160;22&#160;<br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#25">Structure&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#34">Mode&#160;of&#160;Functioning&#160;</a><br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;13&#160;-&#160;<br/>
<hr/>
<a name=16></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-16_1.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Measuring&#160;and Calibrating of&#160;ECU&#160;Software&#160;<br/>
<b>3.1&#160;&#160;Basics&#160;</b><br/>
Challenge&#160;<br/>
Variables&#160;in&#160;the&#160;source code are&#160;implemented&#160;as&#160;measurement and&#160;calibration&#160;<br/>parameters&#160;in the ECU software. The&#160;task&#160;of&#160;the calibration engineer&#160;is&#160;to&#160;measure&#160;<br/>and calibrate&#160;these&#160;parameters&#160;so that&#160;the&#160;behavior&#160;of&#160;the&#160;ECU&#160;is&#160;optimized. To&#160;<br/>make the&#160;calibration process&#160;convenient,&#160;calibration&#160;tools&#160;such as&#160;the&#160;MCD tool&#160;<br/>(<b>M</b>easurement,&#160;<b>C</b>alibration,&#160;<b>D</b>iagnostics)&#160;CANape&#160;are&#160;used. This&#160;type&#160;of&#160;tool&#160;requires&#160;<br/>an&#160;XCP&#160;driver and&#160;an&#160;A2L&#160;file&#160;for communicating&#160;with the&#160;ECU. The&#160;XCP&#160;driver&#160;<br/>enables&#160;the&#160;access&#160;to&#160;ECU-internal&#160;parameters&#160;during&#160;runtime.&#160;The&#160;A2L&#160;file,&#160;in&#160;turn,&#160;<br/>links&#160;the symbolic&#160;name of&#160;a measurement or&#160;calibration&#160;parameter&#160;with&#160;its&#160;memory&#160;<br/>address. In&#160;this&#160;way, the calibration&#160;engineer can&#160;calibrate&#160;individual&#160;calibration&#160;<br/>parameters&#160;with&#160;CANape&#160;without&#160;having to know&#160;the&#160;memory&#160;address&#160;of&#160;the&#160;<br/>parameter.&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
<i>Figure&#160;3-1:&#160;Measurement&#160;and&#160;calibration&#160;process&#160;<br/></i>&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;14&#160;-&#160;<br/>
<hr/>
<a name=17></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-17_1.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Measuring&#160;and Calibrating of&#160;ECU&#160;Software&#160;<br/>
<b>3.2&#160;&#160;XCP&#160;Driver&#160;</b><br/>
Protocol&#160;<br/>
The&#160;XCP&#160;driver&#160;–&#160;such&#160;as&#160;MICROSAR&#160;XCP&#160;–&#160;is&#160;a&#160;further&#160;development of&#160;the CCP&#160;<br/>driver and can&#160;be&#160;used universally&#160;for different bus&#160;systems. It&#160;involves&#160;a protocol&#160;<br/>based&#160;on&#160;the&#160;single master/multi-slave&#160;principle.&#160;An XCP&#160;master, such as&#160;CANape, is&#160;<br/>able to communicate&#160;simultaneously&#160;with&#160;various&#160;XCP&#160;slaves. These include, for&#160;<br/>example,&#160;the&#160;ECU&#160;or HIL/SIL&#160;systems<a href="UserManual_AUTOSAR_Calibrations.html#17">.&#160;Figure&#160;3-2&#160;</a>shows&#160;the&#160;slave connection&#160;via&#160;<br/>XCP.&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
<i>Figure&#160;3-2:&#160;Communication&#160;possibilities&#160;of&#160;an&#160;XCP master&#160;such&#160;as&#160;CANape&#160;<br/></i>&#160;&#160;<br/>
Communication&#160;via&#160;<br/>
CANape&#160;communicates&#160;with the&#160;ECU&#160;via the&#160;XCP&#160;driver. The&#160;A2L&#160;file&#160;is&#160;an&#160;important&#160;<br/>
A2L&#160;file&#160;<br/>
component&#160;of&#160;this&#160;communication. From&#160;this&#160;file,&#160;the&#160;XCP&#160;master reads&#160;all&#160;<br/>information&#160;that&#160;is&#160;important for the&#160;communication&#160;setup&#160;and&#160;sequence.&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;15&#160;-&#160;<br/>
<hr/>
<a name=18></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-18_1.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Measuring&#160;and Calibrating of&#160;ECU&#160;Software&#160;<br/>
&#160;<br/>
<i>Figure&#160;3-3:&#160;Single&#160;master/multi-slave&#160;concept&#160;</i><br/>
&#160;&#160;<br/>
Transfer objects&#160;<br/>
In&#160;the XCP&#160;protocol, a&#160;distinction&#160;is&#160;made&#160;between &#34;Command&#160;Transfer Objects&#160;<br/>(CTO)&#34;&#160;and&#160;&#34;Data&#160;Transfer Objects&#160;(DTO)&#34;&#160;(see&#160;Figure&#160;3-3). The&#160;Object Description&#160;<br/>Table (ODT)&#160;describes&#160;the&#160;mapping&#160;of&#160;the&#160;DTOs&#160;and memory&#160;of&#160;the slave.&#160;The&#160;<br/>reception of&#160;a&#160;CTO&#160;signals&#160;the&#160;slave to run a&#160;certain service.&#160;The&#160;transmission&#160;of&#160;a&#160;<br/>DTO&#160;is&#160;used&#160;for event-triggered reading&#160;and&#160;writing&#160;of&#160;objects&#160;from&#160;the&#160;memory&#160;of&#160;the&#160;<br/>XCP&#160;slave.&#160;For this, DAQ&#160;(Data&#160;Acquisition)&#160;lists&#160;are created&#160;from&#160;multiple&#160;ODTs&#160;in&#160;<br/>order&#160;to&#160;send&#160;the&#160;measurement values&#160;to&#160;the&#160;master at the same time that an&#160;event&#160;<br/>occurs. The&#160;events&#160;are defined&#160;using&#160;event&#160;channels&#160;and&#160;take over,&#160;with&#160;the&#160;help&#160;of&#160;<br/>defined&#160;time bases, the timing&#160;for task-synchronous&#160;transmission&#160;of&#160;measurement&#160;<br/>data.&#160;<br/>
Dynamic&#160;<br/>
With&#160;XCP&#160;it&#160;is&#160;possible&#160;to&#160;configure the&#160;DAQ&#160;lists&#160;both&#160;statically&#160;as&#160;well&#160;as&#160;<br/>
configuration&#160;of&#160;DAQ&#160;&#160;dynamically.&#160;In&#160;the&#160;case&#160;of&#160;static&#160;configuration, the&#160;maximum&#160;number&#160;of&#160;DAQ&#160;lists,&#160;<br/>lists&#160;<br/>
ODT&#160;tables, and ODT&#160;entries&#160;per&#160;DAQ&#160;list is&#160;fixed&#160;at compile time.&#160;With&#160;dynamic&#160;<br/>DAQ&#160;lists,&#160;on&#160;the&#160;other hand,&#160;only&#160;the maximum&#160;memory&#160;size&#160;is&#160;specified at compile&#160;<br/>time.&#160;This&#160;enables&#160;more efficient memory&#160;utilization&#160;since the&#160;size&#160;of&#160;the DAQ&#160;lists&#160;is&#160;<br/>defined&#160;individually.&#160;If&#160;necessary,&#160;it&#160;also&#160;allows&#160;more&#160;measurement signals&#160;to&#160;be&#160;<br/>measured compared&#160;to&#160;the&#160;static&#160;configuration. In addition,&#160;implementation in the&#160;<br/>XCP&#160;driver&#160;is&#160;significantly&#160;easier because specifications&#160;such as&#160;the maximum&#160;<br/>number&#160;of&#160;ODTs&#160;is&#160;eliminated. The&#160;dynamic&#160;configuration&#160;is&#160;therefore&#160;the&#160;only&#160;mode&#160;<br/>supported.&#160;<br/>
XCP&#160;features&#160;<br/>
The XCP&#160;protocol&#160;also enables&#160;use&#160;of&#160;some optional&#160;XCP&#160;features. These must&#160;be&#160;<br/>explicitly&#160;implemented&#160;and&#160;therefore be&#160;known&#160;to&#160;the&#160;supplier. The&#160;rest&#160;of&#160;this&#160;section&#160;<br/>presents&#160;the following&#160;XCP&#160;features&#160;in more detail: Measurement Modes,&#160;<br/>Autoselection&#160;and Software&#160;Version Check&#160;of&#160;the A2L&#160;File,&#160;Online Calibration,&#160;Page&#160;<br/>Switching,&#160;Bypassing&#160;and&#160;Resume Mode.&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;16&#160;-&#160;<br/>
<hr/>
<a name=19></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-19_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-19_2.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Measuring&#160;and Calibrating of&#160;ECU&#160;Software&#160;<br/>
<b>3.2.1&#160;&#160;Measurement&#160;Modes&#160;</b><br/>
Measurement modes&#160;&#160;The&#160;XCP&#160;protocol&#160;enables&#160;two different&#160;measurement modes:&#160;<b>Polling</b>&#160;and&#160;<b>DAQ</b>&#160;<br/>
measurement. Both&#160;variants&#160;are briefly&#160;explained here.&#160;<br/>
&#160;&#160;<br/>
<b>Polling&#160;</b><br/>
<b>Polling</b>&#160;is&#160;the&#160;simplest measurement&#160;mode of&#160;the XCP&#160;protocol. In&#160;this&#160;mode,&#160;the&#160;<br/>XCP&#160;master uses&#160;an&#160;XCP&#160;command (SHORT_UPLOAD)&#160;to&#160;poll&#160;the&#160;measurement&#160;<br/>values&#160;in a&#160;uniform&#160;time base.&#160;The&#160;measurement data&#160;are not&#160;equidistant&#160;in this&#160;<br/>mode.&#160;If&#160;there is&#160;a&#160;high bus&#160;load,&#160;the&#160;measurement parameter&#160;may&#160;be transferred&#160;<br/>with&#160;a time lag.&#160;Figure&#160;3-4&#160;shows&#160;the communication&#160;sequence&#160;for the&#160;polling&#160;<br/>measurement&#160;mode.&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
<i>Figure&#160;3-4:&#160;Communication&#160;sequence&#160;for the&#160;<b>polling</b>&#160;measurement&#160;mode&#160;</i><br/>
&#160;&#160;<br/>
<b>DAQ&#160;</b><br/>
The&#160;<b>DAQ</b>&#160;measurement&#160;mode&#160;uses&#160;an&#160;optimized&#160;method&#160;in&#160;order&#160;to&#160;access&#160;ECU-<br/>internal&#160;values. In&#160;<b>DAQ</b>&#160;measurement&#160;mode,&#160;the XCP&#160;master groups&#160;the&#160;<br/>measurement and&#160;calibration&#160;parameters&#160;to&#160;be&#160;measured in&#160;ODTs&#160;and assigns&#160;these&#160;<br/>to&#160;the corresponding DAQ&#160;events&#160;before the&#160;start&#160;of&#160;the measurement. During the&#160;<br/>measurement, the&#160;XCP&#160;slave transmits&#160;the measurement&#160;values&#160;when&#160;the&#160;cyclic&#160;<br/>DAQ&#160;event or&#160;asynchronous&#160;DAQ&#160;event&#160;occurs&#160;without further requests&#160;to the master&#160;<br/>(see&#160;also the&#160;XCP&#160;Driver section).&#160;<br/>
&#160;<br/>
In&#160;the&#160;<b>DAQ</b>&#160;measurement&#160;mode,&#160;a distinction&#160;is&#160;also&#160;made between the&#160;<b>Consistency&#160;<br/>ODT</b>&#160;and&#160;<b>Consistency DAQ</b>&#160;modes. In&#160;the&#160;first case,&#160;the&#160;measurement data&#160;of&#160;an&#160;<br/>ODT&#160;are consistent. In the&#160;second case,&#160;the&#160;DAQ&#160;list&#160;as&#160;a&#160;whole&#160;is&#160;consistent,&#160;but not&#160;<br/>every&#160;ODT&#160;as&#160;a&#160;single&#160;entity.&#160;The&#160;measurement data can&#160;therefore be&#160;split between&#160;<br/>two ODTs.&#160;Figure&#160;3-5&#160;presents&#160;the communication&#160;sequence&#160;of&#160;the&#160;<b>DAQ</b>&#160;<br/>measurement&#160;mode in&#160;a trace.&#160;<br/>
&#160;&#160;<br/>
<b>Note:</b>&#160;Only&#160;the&#160;<b>Consistency ODT</b>&#160;is&#160;currently&#160;supported by&#160;MICROSAR.&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;17&#160;-&#160;<br/>
<hr/>
<a name=20></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-20_1.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Measuring&#160;and Calibrating of&#160;ECU&#160;Software&#160;<br/>
&#160;<br/>
<i>Figure&#160;3-5:&#160;Communication&#160;sequence&#160;for the&#160;<b>DAQ</b>&#160;measurement&#160;mode&#160;<br/></i>&#160;&#160;<br/>
Timestamps&#160;<br/>
If&#160;there are stringent&#160;requirements&#160;for time accuracy&#160;of&#160;the measurement values,&#160;<br/>generation&#160;of&#160;the timestamp directly&#160;in the ECU is&#160;recommended.&#160;In&#160;the DAQ&#160;<br/>measurement&#160;mode,&#160;the&#160;XCP&#160;driver also&#160;transfers&#160;the&#160;timestamp for each occurring&#160;<br/>event&#160;so that&#160;the&#160;measurement is&#160;not falsified&#160;by&#160;the running&#160;time of&#160;the transfer to&#160;<br/>the&#160;MCD tool.&#160;However, the throughput&#160;of&#160;measurement&#160;values&#160;is&#160;meanwhile&#160;<br/>reduced.&#160;Because the timestamps&#160;represent an additional&#160;load&#160;on&#160;the&#160;bus, their&#160;<br/>generation&#160;can&#160;also&#160;be&#160;controlled&#160;via the MCD tool.&#160;<br/>
&#160;<br/>
With&#160;a CAN&#160;bus, for example,&#160;it should be&#160;possible&#160;to&#160;disable the&#160;timestamp.&#160;With&#160;<br/>Ethernet,&#160;the&#160;timestamp is&#160;of&#160;little&#160;importance.&#160;<br/>
&#160;<br/>
Timestamps&#160;are&#160;mandatory&#160;on&#160;FlexRay&#160;when&#160;a cycle time is&#160;used&#160;that&#160;is&#160;faster than&#160;<br/>the&#160;FlexRay&#160;bus&#160;cycle.&#160;<br/>
&#160;&#160;<br/>
<b>3.2.2&#160;&#160;Autoselection and&#160;Software&#160;Version Check&#160;of the&#160;A2L File&#160;</b><br/>
Software&#160;version&#160;<br/>
CANape&#160;provides&#160;the&#160;option of&#160;checking&#160;the software&#160;version.&#160;This&#160;means&#160;that&#160;a&#160;<br/>
check&#160;<br/>
check&#160;is&#160;made based&#160;on certain&#160;information&#160;to&#160;determine&#160;whether die A2L&#160;file&#160;<br/>integrated in&#160;CANape&#160;corresponds&#160;to&#160;the&#160;current software version&#160;of&#160;the connected&#160;<br/>ECU. The&#160;option&#160;also&#160;exists&#160;to&#160;select&#160;the&#160;A2L file&#160;automatically&#160;using an&#160;XCP&#160;protocol&#160;<br/>command.&#160;<br/>
&#160;<br/>
CANape&#160;can use the&#160;following&#160;information&#160;for the&#160;software version&#160;check:&#160;<br/>
<b>&gt;&#160;</b><br/>
XCP&#160;Station&#160;Identifier (protocol&#160;command&#160;GET_ID)&#160;<br/>
<b>&gt;&#160;</b><br/>
EPK&#160;check&#160;<br/>
<b>&gt;&#160;</b><br/>
Checksum&#160;of&#160;code segments&#160;in the&#160;ECU (CANape&#160;11.0 and higher)&#160;<br/>
XCP&#160;station&#160;identifier&#160;&#160;The&#160;&#34;XCP&#160;Station&#160;Identifier&#34;&#160;(GET_ID)&#160;represents&#160;the name of&#160;the A2L&#160;file during the&#160;<br/>
software&#160;version check. This&#160;describes&#160;the software version&#160;in a&#160;meaningful&#160;way&#160;<br/>(e.g.,&#160;EcuName_V1-2-0.a2l).&#160;CANape&#160;can use this&#160;identifier to check&#160;whether&#160;the&#160;<br/>correct A2L&#160;file is&#160;loaded or&#160;load the appropriate A2L&#160;file automatically.&#160;<br/>
EPK&#160;check&#160;<br/>
The&#160;EPK&#160;identifier (EPROM identifier)&#160;is&#160;a&#160;character&#160;string&#160;that&#160;is&#160;present&#160;in&#160;the&#160;ECU&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;18&#160;-&#160;<br/>
<hr/>
<a name=21></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-21_1.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Measuring&#160;and Calibrating of&#160;ECU&#160;Software&#160;<br/>
as&#160;well&#160;as&#160;in the&#160;database.&#160;The&#160;address&#160;in&#160;the&#160;ECU&#160;where this&#160;identifier can&#160;be found&#160;<br/>is&#160;specified&#160;in&#160;the&#160;database. This&#160;character string&#160;can,&#160;in turn, designate&#160;the&#160;software&#160;<br/>version based&#160;on the project name and&#160;its&#160;version.&#160;<br/>
Checksum&#160;<br/>
The&#160;checksum&#160;of&#160;code segments&#160;(memory&#160;segments&#160;with&#160;ECU code)&#160;can&#160;be&#160;<br/>calculated&#160;for the HEX&#160;file&#160;and the&#160;ECU. On the basis&#160;of&#160;the checksum&#160;it can&#160;be&#160;<br/>determined&#160;if&#160;the HEX&#160;file,&#160;the&#160;A2L&#160;file,&#160;and&#160;the&#160;software on&#160;the&#160;ECU&#160;are compatible&#160;<br/>with&#160;respect to&#160;version. This&#160;approach&#160;assumes&#160;that&#160;the&#160;HEX&#160;file and&#160;the&#160;A2L file&#160;are&#160;<br/>viewed&#160;as&#160;a&#160;unit.&#160;<br/>
Application of&#160;the&#160;<br/>
The&#160;described&#160;procedures&#160;can&#160;be&#160;applied&#160;independently&#160;of&#160;one&#160;another.&#160;Each&#160;<br/>
procedures&#160;<br/>
individual&#160;procedure&#160;increases&#160;the assurance&#160;that&#160;you&#160;are&#160;working&#160;with&#160;correct data.&#160;<br/>For example,&#160;it&#160;is&#160;possible&#160;to have&#160;the&#160;A2L file&#160;selected automatically&#160;based&#160;on&#160;the&#160;<br/>&#34;XCP&#160;Station Identifier&#34;&#160;and&#160;to&#160;additionally&#160;use&#160;the&#160;check&#160;based&#160;on&#160;EPK&#160;identifier.&#160;<br/>
&#160;&#160;<br/>
<b>3.2.3&#160;&#160;Online&#160;Calibration&#160;</b><br/>
Prerequisite&#160;<br/>
This&#160;section&#160;introduces&#160;the&#160;most important terms&#160;regarding online&#160;calibration. Online&#160;<br/>calibration&#160;enables&#160;optimization of&#160;the&#160;calibration&#160;parameters&#160;of&#160;the ECU&#160;algorithm&#160;<br/>during runtime so that the&#160;effects&#160;of&#160;the change&#160;can&#160;be&#160;directly&#160;measured.&#160;A&#160;<br/>prerequisite&#160;for this&#160;is&#160;availability&#160;of&#160;sufficient RAM memory.&#160;<br/>
Calibration&#160;concepts&#160;<br/>
Two different calibration concepts&#160;are&#160;available for calibrating&#160;with&#160;XCP&#160;and&#160;<br/>AUTOSAR:&#160;<br/>
<b>&gt;&#160;</b><br/>
InitRAM&#160;<br/>
<b>&gt;&#160;</b><br/>
AUTOSAR&#160;Single Pointered&#160;<br/>
&#160;&#160;<br/>
<b>Reference:</b>&#160;Additional&#160;information&#160;on&#160;the&#160;topic&#160;of&#160;calibration concepts&#160;can&#160;be found in&#160;<br/>the&#160;respective&#160;AUTOSAR specification<a href="http://www.autosar.org/index.php?p=3&up=1&uup=2&uuup=10&uuuup=0&uuuuup=0">&#160;AUTOSAR_SWS_RTE,&#160;</a>chapter&#160;&#34;Calibration&#34;.&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
<b>3.2.4&#160;&#160;Page&#160;Switching&#160;</b><br/>
Switchover of&#160;<br/>
Calibration&#160;parameters&#160;normally&#160;reside in FLASH&#160;memory&#160;and&#160;are copied to&#160;RAM&#160;<br/>
memory&#160;segment&#160;<br/>
memory,&#160;if&#160;required. Depending on&#160;the&#160;implementation, some ECUs&#160;provide&#160;the&#160;<br/>
pages&#160;between&#160;RAM&#160;&#160;option&#160;of&#160;page&#160;switching,&#160;i.e.,&#160;the XCP&#160;switchover&#160;of&#160;memory&#160;segment pages&#160;<br/>and FLASH&#160;<br/>
between&#160;RAM&#160;and FLASH.&#160;With&#160;the&#160;help of&#160;this&#160;feature, calibration parameters&#160;can&#160;<br/>be calibrated&#160;and&#160;the&#160;possibility&#160;exists&#160;to quickly&#160;switch back&#160;to&#160;the&#160;values&#160;stored&#160;in&#160;<br/>FLASH memory. This&#160;XCP&#160;mechanism&#160;is&#160;independent&#160;of&#160;the calibration concept&#160;<br/>used.&#160;<br/>
Logical&#160;structure&#160;of&#160;<br/>
In&#160;principle,&#160;the&#160;memory&#160;is&#160;logically&#160;structured in segments. These specify&#160;where the&#160;<br/>
the&#160;memory&#160;in&#160;<br/>
calibration&#160;parameters&#160;reside.&#160;Each segment can,&#160;in&#160;turn, have&#160;multiple pages.&#160;A&#160;<br/>
segments&#160;<br/>
page&#160;describes&#160;the same data&#160;at the same address, but&#160;with&#160;different properties&#160;or&#160;<br/>values&#160;(see<a href="UserManual_AUTOSAR_Calibrations.html#22">&#160;Figure&#160;3-6).</a>&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;19&#160;-&#160;<br/>
<hr/>
<a name=22></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-22_1.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Measuring&#160;and Calibrating of&#160;ECU&#160;Software&#160;<br/>
<i>Figure&#160;3-6:&#160;Physical&#160;<br/>layout&#160;of&#160;the&#160;memory&#160;</i><br/>
&#160;<br/>
Assignment&#160;<br/>
The&#160;assignment of&#160;the algorithm&#160;to&#160;a&#160;page&#160;within&#160;a segment&#160;must be unambiguous&#160;at&#160;<br/>all&#160;times. In&#160;addition,&#160;only&#160;one&#160;page&#160;at&#160;a&#160;time may&#160;be&#160;active&#160;in&#160;a&#160;segment. This&#160;page&#160;<br/>is&#160;the so-called&#160;&#34;active&#160;page for the&#160;ECU&#160;in this&#160;segment&#34;.&#160;&#160;<br/>
Access&#160;<br/>
The&#160;page&#160;that&#160;the&#160;ECU&#160;or the&#160;XCP&#160;driver accesses&#160;can&#160;be&#160;controlled individually.&#160;The&#160;<br/>active page for the XCP&#160;access&#160;is&#160;called the “active&#160;page&#160;for the&#160;XCP&#160;access&#160;in this&#160;<br/>segment”.&#160;<br/>
Commands&#160;&#160;<br/>
In&#160;order&#160;to&#160;use&#160;page&#160;switching, the&#160;ECU must support the&#160;XCP&#160;commands&#160;<br/>GET_CAL_PAGE&#160;and&#160;SET_CAL_PAGE.&#160;<br/>
&#160;<br/>
With&#160;the&#160;GET_CAL_PAGE&#160;command,&#160;the&#160;master asks&#160;the&#160;slave&#160;which page&#160;of&#160;a&#160;<br/>segment is&#160;currently&#160;active.&#160;With&#160;the&#160;SET_CAL_PAGE&#160;command,&#160;on&#160;the&#160;other hand,&#160;<br/>the&#160;master can&#160;define&#160;which page&#160;the&#160;master itself&#160;or the&#160;ECU algorithm&#160;accesses.&#160;<br/>
&#160;&#160;<br/>
<b>3.2.5&#160;&#160;Bypassing&#160;</b><br/>
Changes&#160;to&#160;the&#160;ECU&#160;&#160;With&#160;the&#160;help&#160;of&#160;the&#160;bypassing&#160;feature, changes&#160;to&#160;the&#160;ECU algorithm&#160;can&#160;be&#160;made&#160;<br/>algorithm&#160;<br/>
without calibration&#160;and subsequent flashing&#160;of&#160;the software.&#160;<br/>
Implementation&#160;<br/>
To implement bypassing,&#160;at&#160;least&#160;2 XCP&#160;events&#160;as&#160;well&#160;as&#160;writable access&#160;to&#160;the ECU&#160;<br/>RAM&#160;via XCP&#160;are required.&#160;The&#160;events&#160;must differ in their&#160;direction&#160;(STIM,&#160;DAQ).&#160;<br/><a href="UserManual_AUTOSAR_Calibrations.html#23">Figure&#160;3-7&#160;</a>shows&#160;the&#160;use of&#160;bypassing.&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;20&#160;-&#160;<br/>
<hr/>
<a name=23></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-23_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-23_2.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Measuring&#160;and Calibrating of&#160;ECU&#160;Software&#160;<br/>
&#160;<br/>
<i>Figure&#160;3-7:&#160;Use&#160;of&#160;bypassing&#160;<br/></i>&#160;<br/>
<b>Signal&#160;path:&#160;<br/></b>1.&#160;&#160;Reception&#160;of&#160;signals&#160;of&#160;the&#160;ECU (DAQ)&#160;<br/>2.&#160;&#160;Transmission&#160;of&#160;signals&#160;as&#160;input&#160;of&#160;the&#160;model&#160;<br/>3.&#160;&#160;Transmission&#160;of&#160;events&#160;back&#160;to&#160;the XCP&#160;master&#160;<br/>4.&#160;&#160;Transmission&#160;of&#160;events&#160;back&#160;to&#160;the ECU&#160;(STIM)&#160;<br/>
<b>Calibration&#160;path:&#160;<br/></b>5.&#160;&#160;Calibration&#160;of&#160;the&#160;ECU (XCP)&#160;<br/>6.&#160;&#160;Calibration&#160;of&#160;the model&#160;with XCP&#160;<br/>&#160;<br/>
<b>Reference:</b>&#160;The<a href="http://www.asam.net/nc/home/standards/standard-detail.html?tx_rbwbmasamstandards_pi1%5bshowUid%5d=519&start=">&#160;ASAM XCP&#160;Version&#160;1.1&#160;Part&#160;1&#160;-&#160;Overview&#160;</a>specification, section&#160;1.3&#160;<br/>BYPASSING&#160;(BYP),&#160;explains&#160;in&#160;detail&#160;all&#160;other&#160;functions&#160;and&#160;implementations&#160;on&#160;the&#160;<br/>
&#160;<br/>
topic&#160;of&#160;bypassing.&#160;<br/>
&#160;&#160;<br/>
<b>3.2.6&#160;&#160;Resume&#160;Mode&#160;</b><br/>
Automatic&#160;data&#160;<br/>
Resume&#160;mode enables&#160;automatic&#160;data&#160;transfer to take place&#160;directly&#160;after switching&#160;<br/>
transfer&#160;<br/>
on&#160;the ECU. This&#160;mode is&#160;commonly&#160;used&#160;to start recording&#160;and evaluating data&#160;as&#160;<br/>soon as&#160;the&#160;ECU starts. Resume&#160;mode supports&#160;both the&#160;STIM&#160;and&#160;DAQ&#160;directions.&#160;<br/>The&#160;RESUME_SUPPORTED&#160;flag&#160;in&#160;the&#160;DAQ&#160;properties&#160;must be set&#160;appropriately&#160;in the&#160;<br/>A2L&#160;file.&#160;<br/>
Commands&#160;<br/>
With&#160;the&#160;START_STOP_DAQ_LIST&#160;command (select),&#160;the master can&#160;select&#160;a DAQ&#160;<br/>list as&#160;part of&#160;a&#160;DAQ&#160;list configuration&#160;that&#160;the&#160;slave stores&#160;in&#160;non-volatile memory.&#160;<br/>The&#160;master then sends&#160;to&#160;the&#160;slave&#160;the&#160;configuration ID that&#160;the&#160;master has&#160;itself&#160;<br/>calculated&#160;and&#160;stored.&#160;The&#160;slave then&#160;knows&#160;that&#160;it&#160;will&#160;store the&#160;DAQ&#160;lists&#160;in non-<br/>volatile&#160;memory&#160;as&#160;soon as&#160;the&#160;STORE_DAQ_REQ_RESUME&#160;command is&#160;transmitted&#160;<br/>to&#160;it.&#160;The&#160;configuration ID&#160;is&#160;also stored in non-volatile&#160;memory&#160;so that&#160;the&#160;slave can&#160;<br/>return it upon&#160;the&#160;GET_STATUS&#160;command.&#160;Via the&#160;GET_STATUS&#160;command,&#160;the&#160;<br/>master finds&#160;out&#160;whether a&#160;slave is&#160;in resume mode.&#160;Prior to storing,&#160;the&#160;slave&#160;deletes&#160;<br/>the&#160;previous&#160;content of&#160;the&#160;non-volatile memory.&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;21&#160;-&#160;<br/>
<hr/>
<a name=24></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-24_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-24_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-24_3.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Measuring&#160;and Calibrating of&#160;ECU&#160;Software&#160;<br/>
&#160;<br/>
&#160;<br/>
After each start&#160;of&#160;the slave, it sends&#160;the&#160;EV_RESUME_MODE&#160;command to the master.&#160;<br/>This&#160;command contains&#160;the&#160;following&#160;data:&#160;<br/>
<i>Figure&#160;3-8:&#160;Data&#160;of&#160;the&#160;<br/>EV_RESUME_MODE&#160;<br/>command&#160;</i><br/>
&#160;<br/>
Communication&#160;<br/>
The&#160;communication&#160;sequence between the master and&#160;slave can be&#160;tracked&#160;i<a href="UserManual_AUTOSAR_Calibrations.html#24">n&#160;Figure&#160;</a><br/>
sequence&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#24">3-9.</a>&#160;<br/>
<i>Figure&#160;3-9:&#160;<br/>Communication&#160;<br/>sequence&#160;between&#160;<br/>master and&#160;slave&#160;</i><br/>
&#160;<br/>
&#160;&#160;<br/>
<b>Reference:</b>&#160;Additional&#160;XCP&#160;commands&#160;and&#160;information&#160;regarding resume&#160;mode can&#160;<br/>be&#160;found&#160;in&#160;the<a href="http://www.asam.net/nc/home/standards/standard-detail.html?tx_rbwbmasamstandards_pi1%5bshowUid%5d=519&start=">&#160;ASAM XCP&#160;Version 1.1 Part 1&#160;-&#160;Overview&#160;</a>specification.&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
<b>3.3&#160;&#160;A2L&#160;File&#160;</b><br/>
Goal&#160;<br/>
The&#160;A2L&#160;file has&#160;been specified&#160;by&#160;the&#160;Association&#160;for Standardization&#160;of&#160;Automation&#160;<br/>and&#160;Measuring&#160;Systems&#160;(ASAM)&#160;with the goal&#160;of&#160;defining&#160;compatible and&#160;replaceable&#160;<br/>modules&#160;for electronics&#160;development in the&#160;automotive&#160;industry.&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;22&#160;-&#160;<br/>
<hr/>
<a name=25></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-25_1.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Measuring&#160;and Calibrating of&#160;ECU&#160;Software&#160;<br/>
<i>Figure&#160;3-10:&#160;ASAM&#160;<br/>interfaces&#160;</i><br/>
&#160;<br/>
&#160;&#160;<br/>
ECU description&#160;file&#160;<br/>
The&#160;description file&#160;of&#160;the&#160;ECU for configuring the models&#160;and the layout&#160;of&#160;the&#160;<br/>calibratable&#160;and&#160;measurable objects&#160;supplies&#160;the&#160;ASAP2 (ASAM&#160;MCD 2MC)&#160;interface&#160;<br/>in the&#160;form&#160;of&#160;the A2L file.&#160;Finally, the&#160;data&#160;exchange&#160;between&#160;the&#160;MCD system&#160;and&#160;<br/>the&#160;ECU&#160;is&#160;specified&#160;via the&#160;ASAM&#160;MCD&#160;1MC&#160;(ASAP1b) interface.&#160;<br/>
&#160;&#160;<br/>
<b>3.3.1&#160;&#160;Structure&#160;</b><br/>
Modular structure&#160;<br/>
The&#160;A2L&#160;file has&#160;a&#160;modular&#160;structure,&#160;which enables&#160;the replacement of&#160;individual&#160;<br/>modules&#160;without&#160;having&#160;to&#160;adapt the entire&#160;A2L file.<a href="UserManual_AUTOSAR_Calibrations.html#26">&#160;Figure&#160;3-11&#160;</a>shows&#160;this&#160;modular&#160;<br/>structure.&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;23&#160;-&#160;<br/>
<hr/>
<a name=26></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-26_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-26_2.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Measuring&#160;and Calibrating of&#160;ECU&#160;Software&#160;<br/>
<i>Figure&#160;3-11:&#160;Structure&#160;<br/>of&#160;the&#160;A2L&#160;file&#160;</i><br/>
&#160;<br/>
4 major parts&#160;<br/>
The&#160;project-relevant&#160;data at&#160;the start&#160;of&#160;the&#160;A2L&#160;file&#160;are&#160;defined using&#160;the&#160;PROJECT&#160;<br/>keyword&#160;and form&#160;the framework&#160;of&#160;the A2L&#160;file.&#160;These also&#160;include the ECU&#160;<br/>description&#160;that can be described&#160;with&#160;the&#160;MODULE&#160;keyword and divided&#160;into 4&#160;major&#160;<br/>parts:&#160;<br/>
<b>&gt;&#160;</b><br/>
AML&#160;<br/>
<b>&gt;&#160;</b><br/>
General&#160;ECU Implementation&#160;<br/>
<b>&gt;&#160;</b><br/>
IF_DATA&#160;<br/>
<b>&gt;&#160;</b><br/>
A2L&#160;Objects&#160;<br/>
&#160;<br/>
These parts&#160;are explained in more detail&#160;below.&#160;<br/>
&#160;&#160;<br/>
<b>3.3.1.1&#160;</b><br/>
<b>AML&#160;</b><br/>
Interface-specific&#160;<br/>
The&#160;first part defines&#160;the interface-specific&#160;parameters.&#160;It&#160;yields&#160;the framework&#160;of&#160;the&#160;<br/>
parameters&#160;<br/>
IF_DATA&#160;area that&#160;is&#160;defined&#160;using&#160;the&#160;A2ML&#160;metalanguage&#160;with&#160;the&#160;AML&#160;keyword.&#160;<br/>The&#160;AML&#160;is&#160;generally&#160;configured&#160;once since the specification&#160;of&#160;a&#160;driver and the&#160;<br/>corresponding&#160;features&#160;is&#160;also performed&#160;once.&#160;<br/>
&#160;&#160;<br/>
<b>Reference:</b>&#160;Detailed information regarding&#160;the&#160;metalanguage can&#160;be&#160;found&#160;in the&#160;<br/>ASAP2&#160;specification<a href="http://www.asam.net/nc/home/standards/standard-detail.html?tx_rbwbmasamstandards_pi1%5bshowUid%5d=531&start=">&#160;ASAM&#160;MCD-2&#160;MC, c</a>hapter&#160;5.&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;24&#160;-&#160;<br/>
<hr/>
<a name=27></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-27_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-27_2.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Measuring&#160;and Calibrating of&#160;ECU&#160;Software&#160;<br/>
<b>3.3.1.2&#160;</b><br/>
<b>General&#160;ECU&#160;Implementation&#160;</b><br/>
ECU description&#160;<br/>
This&#160;part of&#160;the&#160;A2L&#160;file specifies&#160;the&#160;ECU description.&#160;Here,&#160;standardized&#160;structures&#160;<br/>of&#160;the ECU and the general&#160;description&#160;are defined&#160;using&#160;the&#160;MOD_COMMON&#160;and&#160;<br/>MOD_PAR&#160;keywords. This&#160;part of&#160;the&#160;A2L&#160;file&#160;also&#160;generally&#160;remains&#160;unchanged&#160;since&#160;<br/>the&#160;structures&#160;of&#160;the ECU are set.&#160;The&#160;keywords&#160;are&#160;now&#160;briefly&#160;presented:&#160;<br/>
<b>MOD_COMMON&#160;</b><br/>
The&#160;MOD_COMMON&#160;keyword&#160;describes&#160;the&#160;internal&#160;structures&#160;of&#160;the&#160;ECU. The&#160;<br/>possibility&#160;exists&#160;to&#160;define&#160;certain&#160;parameters&#160;for the&#160;complete&#160;ECU. For&#160;example, if&#160;a&#160;<br/>standard&#160;byte&#160;order&#160;exists,&#160;this&#160;can&#160;be&#160;specified&#160;for the&#160;complete&#160;device&#160;in&#160;this&#160;area.&#160;<br/>
<b>Example:</b>&#160;<br/>
&#160;<br/>
&#160;<br/>
/begin&#160;MOD_COMMON &#34;&#34;&#160;<br/>
&#160;&#160;BYTE_ORDER MSB_LAST&#160;<br/>
&#160;&#160;…&#160;<br/>
/end MOD_COMMON&#160;<br/>
&#160;<br/>
<b>MOD_PAR&#160;</b><br/>
The&#160;MOD_PAR&#160;keyword&#160;describes&#160;the&#160;ECU-specific&#160;description&#160;data such as&#160;the&#160;<br/>EPROM identifier or&#160;the&#160;memory&#160;segments.&#160;<br/>
<b>Example:</b>&#160;<br/>
&#160;<br/>
&#160;<br/>
/begin MOD_PAR &#34;Comment&#34;&#160;<br/>
&#160;&#160;ADDR_EPK 0x12345&#160;<br/>
&#160;&#160;EPK &#34;EPROM identifier test&#34;&#160;<br/>
&#160;&#160;/begin MEMORY_SEGMENT&#160;&#160;Data0001 &#34;Data segment&#34; DATA&#160;<br/>
&#160; &#160;FLASH INTERN 0x30000 0x1000&#160;-1&#160;-1&#160;-1&#160;-1&#160;-1&#160;&#160;<br/>
&#160;&#160;/end MEMORY_SEGMENT &#160;&#160;&#160;<br/>
&#160;&#160;SYSTEM_CONSTANT &#34;CONTROLLERx CONSTANT1&#34; &#34;0.99&#34;&#160;<br/>
/end MOD_PAR&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;25&#160;-&#160;<br/>
<hr/>
<a name=28></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-28_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-28_2.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Measuring&#160;and Calibrating of&#160;ECU&#160;Software&#160;<br/>
<b>3.3.1.3&#160;</b><br/>
<b>IF_DATA&#160;</b><br/>
Communication&#160;<br/>
Next, the communication&#160;interface is&#160;specified&#160;using the&#160;IF_DATA&#160;keyword.&#160;This&#160;is&#160;<br/>
interface&#160;<br/>
only&#160;adapted&#160;if, for example,&#160;certain XCP&#160;commands&#160;are also&#160;to&#160;be&#160;used&#160;afterwards.&#160;<br/>
<b>IF_DATA&#160;</b><br/>
The&#160;IF_DATA&#160;keyword&#160;describes&#160;the&#160;interface-specific&#160;data, such as&#160;protocol&#160;layer&#160;or&#160;<br/>DAQ&#160;lists. These can&#160;also&#160;be&#160;defined&#160;directly&#160;as&#160;a&#160;subcategory&#160;for diverse&#160;A2L&#160;<br/>objects.&#160;<br/>
<b>Example:</b>&#160;<br/>
&#160;<br/>
&#160;<br/>
/begin IF_DATA XCP&#160;<br/>
&#160;&#160;/begin PROTOCOL_LAYER&#160;<br/>
&#160; &#160;&#160;…&#160;<br/>
&#160;&#160;/end PROTOCOL_LAYER&#160;<br/>
&#160;&#160;/begin DAQ&#160;<br/>
&#160; &#160;&#160;…&#160;<br/>
&#160;&#160;/end DAQ&#160;<br/>
&#160;&#160;/begin XCP_ON_CAN&#160;<br/>
&#160; &#160;&#160;…&#160;<br/>
&#160;&#160;/end XCP_ON_CAN&#160;<br/>
/end IF_DATA&#160;<br/>
&#160;<br/>
&#160;<br/>
DAQ&#160;configuration&#160;<br/>
The&#160;DAQ&#160;configuration is&#160;an essential&#160;component&#160;of&#160;the XCP&#160;protocol&#160;and&#160;will&#160;<br/>therefore be&#160;presented&#160;again&#160;in more detail.&#160;The&#160;configuration&#160;is&#160;made under the&#160;DAQ&#160;<br/>keyword&#160;in&#160;the&#160;IF_DATA&#160;section,&#160;and&#160;the&#160;individual&#160;events&#160;are&#160;defined under this&#160;<br/>point.&#160;<br/>
&#160;&#160;<br/>
<b>Reference:</b>&#160;More detailed&#160;information&#160;regarding&#160;the&#160;definition&#160;of&#160;events&#160;can&#160;be&#160;found&#160;<br/>in the<a href="http://www.asam.net/nc/home/standards/standard-detail.html?tx_rbwbmasamstandards_pi1%5bshowUid%5d=519&start=">&#160;ASAM XCP&#160;Version&#160;1.1&#160;Part 1&#160;-&#160;Overview&#160;</a>specification, section&#160;1.1.1.5&#160;Event&#160;<br/>
&#160;<br/>
Channels.&#160;<br/>
&#160;&#160;<br/>
Specification of&#160;DAQ&#160;&#160;<a href="UserManual_AUTOSAR_Calibrations.html#29">Table&#160;3-1:&#160;</a>Specification&#160;of&#160;DAQ&#160;lists&#160;in&#160;the&#160;IF_DATA&#160;section&#160;compares&#160;the static&#160;and&#160;<br/>lists&#160;<br/>
dynamic&#160;DAQ&#160;configuration&#160;in the&#160;A2L&#160;file.&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;26&#160;-&#160;<br/>
<hr/>
<a name=29></a>User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Measuring&#160;and Calibrating of&#160;ECU&#160;Software&#160;<br/>
&#160;&#160;<br/>
<b>XCP&#160;(static)&#160;</b><br/>
<b>XCP&#160;(dynamic)&#160;</b><br/>
<b>Explanation&#160;</b><br/>
/begin DAQ&#160;<br/>
/begin DAQ&#160;<br/>
&#160;<br/>
&#160;&#160;STATIC&#160;<br/>
&#160;&#160;DYNAMIC&#160;<br/>
DAQ configuration&#160;<br/>
&#160;&#160;RESUME_SUPPORTED&#160;<br/>
&#160;&#160;RESUME_SUPPORTED&#160;<br/>
Resume mode is supported&#160;<br/>
&#160;&#160;/begin DAQ_LIST&#160;<br/>
&#160;&#160;&#160;<br/>
&#160;<br/>
&#160; &#160;&#160;0x0&#160;<br/>
&#160;&#160;&#160;<br/>
DAQ list number&#160;<br/>
&#160; &#160;&#160;DAQ_LIST_TYPE DAQ&#160;<br/>
&#160;&#160;&#160;<br/>
Direction (DAQ | STIM)&#160;<br/>
&#160; &#160;&#160;MAX_ODT 0xB&#160;<br/>
&#160;&#160;&#160;<br/>
Maximum ODTs&#160;<br/>
&#160; &#160;&#160;MAX_ODT_ENTRIES 0x7&#160;&#160;&#160;&#160;&#160;<br/>
Maximum entries in an ODT&#160;<br/>
&#160; &#160;&#160;FIRST_PID 0x3&#160;<br/>
&#160;&#160;&#160;<br/>
Packet designator&#160;<br/>
&#160; &#160;&#160;EVENT_FIXED 0x0&#160;<br/>
&#160;&#160;&#160;<br/>
Event channel is permanently&#160;<br/>specified&#160;<br/>
&#160;&#160;/end DAQ_LIST&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;&#160;/begin EVENT&#160;<br/>
/begin EVENT&#160;<br/>
&#160;<br/>
&#160; &#160;&#160;&#34;10 ms Liste 1&#34;&#160;<br/>
&#160; &#160;&#160;&#34;10 ms Liste 1&#34;&#160;&#160;Name of the event channel&#160;<br/>
&#160; &#160;&#160;&#34;10 ms Lis&#34;&#160;<br/>
&#160; &#160;&#160;&#34;10 ms Lis&#34;&#160;<br/>
Brief name of the event channel&#160;<br/>
&#160; &#160;&#160;0x0000&#160;<br/>
&#160; &#160;&#160;0x0000&#160;<br/>
Number of the event channel&#160;<br/>Direction (DAQ | STIM)&#160;<br/>
&#160; &#160;&#160;DAQ&#160;<br/>
&#160; &#160;&#160;DAQ&#160;<br/>
Direction (DAQ | STIM)&#160;<br/>
&#160; &#160;&#160;0x01&#160;<br/>
&#160; &#160;&#160;0x01&#160;<br/>
Maximum of DAQ lists&#160;<br/>
&#160; &#160;&#160;0x0A&#160;<br/>
&#160; &#160;&#160;0x0A&#160;<br/>
Sampling period (0 corresponds to&#160;<br/>non-cyclic)&#160;<br/>
&#160; &#160;&#160;0x06&#160;<br/>
&#160; &#160;&#160;0x06&#160;<br/>
Time base(0x06 corresponds to 1ms)&#160;<br/>
&#160; &#160;&#160;0x00&#160;<br/>
&#160; &#160;&#160;0x00&#160;<br/>
Priority&#160;<br/>
&#160;&#160;/end EVENT&#160;<br/>
&#160;&#160;/end EVENT&#160;<br/>
&#160;<br/>
/end DAQ&#160;<br/>
/end DAQ&#160;<br/>
&#160;<br/>
<i>Table&#160;3-1:&#160;Specification&#160;of&#160;DAQ&#160;lists&#160;in&#160;the&#160;IF_DATA&#160;section&#160;<br/></i>&#160;<br/>
Default&#160;event&#160;<br/>
It is&#160;recommended to&#160;assign at&#160;least&#160;one&#160;default event&#160;to&#160;each measurement and&#160;<br/>calibration&#160;parameter&#160;in order to ensure that&#160;the&#160;objects&#160;will&#160;be&#160;measured at the&#160;<br/>correct time in each case&#160;(example in&#160;next section&#160;under<a href="UserManual_AUTOSAR_Calibrations.html#30">&#160;A2L&#160;Objects&#160;|&#160;Measurement&#160;<br/>parameters)</a>.&#160;With&#160;the&#160;help&#160;of&#160;this&#160;assignment, the drag&#160;&amp;&#160;drop feature of&#160;the&#160;display&#160;<br/>windows&#160;in&#160;CANape&#160;can&#160;be&#160;used&#160;optimally. If&#160;a&#160;default&#160;event&#160;is&#160;not&#160;defined,&#160;the&#160;<br/>measurement&#160;mode must be changed manually&#160;by&#160;polling&#160;the&#160;appropriate&#160;event.&#160;<br/>
&#160;&#160;<br/>
<b>3.3.1.4&#160;</b><br/>
<b>A2L Objects&#160;</b><br/>
Specification of&#160;<br/>
The&#160;last part contains&#160;the&#160;A2L&#160;objects. The&#160;measurement and&#160;calibration&#160;parameters&#160;<br/>
parameters&#160;and&#160;<br/>
are specified here&#160;using&#160;various&#160;parameters&#160;and keywords. In&#160;this&#160;area,&#160;changes&#160;may&#160;<br/>
keywords&#160;<br/>
occur even after&#160;completion of&#160;the&#160;A2L&#160;file since,&#160;for example,&#160;measurement&#160;<br/>parameters&#160;will&#160;also&#160;be&#160;added&#160;during the course of&#160;the&#160;project.&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;27&#160;-&#160;<br/>
<hr/>
<a name=30></a>User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Measuring&#160;and Calibrating of&#160;ECU&#160;Software&#160;<br/>
&#160;&#160;<br/>
Measurement&#160;<br/>
The&#160;measurement parameters&#160;are defined&#160;using&#160;the&#160;MEASUREMENT&#160;keyword.&#160;Some&#160;<br/>
parameters&#160;<br/>
parameter&#160;values&#160;are&#160;optional&#160;(labeled&#160;in&#160;[]),&#160;while&#160;other&#160;values, such as&#160;the&#160;name,&#160;<br/>are mandatory.&#160;<br/>
&#160;<br/>
Prototype:&#160;<br/>
/begin MEASUREMENT&#160;<br/>&#160; &#160;&#160;ident &#160;Name&#160;<br/>&#160; &#160;&#160;string &#160;LongIdentifier&#160;<br/>&#160; &#160;&#160;datatype &#160;Datatype&#160;<br/>&#160; &#160;&#160;ident &#160;Conversion&#160;<br/>&#160; &#160;&#160;uint &#160;Resolution&#160;<br/>&#160; &#160;&#160;float &#160;Accuracy&#160;<br/>&#160; &#160;&#160;float &#160;LowerLimit&#160;<br/>&#160; &#160;&#160;float &#160;UpperLimit&#160;<br/>&#160; &#160;&#160;[-&gt; ANNOTATION]*&#160;<br/>&#160; &#160;&#160;[-&gt; ARRAY_SIZE]&#160;<br/>&#160; &#160;&#160;[-&gt; BIT_MASK]&#160;<br/>&#160; &#160;&#160;[-&gt; BIT_OPERATION]&#160;<br/>&#160; &#160;&#160;[-&gt; BYTE_ORDER]&#160;<br/>&#160; &#160;&#160;[-&gt; DISCRETE]&#160;<br/>&#160; &#160;&#160;[-&gt; DISPLAY_IDENTIFIER]&#160;<br/>&#160; &#160;&#160;[-&gt; ECU_ADDRESS]&#160;<br/>&#160; &#160;&#160;[-&gt; ECU_ADDRESS_EXTENSION]&#160;<br/>&#160; &#160;&#160;[-&gt; ERROR_MASK]&#160;<br/>&#160; &#160;&#160;[-&gt; FORMAT]&#160;<br/>&#160; &#160;&#160;[-&gt; FUNCTION_LIST]&#160;<br/>&#160; &#160;&#160;[-&gt; IF_DATA]*&#160;<br/>&#160; &#160;&#160;[-&gt; LAYOUT]&#160;<br/>&#160; &#160;&#160;[-&gt; MATRIX_DIM]&#160;<br/>&#160; &#160;&#160;[-&gt; MAX_REFRESH]&#160;<br/>&#160; &#160;&#160;[-&gt; PHYS_UNIT]&#160;<br/>&#160; &#160;&#160;[-&gt; READ_WRITE]&#160;<br/>&#160; &#160;&#160;[-&gt; REF_MEMORY_SEGMENT]&#160;<br/>&#160; &#160;&#160;[-&gt; SYMBOL_LINK]&#160;<br/>&#160; &#160;&#160;[-&gt; VIRTUAL]&#160;<br/>/end MEASUREMENT&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;28&#160;-&#160;<br/>
<hr/>
<a name=31></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-31_1.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Measuring&#160;and Calibrating of&#160;ECU&#160;Software&#160;<br/>
&#160;&#160;<br/>
<b>Example:</b>&#160;<br/>
&#160;<br/>
&#160;<br/>
/begin MEASUREMENT&#160;<br/>
&#160;&#160;FP_LED&#160;<br/>
&#160;&#160;&#34;Raw value target driving program&#34;&#160;<br/>
&#160;&#160;UBYTE NonDim_2p0 0 0 0 10&#160;<br/>
&#160;&#160;ECU_ADDRESS 0xD000B47C&#160;<br/>
&#160;&#160;ECU_ADDRESS_EXTENSION 0x0&#160;<br/>
&#160;&#160;/begin IF_DATA XCP&#160;<br/>
&#160; &#160;&#160;/begin DAQ_EVENT VARIABLE&#160;<br/>
&#160;&#160;&#160; &#160;&#160;/begin DEFAULT_EVENT_LIST&#160;<br/>
&#160; &#160; &#160; &#160;&#160;EVENT 0001&#160;<br/>
&#160; &#160; &#160;&#160;/end DEFAULT_EVENT_LIST&#160;<br/>
&#160; &#160;&#160;/end DAQ_EVENT&#160;<br/>
&#160;&#160;/end IF_DATA&#160;<br/>
/end MEASUREMENT&#160;<br/>
&#160;&#160;<br/>
Calibration&#160;<br/>
The&#160;calibration parameters&#160;are specified in the A2L&#160;file&#160;using&#160;the&#160;CHARACTERISTIC&#160;<br/>
parameters&#160;<br/>
keyword.&#160;In&#160;this&#160;case,&#160;as&#160;well, there are&#160;optional&#160;parameter&#160;values&#160;[]&#160;and&#160;mandatory&#160;<br/>parameter&#160;values.&#160;<br/>
<b>&#160;</b><br/>
Prototype:&#160;<br/>
/begin CHARACTERISTIC &#160;ident &#160;Name&#160;<br/>&#160; &#160;&#160;string &#160;LongIdentifier&#160;<br/>&#160; &#160;&#160;enum &#160;Type&#160;<br/>&#160; &#160;&#160;ulong &#160;Address&#160;<br/>&#160; &#160;&#160;ident &#160;Deposit&#160;<br/>&#160; &#160;&#160;float &#160;MaxDiff&#160;<br/>&#160; &#160;&#160;ident &#160;Conversion&#160;<br/>&#160; &#160;&#160;float &#160;LowerLimit&#160;<br/>&#160; &#160;&#160;float &#160;UpperLimit&#160;<br/>&#160; &#160;&#160;[-&gt;&#160;ANNOTATION]*&#160;<br/>&#160; &#160;&#160;[-&gt; AXIS_DESCR]*&#160;<br/>&#160; &#160;&#160;[-&gt; BIT_MASK]&#160;<br/>&#160; &#160;&#160;[-&gt; BYTE_ORDER]&#160;<br/>&#160; &#160;&#160;[-&gt; CALIBRATION_ACCESS]&#160;<br/>&#160; &#160;&#160;[-&gt; COMPARISON_QUANTITY]&#160;<br/>&#160;&#160;&#160;&#160;[-&gt; DEPENDENT_CHARACTERISTIC]&#160;<br/>&#160; &#160;&#160;[-&gt; DISCRETE]&#160;<br/>&#160; &#160;&#160;[-&gt; DISPLAY_IDENTIFIER]&#160;<br/>&#160; &#160;&#160;[-&gt; ECU_ADDRESS_EXTENSION]&#160;<br/>&#160; &#160;&#160;[-&gt;&#160;EXTENDED_LIMITS]&#160;<br/>&#160; &#160;&#160;[-&gt; FORMAT]&#160;<br/>&#160; &#160;&#160;[-&gt; FUNCTION_LIST]&#160;<br/>&#160; &#160;&#160;[-&gt; GUARD_RAILS]&#160;<br/>&#160; &#160;&#160;[-&gt; IF_DATA]*&#160;<br/>&#160; &#160;&#160;[-&gt; MAP_LIST]&#160;<br/>&#160; &#160;&#160;[-&gt; MATRIX_DIM]&#160;<br/>&#160; &#160;&#160;[-&gt; MAX_REFRESH]&#160;<br/>&#160; &#160;&#160;[-&gt; NUMBER]&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;29&#160;-&#160;<br/>
<hr/>
<a name=32></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-32_1.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Measuring&#160;and Calibrating of&#160;ECU&#160;Software&#160;<br/>
&#160; &#160;&#160;[-&gt; PHYS_UNIT]&#160;<br/>&#160; &#160;&#160;[-&gt; READ_ONLY]&#160;<br/>&#160; &#160;&#160;[-&gt; REF_MEMORY_SEGMENT]&#160;<br/>&#160; &#160;&#160;[-&gt; STEP_SIZE]&#160;<br/>&#160; &#160;&#160;[-&gt; SYMBOL_LINK]&#160;<br/>&#160;&#160; &#160;[-&gt; VIRTUAL_CHARACTERISTIC]&#160;<br/>/end CHARACTERISTIC&#160;<br/>
&#160;&#160;<br/>
<b>Example:</b>&#160;<br/>
&#160;<br/>
&#160;<br/>
/begin CHARACTERISTIC Pehp_IDATA.T_FP_delay&#160;<br/>
&#160;&#160;&#34;Time for transition from target to actual driving program&#160;<br/>
HPP&#34;&#160;<br/>
&#160;&#160;VALUE 0xA01350CC UWORD_COL_DIRECT 0 ms_f10 0 60000&#160;<br/>
ECU_ADDRESS_EXTENSION 0x0&#160;<br/>
&#160;&#160;EXTENDED_LIMITS 0 60000&#160;<br/>
&#160;&#160;BYTE_ORDER MSB_LAST&#160;<br/>
&#160;&#160;FORMAT &#34;%6.0&#34;&#160;<br/>
/end CHARACTERISTIC&#160;<br/>
&#160;&#160;<br/>
Conversion rules&#160;<br/>
Frequently, conversion&#160;rules&#160;are additionally&#160;defined&#160;for&#160;measurement or&#160;calibration&#160;<br/>parameters&#160;if, for example,&#160;an&#160;object is&#160;to&#160;be&#160;converted&#160;to&#160;a&#160;physical&#160;unit. The&#160;<br/>COMPU_METHOD&#160;keyword is&#160;used&#160;for this.&#160;<br/>
&#160;<br/>
Prototype:&#160;<br/>
/begin COMPU_METHOD &#160;ident &#160;Name&#160;<br/>&#160; &#160;&#160;string &#160;LongIdentifier&#160;<br/>&#160; &#160;&#160;enum &#160;ConversionType&#160;<br/>&#160; &#160;&#160;string &#160;Format&#160;<br/>&#160; &#160;&#160;string &#160;Unit&#160;<br/>&#160; &#160;&#160;[-&gt; COEFFS]&#160;<br/>&#160; &#160;&#160;[-&gt; COEFFS_LINEAR]&#160;<br/>&#160; &#160;&#160;[-&gt; COMPU_TAB_REF]&#160;<br/>&#160; &#160;&#160;[-&gt; FORMULA]&#160;<br/>&#160; &#160;&#160;[-&gt; REF_UNIT]&#160;<br/>&#160; &#160;&#160;[-&gt; STATUS_STRING_REF]&#160;<br/>/end COMPU_METHOD&#160;<br/>
&#160;<br/>
&#160;<br/>
There are various&#160;conversion&#160;types&#160;for this:&#160;<br/>
<b>IDENTICAL&#160;</b><br/>
Raw&#160;value&#160;and&#160;physical&#160;value&#160;are&#160;identical,&#160;no&#160;conversion&#160;is&#160;necessary&#160;<br/>
<b>FORM&#160;</b><br/>
A&#160;formula is&#160;used for the&#160;conversion&#160;(to&#160;be&#160;specified&#160;with&#160;the&#160;FORMULA&#160;keyword)&#160;<br/>
<b>LINEAR&#160;</b><br/>
Conversion is&#160;made linearly&#160;according&#160;to&#160;f(x)=ax+b&#160;&#160;<br/>(a and&#160;b are&#160;specified&#160;using the&#160;COEFFS_LINEAR&#160;keyword)&#160;<br/>
<b>RAT_FUNC&#160;</b><br/>
Conversion is&#160;made using&#160;a rational&#160;function:&#160;<br/>f(x) = (axx+bx+c)/(dxx+ex+f)&#160;<br/>a, b, c, d, e, f&#160;are&#160;specified&#160;using&#160;the&#160;COEFFS&#160;keyword.&#160;<br/>
<b>TAB_INTP&#160;</b><br/>
Conversion table&#160;with interpolation&#160;<br/>
<b>TAB_NOINTP&#160;</b><br/>
Conversion table&#160;without interpolation&#160;<br/>
<b>TAB_VERB&#160;</b><br/>
Verbal&#160;conversion&#160;table&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;30&#160;-&#160;<br/>
<hr/>
<a name=33></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-33_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-33_2.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Measuring&#160;and Calibrating of&#160;ECU&#160;Software&#160;<br/>
<b>Example:</b>&#160;<br/>
&#160;<br/>
&#160;<br/>
/begin COMPU_METHOD NonDim_2p0_a &#34;&#34;&#160;<br/>&#160;&#160;RAT_FUNC &#34;%5.0&#34; &#34;-&#34;&#160;<br/>&#160;&#160;COEFFS 2 1 0 0 4 1&#160;<br/>/end COMPU_METHOD&#160;<br/>
&#160;&#160;<br/>
Groups&#160;<br/>
Hierarchy&#160;levels&#160;are&#160;realized in&#160;the&#160;A2L file using&#160;groups. In&#160;a&#160;project&#160;with&#160;many&#160;<br/>measurement and&#160;calibration&#160;parameters, these can&#160;be subdivided&#160;and&#160;categorized.&#160;<br/>The&#160;possibility&#160;also&#160;exists&#160;to define subgroups. This&#160;makes&#160;the A2L&#160;file&#160;easier to&#160;view&#160;<br/>in&#160;CANape.&#160;<br/>
&#160;<br/>
Prototype:&#160;<br/>
/begin GROUP &#160;ident &#160;GroupName&#160;<br/>&#160; &#160;&#160;string &#160;GroupLongIdentifier&#160;<br/>&#160; &#160;&#160;[-&gt; ANNOTATION]*&#160;<br/>&#160; &#160;&#160;[-&gt; FUNCTION_LIST]&#160;<br/>&#160; &#160;&#160;[-&gt; IF_DATA]*&#160;<br/>&#160; &#160;&#160;[-&gt; REF_CHARACTERISTIC]&#160;<br/>&#160; &#160;&#160;[-&gt; REF_MEASUREMENT]&#160;<br/>&#160; &#160;&#160;[-&gt; ROOT]&#160;<br/>&#160; &#160;&#160;[-&gt; SUB_GROUP]&#160;<br/>/end GROUP&#160;<br/>
&#160;&#160;<br/>
<b>Example:</b>&#160;<br/>
&#160;<br/>
/begin GROUP Maps &#34;Calibration Maps&#34;&#160;<br/>
&#160;<br/>
&#160;ROOT&#160;<br/>&#160;&#160;/begin SUB_GROUP&#160;<br/>&#160; &#160;&#160;WorkingPoint&#160;<br/>&#160;&#160;/end SUB_GROUP&#160;<br/>&#160;&#160;/begin REF_CHARACTERISTIC&#160;<br/>&#160; &#160;&#160;KF1 KF2 KF3 KF4 KF5 KF6 KF7 KF8&#160;<br/>&#160; &#160;&#160;TestKennfeld map1_8_8_uc map4_80_uc map5_82_uc&#160;<br/>&#160;&#160;/end REF_CHARACTERISTIC&#160;<br/>
/end GROUP&#160;<br/>
&#160;&#160;<br/>
Structures&#160;<br/>
The&#160;A2L&#160;Specification contains&#160;no keyword for structures.&#160;CANape&#160;identifies&#160;these&#160;<br/>based&#160;on&#160;analysis&#160;of&#160;the object name.&#160;<br/>
&#160;<br/>
The&#160;valid syntax&#160;for structures&#160;in the&#160;A2L&#160;has&#160;the following&#160;appearance:&#160;<br/>
&#34;.&#34;&#160;for objects&#160;(e.g.,&#160;&#34;TestStructStruct1.TestStruct2.s1&#34;)&#160;<br/>
&#34;[]&#34;&#160;for arrays&#160;(e.g.,&#160;&#34;TestStructStruct1.TestStruct2.s1[0]&#34;)&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;31&#160;-&#160;<br/>
<hr/>
<a name=34></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-34_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-34_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-34_3.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Measuring&#160;and Calibrating of&#160;ECU&#160;Software&#160;<br/>
&#160;&#160;<br/>
<b>Example:</b>&#160;<br/>
&#160;<br/>
&#160;<br/>
/begin CHARACTERISTIC Test1.s0 &#34;&#34;&#160;<br/>&#160;&#160;VALUE 0x2080D0 __ULONG_S 0 Test1.s0.CONVERSION 0 4294967295&#160;<br/>&#160;&#160;ECU_ADDRESS_EXTENSION 0x0&#160;<br/>&#160;&#160;EXTENDED_LIMITS 0 4294967295&#160;<br/>&#160;&#160;FORMAT &#34;%.15&#34;&#160;<br/>/end CHARACTERISTIC&#160;<br/>
&#160;&#160;<br/>
<b>Reference:</b>&#160;Detailed information on the meaning&#160;of&#160;individual&#160;parameters&#160;can&#160;be&#160;<br/>found&#160;in the ASAP2&#160;specification<a href="http://www.asam.net/nc/home/standards/standard-detail.html?tx_rbwbmasamstandards_pi1%5bshowUid%5d=531&start=">&#160;ASAM MCD-2 MC&#160;</a>under the respective keyword.&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
<b>3.3.2&#160;&#160;Mode&#160;of&#160;Functioning&#160;</b><br/>
&#160;<br/>
&#160;&#160;<br/>
<i>Figure&#160;3-12:&#160;Mode&#160;of&#160;functioning&#160;of&#160;the&#160;A2L&#160;<br/></i>&#160;&#160;<br/>
Engine speed as&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#34">Figure&#160;3-12&#160;</a>illustrates&#160;the&#160;mode of&#160;functioning&#160;of&#160;an&#160;A2L&#160;file. The&#160;engine speed&#160;is&#160;<br/>
example&#160;<br/>
read out&#160;here as&#160;an example.&#160;Via the&#160;A2L file,&#160;the&#160;measurement and&#160;calibration&#160;<br/>system&#160;(CANape)&#160;learns&#160;which memory&#160;address&#160;contains&#160;the&#160;engine&#160;speed and&#160;how&#160;<br/>the&#160;ASAM&#160;MCD&#160;1MC&#160;interface must be parameterized. The&#160;read-out&#160;raw&#160;value&#160;is&#160;<br/>then converted&#160;to&#160;a physical&#160;value&#160;using&#160;a conversion&#160;rule&#160;described in the A2L&#160;file.&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;32&#160;-&#160;<br/>
<hr/>
<a name=35></a>User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
OEM&#160;<br/>
<b>4&#160;&#160;OEM&#160;</b><br/>
<b>In This&#160;Chapter&#160;You&#160;Will&#160;Find&#160;the Following&#160;Information:&#160;</b><br/>
4.1&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#36">Objective&#160;</a><br/>
&#160;page&#160;34&#160;<br/>
4.2&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#36">Content&#160;of&#160;the Performance Specifications&#160;</a><br/>
&#160;page&#160;34&#160;<br/>
4.3&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#36">Measurement Task&#160;</a><br/>
&#160;page&#160;34&#160;<br/>
4.4&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#37">Calibration&#160;Task&#160;</a><br/>
&#160;page&#160;35&#160;<br/>
4.5&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#37">XCP&#160;Features&#160;</a><br/>
&#160;page&#160;35&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;33&#160;-&#160;<br/>
<hr/>
<a name=36></a>User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
OEM&#160;<br/>
<b>4.1&#160;&#160;Objective&#160;</b><br/>
Checklist for&#160;<br/>
This&#160;chapter&#160;serves&#160;as&#160;a&#160;checklist for creating&#160;performance specifications. The&#160;OEM&#160;<br/>
performance&#160;<br/>
must ensure that&#160;the indicated&#160;items&#160;are incorporated&#160;in the&#160;performance&#160;<br/>
specifications&#160;<br/>
specifications&#160;after&#160;careful&#160;consideration and&#160;as&#160;needed.&#160;<br/>
&#160;&#160;<br/>
<b>4.2&#160;&#160;Content&#160;of&#160;the&#160;Performance&#160;Specifications&#160;</b><br/>
&#160;<br/>
The&#160;content&#160;of&#160;the performance specifications&#160;must define&#160;the desired&#160;requirements&#160;<br/>for the&#160;supplier. These can&#160;be&#160;divided&#160;into&#160;mandatory&#160;and&#160;optional&#160;requirements.&#160;<br/>
<b>Mandatory&#160;</b><br/>
<b>&gt;&#160;</b><br/>
Delivery&#160;of&#160;an&#160;A2L&#160;compatible&#160;with the software&#160;version&#160;<br/>
<b>Requirements&#160;</b><br/>
<b>&gt;&#160;</b><br/>
Configured XCP&#160;driver&#160;<br/>
<b>&gt;&#160;</b><br/>
Preconfigured&#160;CANape&#160;project&#160;<br/>
<b>Optional&#160;</b><br/>
<b>&gt;&#160;</b><br/>
Build&#160;environment that&#160;can&#160;generate&#160;the&#160;A2L&#160;<br/>
<b>Requirements&#160;</b><br/>
<b>&gt;&#160;</b><br/>
Delivery&#160;of&#160;a&#160;linker MAP&#160;file&#160;<br/>
&#160;<br/>
The&#160;delivery&#160;of&#160;a&#160;linker&#160;MAP&#160;file&#160;has&#160;the advantage&#160;that&#160;new measurement and&#160;<br/>calibration&#160;parameters&#160;can&#160;be&#160;incorporated&#160;directly&#160;into the&#160;A2L file. If&#160;a&#160;request to&#160;<br/>measure additional&#160;objects&#160;arises&#160;during&#160;the&#160;course of&#160;a&#160;measurement task, the&#160;<br/>memory&#160;addresses&#160;are known and these can&#160;be&#160;added.&#160;<br/>
&#160;&#160;<br/>
<b>4.3&#160;&#160;Measurement&#160;Task&#160;</b><br/>
Information&#160;to be&#160;<br/>
To realize the&#160;mandatory&#160;requirements&#160;relating to&#160;the&#160;measurement task, the supplier&#160;<br/>
communicated&#160;<br/>
requires&#160;some information,&#160;such as&#160;the category&#160;of&#160;the&#160;measurement parameters.&#160;<br/>Various&#160;details&#160;about&#160;the&#160;DAQ&#160;configuration are&#160;also&#160;relevant&#160;both&#160;for the configured&#160;<br/>XCP&#160;driver and&#160;for the A2L&#160;file.&#160;<br/>
&#160;<br/>
Specifically,&#160;information&#160;on&#160;the&#160;following&#160;items&#160;must be communicated to the supplier:&#160;<br/>
<b>&gt;&#160;</b><br/>
Category&#160;of&#160;the measurement parameters&#160;<br/>
<b>&gt;&#160;&#160;</b>Software component&#160;<br/>
<b>&gt;&#160;&#160;</b>Basic&#160;software&#160;<br/>
<b>&gt;&#160;&#160;</b>BSW&#160;module (e.g.,&#160;COM,&#160;CanNm)&#160;<br/>
<b>&gt;&#160;&#160;</b>Runtime&#160;monitoring&#160;<br/>
<b>&gt;&#160;</b><br/>
Event-triggered measuring&#160;via DAQ&#160;<br/>
<b>&gt;&#160;&#160;</b>Static&#160;or dynamic&#160;DAQ&#160;lists&#160;<br/>
Vector recommends&#160;dynamic&#160;DAQ&#160;lists&#160;in order to make more efficient use&#160;of&#160;<br/>the&#160;memory&#160;and,&#160;if&#160;necessary, to allow more signals&#160;to be measured.&#160;<br/>
<b>&gt;&#160;&#160;</b>Definition&#160;of&#160;DAQ&#160;event&#160;time base&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>Use of&#160;timestamps&#160;<br/>
<b>&gt;&#160;&#160;</b>Use of&#160;DAQ&#160;default events&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;34&#160;-&#160;<br/>
<hr/>
<a name=37></a>User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
OEM&#160;<br/>
<b>4.4&#160;&#160;Calibration&#160;Task&#160;</b><br/>
Items&#160;to be&#160;<br/>
The&#160;calibration task&#160;also affects&#160;the mandatory&#160;requirements&#160;(A2L&#160;file,&#160;XCP&#160;driver)&#160;for&#160;<br/>
considered&#160;<br/>
the&#160;supplier. The&#160;following&#160;items&#160;should&#160;be&#160;carefully&#160;considered here:&#160;<br/>
<b>&gt;&#160;</b><br/>
Location&#160;of&#160;the calibration parameters&#160;<br/>
<b>&gt;&#160;&#160;</b>Software component&#160;<br/>
<b>&gt;&#160;&#160;</b>NVRAM&#160;<br/>
<b>&gt;&#160;</b><br/>
Optimized&#160;&#34;going online&#34;&#160;<br/>
The&#160;accesses&#160;to&#160;the&#160;ECU are decreased&#160;when&#160;&#34;going&#160;online&#34;&#160;is&#160;optimized.&#160;An&#160;<br/>upload&#160;operation&#160;is&#160;performed&#160;only&#160;if&#160;differences&#160;between&#160;the data&#160;in the&#160;memory&#160;<br/>image and&#160;the&#160;ECU&#160;are&#160;identified. This&#160;procedure accelerates&#160;the&#160;&#34;going&#160;online&#34;.&#160;<br/>
For optimized&#160;&#34;going&#160;online&#34;, the use&#160;of&#160;a&#160;memory&#160;image is&#160;required. The&#160;<br/>memory&#160;image is&#160;described&#160;on&#160;the&#160;basis&#160;of&#160;memory&#160;segments, which contain&#160;<br/>only&#160;calibration&#160;parameters. In&#160;addition, the&#160;checksum&#160;calculation must be&#160;<br/>implemented&#160;in the&#160;ECU.&#160;<br/>
Optimized&#160;&#34;going online&#34;&#160;is&#160;also a&#160;prerequisite&#160;for offline calibration&#160;and the use&#160;of&#160;<br/>dataset&#160;management.&#160;<br/>
<b>&gt;&#160;</b><br/>
Use of&#160;a&#160;flashable HEX&#160;file&#160;(with&#160;calibrated&#160;calibration&#160;parameters&#160;from&#160;CANape)&#160;<br/>
&#160;&#160;<br/>
<b>4.5&#160;&#160;XCP&#160;Features&#160;</b><br/>
Features&#160;to be&#160;<br/>
The&#160;XCP&#160;Driver&#160;section explained some aspects&#160;and features&#160;of&#160;the XCP&#160;protocol.&#160;<br/>
supported&#160;<br/>
Specifically, the&#160;following&#160;were explained:&#160;Measurement Modes,&#160;Autoselection&#160;and&#160;<br/>Software&#160;Version Check&#160;of&#160;the&#160;A2L&#160;File,&#160;Online&#160;Calibration,&#160;Page&#160;Switching,&#160;<br/>Bypassing, and&#160;Resume Mode.&#160;It is&#160;important here that the OEM communicates&#160;to&#160;<br/>the&#160;supplier&#160;which&#160;of&#160;these&#160;features&#160;are to&#160;be&#160;supported by&#160;the XCP&#160;driver.&#160;<br/>
&#160;<br/>
It is&#160;recommended to&#160;incorporate&#160;the&#160;following XCP&#160;features&#160;in the performance&#160;<br/>specifications:&#160;<br/>
<b>&gt;&#160;</b><br/>
Polling&#160;and&#160;DAQ&#160;measurement&#160;modes&#160;<br/>
<b>&gt;&#160;</b><br/>
Autoselection&#160;of&#160;A2L&#160;and the software&#160;version&#160;check&#160;<br/>
<b>&gt;&#160;</b><br/>
Online&#160;calibration&#160;<br/>
<b>&gt;&#160;</b><br/>
Resume&#160;mode&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;35&#160;-&#160;<br/>
<hr/>
<a name=38></a>User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Supplier&#160;<br/>
<b>5&#160;&#160;Supplier&#160;</b><br/>
<b>In This&#160;Chapter&#160;You&#160;Will&#160;Find&#160;the Following&#160;Information:&#160;</b><br/>
5.1&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#39">Preface&#160;</a><br/>
&#160;page&#160;37&#160;<br/>
5.2&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#39">Requirements&#160;</a><br/>
&#160;page&#160;37&#160;<br/>
5.3&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#39">Definition&#160;of&#160;Measurement&#160;and Calibration Parameters&#160;</a><br/>
&#160;page&#160;37&#160;<br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#40">Measuring&#160;and&#160;Calibrating&#160;of&#160;AUTOSAR Software Components&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#40">Measuring&#160;of&#160;Ports&#160;and Variables&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#41">XCP&#160;Events&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#42">Software Component&#160;with&#160;Calibration&#160;Parameters&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#42">Calibration&#160;Parameters&#160;for&#160;Multiple&#160;Software&#160;Components&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#43">Configuration of&#160;the&#160;RTE&#160;(Runtime Environment)&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#43">Measuring&#160;and&#160;Calibrating&#160;Without&#160;the Support of&#160;the&#160;RTE&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#44">Debugging&#160;of&#160;the&#160;BSW&#160;(Basic&#160;Software)&#160;</a><br/>
5.4&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#44">Configuration of&#160;the&#160;XCP&#160;Module&#160;</a><br/>
&#160;page&#160;42&#160;<br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#45">DAQ&#160;List Configuration&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#46">Tool-Driven DAQ&#160;Timestamp Option&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#46">XCP&#160;Event Information&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#46">Software&#160;Version Check&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#48">Use of&#160;the XCP&#160;Component in the&#160;Implementation&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#48">Recommendations&#160;for the&#160;Configuration of&#160;the&#160;XCP&#160;Module&#160;</a><br/>
5.5&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#50">Configuration of&#160;the&#160;Driver&#160;Modules&#160;</a><br/>
&#160;page&#160;48&#160;<br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#50">CAN&#160;Module&#160;MICROSAR&#160;XCP&#160;</a><br/>
5.6&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#50">Configuration of&#160;the&#160;Memory&#160;Management&#160;</a><br/>
&#160;page&#160;48&#160;<br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#50">Configuration&#160;for Resume Mode&#160;</a><br/>
5.7&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#51">Creating&#160;an&#160;A2L&#160;File&#160;</a><br/>
&#160;page&#160;49&#160;<br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#51">Creation&#160;of&#160;a&#160;Master&#160;A2L&#160;File&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#53">Expansion&#160;of&#160;the Master A2L&#160;File&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#54">Working&#160;with&#160;ASAP2 Tool-Set&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#56">Working&#160;with&#160;CANape&#160;and&#160;the&#160;ASAP2 Editor&#160;</a><br/>
5.8&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#57">Fast Access&#160;to&#160;the ECU Via the&#160;VX&#160;Module&#160;</a><br/>
&#160;page&#160;55&#160;<br/>
5.9&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#58">Additional&#160;Topics&#160;</a><br/>
&#160;page&#160;56&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;36&#160;-&#160;<br/>
<hr/>
<a name=39></a>User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Supplier&#160;<br/>
<b>5.1&#160;&#160;Preface&#160;</b><br/>
Certain functions&#160;and&#160;&#160;The&#160;measurement and&#160;calibration task&#160;assigned by&#160;the OEM&#160;is&#160;carried out in the&#160;<br/>configurations&#160;for&#160;<br/>
implementation&#160;of&#160;the&#160;ECU&#160;software.&#160;When AUTOSAR-compliant&#160;software modules&#160;<br/>
AUTOSAR&#160;<br/>
are used,&#160;the&#160;modules&#160;must be configured&#160;appropriately&#160;and&#160;certain functions&#160;must&#160;<br/>be&#160;implemented.&#160;<br/>
&#160;<br/>
This&#160;chapter&#160;explains&#160;procedures&#160;for implementing&#160;the&#160;requirements&#160;for the&#160;ECU&#160;<br/>software. The&#160;description&#160;refers&#160;to&#160;the&#160;MICROSAR&#160;product.&#160;<br/>
&#160;<br/>
The&#160;first part describes&#160;the&#160;configuration&#160;of&#160;software components&#160;(SW-C), the&#160;<br/>MICROSAR&#160;RTE,&#160;and&#160;the&#160;MICROSAR&#160;BSW&#160;module.&#160;<br/>
&#160;<br/>
This&#160;is&#160;followed by&#160;a&#160;brief&#160;overview of&#160;the&#160;integration of&#160;the XCP&#160;slave.&#160;The&#160;XCP&#160;<br/>slave is&#160;provided by&#160;the&#160;XCP&#160;module.&#160;<br/>
&#160;<br/>
The&#160;final&#160;part&#160;describes&#160;the&#160;creation of&#160;the&#160;A2L description&#160;file,&#160;which&#160;will&#160;be&#160;a central&#160;<br/>component&#160;of&#160;the&#160;CANape&#160;configuration.&#160;<br/>
&#160;&#160;<br/>
<b>5.2&#160;&#160;Requirements&#160;</b><br/>
Software&#160;<br/>
The&#160;following&#160;software components&#160;at&#160;least starting&#160;with the&#160;following&#160;versions&#160;are&#160;<br/>
components&#160;<br/>
required for the&#160;descriptions:&#160;<br/>
<b>&gt;&#160;</b><br/>
Vector Informatik&#160;DaVinci&#160;Developer&#160;3.0.110&#160;(SP5)&#160;<br/>
<b>&gt;&#160;</b><br/>
Vector Informatik&#160;DaVinci&#160;Configurator&#160;4.1.1.2&#160;<br/>
<b>&gt;&#160;</b><br/>
Vector Informatik&#160;ASAP2 Tool-Set&#160;7.0&#160;<br/>
<b>&gt;&#160;</b><br/>
Vector Informatik&#160;CANape&#160;10.0&#160;SP4&#160;<br/>
<b>&gt;&#160;</b><br/>
Vector&#160;MICROSAR&#160;Basic&#160;Software starting&#160;with&#160;Release&#160;14&#160;including&#160;<br/>MICROSAR&#160;XCP&#160;and&#160;MICROSAR&#160;RTE&#160;<br/>
&#160;&#160;<br/>
<b>5.3&#160;&#160;Definition&#160;of&#160;Measurement&#160;and&#160;Calibration&#160;Parameters&#160;</b><br/>
Via&#160;software&#160;<br/>
The&#160;measurement and&#160;calibration parameters&#160;for the&#160;measurement and&#160;calibration&#160;<br/>
components&#160;<br/>
task&#160;of&#160;the OEM&#160;are&#160;usually&#160;located in the software components&#160;(SW-C).&#160;These&#160;<br/>parameters&#160;are defined&#160;with configuration tools, such&#160;as&#160;the&#160;DaVinci&#160;Developer.&#160;<br/>Configuration of&#160;the&#160;RTE&#160;is&#160;also required&#160;for this.&#160;<br/>
Without&#160;RTE&#160;<br/>
Other&#160;measurement and&#160;calibration&#160;parameters&#160;can&#160;also be provided&#160;without&#160;the&#160;<br/>support of&#160;AUTOSAR interfaces.&#160;A&#160;brief&#160;explanation is&#160;given&#160;in&#160;the&#160;Measuring and&#160;<br/>Calibrating&#160;Without&#160;the&#160;Support of&#160;the&#160;RTE&#160;section.&#160;<br/>
Via&#160;A2L&#160;file&#160;<br/>
In&#160;addition,&#160;measurement parameters&#160;can&#160;also be added&#160;to&#160;the&#160;measurement&#160;<br/>configuration&#160;within&#160;the&#160;AUTOSAR basic&#160;software. This&#160;is&#160;done by&#160;inserting&#160;known&#160;<br/>measurement parameters&#160;from&#160;the basic&#160;software&#160;into&#160;the&#160;A2L&#160;file.&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;37&#160;-&#160;<br/>
<hr/>
<a name=40></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-40_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-40_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-40_3.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Supplier&#160;<br/>
<b>5.3.1&#160;&#160;Measuring and Calibrating of&#160;AUTOSAR Software&#160;Components&#160;</b><br/>
Measurable&#160;objects&#160;<br/>
Measurable&#160;objects&#160;can&#160;be&#160;configured&#160;using a&#160;configuration tool,&#160;such as&#160;the&#160;DaVinci&#160;<br/>Developer.&#160;Measurable objects&#160;include&#160;data&#160;elements&#160;(<b>data elements</b>)&#160;of&#160;<br/>application&#160;and service ports&#160;(<b>application port interfaces</b>), variables&#160;for&#160;<br/>communication&#160;between&#160;runnables&#160;(<b>inter-runnable&#160;variables</b>), and&#160;calibration&#160;<br/>parameters&#160;(<b>calibration parameters</b>).&#160;<br/>
&#160;<br/>
&#160;<br/>
<i>Figure&#160;5-1:&#160;SW-C connected&#160;to&#160;ports&#160;</i><br/>
<i>Figure&#160;5-2:&#160;SW-C with&#160;parameters&#160;for measuring/calibrating&#160;</i><br/>
Calibration&#160;access&#160;<br/>
The&#160;objects&#160;indicated above can&#160;be made measurable&#160;by&#160;setting&#160;<b>Calibration&#160;Access</b>&#160;<br/>to&#160;<b>ReadOnly</b>&#160;in the&#160;DaVinci&#160;Developer. The&#160;<b>ReadWrite</b>&#160;setting&#160;enables&#160;the&#160;writing of&#160;<br/>objects&#160;with&#160;CANape. The&#160;writing of&#160;calibration parameters&#160;occurs&#160;in the&#160;common&#160;<br/>&#34;Calibration&#34;&#160;use case&#160;of&#160;CANape. The&#160;writing of&#160;other data&#160;elements&#160;can&#160;be&#160;<br/>configured&#160;but&#160;is&#160;not recommended.&#160;This&#160;is&#160;because the&#160;write&#160;access&#160;is&#160;not&#160;exclusive,&#160;<br/>which means&#160;that information&#160;can&#160;be&#160;overwritten again.&#160;<br/>
<i>Figure&#160;5-3:&#160;<br/>Measurement&#160;and&#160;<br/>calibration&#160;option&#160;for an&#160;<br/>object&#160;(e.g.,&#160;data&#160;<br/>element)&#160;</i><br/>
&#160;<br/>
Specifying calibration&#160;&#160;The&#160;AUTOSAR Standard&#160;provides&#160;the option&#160;of&#160;specifying calibration&#160;parameters.&#160;<br/>parameters&#160;<br/>
Two&#160;variants&#160;are&#160;differentiated.&#160;<br/>
Calibration&#160;parameters&#160;can&#160;be&#160;defined&#160;within a&#160;software component.&#160;These are&#160;then&#160;<br/>also available&#160;only&#160;for this&#160;software component.&#160;<br/>
The&#160;second variant&#160;is&#160;the&#160;use of&#160;a&#160;calibration&#160;software&#160;component&#160;that can&#160;provide&#160;<br/>calibration&#160;parameters&#160;for&#160;multiple software components.&#160;<br/>
&#160;&#160;<br/>
<b>5.3.2&#160;&#160;Measuring of Ports&#160;and Variables&#160;</b><br/>
Configuration of&#160;the&#160;<br/>
Data&#160;elements&#160;to&#160;be&#160;measured must be configured&#160;appropriately&#160;with&#160;the&#160;help of&#160;the&#160;<br/>
data&#160;elements&#160;<br/>
<b>Calibration&#160;&amp; Measurement&#160;Support</b>. For&#160;measuring,&#160;<b>Calibration&#160;Access</b>&#160;must&#160;be&#160;<br/>set&#160;to&#160;<b>ReadOnly</b>.&#160;<br/>
&#160;<br/>
The&#160;following&#160;data&#160;elements&#160;can&#160;be&#160;measured:&#160;<br/>
<b>&gt;&#160;</b><br/>
<b>Sender/Receiver Ports&#160;</b><br/>
<b>&gt;&#160;</b><br/>
<b>Client/Server Ports (RTE not currently supported)&#160;</b><br/>
<b>&gt;&#160;</b><br/>
<b>Inter-Runnable Variables&#160;</b><br/>
<b>&gt;&#160;</b><br/>
<b>Calibration Parameters&#160;</b><br/>
&#160;<br/>
For&#160;<b>Sender</b>&#160;and&#160;<b>Receiver&#160;Ports</b>, the&#160;data elements&#160;can&#160;be&#160;easily&#160;configured for&#160;<br/>calibrating&#160;via the&#160;<b>Properties</b>.&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;38&#160;-&#160;<br/>
<hr/>
<a name=41></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-41_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-41_2.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Supplier&#160;<br/>
<i>Figure&#160;5-4:&#160;<br/>Configuration&#160;of&#160;a&#160;<br/>sender/receiver port&#160;</i><br/>
&#160;<br/>
Special&#160;case:&#160;Data&#160;<br/>
<b>Sender/Receiver Ports</b>&#160;for which a&#160;Data&#160;Mapping&#160;is&#160;defined&#160;represent&#160;a special&#160;<br/>
Mapping&#160;<br/>
case.&#160;For these&#160;ports, a&#160;direct (explicit)&#160;access&#160;and&#160;a&#160;buffered (implicit)&#160;access&#160;can&#160;<br/>be&#160;configured&#160;as&#160;shown&#160;in&#160;Figure&#160;5-5.&#160;<br/>
<i>Figure&#160;5-5:&#160;Access&#160;<br/>definition&#160;of&#160;a&#160;port&#160;</i><br/>
&#160;<br/>
&#160;<br/>
Ports&#160;that&#160;have explicit&#160;access&#160;configured&#160;can only&#160;be&#160;measured using&#160;the&#160;BSW&#160;<br/>module COM.&#160;On&#160;the&#160;other&#160;hand,&#160;ports&#160;whose&#160;access&#160;was&#160;configured as&#160;buffered&#160;<br/>can&#160;be&#160;measured using&#160;the&#160;RTE&#160;as&#160;well&#160;as&#160;the&#160;BSW&#160;module COM.&#160;<br/>
The&#160;measurement parameters&#160;are typically&#160;already&#160;preconfigured.&#160;<br/>
&#160;&#160;<br/>
<b>5.3.3&#160;&#160;XCP&#160;Events&#160;</b><br/>
RTE&#160;support&#160;<br/>
The&#160;RTE&#160;supports&#160;the&#160;generation of&#160;XCP&#160;events. For&#160;one thing,&#160;an&#160;event&#160;is&#160;created&#160;<br/>for each task.&#160;These events&#160;are used&#160;to measure variables&#160;of&#160;the runnables&#160;that&#160;are&#160;<br/>run&#160;within the task. The&#160;following should&#160;be&#160;noted&#160;in this&#160;regard:&#160;<br/>
<b>&gt;&#160;</b><br/>
The&#160;RTE&#160;generates&#160;XCP&#160;events&#160;at&#160;the&#160;end&#160;of&#160;each task. An XCP&#160;event thus&#160;does&#160;<br/>not have a&#160;direct relation to&#160;the running&#160;of&#160;a&#160;Runnable.&#160;It&#160;is&#160;therefore common&#160;<br/>that&#160;a&#160;Runnable&#160;does&#160;not&#160;run&#160;continuously&#160;between&#160;XCP&#160;events.&#160;<br/>
<b>&gt;&#160;</b><br/>
If&#160;XCP&#160;events&#160;are&#160;generated by&#160;the RTE, the DAQ&#160;measurement&#160;mode must also&#160;<br/>be&#160;activated&#160;in&#160;the&#160;XCP&#160;module.&#160;<br/>
<b>&gt;&#160;</b><br/>
It must thereby&#160;be&#160;anticipated&#160;that&#160;the&#160;XCP&#160;events&#160;of&#160;the RTE&#160;will&#160;be&#160;called&#160;very&#160;<br/>often.&#160;<br/>
<b>&gt;&#160;</b><br/>
The&#160;generated&#160;XCP&#160;events&#160;are not cyclic, so it is&#160;not&#160;possible&#160;to&#160;make a&#160;definitive&#160;<br/>statement about&#160;the expected&#160;bus&#160;load.&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;39&#160;-&#160;<br/>
<hr/>
<a name=42></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-42_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-42_2.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Supplier&#160;<br/>
&#160;<br/>
For another&#160;thing,&#160;the&#160;RTE&#160;also generates&#160;XCP&#160;events&#160;for the&#160;above-mentioned&#160;<br/>access&#160;to&#160;buffered ports. By&#160;means&#160;of&#160;the description in the&#160;A2L file, it&#160;is&#160;ensured&#160;that&#160;<br/>these ports&#160;are measured fixed&#160;with the generated&#160;event.&#160;<br/>
&#160;&#160;<br/>
<b>5.3.4&#160;&#160;Software&#160;Component&#160;with Calibration&#160;Parameters&#160;</b><br/>
External&#160;access&#160;&#160;<br/>
The&#160;definition&#160;of&#160;calibration&#160;parameters&#160;(<b>Calibration Parameter</b>)&#160;makes&#160;it&#160;<br/>possible to&#160;change&#160;a calibration parameter&#160;within the&#160;software component&#160;externally&#160;<br/>via XCP.&#160;<br/>
&#160;<br/>
Within the software component,&#160;access&#160;to&#160;this&#160;calibration&#160;parameter&#160;is&#160;read-only.&#160;<br/>However,&#160;outside&#160;of&#160;the SW-C, the possibility&#160;exists&#160;to change&#160;this&#160;calibration&#160;<br/>parameter.&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
<i>Figure&#160;5-6:&#160;Properties&#160;of&#160;a&#160;calibration&#160;parameter&#160;<br/></i>&#160;&#160;<br/>
&#160;<br/>
A&#160;calibration parameter&#160;consists&#160;of&#160;a&#160;data&#160;type and&#160;an&#160;initial&#160;value.&#160;The&#160;scope&#160;<br/>(<b>Scope</b>)&#160;and the measurement and&#160;calibration access&#160;can&#160;be&#160;configured.&#160;<br/>
<b>Note:</b>&#160;For additional&#160;information about&#160;these&#160;parameters, refer to the online&#160;help for&#160;<br/>the&#160;DaVinci&#160;Developer.&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
<b>5.3.5&#160;&#160;Calibration Parameters&#160;for Multiple&#160;Software&#160;Components&#160;</b><br/>
Calibration-type&#160;<br/>
A&#160;calibration-type software&#160;component&#160;is&#160;used to&#160;provide&#160;calibration parameters&#160;for&#160;<br/>
software component&#160;<br/>
multiple software components.&#160;<br/>
&#160;<br/>
This&#160;type&#160;of&#160;software component has&#160;only&#160;calibration&#160;ports&#160;(<b>Calibration Ports</b>),&#160;<br/>that&#160;provide&#160;calibration parameters&#160;for other&#160;SW-Cs&#160;and&#160;act&#160;as&#160;a&#160;sender&#160;port.&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;40&#160;-&#160;<br/>
<hr/>
<a name=43></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-43_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-43_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-43_3.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Supplier&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
Representation&#160;of&#160;a&#160;calibration&#160;software component&#160;in&#160;DaVinci&#160;Developer:&#160;<br/>
&#160;<br/>
&#160;<br/>
<i>Figure&#160;5-7:&#160;Graphic&#160;interface&#160;</i><br/>
&#160;<br/>
<i>Figure&#160;5-8:&#160;List&#160;with&#160;the&#160;configured&#160;ports&#160;</i><br/>
&#160;<br/>
Each calibration&#160;port,&#160;in turn, contains&#160;calibration&#160;parameters.&#160;These&#160;calibration&#160;<br/>parameters&#160;are handled&#160;in just the same way&#160;as&#160;calibration parameters&#160;within a&#160;<br/>software component.&#160;<br/>
&#160;&#160;<br/>
<b>5.3.6&#160;&#160;Configuration of the&#160;RTE (Runtime&#160;Environment)&#160;</b><br/>
RTE&#160;support&#160;<br/>
The support of&#160;the&#160;RTE&#160;is&#160;required&#160;in&#160;order&#160;to&#160;measure and calibrate software&#160;<br/>
necessary&#160;<br/>
components&#160;using&#160;the&#160;XCP&#160;protocol. The&#160;MICROSAR&#160;RTE&#160;Generator&#160;provides&#160;this&#160;<br/>measurement and&#160;calibration&#160;support.&#160;<br/>
&#160;&#160;<br/>
<b>Reference:</b>&#160;For an explanation&#160;of&#160;the&#160;activation&#160;of&#160;the&#160;measurement and&#160;calibration&#160;<br/>support, refer to&#160;the&#160;technical&#160;referenc<a href="file:///D:/helps/AUTOSAR%20Calibration%20Guide/Development/TechnicalReferences/TechnicalReference_Asr_Rte.pdf">e&#160;TechnicalReference_Asr_Rte,&#160;</a>page 102ff.&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
Online&#160;calibration&#160;<br/>
CANape&#160;currently&#160;supports&#160;the following&#160;online&#160;calibration&#160;procedures:&#160;<br/>
procedures&#160;<br/>
<b>&gt;&#160;</b><br/>
Initialized&#160;RAM&#160;<br/>
supported by&#160;<br/>CANape&#160;<br/>
<b>&gt;&#160;</b><br/>
Single Pointered&#160;<br/>
Initialized&#160;RAM&#160;<br/>
The&#160;standard calibration&#160;procedure&#160;with&#160;CANape&#160;is&#160;&#34;Initialized&#160;RAM&#34;. This&#160;procedure&#160;<br/>is&#160;suitable&#160;when&#160;the&#160;ECU&#160;has&#160;sufficient RAM&#160;memory&#160;for all&#160;calibration parameters&#160;to&#160;<br/>be&#160;calibrated.&#160;<br/>
Single Pointered&#160;<br/>
The&#160;advantage&#160;of&#160;the &#34;Single&#160;Pointered&#34;&#160;calibration&#160;concept&#160;is&#160;that&#160;not&#160;all&#160;calibration&#160;<br/>parameters&#160;constantly&#160;have a&#160;copy&#160;in the&#160;RAM&#160;memory. Therefore, this&#160;procedure&#160;<br/>must be chosen&#160;when RAM&#160;memory&#160;capacity&#160;is&#160;limited.&#160;<br/>
&#160;<br/>
When&#160;the ECU source code is&#160;generated&#160;by&#160;the&#160;DaVinci&#160;Developer, A2L&#160;fragments&#160;<br/>are also&#160;generated. The&#160;integration&#160;of&#160;the created&#160;A2L&#160;fragments&#160;Rte.a2l&#160;and&#160;<br/>Rte_XcpEvents.a2l&#160;is&#160;described&#160;in more detail&#160;in&#160;the&#160;Creating an&#160;A2L File&#160;section.&#160;<br/>
&#160;&#160;<br/>
<b>5.3.7&#160;&#160;Measuring and Calibrating Without the&#160;Support&#160;of the&#160;RTE&#160;</b><br/>
Points&#160;to&#160;be&#160;<br/>
The&#160;possibility&#160;exists&#160;to&#160;use&#160;measurement and&#160;calibration&#160;even&#160;without&#160;the support of&#160;<br/>
considered&#160;<br/>
the&#160;RTE.&#160;<br/>
&#160;<br/>
The&#160;following&#160;points&#160;must be noted&#160;in this&#160;regard:&#160;<br/>
<b>&gt;&#160;</b><br/>
Measurement via&#160;DAQ&#160;events&#160;requires&#160;that corresponding XCP&#160;events&#160;be&#160;<br/>programmed&#160;and then&#160;described&#160;in&#160;the&#160;A2L file.&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;41&#160;-&#160;<br/>
<hr/>
<a name=44></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-44_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-44_2.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Supplier&#160;<br/>
<b>Example:</b>&#160;<b>Integrating&#160;an XCP&#160;event&#160;within a runnable</b>&#160;<br/>
&#160;<br/>
&#160;<br/>
FUNC(void, RTE_CTAPMCU_APPL_CODE) RCtApMy_Algo(void)&#160;<br/>
{&#160;<br/>
&#160;&#160;// Perform algorithm within my runnable&#160;<br/>
&#160;&#160;...&#160;<br/>
&#160;<br/>
&#160;&#160;// Trigger user defined XCP Event&#160;<br/>
&#160;&#160;XcpEvent(12);&#160;<br/>
}&#160;<br/>
&#160;<br/>
<b>&gt;&#160;</b><br/>
For online calibration,&#160;a separate&#160;implementation of&#160;the calibration&#160;method&#160;<br/>(&#34;Initialized RAM&#34;&#160;or&#160;AUTOSAR&#160;&#34;Single&#160;Pointered&#34;)&#160;is&#160;required.&#160;<br/>
<b>&gt;&#160;</b><br/>
Calibration&#160;and measurement requires&#160;one&#160;or more A2L&#160;files&#160;that&#160;are created&#160;<br/>manually&#160;or&#160;with&#160;an&#160;external&#160;program&#160;(e.g.,&#160;ASAP2 Creator&#160;or&#160;TargetLink). These&#160;<br/>A2L&#160;files&#160;must be merged&#160;with&#160;the&#160;A2L files&#160;generated by&#160;the Vector tools. The&#160;<br/>ASAP2 Merger&#160;program&#160;can be&#160;used&#160;for this&#160;(see&#160;description in th<a href="UserManual_AUTOSAR_Calibrations.html#51">e&#160;Creating an&#160;<br/>A2L&#160;File&#160;</a>section&#160;on page<a href="UserManual_AUTOSAR_Calibrations.html#51">&#160;49).</a>&#160;<br/>
&#160;&#160;<br/>
<b>5.3.8&#160;&#160;Debugging&#160;of&#160;the&#160;BSW&#160;(Basic&#160;Software)&#160;</b><br/>
Modules&#160;which&#160;<br/>
MICROSAR&#160;AMD&#160;allows&#160;measuring BSW&#160;internal&#160;status&#160;information&#160;using XCP&#160;in&#160;<br/>
provide&#160;<br/>
order&#160;to&#160;ease&#160;debugging.&#160;For this&#160;purpose&#160;MICROSAR&#160;AMD provides&#160;measurement&#160;<br/>
measurement&#160;<br/>
parameters&#160;for by&#160;different&#160;MICROSAR&#160;modules&#160;such&#160;as&#160;COM,&#160;CANNM&#160;or CANTP.&#160;<br/>
parameters&#160;<br/>
Generating&#160;the&#160;A2L&#160;<br/>
For generating&#160;the&#160;A2L&#160;information&#160;GENy&#160;creates&#160;automatically&#160;the&#160;A2L fragments&#160;<br/>
information&#160;<br/>
bsw.a2l&#160;and&#160;bsw_xcp_events.a2l&#160;required&#160;for the A2L.&#160;<br/>
&#160;&#160;<br/>
<b>Reference:</b>&#160;Information&#160;for configuration&#160;and&#160;detailed instructions&#160;are provided&#160;in&#160;the&#160;<br/><a href="file:///D:/helps/AUTOSAR%20Calibration%20Guide/Development/UserManuals/UserManual_AMD.pdf">User Manual&#160;AMD.</a>&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
<b>5.4&#160;&#160;Configuration&#160;of&#160;the&#160;XCP&#160;Module&#160;</b><br/>
Configuration tool&#160;<br/>
The&#160;XCP&#160;module is&#160;configured&#160;with the&#160;GENy&#160;software&#160;component&#160;configuration&#160;tool.&#160;<br/>
GENy&#160;<br/>
The&#160;source code for the&#160;XCP&#160;slave&#160;implementation is&#160;then&#160;generated based on this&#160;<br/>configuration.&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;42&#160;-&#160;<br/>
<hr/>
<a name=45></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-45_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-45_2.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Supplier&#160;<br/>
&#160;<br/>
<i>Figure&#160;5-9:&#160;Settings&#160;in&#160;GENy&#160;<br/></i>&#160;&#160;<br/>
<b>Reference:</b>&#160;Information&#160;and instructions&#160;on&#160;configuring the&#160;module can&#160;be&#160;found&#160;in&#160;<br/><a href="../TechnicalReferences/TechnicalReference_XCP_Protocol_Layer.pdf">the&#160;TechnicalReference_XCP_Protocol_Layer&#160;</a>document.&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
Preface&#160;<br/>
The&#160;most important configuration&#160;parameters&#160;are described&#160;below.&#160;In&#160;addition,&#160;the&#160;<br/>optional&#160;XCP&#160;features<a href="UserManual_AUTOSAR_Calibrations.html#19">&#160;Measurement Modes&#160;</a>and<a href="UserManual_AUTOSAR_Calibrations.html#20">&#160;Autoselection&#160;and&#160;Software&#160;Version&#160;<br/>Check&#160;of&#160;the A2L&#160;File&#160;</a>are&#160;described&#160;in the&#160;context of&#160;the XCP&#160;module.&#160;<br/>
&#160;&#160;<br/>
<b>5.4.1&#160;&#160;DAQ&#160;List Configuration&#160;</b><br/>
Implementation only&#160;<br/>
The&#160;XCP&#160;module currently&#160;has&#160;only&#160;the&#160;implementation for dynamic&#160;DAQ&#160;lists.&#160;<br/>
for dynamic&#160;DAQ&#160;<br/>
Predefined&#160;DAQ&#160;lists&#160;(static&#160;DAQ&#160;lists)&#160;are currently&#160;not supported&#160;by&#160;the&#160;XCP&#160;<br/>
lists&#160;<br/>
module.&#160;Static&#160;DAQ&#160;lists&#160;are not&#160;suitable for use of&#160;an&#160;XCP&#160;slave&#160;within&#160;an&#160;<br/>AUTOSAR software stack. For&#160;one&#160;thing,&#160;these require an&#160;unnecessarily&#160;large&#160;<br/>amount&#160;of&#160;memory. For&#160;another thing,&#160;when&#160;very&#160;many&#160;XCP&#160;events&#160;are&#160;implemented,&#160;<br/>the&#160;maximum&#160;possible&#160;number&#160;of&#160;static&#160;lists&#160;may&#160;be&#160;exceeded&#160;if&#160;a&#160;fixed&#160;assignment is&#160;<br/>used.&#160;<br/>
Amount&#160;of&#160;memory&#160;<br/>
The&#160;amount&#160;of&#160;memory&#160;provided for the DAQ&#160;configuration can&#160;be&#160;specified&#160;in&#160;the&#160;<br/>
space&#160;<br/>
XCP&#160;module.&#160;<br/>
&#160;<br/>
The&#160;following&#160;formula can&#160;be used&#160;for the calculation:&#160;<br/>
Memory&#160;space&#160;f&#160;or&#160;D<br/>
&#160;&#160;AQ&#160;c<br/>
&#160;&#160;onfigurat&#160;ion&#160;[&#160;bytes]&#160;&#160;5max.&#160;n<br/>
&#160;&#160;&#160;umber&#160;of<br/>
&#160;&#160;m<br/>
&#160;&#160;easuremen&#160;s<br/>
&#160;t&#160;ignals&#160;per<br/>
&#160;<br/>
m<br/>
&#160;&#160;easure&#160;&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;43&#160;-&#160;<br/>
<hr/>
<a name=46></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-46_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-46_2.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Supplier&#160;<br/>
<b>5.4.2&#160;&#160;Tool-Driven DAQ&#160;Timestamp&#160;Option&#160;</b><br/>
Additional&#160;options&#160;for&#160;&#160;As&#160;described previously&#160;in the<a href="UserManual_AUTOSAR_Calibrations.html#19">&#160;Measurement Modes&#160;</a>section,&#160;the&#160;possibility&#160;exists&#160;to&#160;<br/>timestamps&#160;<br/>
use a&#160;timestamp of&#160;the ECU. To do so,&#160;this&#160;must be supported&#160;in the&#160;XCP&#160;driver.&#160;As&#160;<br/>an&#160;additional&#160;option, the&#160;XCP&#160;driver can&#160;also supply&#160;the&#160;timestamp as&#160;a&#160;matter of&#160;<br/>principle&#160;(timestamp fixed)&#160;or on&#160;request. The&#160;size&#160;of&#160;the timestamp (1, 2, 4&#160;bytes&#160;per&#160;<br/>event) should&#160;be&#160;chosen&#160;after careful&#160;consideration.&#160;<br/>
&#160;&#160;<br/>
<b>Example:</b>&#160;&#160;<br/>The&#160;ECU uses&#160;a&#160;1&#160;µs&#160;counter for&#160;generating the DAQ&#160;timestamps. Only&#160;a 2-byte&#160;<br/>
&#160;<br/>
timestamp is&#160;chosen.&#160;<br/>
As&#160;a&#160;result, the&#160;timestamp overflows&#160;every&#160;65&#160;ms. So that the&#160;MCD tool&#160;can&#160;<br/>recognize&#160;an&#160;overflow,&#160;<b>at least one&#160;signal</b>&#160;that supplies&#160;a&#160;measurement value and&#160;<br/>thus&#160;also a&#160;timestamp at a&#160;more&#160;frequent&#160;interval&#160;than&#160;65&#160;ms&#160;must be&#160;measured in&#160;<br/>the&#160;measurement setup.&#160;<br/>
&#160;&#160;<br/>
<b>5.4.3&#160;&#160;XCP&#160;Event&#160;Information&#160;</b><br/>
XCP&#160;slave to&#160;XCP&#160;<br/>
XCP&#160;event&#160;information&#160;can&#160;be&#160;provided in two&#160;ways&#160;by&#160;the XCP&#160;slave.&#160;Either&#160;by&#160;a&#160;<br/>
master&#160;<br/>
generated&#160;A2L&#160;file&#160;that contains&#160;the&#160;configured&#160;events&#160;or by&#160;the&#160;XCP&#160;command&#160;<br/>GET_DAQ_EVENT_INFO&#160;which provides&#160;the&#160;event&#160;information&#160;directly&#160;from&#160;the ECU.&#160;<br/>In&#160;both&#160;cases&#160;the&#160;event&#160;information&#160;has&#160;to&#160;be&#160;configured in&#160;the&#160;generation&#160;tool&#160;<br/>accordingly.&#160;<br/>
&#160;&#160;<br/>
<b>Caution:</b>&#160;If&#160;the&#160;GET_DAQ_EVENT_INFO&#160;feature&#160;is&#160;activated&#160;in&#160;the&#160;XCP&#160;module,&#160;the&#160;<br/>automatically&#160;generated&#160;events&#160;of&#160;the&#160;RTE&#160;are not taken&#160;into&#160;consideration.&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
<b>Recommendation:&#160;</b><br/>
<b>&#160;</b><br/>
No RTE&#160;events&#160;are&#160;<br/>
If&#160;no&#160;RTE&#160;events&#160;are&#160;used,&#160;the&#160;functionality&#160;of&#160;the XCP&#160;event&#160;information&#160;can&#160;be&#160;<br/>
used:&#160;<br/>
used. However,&#160;attention&#160;must be&#160;paid that&#160;all&#160;events&#160;that are&#160;implemented&#160;are&#160;<br/>described&#160;(including&#160;those&#160;of&#160;the BSW&#160;component).&#160;<br/>
RTE&#160;events&#160;are&#160;<br/>
Due&#160;to the fact that&#160;the&#160;GET_DAQ_EVENT_INFO&#160;feature overwrites&#160;all&#160;events&#160;defined&#160;<br/>
used:&#160;<br/>
in&#160;A2L&#160;files, deactivation of&#160;this&#160;feature&#160;is&#160;recommended if&#160;RTE&#160;events&#160;are&#160;used.&#160;In&#160;<br/>this&#160;case the&#160;generated&#160;fragment&#160;XCP_events.a2l&#160;can&#160;be inserted&#160;into the master&#160;<br/>A2L&#160;file (see&#160;the<a href="UserManual_AUTOSAR_Calibrations.html#51">&#160;Creating&#160;an A2L File&#160;</a>section).&#160;<br/>
&#160;&#160;<br/>
<b>5.4.4&#160;&#160;Software&#160;Version Check&#160;</b><br/>
Aspects&#160;for&#160;<br/>
The&#160;possibilities&#160;for checking&#160;the&#160;software&#160;version&#160;were&#160;previously&#160;presented&#160;in&#160;the&#160;<br/>
implementation&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#20">Autoselection&#160;and Software&#160;Version Check&#160;of&#160;the A2L&#160;File&#160;</a>section.&#160;Aspects&#160;for the&#160;<br/>implementation&#160;are explained&#160;here.&#160;<br/>
&#160;&#160;<br/>
<b>XCP&#160;Station&#160;</b><br/>
The&#160;Station&#160;Identifier should be centrally&#160;defined&#160;in&#160;an&#160;appropriate&#160;way&#160;and&#160;<br/>
<b>Identifier&#160;(protocol&#160;</b><br/>
afterwards&#160;only&#160;integrated.&#160;This&#160;can&#160;be&#160;achieved as&#160;follows:&#160;<br/>
<b>command&#160;GET_ID)&#160;</b><br/>
<b>&gt;&#160;</b><br/>
Do not perform&#160;a&#160;manual&#160;configuration of&#160;the XCP&#160;identifier in&#160;GENy.&#160;<br/>
<b>&gt;&#160;</b><br/>
Create&#160;a &#34;User Defined&#34;&#160;configuration&#160;containing,&#160;for example:&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;44&#160;-&#160;<br/>
<hr/>
<a name=47></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-47_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-47_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-47_3.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Supplier&#160;<br/>
<b>Example:</b>&#160;&#160;<br/><b>user_cfg.h:</b>&#160;<br/>/* Standard commands */&#160;<br/>
&#160;<br/>
#define kXcpStationIdLength 7u&#160;<br/>extern CONST(XcpCharType, XCP_CONST) kXcpStationId[];&#160;<br/>
<b>user_cfg.c:&#160;<br/></b>CONST(XcpCharType, XCP_CONST) kXcpStationId[] = &#34;EcuName_V1-2-<br/>0&#34;;&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
If&#160;this&#160;information&#160;is&#160;integrated&#160;in the build process, the&#160;Station&#160;Identifier&#160;<br/>EcuName_V1-2-0&#160;is&#160;used.&#160;<br/>
&#160;&#160;<br/>
<b>EPK&#160;check&#160;</b><br/>
It is&#160;recommended that&#160;the&#160;EPK&#160;identifier be generated&#160;automatically&#160;and consistently&#160;<br/>with&#160;every&#160;compilation both&#160;in the&#160;source code&#160;and&#160;in&#160;the&#160;A2L&#160;file.&#160;<br/>
Ideally, the&#160;EPK&#160;is&#160;stored&#160;at a&#160;constant&#160;address&#160;in the&#160;ECU. This&#160;could&#160;look&#160;like this&#160;<br/>in the&#160;source code:&#160;<br/>
&#160;&#160;<br/>
<b>Example:</b>&#160;&#160;<br/>__attribute__((section(&#34;calflash_signature&#34;))) const char&#160;<br/>
&#160;<br/>
epk[26] = &#34;EcuName V1.2.0 01.03.2012&#34;;&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
In&#160;the A2L&#160;file,&#160;the&#160;EPK&#160;identifier must also be&#160;implemented accordingly.&#160;For&#160;the&#160;<br/>above&#160;example in&#160;the&#160;ECU&#160;software, the&#160;entry&#160;in the A2L&#160;file&#160;looks&#160;like:&#160;<br/>
&#160;&#160;<br/>
<b>Example:</b>&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160; &#160;&#160;/begin MOD_PAR &#34;EcuName&#34;&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160;ADDR_EPK 0x350002&#160;<br/>
&#160; &#160; &#160; &#160; &#160;&#160;EPK &#34;EcuName V1.2.0 01.03.2012&#34;&#160;<br/>
&#160; &#160;&#160;/end MOD_PAR&#160;<br/>
&#160;&#160;<br/>
<b>Checksum of&#160;code&#160;</b><br/>
So that&#160;CANape&#160;can calculate&#160;the&#160;checksum&#160;of&#160;code segments, some information&#160;is&#160;<br/>
<b>segments in&#160;the&#160;</b><br/>
required.&#160;First, the&#160;code&#160;segments&#160;must be defined&#160;in&#160;the&#160;A2L&#160;file.&#160;Second,&#160;CANape&#160;<br/>
<b>ECU (CANape&#160;11.0&#160;</b><br/>
requires&#160;a&#160;HEX&#160;file that&#160;also contains&#160;the&#160;code segments.&#160;<br/>
<b>and&#160;higher)&#160;<br/></b>&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;45&#160;-&#160;<br/>
<hr/>
<a name=48></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-48_1.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Supplier&#160;<br/>
<b>5.4.5&#160;&#160;Use&#160;of the&#160;XCP&#160;Component&#160;in the&#160;Implementation&#160;</b><br/>
&#160;<br/>
<i>Figure&#160;5-10:&#160;Interaction&#160;of&#160;the&#160;XCP module&#160;with&#160;AUTOSAR application&#160;<br/></i>&#160;<br/>
Interaction&#160;of&#160;XCP&#160;<br/>
1.&#160;&#160;For DAQ&#160;measurements, the basic&#160;software&#160;or the&#160;application&#160;calls&#160;the&#160;<br/>
module&#160;with&#160;<br/>
XcpEvent&#160;function.&#160;<br/>
AUTOSAR&#160;<br/>application&#160;<br/>
2.&#160;&#160;The&#160;initialization routine of&#160;the&#160;application&#160;(within&#160;DriverInitTwo)&#160;calls&#160;<br/>
XcpInit.&#160;<br/>
3.&#160;&#160;The&#160;scheduler&#160;of&#160;the basic&#160;software calls&#160;XcpBackground&#160;periodically.&#160;<br/>
4.&#160;&#160;By&#160;means&#160;of&#160;the&#160;CanXcp&#160;functions,&#160;the&#160;application can&#160;be&#160;informed&#160;about CAN-<br/>
specific&#160;events.&#160;<br/>
&#160;&#160;<br/>
Procedure for&#160;use&#160;<br/>
<b>&gt;&#160;</b><br/>
All&#160;modules&#160;that&#160;require the&#160;XCP&#160;component&#160;must include the&#160;XcpProf.h&#160;<br/>header file.&#160;<br/>
<b>&gt;&#160;</b><br/>
The&#160;XCP&#160;component&#160;must be initialized in the initialization&#160;routine&#160;of&#160;the software&#160;<br/>by&#160;calling&#160;the&#160;XcpInit&#160;function.&#160;<br/>
<b>&gt;&#160;</b><br/>
A&#160;desired&#160;XCP&#160;service&#160;within the&#160;application&#160;can&#160;be&#160;used&#160;by&#160;calling&#160;a function,&#160;for&#160;<br/>example&#160;XcpEvent&#160;(channel)&#160;with&#160;a&#160;corresponding channel/event&#160;number.&#160;<br/>
&#160;&#160;<br/>
<b>5.4.6&#160;&#160;Recommendations&#160;for the&#160;Configuration of&#160;the&#160;XCP&#160;Module&#160;</b><br/>
Check&#160;important&#160;<br/>
In&#160;general, every&#160;configuration&#160;parameter&#160;of&#160;the XCP&#160;module should&#160;be&#160;checked&#160;with&#160;<br/>
parameters&#160;<br/>
respect to&#160;its&#160;setting.&#160;Important&#160;parameters&#160;that&#160;should&#160;be&#160;assigned a&#160;different value&#160;<br/>than&#160;the&#160;default value&#160;are described&#160;below. These can&#160;also be seen again directly&#160;in&#160;<br/>GENy&#160;in<a href="UserManual_AUTOSAR_Calibrations.html#45">&#160;Figure&#160;5-9.</a>&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;46&#160;-&#160;<br/>
<hr/>
<a name=49></a>User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Supplier&#160;<br/>
General&#160;Settings&#160;<br/>
XCP&#160;Station&#160;Identifier&#160;<br/>
Manual&#160;specification&#160;of&#160;the&#160;file name of&#160;the&#160;<br/>A2L&#160;file&#160;without the&#160;file name extension.&#160;Use&#160;<br/>of&#160;the automatic&#160;name adaptation&#160;described&#160;<br/>in the<a href="UserManual_AUTOSAR_Calibrations.html#46">&#160;Software&#160;Version Check&#160;</a>section&#160;is&#160;<br/>recommended.&#160;<br/>
&#160;<br/>
Event Codes&#160;<br/>
Activate&#160;option.&#160;<br/>
&#160;<br/>
Development Error Detection&#160;<br/>
Activate&#160;option during&#160;the development.&#160;<br/>
<i>Table&#160;5-1:&#160;Recommendations&#160;for the&#160;Configuration&#160;of&#160;the&#160;XCP Module:&#160;General&#160;Settings&#160;<br/></i>&#160;&#160;<br/>Synchronous&#160;Data&#160;<br/>
Synchronous&#160;Data Acquisition&#160;(DAQ)&#160;&#160;Activate&#160;option (see&#160;the<a href="UserManual_AUTOSAR_Calibrations.html#45">&#160;DAQ&#160;List&#160;</a><br/>
Acquisition&#160;(DAQ)&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#45">Configuration&#160;</a>section)&#160;<br/>
&#160;<br/>
Memory&#160;Size&#160;<br/>
A&#160;memory&#160;size&#160;of&#160;2048&#160;bytes&#160;has&#160;proven to&#160;<br/>be&#160;adequate. The&#160;memory&#160;is&#160;reserved&#160;and&#160;<br/>used&#160;exclusively&#160;for the&#160;DAQ&#160;configuration&#160;<br/>and the&#160;Send Queue for the resume&#160;mode.&#160;<br/>
&#160;<br/>
Prescaler&#160;<br/>
Activate&#160;option.&#160;<br/>
&#160;<br/>
Write&#160;DAQ&#160;multiple&#160;<br/>
Activate&#160;option if&#160;CAN is&#160;not used&#160;as&#160;<br/>Transport Layer.&#160;<br/>
&#160;<br/>
Resume Mode&#160;<br/>
Activate&#160;option if&#160;the OEM&#160;requires&#160;this&#160;in&#160;the&#160;<br/>performance specifications. If&#160;activated,&#160;the&#160;<br/>memory&#160;size should&#160;be&#160;rechecked, since the&#160;<br/>Send Queue&#160;should have appropriate&#160;<br/>capacity.&#160;<br/>
&#160;<br/>
General&#160;Info&#160;<br/>
Activate&#160;option.&#160;<br/>
&#160;<br/>
STIM&#160;<br/>
Activate&#160;option if&#160;the OEM&#160;requires&#160;the&#160;<br/>bypassing&#160;feature&#160;in the&#160;performance&#160;<br/>specifications.&#160;<br/>
&#160;<br/>
DAQ&#160;Timestamp&#160;<br/>
Activate&#160;option (see&#160;the<a href="UserManual_AUTOSAR_Calibrations.html#46">&#160;Tool-Driven&#160;DAQ&#160;<br/>Timestamp Option&#160;</a>section).&#160;<br/>
&#160;<br/>
Fixed&#160;Timestamp&#160;<br/>
Activate&#160;option if&#160;CAN is&#160;not used&#160;as&#160;<br/>Transport Layer.&#160;<br/>
&#160;<br/>
Timestamp Size&#160;<br/>
Selection should be&#160;greater&#160;than&#160;or equal&#160;to&#160;<br/>WORD (2 bytes).&#160;<br/>
&#160;<br/>
Timestamp Unit +&#160;Ticks&#160;per&#160;Unit&#160;<br/>
The&#160;time unit for the&#160;timestamp should be less&#160;<br/>than&#160;the&#160;smallest&#160;event cycle time.&#160;<br/>
<i>Table&#160;5-2:&#160;Recommendations&#160;for the&#160;Configuration&#160;of&#160;the&#160;XCP Module:&#160;DAQ&#160;<br/></i>&#160;&#160;<br/>Block&#160;Transfer&#160;<br/>
Block&#160;Upload&#160;<br/>
Activate&#160;option.&#160;<br/>
&#160;<br/>
Block&#160;Download&#160;<br/>
Activate&#160;option.&#160;<br/>
&#160;<br/>
MIN_ST&#160;for Block&#160;Download&#160;<br/>
Check&#160;whether&#160;the&#160;ECU can process&#160;the&#160;<br/>blocks&#160;on&#160;time without&#160;a&#160;loss&#160;of&#160;data.&#160;<br/>Otherwise,&#160;a&#160;wait time should&#160;be&#160;configured&#160;<br/>here.&#160;<br/>
<i>Table&#160;5-3:&#160;Recommendations&#160;for the&#160;Configuration&#160;of&#160;the&#160;XCP Module:&#160;Block&#160;Transfer&#160;<br/></i>&#160;&#160;<br/>Checksum&#160;<br/>
Checksum&#160;<br/>
Activate&#160;option.&#160;<br/>
&#160;<br/>
AUTOSAR CRC Module&#160;Support&#160;<br/>
Recommended if&#160;the&#160;AUTOSAR module is&#160;<br/>present.&#160;<br/>
<i>Table&#160;5-4:&#160;Recommendations&#160;for the&#160;Configuration&#160;of&#160;the&#160;XCP Module:&#160;Checksum&#160;<br/></i>&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;47&#160;-&#160;<br/>
<hr/>
<a name=50></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-50_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-50_2.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Supplier&#160;<br/>
<b>5.5&#160;&#160;Configuration&#160;of&#160;the&#160;Driver&#160;Modules&#160;</b><br/>
<b>5.5.1&#160;&#160;CAN&#160;Module&#160;MICROSAR&#160;XCP&#160;</b><br/>
Configuration&#160;<br/>
The&#160;CAN module&#160;MICROSAR&#160;XCP&#160;is&#160;configured&#160;with&#160;the&#160;GENy&#160;Software&#160;Component&#160;<br/>Configuration tool.&#160;<br/>
The&#160;CAN messages&#160;for the&#160;XCP&#160;communication&#160;can be specified&#160;for&#160;MICROSAR&#160;<br/>XCP.&#160;<br/>
The&#160;module&#160;is&#160;also&#160;responsible for creating the&#160;CanXCPAsr.a2l&#160;file.&#160;<br/>
&#160;&#160;<br/>
<b>Reference:</b>&#160;Additional&#160;information&#160;is&#160;provided&#160;in&#160;the<a href="../TechnicalReferences/TechnicalReference_XCP_Protocol_Layer.pdf">&#160;Technical&#160;Reference&#160;XCP&#160;<br/>Protocol&#160;Layer&#160;</a>document.&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
<b>5.6&#160;&#160;Configuration&#160;of&#160;the&#160;Memory&#160;Management&#160;</b><br/>
NVM module&#160;<br/>
The&#160;AUTOSAR Standard&#160;provides&#160;an NVM module&#160;for the&#160;memory&#160;management.&#160;<br/>Measuring&#160;and calibrating&#160;generally&#160;have&#160;no&#160;direct points&#160;of&#160;contact&#160;with&#160;the&#160;memory&#160;<br/>management.&#160;<br/>
&#160;<br/>
The&#160;sole use case&#160;for configuring the NVM&#160;with&#160;regard&#160;to&#160;the XCP&#160;module is&#160;the&#160;use&#160;<br/>of&#160;Resume Mode.&#160;<br/>
&#160;&#160;<br/>
<b>5.6.1&#160;&#160;Configuration&#160;for Resume&#160;Mode&#160;</b><br/>
Implementation&#160;<br/>
For&#160;implementation&#160;of&#160;Resume Mode,&#160;the&#160;XCP&#160;driver&#160;must store its&#160;DAQ&#160;<br/>configuration&#160;in&#160;a non-volatile memory. Two pieces&#160;of&#160;information&#160;must be stored for&#160;<br/>resume&#160;mode:&#160;first, the&#160;fact that&#160;the&#160;mode is&#160;active&#160;and, second,&#160;the&#160;DAQ&#160;<br/>configuration&#160;itself.&#160;<br/>
&#160;<br/>
For this&#160;a&#160;memory&#160;block&#160;large enough&#160;for the&#160;configuration&#160;is&#160;configured&#160;in the&#160;NVM&#160;<br/>module.&#160;Its&#160;size can be&#160;derived&#160;from&#160;the buffer size configured&#160;in the&#160;XCP&#160;module.&#160;<br/>
Buffer size&#160;<br/>
The&#160;following&#160;formula can&#160;be used&#160;to&#160;calculate&#160;the&#160;buffer size:&#160;<br/>
Event<br/>
1<br/>
Signal<br/>
Buffer&#160;s<br/>
&#160;&#160;ize&#160;&#160;Buffer&#160;t&#160;ime&#160;&#160;<br/>
<br/>
(Measureme<br/>
s<br/>
&#160;<br/>
nt&#160;ignal<br/>
&#160;,j)&#160;&#160;Size&#160;of<br/>
&#160;&#160;t&#160;he&#160;t&#160;imestamp<br/>
<br/>
<br/>
cycle&#160;t&#160;ime<br/>
Eventi&#160;<br/>
&#160;<br/>
i<br/>
i<br/>
j<br/>
API methods&#160;<br/>
The&#160;API methods&#160;provided&#160;by&#160;the&#160;NVM&#160;module can&#160;then&#160;be used&#160;in&#160;order to save&#160;and&#160;<br/>load the configuration&#160;in the XCP&#160;module. This&#160;program&#160;part is&#160;not generated&#160;<br/>automatically&#160;and must be programmed.&#160;<br/>
&#160;&#160;<br/>
<b>Reference:</b>&#160;The&#160;methods&#160;to be&#160;implemented&#160;can&#160;be&#160;referenced&#160;in th<a href="../TechnicalReferences/TechnicalReference_XCP_Protocol_Layer.pdf">e&#160;Technical&#160;<br/>Reference&#160;XCP&#160;Protocol&#160;Layer&#160;</a>document.&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;48&#160;-&#160;<br/>
<hr/>
<a name=51></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-51_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-51_2.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Supplier&#160;<br/>
<b>5.7&#160;&#160;Creating&#160;an&#160;A2L&#160;File&#160;</b><br/>
To complete&#160;the A2L&#160;&#160;The&#160;A2L&#160;description&#160;file contains&#160;all&#160;relevant information&#160;regarding&#160;the&#160;ECU. This&#160;<br/>file,&#160;merge all&#160;<br/>
information&#160;is&#160;generated&#160;from&#160;various&#160;generators&#160;during the&#160;creation&#160;process.&#160;<br/>
relevant&#160;information&#160;<br/>
Information, such&#160;as&#160;the&#160;physical&#160;address,&#160;which&#160;is&#160;not&#160;available&#160;until&#160;the&#160;ECU&#160;<br/>
regarding&#160;the&#160;ECU&#160;<br/>
application&#160;has&#160;been created,&#160;is&#160;also needed.&#160;<br/>
&#160;<br/>
All&#160;parts&#160;must be merged&#160;to&#160;ultimately&#160;obtain&#160;a&#160;complete A2L description&#160;file.&#160;The&#160;<br/>addresses&#160;in the A2L&#160;file then&#160;still&#160;have to be updated.&#160;<br/>
&#160;<br/>
Ideally, this&#160;process&#160;is&#160;incorporated into&#160;the&#160;automated creation&#160;process&#160;of&#160;the&#160;ECU&#160;<br/>application.&#160;<br/>
&#160;&#160;<br/>
<b>5.7.1&#160;&#160;Creation of&#160;a&#160;Master&#160;A2L File&#160;</b><br/>
<b>Note:</b>&#160;MICROSAR&#160;XCP&#160;provides&#160;a&#160;_Master.a2l&#160;file&#160;as&#160;a&#160;template&#160;in&#160;the&#160;delivery&#160;<br/>folder&#160;…\Misc\McData.&#160;All&#160;A2L&#160;files&#160;generated&#160;by&#160;Vector tools&#160;can&#160;be found in&#160;<br/>
&#160;<br/>
…\GenData&#160;folder.&#160;<br/>
&#160;&#160;<br/>
Goal&#160;<br/>
A&#160;master A2L&#160;file that&#160;merges&#160;all&#160;partial&#160;databases&#160;into&#160;one&#160;is&#160;required. This&#160;master&#160;<br/>file can&#160;then&#160;be&#160;used&#160;as&#160;a&#160;template&#160;for the&#160;file to&#160;be&#160;created.&#160;The&#160;objective is&#160;to&#160;<br/>ultimately&#160;obtain&#160;a single file containing&#160;all&#160;information.&#160;<br/>
Project-specific&#160;<br/>
This&#160;master A2L&#160;file&#160;is&#160;very&#160;project-specific. The&#160;information&#160;for an A2L file is&#160;created&#160;<br/>
master A2L&#160;file&#160;<br/>
by&#160;different generators.&#160;Some information&#160;is&#160;also added manually. For this&#160;reason,&#160;<br/>the&#160;master A2L&#160;file&#160;is&#160;not created automatically.&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
<i>Figure&#160;5-11:&#160;Process&#160;for&#160;creating&#160;a&#160;master A2L&#160;file&#160;(example)&#160;<br/></i>&#160;&#160;<br/>
include&#160;commands&#160;&#160;The&#160;general&#160;structure&#160;of&#160;an&#160;A2L&#160;file&#160;is&#160;already&#160;described in<a href="UserManual_AUTOSAR_Calibrations.html#26">&#160;Figure&#160;3-11:&#160;Structure&#160;of&#160;</a><br/>
<a href="UserManual_AUTOSAR_Calibrations.html#26">the&#160;A2L&#160;file.</a>&#160;To merge the&#160;individual&#160;A2L&#160;fragments,&#160;include&#160;commands&#160;are used.&#160;<br/>These are inserted&#160;accordingly&#160;to&#160;the modular structure&#160;(AML,&#160;General&#160;ECU&#160;<br/>Implementation,&#160;IF_DATA&#160;and&#160;A2L&#160;Objects).&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;49&#160;-&#160;<br/>
<hr/>
<a name=52></a>User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Supplier&#160;<br/>
&#160;<br/>
To&#160;allow&#160;the&#160;merge of&#160;the&#160;individual&#160;memory&#160;segments&#160;running smoothly,&#160;project-<br/>specific&#160;adaptions&#160;must be made in the&#160;master A2L&#160;file. These are marked&#160;<br/>with&#160;//&#160;TODO:&#160;<br/>
Adaption&#160;of&#160;include&#160;&#160;For the&#160;below-named&#160;include&#160;commands&#160;the&#160;file&#160;paths&#160;may&#160;have&#160;to&#160;be&#160;adapted.&#160;<br/>commands&#160;<br/>
Generally&#160;remove the appropriate&#160;includes&#160;if&#160;not required&#160;in the project.&#160;<br/>
Use of&#160;a&#160;text editor&#160;<br/>
The&#160;simplest procedure&#160;is&#160;to&#160;use a&#160;text editor to create&#160;and&#160;adapt&#160;the&#160;master&#160;A2L&#160;file.&#160;<br/>
&#160;&#160;<br/>
Master A2L&#160;file&#160;<br/>
ASAP2_VERSION 1.60&#160;<br/>/begin&#160;PROJECT ExampleProject &#34;&#34;&#160;<br/>&#160;&#160;/begin MODULE MyModuleName &#34;&#34;&#160;<br/>
AML&#160;<br/>
&#160; &#160;&#160;/begin A2ML&#160;<br/>&#160; &#160; &#160;&#160;...&#160;<br/>&#160; &#160; &#160;&#160;block &#34;IF_DATA&#34; taggedunion if_data {&#160;<br/>&#160; &#160; &#160; &#160;&#160;...&#160;<br/>&#160; &#160; &#160;&#160;};&#160;<br/>&#160; &#160; &#160;&#160;...&#160;<br/>&#160; &#160; &#160;&#160;//TODO:&#160;Include AML Information if required.&#160;<br/>&#160; &#160;&#160;/end A2ML&#160;<br/>&#160; &#160;&#160;&#160;<br/>
General&#160;ECU&#160;<br/>
&#160; &#160;&#160;/begin MOD_COMMON &#34;&#34;&#160;<br/>
implementation&#160;<br/>
&#160; &#160; &#160;&#160;// TODO:&#160;Set the Byte Order of the ECU as defined by the&#160;<br/>
ECUC module MSB_FIRST or MSB_LAST&#160;and&#160;configure the byte&#160;<br/>alignment used in this project.&#160;<br/>
&#160; &#160;&#160;/end MOD_COMMON&#160;<br/>&#160; &#160;&#160;&#160;<br/>&#160; &#160;&#160;/begin MOD_PAR &#34;&#34;&#160;<br/>&#160; &#160;&#160;/include &#34;GenData\Rte\<b>Rte_MemSeg.a2l</b>&#34;&#160;<br/>&#160; &#160;&#160;// TODO:&#160;Add or include MEMORY_SEGMENT information here.&#160;<br/>&#160; &#160;&#160;/end MOD_PAR&#160;<br/>&#160; &#160;&#160;&#160;<br/>
IF_DATA&#160;<br/>
&#160; &#160;&#160;/begin IF_DATA XCP&#160;<br/>&#160; &#160; &#160;&#160;/include &#34;GenData\<b>XCP.a2l</b>&#34;&#160;<br/>&#160; &#160; &#160;&#160;/begin DAQ&#160;<br/>&#160; &#160; &#160; &#160;&#160;// TODO:&#160;Add or include further a2l file splitter that&#160;<br/>
provide XCP Events.&#160;<br/>
&#160; &#160; &#160; &#160;&#160;/include &#34;GenData\<b>XCP_daq.a2l</b>&#34;&#160;<br/>&#160; &#160; &#160; &#160;&#160;/include &#34;GenData\<b>XCP_events.a2l</b>&#34;&#160;<br/>&#160; &#160; &#160; &#160;&#160;/include &#34;Misc\McData\<b>Dlt_Events.a2l</b>&#34;&#160;<br/>&#160; &#160; &#160; &#160;&#160;/include &#34;GenData\Bsw\<b>bsw_xcp_events.a2l</b>&#34;&#160;<br/>&#160; &#160; &#160; &#160;&#160;/include &#34;GenData\Rte\<b>Rte_XcpEvents.a2l</b>&#34;&#160;<br/>&#160; &#160; &#160; &#160;/end DAQ&#160;<br/>&#160; &#160; &#160;&#160;/include &#34;GenData\<b>CanXCPAsr.a2l</b>&#34;&#160;<br/>&#160; &#160;&#160;/end IF_DATA&#160;<br/>&#160; &#160;&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;50&#160;-&#160;<br/>
<hr/>
<a name=53></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-53_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-53_2.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Supplier&#160;<br/>
A2L&#160;objects&#160;<br/>
&#160; &#160;&#160;// TODO:&#160;Add or include further a2l splitter that provide&#160;<br/>
measurement objects.&#160;<br/>
&#160; &#160;&#160;/include &#34;Misc\McData\<b>Dlt.a2l</b>&#160;<br/>&#160; &#160;&#160;/include &#34;GenData\Bsw\<b>bsw.a2l</b>&#34;&#160;<br/>&#160; &#160;&#160;/include &#34;GenData\Rte\<b>Rte.a2l</b>&#34;&#160;<br/>&#160; &#160;&#160;/include &#34;GenData\<b>AmdRtm.a2l</b>&#34;&#160;<br/>&#160; &#160;&#160;&#160;<br/>
&#160;<br/>
&#160;&#160;/end MODULE&#160;<br/>/end PROJECT&#160;<br/>
&#160;&#160;<br/>
<b>5.7.2&#160;&#160;Expansion&#160;of the&#160;Master&#160;A2L File&#160;</b><br/>
Include&#160;commands&#160;&#160;A&#160;good&#160;approach for incorporating additional&#160;contents&#160;into&#160;the&#160;A2L&#160;file&#160;is&#160;the&#160;<br/>
expansion&#160;of&#160;the master A2L file&#160;using&#160;include&#160;commands. Copying&#160;additional&#160;<br/>information&#160;directly&#160;and inserting&#160;it&#160;without&#160;include&#160;commands&#160;is&#160;not recommended.&#160;<br/>
Integrating of&#160;ECU&#160;<br/>
The&#160;A2L&#160;elements&#160;MOD_COMMON&#160;and&#160;MOD_PAR&#160;are&#160;best described&#160;in&#160;additional&#160;A2L&#160;<br/>
information&#160;(General&#160;&#160;files,&#160;which are manually&#160;integrated in the A2L&#160;file&#160;via an&#160;include&#160;command.&#160;<br/>ECU&#160;<br/>Implementation)&#160;<br/>
These&#160;include&#160;instructions&#160;are already&#160;inserted&#160;in&#160;the master file and&#160;accompany&#160;<br/>the&#160;AUTOSAR Calibration&#160;user manual.&#160;<br/>
Integrating of&#160;<br/>
Some parts&#160;of&#160;the&#160;IF_DATA&#160;information&#160;are created&#160;by&#160;generators. These parts&#160;are&#160;<br/>
interface data&#160;<br/>
integrated via&#160;an&#160;include&#160;command.&#160;If&#160;additional&#160;manual&#160;information&#160;is&#160;to&#160;be added,&#160;<br/>
(Interface Data)&#160;<br/>
the&#160;creation&#160;of&#160;additional&#160;A2L&#160;files&#160;is&#160;recommended.&#160;These must be integrated&#160;in&#160;the&#160;<br/>IF_DATA&#160;at&#160;the appropriate points. The&#160;merging&#160;of&#160;IF_DATA&#160;information&#160;from&#160;<br/>various&#160;A2L&#160;files&#160;using the&#160;ASAP2&#160;Merger&#160;is&#160;not supported.&#160;<br/>
The&#160;include&#160;instruction&#160;UserDefinedXcpEvents.a2l&#160;in the&#160;master file adds&#160;<br/>manually&#160;defined&#160;XCP&#160;events&#160;to&#160;the&#160;IF_DATA&#160;section, for example.&#160;<br/>
Integrating of&#160;A2L&#160;<br/>
Partial&#160;databases&#160;containing measurement and&#160;calibration&#160;parameters&#160;are integrated&#160;<br/>
objects&#160;<br/>
most commonly. These files&#160;can&#160;be&#160;created, for example,&#160;by&#160;generators&#160;such as&#160;<br/>
(measurement and&#160;<br/>
Simulink,&#160;TargetLink, or&#160;the&#160;ASAP2 Creator.&#160;<br/>
calibration&#160;<br/>
Another&#160;example&#160;is&#160;the&#160;basic&#160;software,&#160;which also contains&#160;measurable&#160;objects.&#160;<br/>
parameters)&#160;<br/>
These files&#160;can&#160;be&#160;integrated&#160;manually&#160;using an additional&#160;include&#160;command,&#160;with&#160;<br/>the&#160;help of&#160;the&#160;ASAP2 Tool-Set&#160;or the&#160;ASAP2&#160;Editor.&#160;<br/>
&#160;&#160;<br/>
<b>Note:</b>&#160;A&#160;file&#160;can&#160;only&#160;be added manually&#160;using&#160;an&#160;include&#160;command if&#160;the file&#160;<br/>structure permits&#160;this. A&#160;complete&#160;A2L file cannot be added&#160;via&#160;include.&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
<b>Example:</b>&#160;<b>A2L fragment&#160;–&#160;Inserting&#160;via&#160;</b>include<b>&#160;command&#160;possible</b>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160; &#160;&#160;/CHARACTERISTIC&#160;<br/>&#160; &#160;&#160;…&#160;<br/>&#160; &#160;&#160;/MEASUREMENT&#160;<br/>&#160; &#160;&#160;…&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;51&#160;-&#160;<br/>
<hr/>
<a name=54></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-54_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-54_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-54_3.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-54_4.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Supplier&#160;<br/>
&#160;&#160;<br/>
<b>Example:</b>&#160;<b>Complete&#160;A2L file&#160;–&#160;Inserting&#160;possible&#160;only&#160;via&#160;ASAP2&#160;Merger</b>&#160;<br/>
&#160;<br/>
&#160;<br/>
/begin PROJECT ExampleProject &#34;&#34;&#160;<br/>&#160;&#160;/begin MODULE MyModuleName &#34;&#34;&#160;<br/>&#160; &#160;&#160;/CHARACTERISTIC&#160;<br/>&#160; &#160;&#160;…&#160;<br/>&#160; &#160;&#160;/MEASUREMENT&#160;<br/>&#160; &#160;&#160;…&#160;<br/>&#160;&#160;/end MODULE&#160;<br/>/end PROJECT&#160;<br/>
&#160;&#160;<br/>
<b>5.7.3&#160;&#160;Working&#160;with&#160;ASAP2&#160;Tool-Set&#160;</b><br/>
<b>5.7.3.1&#160;</b><br/>
<b>Merging of&#160;Additional&#160;A2L Files&#160;</b><br/>
Procedure for&#160;<br/>
A&#160;complete&#160;A2L&#160;file (as&#160;in the&#160;above example) cannot&#160;be&#160;embedded in the master&#160;<br/>
complete&#160;A2L files&#160;<br/>
A2L&#160;file using&#160;an&#160;include&#160;command.&#160;These types&#160;of&#160;A2L&#160;files&#160;can&#160;be&#160;merged&#160;using&#160;<br/>the&#160;ASAP2 Merger&#160;program, which is&#160;part of&#160;the&#160;ASAP2 Tool-Set.&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
<i>Figure&#160;5-12:&#160;Integrating&#160;of&#160;A2L&#160;objects&#160;<br/></i>&#160;&#160;<br/>
<b>Reference:</b>&#160;The&#160;use&#160;of&#160;the&#160;ASAP2 Merger&#160;and&#160;its&#160;possible&#160;settings&#160;in the&#160;INI&#160;file&#160;are&#160;<br/>described&#160;in&#160;the<a href="ASAP2Tool-Set_UserManual_V800_01.pdf">&#160;ASAP2 Tool-Set&#160;user&#160;manual.</a>&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
<b>Example:</b>&#160;&#160;<br/>The&#160;generated&#160;Extern1.a2l&#160;and&#160;ExternN.a2l&#160;files&#160;are imported&#160;into&#160;the&#160;master A2L file&#160;<br/>
&#160;<br/>
Master.a2l&#160;as&#160;a&#160;slave.&#160;The&#160;result of&#160;the merging is&#160;then&#160;written to&#160;the&#160;<br/>ECU_merged.a2l&#160;file.&#160;Necessary&#160;settings&#160;are&#160;provided&#160;with&#160;the&#160;merger.ini&#160;file.&#160;<br/>The&#160;merger.ini&#160;file must&#160;be&#160;present&#160;since the ASAP2 Merger adopts&#160;the&#160;setting&#160;<br/>from&#160;this&#160;file at each command&#160;line&#160;call.&#160;<br/>
<b>Command&#160;Line Call:&#160;<br/></b>ASAP2Merger.exe&#160;-m Master.a2l&#160;-s Extern1.a2l&#160;-s ExternN.a2l&#160;-o&#160;<br/>ECU_Merged.a2l&#160;-p &#34;&lt;INI_PATH&gt;\merger.ini&#34;&#160;<br/>
<b>Merger.ini&#160;</b><br/>
[OPTIONS]&#160;<br/>
MERGE_GROUP_CONTENTS = 1 &#160;// The contents of groups with the&#160;<br/>
same name will be merged&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;52&#160;-&#160;<br/>
<hr/>
<a name=55></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-55_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-55_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-55_3.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-55_4.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Supplier&#160;<br/>
DISABLE_SUFFIXES = 1 &#160; &#160;&#160;&#160;// Do not create suffixes for&#160;<br/>
imported objects&#160;<br/>
&#160;&#160;<br/>
<b>5.7.3.2&#160;</b><br/>
<b>Update of the&#160;Addresses&#160;in the&#160;A2L File&#160;</b><br/>
Necessity&#160;<br/>
It is&#160;necessary&#160;to&#160;update&#160;the measurement and&#160;calibration&#160;parameters&#160;in&#160;an&#160;A2L&#160;file&#160;<br/>because the&#160;addresses&#160;of&#160;objects&#160;are not&#160;known until&#160;after the&#160;program&#160;code is&#160;<br/>created&#160;(after compilation).&#160;<br/>
Further benefit&#160;<br/>
The&#160;update step&#160;can&#160;also be used&#160;to&#160;create,&#160;with&#160;the&#160;help&#160;of&#160;the&#160;master A2L&#160;file,&#160;a&#160;<br/>complete&#160;A2L file&#160;that&#160;no&#160;longer has&#160;any&#160;Includes. The&#160;advantage&#160;of&#160;doing&#160;this&#160;is&#160;<br/>that&#160;afterwards&#160;only&#160;one&#160;file&#160;has&#160;to&#160;be&#160;worked&#160;with&#160;and&#160;all&#160;partial&#160;databases&#160;do&#160;not&#160;<br/>always&#160;have to&#160;be&#160;separately&#160;copied.&#160;<br/>
<i>Figure&#160;5-13:&#160;Update&#160;of&#160;<br/>the&#160;addresses&#160;in&#160;the&#160;<br/>A2L&#160;file&#160;</i><br/>
&#160;<br/>
&#160;&#160;<br/>
<b>Reference:</b>&#160;The&#160;use&#160;of&#160;the&#160;ASAP2 Updater and its&#160;possible&#160;settings&#160;in the&#160;INI&#160;file&#160;are&#160;<br/>described&#160;in&#160;the&#160;ASAP2 Tool-Set&#160;user&#160;manual.&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
<b>Note:</b>&#160;The&#160;_Updater.ini&#160;file&#160;can&#160;be&#160;found in the delivery&#160;folder&#160;…\Misc\McData.&#160;<br/>It&#160;is&#160;supplied&#160;with&#160;the AUTOSAR&#160;Calibration&#160;user manual.&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
Template&#160;<br/>
The&#160;_Updater.ini&#160;file is&#160;provided as&#160;a&#160;template,&#160;which is&#160;indicated&#160;by&#160;the&#160;<br/>
_Updater.ini&#160;<br/>
underscore.&#160;<br/>
Necessary&#160;adaption&#160;<br/>
The&#160;_Updater.ini&#160;file needs&#160;to&#160;be&#160;adapted&#160;in&#160;any&#160;case,&#160;e.g.&#160;at&#160;least the&#160;<br/>MAP_FORMAT&#160;must be&#160;specified.&#160;The&#160;array&#160;notation&#160;in&#160;[&#160;] is&#160;necessary&#160;because&#160;it is&#160;<br/>used&#160;by&#160;MICROSAR&#160;that&#160;way.&#160;<br/>
&#160;&#160;<br/>
<b>Example:</b>&#160;&#160;<br/>The&#160;Master.a2l&#160;file is&#160;read&#160;in and&#160;the&#160;addresses&#160;of&#160;the measurement and&#160;<br/>
&#160;<br/>
calibration&#160;parameters&#160;are updated&#160;and&#160;written&#160;to the&#160;ECU.a2l&#160;file.&#160;The&#160;addresses&#160;<br/>for the&#160;update&#160;are taken&#160;from&#160;the&#160;demo.elf&#160;file.&#160;Information&#160;of&#160;the update&#160;operation&#160;<br/>is&#160;also&#160;written&#160;in the&#160;a2l.log&#160;file.&#160;Necessary&#160;settings&#160;are provided&#160;with the&#160;<br/>updater.ini&#160;file.&#160;The&#160;ASAP2 Updater&#160;also&#160;always&#160;requires&#160;an&#160;updater.ini&#160;file.&#160;<br/>
<b>Command&#160;Line Call:&#160;<br/></b>ASAP2Updater.exe&#160;-I Master.a2l&#160;-O ECU.a2l&#160;-A demo.elf&#160;-L&#160;<br/>a2l.log&#160;-T &#34;&lt;INI_PATH&gt;\Updater.ini&#34;&#160;<br/>
<b>updater.ini:&#160;<br/></b>[OPTIONS]&#160;<br/>MAP_FORMAT=31 // Use ELF 32 Bit&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;53&#160;-&#160;<br/>
<hr/>
<a name=56></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-56_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-56_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-56_3.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Supplier&#160;<br/>
<b>5.7.3.3&#160;</b><br/>
<b>Step by&#160;Step Instructions&#160;with the&#160;ASAP2&#160;Tool-Set&#160;</b><br/>
Recommendation&#160;<br/>
The&#160;use of&#160;the&#160;ASAP2 Tool-Set&#160;is&#160;recommended because this&#160;can&#160;be integrated&#160;in an&#160;<br/>automatic&#160;generation&#160;process. The&#160;address&#160;update&#160;and the&#160;export&#160;of&#160;the&#160;database&#160;<br/>can&#160;be&#160;integrated&#160;as&#160;a&#160;post-build task.&#160;<br/>
&#160;&#160;<br/>
<b>STEP&#160;1:</b>&#160;<b>A2L&#160;fragment&#160;generation</b>&#160;<br/>So that&#160;A2L fragments&#160;are generated, the corresponding&#160;generators&#160;must be&#160;<br/>
&#160;<br/>
configured. This&#160;is&#160;done by&#160;integrating&#160;these&#160;into the build process.&#160;<br/>
It must be ensured&#160;that&#160;the&#160;created&#160;A2L&#160;fragments&#160;are stored are&#160;a fixed&#160;location.&#160;<br/>
&#160;<br/>
<b>STEP&#160;2:</b>&#160;<b>Manual&#160;creation&#160;of&#160;A2L fragments</b>&#160;<br/>Information&#160;that the&#160;A2L file&#160;must subsequently&#160;contain&#160;but that&#160;is&#160;not automatically&#160;<br/>generated&#160;must be manually&#160;created.&#160;<br/>
&#160;<br/>
<b>STEP&#160;3:</b>&#160;<b>Adaptation&#160;of&#160;the&#160;master&#160;A2L file</b>&#160;<br/>A&#160;master A2L&#160;file must be created.&#160;In&#160;the&#160;process, the&#160;paths&#160;of&#160;the&#160;include&#160;<br/>commands&#160;must be adapted accordingly.&#160;<br/>
&#160;<br/>
<b>STEP&#160;4:</b>&#160;<b>Merging&#160;of&#160;additional&#160;A2L files</b>&#160;<br/>If&#160;complete&#160;A2L&#160;files&#160;must&#160;be&#160;integrated,&#160;the Merger&#160;of&#160;the&#160;ASAP2 Tool-Set&#160;must be&#160;<br/>used. For&#160;this, the&#160;Merger&#160;must be called&#160;with appropriate&#160;parameters&#160;for each&#160;<br/>additional&#160;complete&#160;A2L file.&#160;<br/>
&#160;<br/>
<b>STEP&#160;5:</b>&#160;<b>Update of&#160;the addresses&#160;and&#160;export&#160;of&#160;the final&#160;file</b>&#160;<br/>The&#160;final&#160;step&#160;is&#160;to&#160;configure the&#160;creation&#160;of&#160;the final&#160;A2L&#160;file. For&#160;this, the&#160;ASAP2&#160;<br/>Updater&#160;is&#160;incorporated&#160;into the&#160;build process,&#160;which&#160;updates&#160;the addresses&#160;of&#160;the&#160;<br/>measurement and&#160;calibration&#160;parameters. At the&#160;same time,&#160;a new final&#160;A2L&#160;<br/>containing&#160;all&#160;included&#160;A2L&#160;fragments&#160;is&#160;created.&#160;<br/>
&#160;<br/>
<b>STEP&#160;6:</b>&#160;<b>Use&#160;of&#160;the&#160;A2L&#160;file in&#160;CANape</b>&#160;<br/>Following&#160;completion&#160;of&#160;these steps, a&#160;current A2L&#160;file&#160;should now be&#160;generated&#160;<br/>automatically&#160;when the&#160;ECU software&#160;is&#160;created.&#160;<br/>
This&#160;final&#160;A2L&#160;file can&#160;then&#160;be&#160;used in&#160;CANape.&#160;<br/>
&#160;&#160;<br/>
<b>5.7.4&#160;&#160;Working&#160;with&#160;CANape&#160;and the&#160;ASAP2&#160;Editor&#160;</b><br/>
Use exported&#160;<br/>
CANape&#160;and&#160;the&#160;ASAP2&#160;Editor&#160;support&#160;an&#160;interactive&#160;procedure for carrying&#160;out&#160;the&#160;<br/>
databases&#160;without&#160;<br/>
actions&#160;described above.&#160;In&#160;this&#160;procedure,&#160;however, it&#160;must be ensured that the&#160;<br/>
include&#160;commands&#160;<br/>
master file&#160;with its&#160;include&#160;commands&#160;remains&#160;intact. The&#160;master A2L&#160;file should&#160;<br/>therefore not be&#160;specified as&#160;a&#160;database for the ECU directly&#160;in&#160;CANape. Instead,&#160;an&#160;<br/>exported&#160;database&#160;that contains&#160;no&#160;more&#160;include&#160;instructions&#160;must always&#160;be&#160;used.&#160;<br/>
&#160;&#160;<br/>
<b>Caution:</b>&#160;When saving,&#160;the&#160;ASAP2&#160;Editor&#160;overwrites&#160;the&#160;existing&#160;A2L&#160;file and&#160;<br/>removes&#160;thereby&#160;the&#160;includes.&#160;For this&#160;reason&#160;always&#160;store only&#160;a&#160;copy.&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
INI-file&#160;<br/>
All&#160;project-specific&#160;settings&#160;of&#160;CANape&#160;are stored&#160;in the&#160;CANape.ini. Changes&#160;to&#160;<br/>the&#160;configuration&#160;can be easily&#160;made&#160;via the user&#160;interface in&#160;CANape.&#160;<br/>
&#160;&#160;<br/>
<b>Note:</b>&#160;The&#160;_CANape.ini&#160;file&#160;can&#160;be&#160;found in the delivery&#160;folder&#160;…\Misc\McData. It&#160;<br/>is&#160;supplied&#160;with&#160;the&#160;AUTOSAR Calibration&#160;user manual.&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;54&#160;-&#160;<br/>
<hr/>
<a name=57></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-57_1.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Supplier&#160;<br/>
Template&#160;<br/>
The&#160;_CANape.ini&#160;file is&#160;provided&#160;as&#160;a&#160;template,&#160;which is&#160;indicated&#160;by&#160;the&#160;<br/>underscore.&#160;The&#160;necessary&#160;presettings, such&#160;as&#160;for the&#160;export&#160;important&#160;notation&#160;[&#160;]&#160;of&#160;<br/>arrays&#160;is&#160;already&#160;preconfigured to&#160;facilitate&#160;the&#160;implementation.&#160;<br/>
&#160;&#160;<br/>
<b>5.7.4.1&#160;</b><br/>
<b>Step by&#160;Step Instruction&#160;</b><br/>
<b>STEP&#160;1:</b>&#160;<b>A2L&#160;fragment&#160;generation</b>&#160;<br/>So that&#160;A2L fragments&#160;are generated, the corresponding&#160;generators&#160;must be&#160;<br/>
&#160;<br/>
configured. This&#160;is&#160;done by&#160;integrating&#160;these&#160;into the build process.&#160;<br/>
It must be ensured&#160;that&#160;the&#160;created&#160;A2L&#160;fragments&#160;are stored are&#160;a fixed&#160;location.&#160;<br/>
&#160;<br/>
<b>STEP&#160;2:</b>&#160;<b>Manual&#160;creation&#160;of&#160;A2L fragments</b>&#160;<br/>Information&#160;that the&#160;A2L file&#160;must subsequently&#160;contain&#160;but that&#160;is&#160;not automatically&#160;<br/>generated&#160;must be manually&#160;created.&#160;<br/>
&#160;<br/>
<b>STEP&#160;3:&#160;Insert&#160;INI file&#160;<br/></b>Copy&#160;the&#160;definite&#160;CANape.ini&#160;file to&#160;the&#160;directory&#160;of&#160;the&#160;master A2L&#160;file.&#160;<br/>
&#160;<br/>
<b>STEP&#160;4:</b>&#160;<b>Adaptation&#160;of&#160;the master&#160;A2L file</b>&#160;<br/>A&#160;master A2L&#160;file must be created.&#160;In&#160;the&#160;process, the&#160;paths&#160;of&#160;the&#160;include&#160;<br/>commands&#160;must be adapted accordingly.&#160;<br/>
&#160;<br/>
<b>STEP&#160;5:</b>&#160;<b>Start&#160;the&#160;ASAP2&#160;Editor</b>&#160;<br/>Start the&#160;ASAP2&#160;Editor&#160;and&#160;load the master A2L. The&#160;ASAP2 Editor&#160;will&#160;be&#160;used&#160;to&#160;<br/>create&#160;the final&#160;A2L&#160;file.&#160;<br/>
&#160;<br/>
<b>STEP&#160;6:</b>&#160;<b>Merging&#160;of&#160;additional&#160;A2L files</b>&#160;<br/>The&#160;ASAP2&#160;Editor&#160;can&#160;merge content from&#160;existing&#160;A2L databases.&#160;If&#160;complete,&#160;A2L&#160;<br/>files&#160;must be integrated;&#160;the import functionality&#160;can be used.&#160;Either&#160;use&#160;<b>File&#160;|&#160;Import</b>&#160;<br/>or&#160;<b>File&#160;|&#160;Add&#160;partial&#160;database</b>&#160;from&#160;the application menu.&#160;<br/>
&#160;<br/>
<b>STEP&#160;7:</b>&#160;<b>Update of&#160;the addresses</b>&#160;<br/>The&#160;address&#160;update&#160;requires&#160;a&#160;configured&#160;MAP&#160;file.&#160;A&#160;MAP&#160;file&#160;can&#160;be added&#160;via&#160;the&#160;<br/>database properties.&#160;After assigning&#160;a MAP&#160;file,&#160;the&#160;address&#160;can&#160;be updated&#160;via&#160;the&#160;<br/>application&#160;menu&#160;<b>File&#160;|&#160;Update addresses</b>.&#160;<br/>
&#160;<br/>
<b>STEP&#160;8:</b>&#160;<b>Create&#160;final&#160;A2L&#160;file&#160;to&#160;use&#160;in CANape</b>&#160;<br/>The&#160;master A2L&#160;file should&#160;not be altered&#160;with&#160;the&#160;ASAP2&#160;Editor.&#160;A&#160;new&#160;A2L&#160;file&#160;<br/>should be&#160;generated&#160;instead.&#160;This&#160;can&#160;be&#160;achieved&#160;by&#160;saving&#160;into&#160;a&#160;new&#160;database&#160;<br/>using&#160;the&#160;application&#160;menu&#160;entry&#160;<b>File|Save as</b>.&#160;<br/>
This&#160;final&#160;A2L&#160;file can&#160;then&#160;be&#160;used in&#160;CANape.&#160;<br/>
&#160;&#160;<br/>
<b>5.8&#160;&#160;Fast&#160;Access to the ECU&#160;Via&#160;the&#160;VX&#160;Module&#160;</b><br/>
Great measurement&#160;<br/>
An&#160;VX&#160;module is&#160;a scalable&#160;solution&#160;with maximum&#160;performance for&#160;measurement&#160;<br/>
bandwidth&#160;<br/>
and calibration&#160;tasks.&#160;The&#160;use of&#160;VX&#160;measurement hardware enables&#160;a greater&#160;<br/>measurement bandwidth.&#160;The&#160;system&#160;forms&#160;the interface between&#160;the&#160;ECU&#160;and a&#160;<br/>measurement and&#160;calibration&#160;tool&#160;such&#160;as&#160;CANape. For a high&#160;data throughput&#160;with&#160;<br/>minimum&#160;runtime effects&#160;on the&#160;ECU, the data&#160;access&#160;occurs&#160;via microcontroller-<br/>specific&#160;data&#160;trace and&#160;debug&#160;interfaces. The&#160;VX&#160;module&#160;is&#160;connected&#160;to&#160;the&#160;PC&#160;<br/>using&#160;XCP&#160;on Ethernet.&#160;The&#160;VX&#160;measurement hardware is&#160;connected&#160;to the&#160;ECU&#160;via&#160;<br/>a POD (Plug-On Device).&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;55&#160;-&#160;<br/>
<hr/>
<a name=58></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-58_1.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Supplier&#160;<br/>
Application notes&#160;<br/>
For information&#160;on&#160;general&#160;integration of&#160;a&#160;VX&#160;module (VX1000), refer to the following&#160;<br/>application&#160;notes:&#160;<br/>
<b>&gt;&#160;</b><br/>
AN-IMC-1-016&#160;VX1000: Getting Started&#160;with Nexus&#160;JTAG&#160;and MPC5554&#160;<br/>
<b>&gt;&#160;</b><br/>
AN-IMC-1-013&#160;VX1000: Getting Started&#160;with Infineon&#160;XC2000&#160;<br/>
<b>&gt;&#160;</b><br/>
AN-IMC-1-014&#160;VX1000: Getting Started&#160;with Infineon&#160;TriCore&#160;<br/>
&#160;&#160;<br/>
<b>Note:</b>&#160;These documents&#160;are available&#160;from&#160;the Vector Download Center.&#160;<br/>
&#160;<br/>
&#160;&#160;<br/>
<b>5.9&#160;&#160;Additional&#160;Topics&#160;</b><br/>
Items&#160;to&#160;consider&#160;<br/>
The&#160;following&#160;items&#160;require&#160;additional&#160;consideration:&#160;<br/>
<b>&gt;&#160;</b><br/>
Memory&#160;protection&#160;unit, ISO26262,&#160;Thread&#160;safety&#160;<br/>
<b>&gt;&#160;</b><br/>
Limiting&#160;of&#160;runtime of&#160;a&#160;task&#160;or runnable&#160;<br/>
<b>&gt;&#160;</b><br/>
MultiThreading&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;56&#160;-&#160;<br/>
<hr/>
<a name=59></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-59_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-59_2.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-59_3.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Delivery&#160;Test/Quick&#160;Start&#160;<br/>
<b>6&#160;&#160;Delivery&#160;Test/Quick Start&#160;</b><br/>
Objectives&#160;<br/>
This&#160;chapter&#160;describes&#160;a&#160;delivery&#160;test for the A2L&#160;file&#160;created&#160;by&#160;the&#160;supplier.&#160;<br/>However,&#160;it can&#160;also&#160;be&#160;used&#160;as&#160;a&#160;CANape&#160;Quick&#160;Start for the&#160;OEM.&#160;<br/>
Test of&#160;the A2L&#160;file&#160;<br/>
To ensure the&#160;completeness&#160;and the&#160;functionality&#160;of&#160;the delivered A2L&#160;file,&#160;a&#160;simple&#160;<br/>delivery&#160;test can&#160;be&#160;performed&#160;with&#160;the&#160;help&#160;of&#160;CANape. If&#160;the&#160;A2L file&#160;is&#160;incomplete&#160;<br/>or&#160;corrupt, an error appears&#160;when&#160;the&#160;file&#160;is&#160;inserted.&#160;If&#160;the&#160;insertion&#160;is&#160;successful, a&#160;<br/>few&#160;measurement signals&#160;can&#160;be added&#160;to&#160;display&#160;windows&#160;for the&#160;test and a&#160;<br/>measurement started.&#160;If&#160;no&#160;error appears, the&#160;A2L&#160;file is&#160;functional.&#160;<br/>
&#160;&#160;<br/>
<b>Perform delivery&#160;test&#160;(step&#160;by&#160;step&#160;instruction):&#160;</b><br/>
1.&#160;&#160;Copy&#160;the A2L&#160;file to&#160;an&#160;empty&#160;directory&#160;and&#160;connect the&#160;hardware.&#160;<br/>
&#160;<br/>
2.&#160;&#160;Start&#160;CANape&#160;from&#160;this&#160;directory&#160;(right-click&#160;on&#160;<b>canape32.exe&#160;|&#160;Properties |&#160;Run&#160;</b><br/>
<b>in</b>&#160;&#160;insert directory&#160;of&#160;the&#160;A2L&#160;file).&#160;<br/>
3.&#160;&#160;Use a&#160;drag &amp;&#160;drop&#160;operation to move&#160;the&#160;A2L&#160;file to&#160;CANape.&#160;<br/>
If&#160;an&#160;error message appears, the&#160;A2L&#160;file&#160;is&#160;incomplete&#160;or corrupt. Otherwise,&#160;the&#160;<br/>ECU&#160;is&#160;shown&#160;as&#160;online.&#160;<br/>
4.&#160;&#160;Open the&#160;Symbol&#160;Explorer&#160;<br/>
&#160;and&#160;expand the database&#160;under&#160;<b>Devices</b>.&#160;<br/>
5.&#160;&#160;Select individual&#160;measurement and&#160;calibration&#160;parameters, use drag&#160;&amp;&#160;drop to&#160;<br/>
move them&#160;onto&#160;the empty&#160;display&#160;page&#160;(see<a href="UserManual_AUTOSAR_Calibrations.html#59">&#160;Figure&#160;6-1)</a>, and&#160;choose&#160;suitable&#160;<br/>measurement and&#160;calibration&#160;windows.&#160;<br/>
&#160;<br/>
<i>Figure&#160;6-1:&#160;Dragging&#160;measurement&#160;and&#160;calibration&#160;parameters&#160;onto&#160;display&#160;page&#160;</i><br/>
6.&#160;&#160;Start the&#160;measurement and&#160;calibrate the&#160;calibration&#160;parameters.&#160;<br/>
7.&#160;&#160;Check&#160;the required&#160;XCP&#160;features&#160;in the corresponding&#160;settings&#160;(for&#160;more detailed&#160;<br/>
information&#160;on&#160;each feature, refer to the&#160;CANape&#160;online help&#160;<a href="UserManual_AUTOSAR_Calibrations.html#65">or the&#160;XCP&#160;Features&#160;<br/>in CANape&#160;</a>section).&#160;<br/>
The&#160;delivery&#160;test is&#160;successful&#160;if&#160;no&#160;error message occurs, meaningful&#160;<br/>measurement values&#160;are&#160;displayed&#160;in&#160;the&#160;display&#160;windows, calibration&#160;parameters&#160;<br/>can&#160;be&#160;calibrated,&#160;and&#160;all&#160;desired&#160;XCP&#160;features&#160;can&#160;be&#160;found.&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;57&#160;-&#160;<br/>
<hr/>
<a name=60></a>User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
CANape Introduction&#160;<br/>
<b>7&#160;&#160;CANape Introduction&#160;</b><br/>
<b>In This&#160;Chapter&#160;You&#160;Will&#160;Find&#160;the Following&#160;Information:&#160;</b><br/>
7.1&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#61">Creation&#160;of&#160;a&#160;Project&#160;</a><br/>
&#160;page&#160;59&#160;<br/>
7.2&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#62">Device Configuration&#160;</a><br/>
&#160;page&#160;60&#160;<br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#63">Devices&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#64">Networks&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#64">Vector Hardware&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#65">XCP&#160;Features&#160;in&#160;CANape&#160;</a><br/>
7.3&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#66">Online&#160;Measurement Configuration&#160;</a><br/>
&#160;page&#160;64&#160;<br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#66">Measurement Options&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#67">Measurement Signals&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#69">Recorder&#160;List&#160;</a><br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#71">Event&#160;List&#160;</a><br/>
7.4&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#71">Working&#160;with&#160;Parameter&#160;Set Files&#160;</a><br/>
&#160;page&#160;69&#160;<br/>
7.5&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#72">Dataset&#160;Management&#160;</a><br/>
&#160;page&#160;70&#160;<br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#72">Tool-Based&#160;in&#160;CANape&#160;11.0 and Higher&#160;</a><br/>
7.6&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#74">Offline&#160;Evaluation&#160;</a><br/>
&#160;page&#160;72&#160;<br/>
7.7&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#76">Flashing&#160;</a><br/>
&#160;page&#160;74&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;58&#160;-&#160;<br/>
<hr/>
<a name=61></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-61_1.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
CANape Introduction&#160;<br/>
<b>7.1&#160;&#160;Creation&#160;of&#160;a&#160;Project&#160;</b><br/>
First steps&#160;<br/>
A&#160;CANape&#160;project&#160;is&#160;created either&#160;using&#160;the&#160;selection&#160;dialog&#160;after starting&#160;CANape&#160;or&#160;<br/>in&#160;CANape&#160;itself&#160;via&#160;<b>File&#160;|&#160;New&#160;project</b>. Once a&#160;project name has&#160;been defined&#160;in the&#160;<br/>first step,&#160;CANape&#160;suggests&#160;a&#160;project directory&#160;structure in the&#160;second&#160;step,&#160;in&#160;which&#160;<br/>the project&#160;name is&#160;a&#160;subdirectory.&#160;<br/>
<i>Figure&#160;7-1:&#160;Creating&#160;the&#160;<br/>project&#160;directory&#160;</i><br/>
&#160;<br/>
Working&#160;directory&#160;<br/>
This&#160;serves&#160;as&#160;a&#160;working&#160;directory&#160;for&#160;CANape&#160;and&#160;should be&#160;changed&#160;as&#160;required.&#160;It&#160;<br/>typically&#160;contains&#160;the&#160;following:&#160;<br/>
<b>&gt;&#160;</b><br/>
The&#160;CANape.ini&#160;initialization&#160;file,&#160;i.e., the global&#160;configuration&#160;of&#160;the project&#160;<br/>
<b>&gt;&#160;</b><br/>
Several&#160;configuration&#160;files&#160;(*.cna), i.e.,&#160;local&#160;configurations&#160;for individual&#160;<br/>measurement and&#160;calibration&#160;tasks&#160;<br/>
<b>&gt;&#160;</b><br/>
A&#160;subdirectory&#160;in&#160;which the&#160;measurement files&#160;are stored&#160;<br/>
<b>&gt;&#160;</b><br/>
For each&#160;ECU:&#160;<br/>
<b>&gt;&#160;&#160;</b>A&#160;subdirectory&#160;containing the&#160;A2L&#160;file&#160;<br/>
<b>&gt;&#160;&#160;</b>A&#160;subdirectory&#160;in&#160;which&#160;its&#160;parameter&#160;set&#160;files&#160;are stored&#160;<br/>
<b>&gt;&#160;&#160;</b>Other&#160;subdirectories, depending&#160;on the devices&#160;used&#160;(e.g.,&#160;external&#160;<br/>
measurement equipment&#160;modules)&#160;<br/>
Definition&#160;of&#160;the&#160;<br/>
After the&#160;desired&#160;project directory&#160;structure&#160;has&#160;been&#160;specified,&#160;the&#160;new project is&#160;<br/>
devices&#160;<br/>
opened. The&#160;next step&#160;is&#160;to&#160;define&#160;the&#160;devices.&#160;An&#160;ECU description&#160;file&#160;in&#160;A2L format&#160;<br/>or a diagnostic&#160;driver in ODX/CDD format&#160;is&#160;generally&#160;required&#160;for this. In&#160;the&#160;end,&#160;a&#160;<br/>complete&#160;project has&#160;at least one&#160;configuration&#160;file (*.cna), the corresponding&#160;<br/>initialization file (*.ini), and&#160;at&#160;least one ECU description file&#160;(*.a2l).&#160;<br/>
&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#62">Figure&#160;7-2&#160;</a>shows&#160;the&#160;recommended project directory&#160;structure.&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;59&#160;-&#160;<br/>
<hr/>
<a name=62></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-62_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-62_2.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
CANape Introduction&#160;<br/>
<i>Figure&#160;7-2:&#160;Project&#160;<br/>directory&#160;</i><br/>
&#160;<br/>
Prototype&#160;version&#160;<br/>
Folders&#160;for the&#160;project-relevant files&#160;are created&#160;for each prototype&#160;version release&#160;<br/>
release&#160;<br/>
X.Y&#160;of&#160;an&#160;ECU. The&#160;CANape&#160;configuration&#160;file (*.cna)&#160;and the&#160;canape.ini&#160;file are&#160;<br/>located in folders&#160;in the&#160;<b>CANape 10 SP4</b>&#160;subdirectory.&#160;The&#160;Hex&#160;file,&#160;the&#160;databases&#160;<br/>(*.a2l,&#160;*.cdd), and&#160;the&#160;network&#160;files&#160;(e.g.,&#160;*.axml)&#160;are inserted&#160;as&#160;subfolders&#160;for&#160;<br/>each prototype&#160;version&#160;release.&#160;In&#160;addition,&#160;the&#160;measurement, parameter&#160;set,&#160;and&#160;<br/>script&#160;files&#160;are stored&#160;in their&#160;own&#160;folders.&#160;<br/>
&#160;&#160;<br/>
<b>7.2&#160;&#160;Device&#160;Configuration&#160;</b><br/>
Settings&#160;<br/>
The&#160;settings&#160;for&#160;<b>devices</b>,&#160;<b>networks</b>, and&#160;<b>channels</b>&#160;can be modified&#160;and individual&#160;<br/>devices&#160;and networks&#160;can&#160;be&#160;added in the device configuration.&#160;The&#160;device&#160;<br/>
configuration&#160;is&#160;accessed&#160;via the&#160;<br/>
&#160;icon&#160;or using&#160;<b>Device&#160;|&#160;Device&#160;configuration</b>.&#160;<br/>
Graphic&#160;<br/>
The&#160;device&#160;configuration&#160;can also&#160;be&#160;represented&#160;graphically&#160;using&#160;the&#160;Device&#160;<br/>
representation&#160;<br/>
window. Double-clicking&#160;the individual&#160;icons&#160;opens&#160;the corresponding part of&#160;the&#160;<br/>Device Configuration or&#160;the&#160;Database&#160;Editor.&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;60&#160;-&#160;<br/>
<hr/>
<a name=63></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-63_1.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
CANape Introduction&#160;<br/>
&#160;<br/>
<i>Figure&#160;7-3:&#160;Device&#160;window&#160;in&#160;CANape&#160;11.0&#160;<br/></i>&#160;&#160;<br/>
<b>7.2.1&#160;&#160;Devices&#160;</b><br/>
Creating&#160;new&#160;<br/>
The&#160;<b>Devices</b>&#160;subitem&#160;of&#160;the Device&#160;Configuration&#160;displays&#160;all&#160;the created&#160;devices.&#160;<br/>
devices&#160;<br/>
Here,&#160;new&#160;ECUs&#160;can&#160;be&#160;created from&#160;a&#160;database or&#160;the&#160;MCD3 server, or&#160;completely&#160;<br/>new&#160;ECUs&#160;can&#160;be&#160;created.&#160;In&#160;the&#160;latter case,&#160;CANape&#160;generates&#160;an A2L&#160;body&#160;that&#160;<br/>the&#160;user must still&#160;configure&#160;and complete using&#160;the&#160;ASAP2 Editor. Besides&#160;the XCP&#160;<br/>and CCP&#160;devices,&#160;diagnostic&#160;drivers&#160;or databases&#160;can&#160;also be used.&#160;An example&#160;of&#160;<br/>integrating&#160;a diagnostic&#160;database&#160;and&#160;of&#160;using&#160;panels&#160;for this&#160;can&#160;found&#160;in&#160;the&#160;<br/>installation directory&#160;of&#160;CANape&#160;under&#160;<b>Examples |&#160;ODX</b>.&#160;A&#160;new&#160;device can&#160;be&#160;<br/>created&#160;directly&#160;by&#160;dragging and dropping&#160;the&#160;database in&#160;CANape.&#160;<br/>
Bus&#160;monitoring&#160;<br/>
For the&#160;bus&#160;monitoring,&#160;the&#160;databases&#160;of&#160;the&#160;CAN&#160;bus&#160;(*.dbc), FlexRay&#160;bus&#160;<br/>(*.fibex), and&#160;LIN bus&#160;(*.ldf)&#160;can&#160;be&#160;integrated&#160;in&#160;CANape. In the&#160;AUTOSAR&#160;<br/>context, the&#160;possibility&#160;exists&#160;to&#160;use an AUTOSAR system&#160;description&#160;file (*.arxml)&#160;<br/>in the&#160;case&#160;of&#160;the CAN or FlexRay&#160;bus.&#160;<br/>
Configuration&#160;<br/>
Corresponding dialog&#160;pages&#160;are available&#160;for configuring&#160;each created device.&#160;<br/>Additional&#160;information&#160;regarding the configuration&#160;options&#160;can&#160;be&#160;found&#160;in the&#160;<br/>CANape&#160;online help.&#160;Depending&#160;on the device status,&#160;the&#160;icon&#160;changes&#160;from&#160;green&#160;<br/>(online)&#160;to&#160;yellow&#160;(offline)&#160;or&#160;red&#160;(inactive).&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;61&#160;-&#160;<br/>
<hr/>
<a name=64></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-64_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-64_2.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
CANape Introduction&#160;<br/>
&#160;<br/>
<i>Figure&#160;7-4:&#160;Device&#160;configuration&#160;<br/></i>&#160;&#160;<br/>
<b>7.2.2&#160;&#160;Networks&#160;</b><br/>
Listing&#160;<br/>
The&#160;<b>Networks</b>&#160;subitem&#160;lists&#160;all&#160;networks&#160;available&#160;in the&#160;current configuration.&#160;<br/>
Configuration&#160;<br/>
The&#160;following&#160;networks&#160;can&#160;be&#160;created&#160;in&#160;CANape:&#160;CAN, LIN,&#160;ETH, K-Line, FlexRay,&#160;<br/>and&#160;MOST. The&#160;networks&#160;are configured&#160;on&#160;the&#160;corresponding dialog&#160;pages.&#160;<br/>
&#160;&#160;<br/>
<b>7.2.3&#160;&#160;Vector Hardware&#160;</b><br/>
Configuration of&#160;the&#160;<br/>
The&#160;configuration&#160;of&#160;the hardware&#160;is&#160;performed&#160;using&#160;the&#160;Vector Hardware.&#160;It can&#160;be&#160;<br/>
hardware&#160;<br/>
opened&#160;using&#160;<b>Device&#160;|&#160;Vector&#160;hardware configuration</b>&#160;or in the&#160;<b>Channels&#160;|&#160;Vector</b>&#160;<br/>section&#160;in the&#160;Device Configuration.&#160;<br/>
&#160;<br/>
The&#160;appropriate&#160;hardware&#160;can&#160;be&#160;assigned&#160;to the respective channels&#160;using&#160;<br/><b>Application&#160;|&#160;CANape</b>. In&#160;so doing,&#160;the&#160;physical&#160;channel&#160;number&#160;does&#160;not&#160;have to&#160;<br/>match the&#160;logical&#160;channel&#160;number.&#160;The&#160;possibility&#160;also&#160;exists&#160;to&#160;change&#160;the&#160;number&#160;of&#160;<br/>channels&#160;for a particular bus&#160;system.&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
<i>Figure&#160;7-5:&#160;Vector Hardware&#160;Config&#160;<br/></i>&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;62&#160;-&#160;<br/>
<hr/>
<a name=65></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-65_1.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
CANape Introduction&#160;<br/>
<b>7.2.4&#160;&#160;XCP&#160;Features&#160;in CANape&#160;</b><br/>
Timestamp&#160;<br/>
The&#160;use of&#160;a&#160;timestamp can&#160;be&#160;specified&#160;in&#160;the&#160;Device&#160;Configuration&#160;in subitem&#160;<br/><b>Protocol |&#160;Event&#160;List</b>&#160;of&#160;the device. Depending&#160;on the&#160;implementation&#160;in&#160;the&#160;ECU,&#160;<br/>the&#160;option&#160;also&#160;exists&#160;here&#160;to require a&#160;timestamp of&#160;the slave.&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
<i>Figure&#160;7-6:&#160;Timestamp&#160;in&#160;the&#160;device&#160;configuration&#160;<br/></i>&#160;&#160;<br/>
Resume&#160;mode&#160;<br/>
Whether or&#160;not resume&#160;mode&#160;is&#160;supported&#160;is&#160;indicated&#160;in the&#160;<b>Expert&#160;settings</b>&#160;of&#160;the&#160;<br/><b>DAQ&#160;Lists</b>&#160;subitem.&#160;<br/>
Autoselection/&#160;<br/>
The&#160;autoselection&#160;and&#160;the&#160;software&#160;version check&#160;of&#160;the A2L&#160;file can&#160;also&#160;be&#160;set in&#160;<br/>
software&#160;version&#160;<br/>
the&#160;device configuration.&#160;This&#160;option can&#160;be&#160;found&#160;in the&#160;<b>Database</b>&#160;subitem.&#160;<br/>
check&#160;<br/>
&#160;<br/>
If&#160;the &#34;Page Switching&#34;&#160;or &#34;Checksum&#160;calculation&#34;&#160;options&#160;are used,&#160;these can be&#160;<br/>found&#160;under&#160;Memory&#160;Segments&#160;of&#160;the&#160;device (se<a href="UserManual_AUTOSAR_Calibrations.html#66">e&#160;Figure&#160;7-7).</a>&#160;<br/>
Online&#160;help&#160;<br/>
All&#160;XCP&#160;features&#160;are&#160;described&#160;in more detail&#160;in the&#160;CANape&#160;online&#160;help.&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;63&#160;-&#160;<br/>
<hr/>
<a name=66></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-66_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-66_2.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
CANape Introduction&#160;<br/>
&#160;<br/>
<i>Figure&#160;7-7:&#160;Page&#160;switching&#160;in&#160;the&#160;device&#160;window&#160;<br/></i>&#160;&#160;<br/><b>7.3&#160;&#160;Online&#160;Measurement&#160;Configuration&#160;</b><br/>
Call&#160;<br/>
The&#160;complete&#160;measurement is&#160;configured&#160;in the&#160;online&#160;measurement configuration. It&#160;<br/>is&#160;called&#160;via the&#160;<br/>
&#160;icon&#160;or&#160;using&#160;<b>Measurement&#160;|&#160;Measurement&#160;Configuration</b>.&#160;<br/>
Display&#160;windows&#160;and&#160;&#160;Various&#160;display&#160;windows&#160;are available&#160;in&#160;order&#160;to&#160;display&#160;the&#160;measurement and&#160;<br/>pages&#160;<br/>
calibration&#160;parameters. These windows&#160;are&#160;described&#160;in detail&#160;in the&#160;CANape&#160;online&#160;<br/>help.&#160;In&#160;addition, several&#160;display&#160;pages&#160;can&#160;be&#160;created&#160;to&#160;enable&#160;a&#160;well-organized&#160;<br/>complete&#160;configuration.&#160;<br/>
&#160;&#160;<br/><b>7.3.1&#160;&#160;Measurement&#160;Options&#160;</b><br/>
Behavior of&#160;the&#160;<br/>
The&#160;behavior of&#160;the measurement can&#160;be&#160;configured&#160;in&#160;the measurement options&#160;of&#160;<br/>
measurement&#160;<br/>
the&#160;measurement configuration. For&#160;example,&#160;the&#160;handling&#160;with&#160;polling&#160;signals&#160;during&#160;<br/>the&#160;measurement or&#160;the size&#160;of&#160;the measurement buffer&#160;can&#160;be&#160;adapted.&#160;In&#160;addition,&#160;<br/>a comment template&#160;for newly&#160;created measurement files&#160;can&#160;be&#160;specified&#160;here.&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;64&#160;-&#160;<br/>
<hr/>
<a name=67></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-67_1.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
CANape Introduction&#160;<br/>
<i>Figure&#160;7-8:&#160;MDF&#160;<br/>measurement&#160;comment&#160;<br/>template&#160;</i><br/>
&#160;<br/>
&#160;&#160;<br/>
<b>7.3.2&#160;&#160;Measurement&#160;Signals&#160;</b><br/>
Measureable signals&#160;&#160;All&#160;signals&#160;of&#160;the measurement configuration are&#160;listed on&#160;this&#160;page.&#160;Signals&#160;of&#160;the&#160;<br/>
database can&#160;be&#160;selected&#160;using&#160;<b>Edit&#160;|&#160;Insert&#160;Signal</b>.&#160;Only&#160;the signals&#160;that&#160;are&#160;<br/>contained&#160;in&#160;the&#160;measurement signal&#160;list or&#160;in the&#160;display&#160;windows&#160;of&#160;CANape&#160;are&#160;<br/>measured. The&#160;option also&#160;exists&#160;to&#160;deactivate signals&#160;for individual&#160;measurements&#160;<br/>instead of&#160;deleting&#160;and adding&#160;them&#160;again.&#160;For&#160;the case that a&#160;signal&#160;is&#160;to&#160;be&#160;<br/>measured but&#160;not recorded, i.e., for performance and&#160;memory&#160;space reasons,&#160;the&#160;<br/><b>Recorder</b>&#160;option&#160;can be deactivated.&#160;<br/>
Measurement modes&#160;&#160;The&#160;measurement mode of&#160;the measurement signals&#160;leaves&#160;some of&#160;the&#160;<br/>
configuration&#160;options&#160;up&#160;to&#160;the&#160;user. The&#160;most commonly&#160;used&#160;measurement modes&#160;<br/>are:&#160;<br/>
<b>&gt;&#160;</b><br/>
<b>Event:</b>&#160;In&#160;event&#160;mode,&#160;the&#160;ECU sends&#160;the current measurement value&#160;of&#160;a&#160;signal&#160;<br/>autonomously. The&#160;possible events&#160;and&#160;DAQ&#160;lists&#160;are&#160;defined&#160;in&#160;the&#160;ECU and&#160;<br/>described&#160;in&#160;the&#160;A2L file.&#160;<br/>
<b>&gt;&#160;</b><br/>
<b>Polling:</b>&#160;In&#160;polling&#160;mode,&#160;the measurement values&#160;of&#160;a&#160;signal&#160;are returned&#160;<br/>asynchronously&#160;on&#160;request&#160;and&#160;according to&#160;the&#160;polling&#160;rate of&#160;the&#160;ECU. This&#160;<br/>process&#160;is&#160;well&#160;suited&#160;for slower measurements&#160;when&#160;there are no&#160;requirements&#160;<br/>for synchronous&#160;polling.&#160;<br/>
<b>&gt;&#160;</b><br/>
<b>Cyclic:</b>&#160;In&#160;XCP&#160;and CCP, the&#160;cyclic&#160;measurement mode&#160;corresponds&#160;to&#160;the&#160;event&#160;<br/>measurement&#160;mode.&#160;A&#160;data reduction&#160;can&#160;be achieved based&#160;on&#160;its&#160;cycle time.&#160;<br/>
<b>&gt;&#160;</b><br/>
<b>On&#160;key:</b>&#160;When a&#160;key&#160;(combination)&#160;is&#160;entered,&#160;the&#160;signal&#160;is&#160;requested&#160;(polling).&#160;<br/>
<b>&gt;&#160;</b><br/>
<b>On&#160;trigger:</b>&#160;When a&#160;trigger event&#160;occurs&#160;(StartTrigger,&#160;StopTrigger,&#160;<br/>LastTriggerFinished),&#160;CANape&#160;measures&#160;the&#160;desired&#160;signal&#160;(polling).&#160;<br/>
<b>&gt;&#160;</b><br/>
<b>On&#160;event:</b>&#160;When a&#160;particular system&#160;event&#160;occurs&#160;(e.g., measurement start), the&#160;<br/>signal&#160;is&#160;measured (polling).&#160;<br/>
Measurement rate&#160;<br/>
The&#160;measurement rate&#160;is&#160;displayed&#160;to&#160;the&#160;right&#160;of&#160;the displayed measurement&#160;mode&#160;<br/>in the&#160;measurement configuration of&#160;the&#160;measurement signals. It&#160;indicates&#160;the&#160;<br/>recording&#160;rate&#160;in&#160;polling&#160;or&#160;cyclic&#160;mode.&#160;The&#160;rate&#160;is&#160;specified&#160;as&#160;a time interval&#160;<br/>between&#160;two measurement values,&#160;in milliseconds.&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;65&#160;-&#160;<br/>
<hr/>
<a name=68></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-68_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-68_2.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
CANape&#160;Introduction&#160;<br/>
Bus&#160;utilization&#160;<br/>
The&#160;bus&#160;utilization and&#160;the&#160;measurement events&#160;for the&#160;selected&#160;device are listed&#160;at&#160;<br/>the&#160;bottom&#160;of&#160;the measurement configuration.&#160;Here the bar&#160;indicates&#160;the&#160;percentage&#160;<br/>utilization&#160;of&#160;the&#160;individual&#160;event time bases&#160;and&#160;the&#160;bus.&#160;<br/>
Online&#160;help&#160;<br/>
In&#160;addition to&#160;the&#160;signals&#160;of&#160;the&#160;individual&#160;databases, additional&#160;measurement signals&#160;<br/>such as&#160;global&#160;variables&#160;can also&#160;be&#160;incorporated into&#160;the&#160;measurement&#160;<br/>configuration.&#160;For&#160;more detailed&#160;information&#160;on&#160;this, refer to the&#160;CANape&#160;online help.&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
<i>Figure&#160;7-9:&#160;Measurement&#160;configuration:&#160;Measurement&#160;signals&#160;list&#160;<br/></i>&#160;&#160;<br/>
Inserting signals&#160;<br/>
With&#160;the&#160;help&#160;of&#160;the&#160;Symbol&#160;Explorer&#160;<br/>
, individual&#160;measurement signals&#160;can&#160;be&#160;<br/>
inserted&#160;directly&#160;in a&#160;display&#160;window&#160;using&#160;a drag &amp;&#160;drop&#160;operation. These are&#160;<br/>automatically&#160;added&#160;to&#160;the&#160;measurement signal&#160;list.&#160;<br/>
Shortening&#160;rule&#160;<br/>
To improve the readability&#160;of&#160;long measurement signal&#160;names&#160;in the&#160;Symbol&#160;Explorer,&#160;<br/>a shortening rule can&#160;be&#160;specified&#160;using&#160;<b>Tools&#160;|&#160;Options</b>, section&#160;<b>Display&#160;|&#160;Object&#160;<br/>Names</b>.&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;66&#160;-&#160;<br/>
<hr/>
<a name=69></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-69_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-69_2.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
CANape Introduction&#160;<br/>
<i>Figure&#160;7-10:&#160;Setting&#160;of&#160;<br/>a&#160;name&#160;shortening&#160;rule&#160;</i><br/>
&#160;<br/>
&#160;<br/>
This&#160;indicates&#160;the start of&#160;the signal&#160;name only&#160;and&#160;is&#160;limited&#160;in the display&#160;to&#160;the&#160;last&#160;<br/>part after the specified separator.&#160;<br/>
<i>Figure&#160;7-11:&#160;Example&#160;<br/>for use&#160;of&#160;a&#160;name&#160;<br/>shortening&#160;rule&#160;</i><br/>
&#160;<br/>
&#160;&#160;<br/><b>7.3.3&#160;&#160;Recorder List&#160;</b><br/>
Definitions/Settings&#160;<br/>
The&#160;recorder&#160;list&#160;in the&#160;measurement configuration provides&#160;an&#160;overview of&#160;the&#160;<br/>defined&#160;recorders. The&#160;option&#160;exists&#160;to deactivate individual&#160;recorders&#160;in&#160;order&#160;to&#160;<br/>realize&#160;different&#160;measurement tasks.&#160;The&#160;setting&#160;of&#160;the file&#160;name of&#160;the MDF&#160;file&#160;can&#160;<br/>be&#160;made individually&#160;for each recorder. Here, it&#160;is&#160;possible to&#160;use different macros&#160;in&#160;<br/>order, for example,&#160;to&#160;record the&#160;time of&#160;day&#160;in the&#160;file&#160;name.&#160;Under&#160;the&#160;<b>Options</b>&#160;<br/>area,&#160;various&#160;settings&#160;can be made for each recorder.&#160;A&#160;detailed explanation&#160;of&#160;these&#160;<br/>settings&#160;can&#160;be found&#160;in&#160;the&#160;CANape&#160;online help.&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;67&#160;-&#160;<br/>
<hr/>
<a name=70></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-70_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-70_2.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
CANape Introduction&#160;<br/>
&#160;<br/>
<i>Figure&#160;7-12:&#160;Measurement&#160;configuration:&#160;Recorder list&#160;<br/></i>&#160;&#160;<br/>
Trigger&#160;of&#160;recordings&#160;&#160;In&#160;addition to&#160;the&#160;most straightforward measurement in which&#160;all&#160;signals&#160;are recorded&#160;<br/>
over the&#160;entire measurement&#160;period,&#160;the&#160;possibility&#160;also exists&#160;to&#160;trigger the recording&#160;<br/>of&#160;individual&#160;signals&#160;by&#160;certain&#160;events. These are&#160;defined&#160;in more detail&#160;in the&#160;<b>Trigger</b>&#160;<br/>area.&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
<i>Figure&#160;7-13:&#160;Trigger&#160;condition&#160;<br/></i>&#160;&#160;<br/>
Start&#160;events&#160;<br/>
The&#160;selection menu of&#160;the&#160;<b>[New]</b>&#160;button can&#160;be&#160;used&#160;to select&#160;various&#160;start&#160;events.&#160;<br/>The&#160;following&#160;categories&#160;are available&#160;for selection&#160;here:&#160;<br/>
<b>&gt;&#160;</b><br/>
System&#160;events&#160;(messages&#160;from&#160;the PC or the&#160;ECU)&#160;<br/>
<b>&gt;&#160;</b><br/>
Signal&#160;events&#160;(values&#160;from&#160;active measurement)&#160;<br/>
<b>&gt;&#160;</b><br/>
Keyboard events&#160;(operator&#160;inputs)&#160;<br/>
Stop&#160;event&#160;<br/>
These events&#160;are also available again as&#160;a&#160;stop&#160;event.&#160;However,&#160;a time limitation&#160;can&#160;<br/>also be chosen as&#160;a&#160;stop&#160;event.&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;68&#160;-&#160;<br/>
<hr/>
<a name=71></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-71_1.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
CANape Introduction&#160;<br/>
Assign&#160;signals&#160;to&#160;<br/>
The&#160;measurement signals&#160;that are&#160;recorded by&#160;this&#160;recorder&#160;are&#160;indicated&#160;under&#160;<b>All&#160;</b><br/>
recorders&#160;<br/>
<b>recorder&#160;signals</b>. Signals&#160;can&#160;be&#160;assigned&#160;to individual&#160;recorders&#160;so that&#160;these&#160;are&#160;<br/>recorded&#160;only&#160;when&#160;the&#160;trigger&#160;condition&#160;occurs.&#160;<br/>
&#160;&#160;<br/>
<b>7.3.4&#160;&#160;Event&#160;List&#160;</b><br/>
Overall&#160;event&#160;list&#160;<br/>
The<b>&#160;Event&#160;list</b>&#160;section&#160;of&#160;the Measurement Configuration&#160;lists&#160;all&#160;events&#160;with&#160;their&#160;<br/>properties. Here it&#160;can&#160;be seen&#160;whether&#160;the event&#160;is&#160;an ECU&#160;event&#160;or a&#160;general&#160;<br/>system&#160;event. The&#160;defined&#160;trigger&#160;events&#160;are also displayed here.&#160;<br/>
Definition&#160;of&#160;new&#160;<br/>
New&#160;events&#160;are&#160;defined using&#160;the context menu.&#160;These are then&#160;available&#160;in&#160;the&#160;<br/>
events&#160;<br/>
measurement signal&#160;list as&#160;a measurement mode so that, for example,&#160;a signal&#160;is&#160;<br/>measured only&#160;after a&#160;particular key&#160;has&#160;been pressed.&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
<i>Figure&#160;7-14:&#160;Measurement&#160;configuration&#160;-&#160;Event&#160;list&#160;<br/></i>&#160;<br/>
<b>7.4&#160;&#160;Working&#160;with&#160;Parameter&#160;Set&#160;Files&#160;</b><br/>
Purposes&#160;for saving&#160;<br/>
CANape&#160;offers&#160;the option to perform&#160;online&#160;calibration&#160;of&#160;calibration parameters&#160;and&#160;<br/>
parameter&#160;set&#160;files&#160;<br/>
to save these as&#160;a&#160;parameter&#160;set&#160;file.&#160;These files&#160;are then&#160;used&#160;mainly&#160;for two&#160;<br/>purposes:&#160;<br/>
&#160;<br/>
<b>&gt;&#160;</b><br/>
For saving&#160;the&#160;current version&#160;and&#160;for documenting and/or&#160;exchanging&#160;parameter&#160;<br/>values&#160;<br/>
Different options&#160;are&#160;available for selection for saving&#160;the&#160;calibration parameters.&#160;<br/>First, the&#160;parameters&#160;of&#160;a&#160;single calibration&#160;window can&#160;be&#160;saved&#160;by&#160;selecting&#160;<br/><b>Save</b>&#160;in the popup menu of&#160;the Calibration&#160;window.&#160;Second,&#160;all&#160;the&#160;parameters&#160;of&#160;<br/>all&#160;Calibration&#160;windows&#160;can&#160;also&#160;be&#160;saved. This&#160;can&#160;be&#160;done using&#160;<b>Calibration&#160;|&#160;<br/>Save all&#160;calibration&#160;windows</b>. In addition,&#160;the&#160;possibility&#160;exists&#160;to select&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;69&#160;-&#160;<br/>
<hr/>
<a name=72></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-72_1.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
CANape Introduction&#160;<br/>
particular parameters&#160;via&#160;a&#160;filter (<b>Calibration&#160;|&#160;Save parameter&#160;set&#160;as</b>).&#160;<br/>
&#160;<br/>
<b>&gt;&#160;</b><br/>
In&#160;order&#160;to&#160;bring&#160;the&#160;system&#160;to&#160;a&#160;defined state&#160;<br/>
Several&#160;functions&#160;are also&#160;available for loading&#160;a parameter&#160;set&#160;file.&#160;Calibration&#160;<br/>parameters&#160;in a&#160;particular calibration&#160;window&#160;can also&#160;be&#160;opened&#160;here by&#160;<br/>selecting<b>&#160;Load</b>&#160;in the&#160;popup menu of&#160;the Calibration&#160;window.&#160;Particular&#160;<br/>calibration&#160;parameters&#160;can&#160;also be selected&#160;using&#160;<b>Calibration&#160;|&#160;Load parameter&#160;<br/>set&#160;from</b>.&#160;<br/>
&#160;&#160;<br/>
<b>7.5&#160;&#160;Dataset&#160;Management&#160;</b><br/>
Definition&#160;of&#160;dataset&#160;<br/>
A&#160;dataset&#160;is&#160;a&#160;set&#160;of&#160;various&#160;parameters&#160;at&#160;a&#160;particular point&#160;in time within the edit&#160;<br/>history.&#160;It&#160;normally&#160;contains&#160;all&#160;parameters&#160;that&#160;belong&#160;to&#160;an&#160;ECU&#160;and is&#160;represented&#160;<br/>via the following&#160;files:&#160;<br/>
<b>&gt;&#160;</b><br/>
Database file&#160;(A2L file)&#160;<br/>
<b>&gt;&#160;</b><br/>
Memory&#160;image content (HEX&#160;file)&#160;<br/>
<b>&gt;&#160;</b><br/>
Parameter&#160;set&#160;file (only&#160;for datasets&#160;from&#160;the eCDM system)&#160;<br/>
&#160;<br/>
The&#160;dataset&#160;is&#160;the&#160;central&#160;object for the&#160;versioning&#160;and&#160;configuring&#160;of&#160;parameters.&#160;<br/>
&#160;&#160;<br/>
<b>7.5.1&#160;&#160;Tool-Based in&#160;CANape&#160;11.0&#160;and Higher&#160;</b><br/>
Dataset&#160;<br/>
In&#160;CANape&#160;11.0,&#160;a convenient dataset&#160;management tool&#160;has&#160;been&#160;introduced.&#160;The&#160;<br/>
management&#160;<br/>
<b>[Dataset Management]</b>&#160;can&#160;be&#160;called&#160;via the device configuration.&#160;Here, various&#160;<br/>datasets&#160;of&#160;an&#160;ECU can&#160;be&#160;added.&#160;New&#160;datasets&#160;(A2L+HEX,&#160;HEX&#160;or uncoded)&#160;can&#160;<br/>
be&#160;added on&#160;the&#160;Datasets&#160;tab&#160;using&#160;the&#160;<br/>
&#160;icon.&#160;Additional&#160;settings&#160;are available&#160;in&#160;<br/>
the&#160;context menu.&#160;The&#160;<b>Timestamps</b>&#160;tab&#160;shows&#160;the snapshots&#160;of&#160;the calibration&#160;<br/>history&#160;and indicates&#160;their&#160;timestamp.&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;70&#160;-&#160;<br/>
<hr/>
<a name=73></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-73_1.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
CANape Introduction&#160;<br/>
<i>Figure&#160;7-15:&#160;Dataset&#160;<br/>management&#160;in&#160;<br/>CANape&#160;11.0&#160;</i><br/>
&#160;<br/>
Working&#160;with&#160;multiple&#160;&#160;The&#160;datasets&#160;are&#160;then displayed and&#160;can&#160;be&#160;activated&#160;in the&#160;Symbol&#160;Explorer. This&#160;<br/>datasets&#160;<br/>
provides&#160;a convenient&#160;means&#160;for working&#160;with&#160;multiple&#160;datasets&#160;within&#160;a&#160;project.&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;71&#160;-&#160;<br/>
<hr/>
<a name=74></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-74_1.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
CANape Introduction&#160;<br/>
<i>Figure&#160;7-16:&#160;Dataset&#160;<br/>management&#160;in&#160;the&#160;<br/>Symbol&#160;Explorer&#160;</i><br/>
&#160;<br/>
Demo project&#160;<br/>
The&#160;<b>Examples</b>&#160;folder of&#160;the&#160;CANape&#160;installation&#160;directory&#160;contains&#160;a&#160;demo project&#160;<br/>named&#160;Datasets_Thesaurus,&#160;which&#160;illustrates&#160;the&#160;use of&#160;the&#160;dataset management&#160;<br/>using&#160;an&#160;example.&#160;<br/>
&#160;&#160;<br/>
<b>7.6&#160;&#160;Offline&#160;Evaluation&#160;</b><br/>
Read&#160;in&#160;<br/>
For purposes&#160;of&#160;offline&#160;evaluation, measurement data&#160;can&#160;be&#160;read&#160;in&#160;using&#160;<b>Analysis&#160;|&#160;</b><br/>
measurement data&#160;<br/>
<b>Show&#160;values&#160;from measurement&#160;file</b>.&#160;<br/>
Measurement File&#160;<br/>
The&#160;<b>Measurement&#160;File Manager</b>&#160;(can&#160;also&#160;be&#160;opened&#160;via the&#160;<b>Analysis</b>&#160;menu item)&#160;<br/>
Manager&#160;<br/>
shows&#160;all&#160;loaded&#160;MDF files&#160;as&#160;well&#160;as&#160;the&#160;virtual&#160;MDF channels.&#160;Several&#160;possible&#160;<br/>settings&#160;are available&#160;in the&#160;toolbar&#160;of&#160;the Measurement File Manager. These are&#160;<br/>described&#160;in&#160;detail&#160;in the&#160;CANape&#160;online&#160;help.&#160;<br/>
Data&#160;Mining&#160;<br/>
An automatic&#160;procedure&#160;for offline&#160;evaluation of&#160;loaded&#160;MDF files&#160;is&#160;available&#160;under&#160;<br/><b>Analysis |&#160;Data Mining</b>. The option&#160;exists, for example,&#160;to&#160;find the times&#160;at&#160;which&#160;the&#160;<br/>speed&#160;exceed 3000&#160;rpm. In&#160;so doing,&#160;it&#160;is&#160;possible&#160;to&#160;evaluate multiple measurement&#160;<br/>files&#160;with measurement&#160;signal&#160;names&#160;as&#160;identical&#160;as&#160;possible&#160;in&#160;a&#160;single search.&#160;<br/>These are specified&#160;in&#160;the&#160;<b>File&#160;filter&#160;list&#160;</b>section. The&#160;option&#160;of&#160;using&#160;wildcards&#160;<br/>(*.mdf)&#160;is&#160;also available.&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;72&#160;-&#160;<br/>
<hr/>
<a name=75></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-75_1.png"/><br/>
User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
CANape Introduction&#160;<br/>
Calculation&#160;methods&#160;<br/>
The&#160;calculation methods&#160;are configured in the&#160;<b>Methods</b>&#160;section.&#160;The&#160;following&#160;are&#160;<br/>available for selection&#160;here:&#160;<br/>
<b>&gt;&#160;</b><br/>
Function (based on&#160;user-defined functions&#160;that are created&#160;in&#160;the&#160;function&#160;editor&#160;<br/>or from&#160;the global&#160;function library)&#160;<br/>
<b>&gt;&#160;</b><br/>
MATLAB/Simulink&#160;model&#160;(based&#160;on&#160;MATLAB/Simulink&#160;models&#160;that&#160;are&#160;available&#160;<br/>as&#160;DLL)&#160;<br/>
<b>&gt;&#160;</b><br/>
Arithmetic&#160;condition&#160;(based&#160;on&#160;user-defined criteria)&#160;<br/>
<b>&gt;&#160;</b><br/>
Script&#160;(defined&#160;in&#160;the&#160;Functions&#160;Editor)&#160;<br/>
Definition&#160;of&#160;<br/>
<a href="UserManual_AUTOSAR_Calibrations.html#75">Figure&#160;7-17&#160;</a>shows&#160;the definition&#160;of&#160;an&#160;algebraic&#160;condition.&#160;The&#160;time range to be&#160;<br/>
algebraic&#160;conditions&#160;<br/>
evaluated&#160;can&#160;be set&#160;under&#160;<b>Extended</b>.&#160;<br/>
&#160;&#160;<br/>
&#160;<br/>
<i>Figure&#160;7-17:&#160;Data&#160;Mining:&#160;Creating&#160;an&#160;algebraic&#160;condition&#160;<br/></i>&#160;&#160;<br/>
Naming&#160;analysis&#160;files&#160;&#160;The&#160;desired&#160;file name of&#160;the analysis&#160;file can be entered&#160;in the&#160;<b>Options</b>&#160;section.&#160;The&#160;<br/>
name can&#160;contain&#160;various&#160;macros&#160;that&#160;can&#160;be inserted using the corresponding&#160;<br/>button.&#160;<br/>
Further settings&#160;<br/>
In&#160;addition,&#160;it is&#160;possible to&#160;limit the number&#160;of&#160;hits&#160;per file. It&#160;is&#160;useful&#160;to specify&#160;a&#160;<br/>creation&#160;date of&#160;the file&#160;to&#160;be searched&#160;if&#160;only&#160;the&#160;measurement data&#160;starting from&#160;a&#160;<br/>certain&#160;date&#160;are to be evaluated.&#160;<br/>
Output&#160;in&#160;CSV&#160;format&#160;&#160;The&#160;results&#160;can&#160;also be output&#160;in CSV&#160;format&#160;for&#160;further analysis. The&#160;desired&#160;<br/>
separator&#160;for the&#160;measurement data&#160;should&#160;be&#160;indicated&#160;in the selection menu in&#160;this&#160;<br/>section.&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;73&#160;-&#160;<br/>
<hr/>
<a name=76></a>User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
CANape Introduction&#160;<br/>
&#160;&#160;<br/>
Executing&#160;scripts&#160;<br/>
Scripts&#160;that&#160;are&#160;executed&#160;before starting&#160;the&#160;analysis,&#160;before the&#160;analysis&#160;of&#160;each&#160;file,&#160;<br/>after the&#160;analysis&#160;of&#160;each file,&#160;or after finishing the complete analysis&#160;can&#160;also be&#160;<br/>specified.&#160;<br/>
Example of&#160;Data&#160;<br/>
A&#160;detailed example of&#160;Data&#160;Mining can&#160;be&#160;found in the&#160;installation&#160;directory&#160;of&#160;<br/>
Mining&#160;<br/>
CANape&#160;under&#160;<b>Examples |&#160;DataMining</b>.&#160;<br/>
&#160;&#160;<br/>
<b>7.7&#160;&#160;Flashing&#160;</b><br/>
Flash tools&#160;<br/>
Other&#160;Flash&#160;tools, such as&#160;vFlash&#160;can&#160;be opened&#160;from&#160;CANape.&#160;<br/>
Online&#160;help&#160;<br/>
Additional&#160;information&#160;on&#160;the topic&#160;of&#160;flashing&#160;with&#160;CANape&#160;can be&#160;found&#160;in the&#160;<br/>CANape&#160;online help.&#160;<br/>
&#160;&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;74&#160;-&#160;<br/>
<hr/>
<a name=77></a>User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Addresses&#160;<br/>
<b>8&#160;&#160;Addresses&#160;</b><br/>
Addresses&#160;on Vector&#160;&#160;Please find&#160;the&#160;contacts&#160;of&#160;Vector Informatik&#160;GmbH&#160;and all&#160;subsidiaries&#160;worldwide&#160;<br/>homepage&#160;<br/>
via:&#160;<br/>
http://www.vector.com/vi_addresses_en.html&#160;&#160;<br/>
&#160;&#160;<br/>&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;75&#160;-&#160;<br/>
<hr/>
<a name=78></a>User&#160;Manual&#160;AUTOSAR&#160;Calibration&#160;&#160;<br/>
Abbreviations&#160;<br/>
<b>9&#160;&#160;Abbreviations&#160;</b><br/>
<b>Abbreviation&#160;</b><br/>
<b>Description&#160;</b><br/>
ASAM&#160;<br/>
<b>A</b>ssociation for&#160;<b>S</b>tandardization of&#160;<b>A</b>utomation and&#160;<b>M</b>easuring&#160;Systems&#160;<br/>
AUTOSAR&#160;&#160;<br/>
<b>AUT</b>omotive&#160;<b>O</b>pen&#160;<b>S</b>ystem&#160;<b>AR</b>chitecture&#160;<br/>
BSW&#160;<br/>
<b>B</b>asic&#160;<b>s</b>oft<b>w</b>are&#160;<br/>
CSA&#160;<br/>
<b>C</b>ommon&#160;<b>S</b>oftware&#160;<b>A</b>rchitecture&#160;<br/>
CTO&#160;<br/>
<b>C</b>ommand&#160;<b>T</b>ransfer&#160;<b>O</b>bject&#160;<br/>
DAQ&#160;<br/>
<b>D</b>ata&#160;<b>A</b>cquisition&#160;&#160;<br/>
DTO&#160;<br/>
<b>C</b>ommand&#160;<b>T</b>ransfer&#160;<b>O</b>bject&#160;<br/>
E/E&#160;Architecture&#160;<br/>
<b>E</b>lectrical/electronic&#160;architecture&#160;<br/>
EPK&#160;<br/>
<b>EP</b>ROM-<b>K</b>ennung&#160;(EPROM&#160;identifier)&#160;<br/>
EPROM&#160;<br/>
<b>E</b>rasable&#160;<b>P</b>rogrammable&#160;<b>R</b>ead&#160;<b>O</b>nly&#160;<b>M</b>emory&#160;<br/>
MCD&#160;System&#160;<br/>
<b>M</b>easurement&#160;<b>C</b>alibration,&#160;and&#160;<b>D</b>iagnostics&#160;System&#160;<br/>
ODT&#160;<br/>
<b>O</b>bject&#160;<b>D</b>escription&#160;<b>T</b>able&#160;<br/>
RTE&#160;<br/>
<b>R</b>untime&#160;<b>E</b>nvironment&#160;<br/>
SW-C&#160;<br/>
<b>S</b>oft<b>w</b>are&#160;<b>C</b>omponent&#160;<br/>
VFB&#160;<br/>
<b>V</b>irtual&#160;<b>F</b>unction&#160;<b>B</b>us&#160;&#160;<br/>
&#160;<br/>
©&#160;Vector Informatik&#160;GmbH&#160;<br/>
Version&#160;1.0&#160;<br/>
-&#160;76&#160;-&#160;<br/>
<hr/>
<a name=79></a><img src="ElectricPowerSteering_RH850_FORD_T3T6_website/content/en/docs/Xcp/doc/UserManual_AUTOSAR_Calibration-79_1.png"/><br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>Get&#160;more Information!&#160;</b><br/>
<b>Visit&#160;our&#160;Website&#160;for:&#160;</b><br/>
&gt; News&#160;<br/>
&gt;&#160;Products&#160;<br/>
&gt;&#160;Demo&#160;Software&#160;<br/>
&gt;&#160;Support&#160;<br/>
&gt;&#160;Training&#160;Classes&#160;<br/>
&gt; Addresses&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;<br/>&#160;<br/><a href="http://www.vector-worldwide.com/">www.vector.com&#160;</a></b><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
<hr/>
<a name="outline"></a><h1>Document Outline</h1>
<ul>
<li><a href="UserManual_AUTOSAR_Calibrations.html#5">1 Introduction</a>
<ul>
<li><a href="UserManual_AUTOSAR_Calibrations.html#6">1.1 Purpose of the AUTOSAR Calibration User Manual</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#7">1.2 About This User Manual</a>
<ul>
<li><a href="UserManual_AUTOSAR_Calibrations.html#8">1.2.1 Certification</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#8">1.2.2 Warranty</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#8">1.2.3 Support</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#8">1.2.4 Trademarks</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#9">2 Introduction to AUTOSAR</a>
<ul>
<li><a href="UserManual_AUTOSAR_Calibrations.html#10">2.1 Background</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#11">2.2 Approach</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#12">2.3 Basic Concept</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#13">2.4 Architecture</a></li>
</ul>
</li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#15">3 Measuring and Calibrating of ECU Software</a>
<ul>
<li><a href="UserManual_AUTOSAR_Calibrations.html#16">3.1 Basics</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#17">3.2 XCP Driver</a>
<ul>
<li><a href="UserManual_AUTOSAR_Calibrations.html#19">3.2.1 Measurement Modes</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#20">3.2.2 Autoselection and Software Version Check of the A2L File</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#21">3.2.3 Online Calibration</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#21">3.2.4 Page Switching</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#22">3.2.5 Bypassing</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#23">3.2.6 Resume Mode</a></li>
</ul>
</li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#24">3.3 A2L File</a>
<ul>
<li><a href="UserManual_AUTOSAR_Calibrations.html#25">3.3.1 Structure</a>
<ul>
<li><a href="UserManual_AUTOSAR_Calibrations.html#26">3.3.1.1 AML</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#27">3.3.1.2 General ECU Implementation</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#28">3.3.1.3 IF_DATA</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#29">3.3.1.4 A2L Objects</a></li>
</ul>
</li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#34">3.3.2 Mode of Functioning</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#35">4 OEM</a>
<ul>
<li><a href="UserManual_AUTOSAR_Calibrations.html#36">4.1 Objective</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#36">4.2 Content of the Performance Specifications</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#36">4.3 Measurement Task</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#37">4.4 Calibration Task</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#37">4.5 XCP Features</a></li>
</ul>
</li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#38">5 Supplier</a>
<ul>
<li><a href="UserManual_AUTOSAR_Calibrations.html#39">5.1 Preface</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#39">5.2 Requirements</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#39">5.3 Definition of Measurement and Calibration Parameters</a>
<ul>
<li><a href="UserManual_AUTOSAR_Calibrations.html#40">5.3.1 Measuring and Calibrating of AUTOSAR Software Components</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#40">5.3.2 Measuring of Ports and Variables</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#41">5.3.3 XCP Events</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#42">5.3.4 Software Component with Calibration Parameters</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#42">5.3.5 Calibration Parameters for Multiple Software Components</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#43">5.3.6 Configuration of the RTE (Runtime Environment)</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#43">5.3.7 Measuring and Calibrating Without the Support of the RTE</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#44">5.3.8 Debugging of the BSW (Basic Software)</a></li>
</ul>
</li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#44">5.4 Configuration of the XCP Module</a>
<ul>
<li><a href="UserManual_AUTOSAR_Calibrations.html#45">5.4.1 DAQ List Configuration</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#46">5.4.2 Tool-Driven DAQ Timestamp Option</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#46">5.4.3 XCP Event Information</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#46">5.4.4 Software Version Check</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#48">5.4.5 Use of the XCP Component in the Implementation</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#48">5.4.6 Recommendations for the Configuration of the XCP Module</a></li>
</ul>
</li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#50">5.5 Configuration of the Driver Modules</a>
<ul>
<li><a href="UserManual_AUTOSAR_Calibrations.html#50">5.5.1 CAN Module MICROSAR XCP</a></li>
</ul>
</li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#50">5.6 Configuration of the Memory Management</a>
<ul>
<li><a href="UserManual_AUTOSAR_Calibrations.html#50">5.6.1 Configuration for Resume Mode</a></li>
</ul>
</li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#51">5.7 Creating an A2L File</a>
<ul>
<li><a href="UserManual_AUTOSAR_Calibrations.html#51">5.7.1 Creation of a Master A2L File</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#53">5.7.2 Expansion of the Master A2L File</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#54">5.7.3 Working with ASAP2 Tool-Set</a>
<ul>
<li><a href="UserManual_AUTOSAR_Calibrations.html#54">5.7.3.1 Merging of Additional A2L Files</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#55">5.7.3.2 Update of the Addresses in the A2L File</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#56">5.7.3.3 Step by Step Instructions with the ASAP2 Tool-Set</a></li>
</ul>
</li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#56">5.7.4 Working with CANape and the ASAP2 Editor</a>
<ul>
<li><a href="UserManual_AUTOSAR_Calibrations.html#57">5.7.4.1 Step by Step Instruction</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#57">5.8 Fast Access to the ECU Via the VX Module</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#58">5.9 Additional Topics</a></li>
</ul>
</li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#59">6 Delivery Test/Quick Start</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#60">7 CANape Introduction</a>
<ul>
<li><a href="UserManual_AUTOSAR_Calibrations.html#61">7.1 Creation of a Project</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#62">7.2 Device Configuration</a>
<ul>
<li><a href="UserManual_AUTOSAR_Calibrations.html#63">7.2.1 Devices</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#64">7.2.2 Networks</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#64">7.2.3 Vector Hardware</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#65">7.2.4 XCP Features in CANape</a></li>
</ul>
</li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#66">7.3 Online Measurement Configuration</a>
<ul>
<li><a href="UserManual_AUTOSAR_Calibrations.html#66">7.3.1 Measurement Options</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#67">7.3.2 Measurement Signals</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#69">7.3.3 Recorder List</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#71">7.3.4 Event List</a></li>
</ul>
</li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#71">7.4 Working with Parameter Set Files</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#72">7.5 Dataset Management</a>
<ul>
<li><a href="UserManual_AUTOSAR_Calibrations.html#72">7.5.1 Tool-Based in CANape 11.0 and Higher</a></li>
</ul>
</li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#74">7.6 Offline Evaluation</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#76">7.7 Flashing</a></li>
</ul>
</li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#77">8 Addresses</a></li>
<li><a href="UserManual_AUTOSAR_Calibrations.html#78">9 Abbreviations</a></li>
</ul>
<hr/>
</body>
</html>
